{
  "errors": [
  ],
  "warnings": [
    "asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).\nThis can impact web performance.\nAssets: \n  visual.js (810 KiB)\n  pbiviz.json (823 KiB)",
    "entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  visual.js (810 KiB)\n      visual.js\n",
    "webpack performance recommendations: \nYou can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nFor more info visit https://webpack.js.org/guides/code-splitting/"
  ],
  "version": "4.16.3",
  "hash": "966f02a4f525e9071ae5",
  "time": 15829,
  "builtAt": 1553019385537,
  "publicPath": "assets",
  "outputPath": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\drop",
  "assetsByChunkName": {
    "visual.js": [
      "visual.js",
      "visual.js.map"
    ]
  },
  "assets": [
    {
      "name": "visual.js",
      "size": 829809,
      "chunks": [
        0
      ],
      "chunkNames": [
        "visual.js"
      ],
      "emitted": true,
      "isOverSizeLimit": true
    }
  ],
  "filteredAssets": 0,
  "entrypoints": {
    "visual.js": {
      "chunks": [
        0
      ],
      "assets": [
        "visual.js",
        "visual.js.map"
      ],
      "children": {
      },
      "childAssets": {
      },
      "isOverSizeLimit": true
    }
  },
  "namedChunkGroups": {
    "visual.js": {
      "chunks": [
        0
      ],
      "assets": [
        "visual.js",
        "visual.js.map"
      ],
      "children": {
      },
      "childAssets": {
      },
      "isOverSizeLimit": true
    }
  },
  "chunks": [
    {
      "id": 0,
      "rendered": true,
      "initial": true,
      "entry": true,
      "size": 1044902,
      "names": [
        "visual.js"
      ],
      "files": [
        "visual.js",
        "visual.js.map"
      ],
      "hash": "0238990d2c44df067083",
      "siblings": [
      ],
      "parents": [
      ],
      "children": [
      ],
      "childrenByOrder": {
      },
      "modules": [
        {
          "id": "7X+3",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\dist\\bundle.js",
          "name": "../dist/bundle.js",
          "index": 9,
          "index2": 6,
          "size": 678635,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
          "issuerId": null,
          "issuerName": "./src/visual.ts",
          "issuerPath": [
            {
              "id": 0,
              "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "multi ./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
              "name": "./src/visual.ts"
            }
          ],
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "assets": [
          ],
          "reasons": [
            {
              "moduleId": "xlo+",
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
              "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "type": "harmony side effect evaluation",
              "userRequest": "../../dist/bundle.js",
              "loc": "64:0-49"
            },
            {
              "moduleId": "xlo+",
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
              "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "type": "harmony import specifier",
              "userRequest": "../../dist/bundle.js",
              "loc": "219:25-38"
            }
          ],
          "usedExports": [
            "default"
          ],
          "providedExports": null,
          "optimizationBailout": [
            "ModuleConcatenation bailout: Module is not an ECMAScript module"
          ],
          "depth": 3,
          "source": "!function(t){var e=window.webpackHotUpdate;window.webpackHotUpdate=function(t,n){!function(t,e){if(!x[t]||!m[t])return;for(var n in m[t]=!1,e)Object.prototype.hasOwnProperty.call(e,n)&&(v[n]=e[n]);0==--y&&0===g&&S()}(t,n),e&&e(t,n)};var n,r=!0,i=\"6ea7670d5e0e8ce86f66\",o=1e4,a={},s=[],u=[];function l(t){var e=O[t];if(!e)return C;var r=function(r){return e.hot.active?(O[r]?-1===O[r].parents.indexOf(t)&&O[r].parents.push(t):(s=[t],n=r),-1===e.children.indexOf(r)&&e.children.push(r)):(console.warn(\"[HMR] unexpected require(\"+r+\") from disposed module \"+t),s=[]),C(r)},i=function(t){return{configurable:!0,enumerable:!0,get:function(){return C[t]},set:function(e){C[t]=e}}};for(var o in C)Object.prototype.hasOwnProperty.call(C,o)&&\"e\"!==o&&\"t\"!==o&&Object.defineProperty(r,o,i(o));return r.e=function(t){return\"ready\"===f&&d(\"prepare\"),g++,C.e(t).then(e,function(t){throw e(),t});function e(){g--,\"prepare\"===f&&(b[t]||E(t),0===g&&0===y&&S())}},r.t=function(t,e){return 1&e&&(t=r(t)),C.t(t,-2&e)},r}function h(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(t,n){if(void 0===t)e._selfAccepted=!0;else if(\"function\"==typeof t)e._selfAccepted=t;else if(\"object\"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n||function(){};else e._acceptedDependencies[t]=n||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if(\"object\"==typeof t)for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:T,apply:M,status:function(t){if(!t)return f;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var e=c.indexOf(t);e>=0&&c.splice(e,1)},data:a[t]};return n=void 0,e}var c=[],f=\"idle\";function d(t){f=t;for(var e=0;e<c.length;e++)c[e].call(null,t)}var p,v,_,y=0,g=0,b={},m={},x={};function w(t){return+t+\"\"===t?+t:t}function T(t){if(\"idle\"!==f)throw new Error(\"check() is only allowed in idle status\");return r=t,d(\"check\"),(e=o,e=e||1e4,new Promise(function(t,n){if(\"undefined\"==typeof XMLHttpRequest)return n(new Error(\"No browser support\"));try{var r=new XMLHttpRequest,o=C.p+\"\"+i+\".hot-update.json\";r.open(\"GET\",o,!0),r.timeout=e,r.send(null)}catch(t){return n(t)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error(\"Manifest request to \"+o+\" timed out.\"));else if(404===r.status)t();else if(200!==r.status&&304!==r.status)n(new Error(\"Manifest request to \"+o+\" failed.\"));else{try{var e=JSON.parse(r.responseText)}catch(t){return void n(t)}t(e)}}})).then(function(t){if(!t)return d(\"idle\"),null;m={},b={},x=t.c,_=t.h,d(\"prepare\");var e=new Promise(function(t,e){p={resolve:t,reject:e}});v={};return E(0),\"prepare\"===f&&0===g&&0===y&&S(),e});var e}function E(t){x[t]?(m[t]=!0,y++,function(t){var e=document.createElement(\"script\");e.charset=\"utf-8\",e.src=C.p+\"\"+t+\".\"+i+\".hot-update.js\",document.head.appendChild(e)}(t)):b[t]=!0}function S(){d(\"ready\");var t=p;if(p=null,t)if(r)Promise.resolve().then(function(){return M(r)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&e.push(w(n));t.resolve(e)}}function M(e){if(\"ready\"!==f)throw new Error(\"apply() is only allowed in ready status\");var n,r,o,u,l;function h(t){for(var e=[t],n={},r=e.slice().map(function(t){return{chain:[t],id:t}});r.length>0;){var i=r.pop(),o=i.id,a=i.chain;if((u=O[o])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:\"self-declined\",chain:a,moduleId:o};if(u.hot._main)return{type:\"unaccepted\",chain:a,moduleId:o};for(var s=0;s<u.parents.length;s++){var l=u.parents[s],h=O[l];if(h){if(h.hot._declinedDependencies[o])return{type:\"declined\",chain:a.concat([l]),moduleId:o,parentId:l};-1===e.indexOf(l)&&(h.hot._acceptedDependencies[o]?(n[l]||(n[l]=[]),c(n[l],[o])):(delete n[l],e.push(l),r.push({chain:a.concat([l]),id:l})))}}}}return{type:\"accepted\",moduleId:t,outdatedModules:e,outdatedDependencies:n}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];-1===t.indexOf(r)&&t.push(r)}}e=e||{};var p={},y=[],g={},b=function(){console.warn(\"[HMR] unexpected require(\"+T.moduleId+\") to disposed module\")};for(var m in v)if(Object.prototype.hasOwnProperty.call(v,m)){var T;l=w(m);var E=!1,S=!1,M=!1,A=\"\";switch((T=v[m]?h(l):{type:\"disposed\",moduleId:m}).chain&&(A=\"\\nUpdate propagation: \"+T.chain.join(\" -> \")),T.type){case\"self-declined\":e.onDeclined&&e.onDeclined(T),e.ignoreDeclined||(E=new Error(\"Aborted because of self decline: \"+T.moduleId+A));break;case\"declined\":e.onDeclined&&e.onDeclined(T),e.ignoreDeclined||(E=new Error(\"Aborted because of declined dependency: \"+T.moduleId+\" in \"+T.parentId+A));break;case\"unaccepted\":e.onUnaccepted&&e.onUnaccepted(T),e.ignoreUnaccepted||(E=new Error(\"Aborted because \"+l+\" is not accepted\"+A));break;case\"accepted\":e.onAccepted&&e.onAccepted(T),S=!0;break;case\"disposed\":e.onDisposed&&e.onDisposed(T),M=!0;break;default:throw new Error(\"Unexception type \"+T.type)}if(E)return d(\"abort\"),Promise.reject(E);if(S)for(l in g[l]=v[l],c(y,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,l)&&(p[l]||(p[l]=[]),c(p[l],T.outdatedDependencies[l]));M&&(c(y,[T.moduleId]),g[l]=b)}var P,R=[];for(r=0;r<y.length;r++)l=y[r],O[l]&&O[l].hot._selfAccepted&&R.push({module:l,errorHandler:O[l].hot._selfAccepted});d(\"dispose\"),Object.keys(x).forEach(function(t){!1===x[t]&&function(t){delete installedChunks[t]}(t)});for(var I,D,k=y.slice();k.length>0;)if(l=k.pop(),u=O[l]){var L={},N=u.hot._disposeHandlers;for(o=0;o<N.length;o++)(n=N[o])(L);for(a[l]=L,u.hot.active=!1,delete O[l],delete p[l],o=0;o<u.children.length;o++){var F=O[u.children[o]];F&&((P=F.parents.indexOf(l))>=0&&F.parents.splice(P,1))}}for(l in p)if(Object.prototype.hasOwnProperty.call(p,l)&&(u=O[l]))for(D=p[l],o=0;o<D.length;o++)I=D[o],(P=u.children.indexOf(I))>=0&&u.children.splice(P,1);for(l in d(\"apply\"),i=_,g)Object.prototype.hasOwnProperty.call(g,l)&&(t[l]=g[l]);var j=null;for(l in p)if(Object.prototype.hasOwnProperty.call(p,l)&&(u=O[l])){D=p[l];var B=[];for(r=0;r<D.length;r++)if(I=D[r],n=u.hot._acceptedDependencies[I]){if(-1!==B.indexOf(n))continue;B.push(n)}for(r=0;r<B.length;r++){n=B[r];try{n(D)}catch(t){e.onErrored&&e.onErrored({type:\"accept-errored\",moduleId:l,dependencyId:D[r],error:t}),e.ignoreErrored||j||(j=t)}}}for(r=0;r<R.length;r++){var U=R[r];l=U.module,s=[l];try{C(l)}catch(t){if(\"function\"==typeof U.errorHandler)try{U.errorHandler(t)}catch(n){e.onErrored&&e.onErrored({type:\"self-accept-error-handler-errored\",moduleId:l,error:n,originalError:t}),e.ignoreErrored||j||(j=n),j||(j=t)}else e.onErrored&&e.onErrored({type:\"self-accept-errored\",moduleId:l,error:t}),e.ignoreErrored||j||(j=t)}}return j?(d(\"fail\"),Promise.reject(j)):(d(\"idle\"),new Promise(function(t){t(y)}))}var O={};function C(e){if(O[e])return O[e].exports;var n=O[e]={i:e,l:!1,exports:{},hot:h(e),parents:(u=s,s=[],u),children:[]};return t[e].call(n.exports,n,n.exports,l(e)),n.l=!0,n.exports}C.m=t,C.c=O,C.d=function(t,e,n){C.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},C.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},C.t=function(t,e){if(1&e&&(t=C(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(C.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)C.d(n,r,function(e){return t[e]}.bind(null,r));return n},C.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return C.d(e,\"a\",e),e},C.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},C.p=\"/\",C.h=function(){return i},l(199)(C.s=199)}([function(t,e,n){\"use strict\";e.__esModule=!0;e.VERSION=\"4.8.6\",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\\.(\\w{3,4})(?:$|\\?|#)/i,e.DATA_URI=/^\\s*data:(?:([\\w-]+)\\/([\\w+.-]+))?(?:;charset=([\\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\\s(width|height)=('|\")(\\d*(?:\\.\\d+)?)(?:px)?('|\"))[^>]*(?:\\s(width|height)=('|\")(\\d*(?:\\.\\d+)?)(?:px)?('|\"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:\"lowp\",MEDIUM:\"mediump\",HIGH:\"highp\"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,n){\"use strict\";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var r=n(0);Object.keys(r).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(4);Object.keys(i).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=n(5);Object.defineProperty(e,\"glCore\",{enumerable:!0,get:function(){return z(o).default}});var a=n(27);Object.defineProperty(e,\"Bounds\",{enumerable:!0,get:function(){return z(a).default}});var s=n(50);Object.defineProperty(e,\"DisplayObject\",{enumerable:!0,get:function(){return z(s).default}});var u=n(11);Object.defineProperty(e,\"Container\",{enumerable:!0,get:function(){return z(u).default}});var l=n(52);Object.defineProperty(e,\"Transform\",{enumerable:!0,get:function(){return z(l).default}});var h=n(51);Object.defineProperty(e,\"TransformStatic\",{enumerable:!0,get:function(){return z(h).default}});var c=n(29);Object.defineProperty(e,\"TransformBase\",{enumerable:!0,get:function(){return z(c).default}});var f=n(31);Object.defineProperty(e,\"Sprite\",{enumerable:!0,get:function(){return z(f).default}});var d=n(121);Object.defineProperty(e,\"CanvasSpriteRenderer\",{enumerable:!0,get:function(){return z(d).default}});var p=n(17);Object.defineProperty(e,\"CanvasTinter\",{enumerable:!0,get:function(){return z(p).default}});var v=n(124);Object.defineProperty(e,\"SpriteRenderer\",{enumerable:!0,get:function(){return z(v).default}});var _=n(139);Object.defineProperty(e,\"Text\",{enumerable:!0,get:function(){return z(_).default}});var y=n(66);Object.defineProperty(e,\"TextStyle\",{enumerable:!0,get:function(){return z(y).default}});var g=n(67);Object.defineProperty(e,\"TextMetrics\",{enumerable:!0,get:function(){return z(g).default}});var b=n(141);Object.defineProperty(e,\"Graphics\",{enumerable:!0,get:function(){return z(b).default}});var m=n(68);Object.defineProperty(e,\"GraphicsData\",{enumerable:!0,get:function(){return z(m).default}});var x=n(143);Object.defineProperty(e,\"GraphicsRenderer\",{enumerable:!0,get:function(){return z(x).default}});var w=n(150);Object.defineProperty(e,\"CanvasGraphicsRenderer\",{enumerable:!0,get:function(){return z(w).default}});var T=n(151);Object.defineProperty(e,\"Spritesheet\",{enumerable:!0,get:function(){return z(T).default}});var E=n(8);Object.defineProperty(e,\"Texture\",{enumerable:!0,get:function(){return z(E).default}});var S=n(64);Object.defineProperty(e,\"TextureMatrix\",{enumerable:!0,get:function(){return z(S).default}});var M=n(10);Object.defineProperty(e,\"BaseTexture\",{enumerable:!0,get:function(){return z(M).default}});var O=n(34);Object.defineProperty(e,\"RenderTexture\",{enumerable:!0,get:function(){return z(O).default}});var C=n(58);Object.defineProperty(e,\"BaseRenderTexture\",{enumerable:!0,get:function(){return z(C).default}});var A=n(55);Object.defineProperty(e,\"VideoBaseTexture\",{enumerable:!0,get:function(){return z(A).default}});var P=n(56);Object.defineProperty(e,\"TextureUvs\",{enumerable:!0,get:function(){return z(P).default}});var R=n(59);Object.defineProperty(e,\"CanvasRenderTarget\",{enumerable:!0,get:function(){return z(R).default}});var I=n(14);Object.defineProperty(e,\"Shader\",{enumerable:!0,get:function(){return z(I).default}});var D=n(13);Object.defineProperty(e,\"WebGLManager\",{enumerable:!0,get:function(){return z(D).default}});var k=n(18);Object.defineProperty(e,\"ObjectRenderer\",{enumerable:!0,get:function(){return z(k).default}});var L=n(20);Object.defineProperty(e,\"RenderTarget\",{enumerable:!0,get:function(){return z(L).default}});var N=n(65);Object.defineProperty(e,\"Quad\",{enumerable:!0,get:function(){return z(N).default}});var F=n(61);Object.defineProperty(e,\"SpriteMaskFilter\",{enumerable:!0,get:function(){return z(F).default}});var j=n(62);Object.defineProperty(e,\"Filter\",{enumerable:!0,get:function(){return z(j).default}});var B=n(69);Object.defineProperty(e,\"Application\",{enumerable:!0,get:function(){return z(B).default}});var U=n(70);Object.defineProperty(e,\"autoDetectRenderer\",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var X=V(n(2)),H=V(n(33)),G=z(n(3)),W=z(n(12)),Y=z(n(19));function V(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function z(t){return t&&t.__esModule?t:{default:t}}e.settings=G.default,e.utils=X,e.ticker=H,e.CanvasRenderer=W.default,e.WebGLRenderer=Y.default},function(t,e,n){\"use strict\";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++p},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),\"#\"+(t=\"000000\".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var n=i.default.RETINA_PREFIX.exec(t);if(n)return parseFloat(n[1]);return void 0!==e?e:1},e.decomposeDataUri=function(t){var e=r.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]};return},e.getUrlFileExtension=function(t){var e=r.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase();return},e.getSvgSize=function(t){var e=r.SVG_SIZE.exec(t),n={};e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7])));return n},e.skipHello=function(){v=!0},e.sayHello=function(t){if(v)return;if(navigator.userAgent.toLowerCase().indexOf(\"chrome\")>-1){var e=[\"\\n %c %c %c PixiJS \"+r.VERSION+\" - ✰ \"+t+\" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \\n\\n\",\"background: #ff66a5; padding:5px 0;\",\"background: #ff66a5; padding:5px 0;\",\"color: #ff66a5; background: #030307; padding:5px 0;\",\"background: #ff66a5; padding:5px 0;\",\"background: #ffc3dc; padding:5px 0;\",\"background: #ff66a5; padding:5px 0;\",\"color: #ff2424; background: #fff; padding:5px 0;\",\"color: #ff2424; background: #fff; padding:5px 0;\",\"color: #ff2424; background: #fff; padding:5px 0;\"];window.console.log.apply(console,e)}else window.console&&window.console.log(\"PixiJS \"+r.VERSION+\" - \"+t+\" - http://www.pixijs.com/\");v=!0},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement(\"canvas\"),n=e.getContext(\"webgl\",t)||e.getContext(\"experimental-webgl\",t),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension(\"WEBGL_lose_context\");i&&i.loseContext()}return n=null,r}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in _)_[t].destroy();for(t in y)y[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in _)delete _[t];for(t in y)delete y[t]},e.correctBlendMode=function(t,e){return g[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,r=t>>8&255,i=255&t;return(255*e<<24)+((n=n*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(i=i*e+.5|0)},e.premultiplyRgba=function(t,e,n,r){n=n||new Float32Array(4),r||void 0===r?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]);return n[3]=e,n},e.premultiplyTintToRgba=function(t,e,n,r){(n=n||new Float32Array(4))[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(r||void 0===r)&&(n[0]*=e,n[1]*=e,n[2]*=e);return n[3]=e,n};var r=n(0),i=d(n(3)),o=d(n(9)),a=d(n(109)),s=f(n(110)),u=f(n(28)),l=d(n(111)),h=d(n(112)),c=d(n(30));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=!1;e.isMobile=u,e.removeItems=l.default,e.EventEmitter=o.default,e.pluginTarget=a.default,e.mixins=s,e.earcut=c.default;var _=e.TextureCache=Object.create(null),y=e.BaseTextureCache=Object.create(null);var g=e.premultiplyBlendMode=(0,h.default)()},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(107)),i=o(n(108));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,r.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:\"highp\",PRECISION_FRAGMENT:\"mediump\",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(23);Object.defineProperty(e,\"Point\",{enumerable:!0,get:function(){return f(r).default}});var i=n(39);Object.defineProperty(e,\"ObservablePoint\",{enumerable:!0,get:function(){return f(i).default}});var o=n(24);Object.defineProperty(e,\"Matrix\",{enumerable:!0,get:function(){return f(o).default}});var a=n(40);Object.defineProperty(e,\"GroupD8\",{enumerable:!0,get:function(){return f(a).default}});var s=n(97);Object.defineProperty(e,\"Circle\",{enumerable:!0,get:function(){return f(s).default}});var u=n(98);Object.defineProperty(e,\"Ellipse\",{enumerable:!0,get:function(){return f(u).default}});var l=n(99);Object.defineProperty(e,\"Polygon\",{enumerable:!0,get:function(){return f(l).default}});var h=n(25);Object.defineProperty(e,\"Rectangle\",{enumerable:!0,get:function(){return f(h).default}});var c=n(100);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"RoundedRectangle\",{enumerable:!0,get:function(){return f(c).default}})},function(t,e,n){var r={createContext:n(101),setVertexAttribArrays:n(41),GLBuffer:n(102),GLFramebuffer:n(103),GLShader:n(104),GLTexture:n(42),VertexArrayObject:n(105),shader:n(106)};t.exports&&(t.exports=r),\"undefined\"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},function(t,e,n){\"use strict\";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var r=n(91);Object.keys(r).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(1);Object.keys(i).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o,a=n(152),s=(o=a)&&o.__esModule?o:{default:o},u=y(n(153)),l=y(n(155)),h=y(n(72)),c=y(n(165)),f=y(n(172)),d=y(n(174)),p=y(n(178)),v=y(n(183)),_=y(n(188));function y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}i.utils.mixins.performMixins();var g=d.shared||null;e.accessibility=u,e.extract=l,e.extras=h,e.filters=c,e.interaction=f,e.loaders=d,e.mesh=p,e.particles=v,e.prepare=_,e.loader=g,\"function\"==typeof s.default&&(0,s.default)(e),t.PIXI=e}).call(this,n(22))},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];\".\"===i?t.splice(r,1):\"..\"===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift(\"..\");return t}var r=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/,i=function(t){return r.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e=\"\",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:t.cwd();if(\"string\"!=typeof a)throw new TypeError(\"Arguments to path.resolve must be strings\");a&&(e=a+\"/\"+e,r=\"/\"===a.charAt(0))}return(r?\"/\":\"\")+(e=n(o(e.split(\"/\"),function(t){return!!t}),!r).join(\"/\"))||\".\"},e.normalize=function(t){var r=e.isAbsolute(t),i=\"/\"===a(t,-1);return(t=n(o(t.split(\"/\"),function(t){return!!t}),!r).join(\"/\"))||r||(t=\".\"),t&&i&&(t+=\"/\"),(r?\"/\":\"\")+t},e.isAbsolute=function(t){return\"/\"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"Arguments to path.join must be strings\");return t}).join(\"/\"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&\"\"===t[e];e++);for(var n=t.length-1;n>=0&&\"\"===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split(\"/\")),o=r(n.split(\"/\")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push(\"..\");return(l=l.concat(o.slice(s))).join(\"/\")},e.sep=\"/\",e.delimiter=\":\",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):\".\"},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var a=\"b\"===\"ab\".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(63))},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(10)),o=c(n(55)),a=c(n(56)),s=c(n(9)),u=n(4),l=n(2),h=c(n(3));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(n,r,i,o,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));if(l.noFrame=!1,r||(l.noFrame=!0,r=new u.Rectangle(0,0,1,1)),n instanceof e&&(n=n.baseTexture),l.baseTexture=n,l._frame=r,l.trim=o,l.valid=!1,l.requiresUpdate=!1,l._uvs=null,l.orig=i||r,l._rotate=Number(a||0),!0===a)l._rotate=2;else if(l._rotate%2!=0)throw new Error(\"attempt to use diamond-shaped UVs. If you are sure, set rotation manually\");return n.hasLoaded?(l.noFrame&&(r=new u.Rectangle(0,0,n.width,n.height),n.on(\"update\",l.onBaseTextureUpdated,l)),l.frame=r):n.once(\"loaded\",l.onBaseTextureLoaded,l),l.defaultAnchor=s?new u.Point(s.x,s.y):new u.Point(0,0),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on(\"update\",this.onBaseTextureUpdated,this),this.emit(\"update\",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit(\"update\",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(l.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off(\"update\",this.onBaseTextureUpdated,this),this.baseTexture.off(\"loaded\",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new a.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,n,r,o){var a=l.TextureCache[t];return a||(a=new e(i.default.fromImage(t,n,r,o)),e.addToCache(a,t)),a},e.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId \"'+t+'\" does not exist in the texture cache');return e},e.fromCanvas=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"canvas\";return new e(i.default.fromCanvas(t,n,r))},e.fromVideo=function(t,n,r,i){return\"string\"==typeof t?e.fromVideoUrl(t,n,r,i):new e(o.default.fromVideo(t,n,i))},e.fromVideoUrl=function(t,n,r,i){return new e(o.default.fromUrl(t,n,r,i))},e.from=function(t){if(\"string\"==typeof t){var n=l.TextureCache[t];return n||(null!==t.match(/\\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(i.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,h.default.SCALE_MODE,\"HTMLCanvasElement\"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof i.default?new e(t):t},e.fromLoader=function(t,n,r){var o=new i.default(t,void 0,(0,l.getResolutionOfUrl)(n)),a=new e(o);return o.imageUrl=n,r||(r=n),i.default.addToCache(a.baseTexture,r),e.addToCache(a,r),r!==n&&(i.default.addToCache(a.baseTexture,n),e.addToCache(a,n)),a},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),l.TextureCache[e]&&console.warn(\"Texture added to the cache with an id [\"+e+\"] that already had an entry\"),l.TextureCache[e]=t)},e.removeFromCache=function(t){if(\"string\"==typeof t){var e=l.TextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete l.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)l.TextureCache[t.textureCacheIds[r]]===t&&delete l.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},r(e,[{key:\"frame\",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,r=t.width,i=t.height,o=e+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?\"and\":\"or\",u=\"X: \"+e+\" + \"+r+\" = \"+(e+r)+\" > \"+this.baseTexture.width,l=\"Y: \"+n+\" + \"+i+\" = \"+(n+i)+\" > \"+this.baseTexture.height;throw new Error(\"Texture Error: frame does not fit inside the base Texture dimensions: \"+u+\" \"+s+\" \"+l)}this.valid=r&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:\"rotate\",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:\"width\",get:function(){return this.orig.width}},{key:\"height\",get:function(){return this.orig.height}}]),e}(s.default);function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new i.default),d(f.EMPTY),d(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement(\"canvas\");t.width=10,t.height=10;var e=t.getContext(\"2d\");return e.fillStyle=\"white\",e.fillRect(0,0,10,10),new f(new i.default(t))}(),d(f.WHITE),d(f.WHITE.baseTexture)},function(t,e,n){\"use strict\";var r=Object.prototype.hasOwnProperty,i=\"~\";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},s.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,l,h=this._events[s],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,r),!0;case 5:return h.fn.call(h.context,e,n,r,o),!0;case 6:return h.fn.call(h.context,e,n,r,o,a),!0}for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,d=h.length;for(l=0;l<d;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,n);break;case 4:h[l].fn.call(h[l].context,e,n,r);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},s.prototype.on=function(t,e,n){var r=new a(e,n||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.once=function(t,e,n){var r=new a(e,n||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.removeListener=function(t,e,n,r){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var u=0,l=[],h=s.length;u<h;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,t.exports=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(2),i=u(n(3)),o=u(n(9)),a=u(n(53)),s=u(n(32));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return s.uid=(0,r.uid)(),s.touched=0,s.resolution=a||i.default.RESOLUTION,s.width=100,s.height=100,s.realWidth=100,s.realHeight=100,s.scaleMode=void 0!==o?o:i.default.SCALE_MODE,s.hasLoaded=!1,s.isLoading=!1,s.source=null,s.origSource=null,s.imageType=null,s.sourceScale=1,s.premultipliedAlpha=!0,s.imageUrl=null,s.isPowerOfTwo=!1,s.mipmap=i.default.MIPMAP_TEXTURES,s.wrapMode=i.default.WRAP_MODE,s._glTextures={},s._enabled=0,s._virtalBoundId=-1,s._destroyed=!1,s.textureCacheIds=[],n&&s.loadSource(n),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){\"svg\"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit(\"update\",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=s.default.isPow2(this.realWidth)&&s.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),\"svg\"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit(\"loaded\",this);else if(!t.getContext){this.isLoading=!0;var r=this;if(t.onload=function(){r._updateImageType(),t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),\"svg\"!==r.imageType?r.emit(\"loaded\",r):r._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit(\"error\",r))},t.complete&&t.src){if(t.onload=null,t.onerror=null,\"svg\"===r.imageType)return void r._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit(\"loaded\",this)):e&&this.emit(\"error\",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,r.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&\"image\"===t.mediaType){var n=t.subType.split(\"+\")[0];if(!(e=(0,r.getUrlFileExtension)(\".\"+n)))throw new Error(\"Invalid image type in data URI.\")}else(e=(0,r.getUrlFileExtension)(this.imageUrl))||(e=\"png\");this.imageType=e}},e.prototype._loadSvgSource=function(){if(\"svg\"===this.imageType){var t=(0,r.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if(\"base64\"===t.encoding){if(!atob)throw new Error(\"Your browser doesn't support base64 conversions.\");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error(\"Failed to load SVG using XHR.\");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit(\"error\",t)},e.open(\"GET\",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var n=(0,r.getSvgSize)(t),i=n.width,o=n.height;if(!i||!o)throw new Error(\"The SVG image must have width and height defined (in pixels), canvas API needs them.\");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var a=document.createElement(\"canvas\");a.width=this.realWidth,a.height=this.realHeight,a._pixiId=\"canvas_\"+(0,r.uid)(),a.getContext(\"2d\").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=a,e.addToCache(this,a._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit(\"loaded\",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete r.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src=\"\")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit(\"dispose\",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,n,i,o){var s=r.BaseTextureCache[t];if(!s){var u=new Image;void 0===n&&0!==t.indexOf(\"data:\")?u.crossOrigin=(0,a.default)(t):n&&(u.crossOrigin=\"string\"==typeof n?n:\"anonymous\"),(s=new e(u,i)).imageUrl=t,o&&(s.sourceScale=o),s.resolution=(0,r.getResolutionOfUrl)(t),u.src=t,e.addToCache(s,t)}return s},e.fromCanvas=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"canvas\";t._pixiId||(t._pixiId=i+\"_\"+(0,r.uid)());var o=r.BaseTextureCache[t._pixiId];return o||(o=new e(t,n),e.addToCache(o,t._pixiId)),o},e.from=function(t,n,i){if(\"string\"==typeof t)return e.fromImage(t,void 0,n,i);if(t instanceof HTMLImageElement){var o=t.src,a=r.BaseTextureCache[o];return a||((a=new e(t,n)).imageUrl=o,i&&(a.sourceScale=i),a.resolution=(0,r.getResolutionOfUrl)(o),e.addToCache(a,o)),a}return t instanceof HTMLCanvasElement?e.fromCanvas(t,n):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),r.BaseTextureCache[e]&&console.warn(\"BaseTexture added to the cache with an id [\"+e+\"] that already had an entry\"),r.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if(\"string\"==typeof t){var e=r.BaseTextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete r.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete r.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2),a=n(50);var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return n.children=[],n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.addChild(arguments[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit(\"added\",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+\"addChildAt: The index \"+e+\" supplied is out of bounds \"+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit(\"added\",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error(\"The supplied DisplayObject must be a child of the caller\");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error(\"The index \"+e+\" supplied is out of bounds \"+this.children.length);var n=this.getChildIndex(t);(0,o.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error(\"getChildAt: Index (\"+t+\") does not exist.\");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.removeChild(arguments[n]);else{var r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit(\"removed\",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit(\"removed\",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=t,r=\"number\"==typeof e?e:this.children.length,i=r-n,o=void 0;if(i>0&&i<=r){o=this.children.splice(n,i);for(var a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var s=0;s<o.length;++s)o[s].emit(\"removed\",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError(\"removeChildren: numeric values are outside the acceptable range.\")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}n&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),n&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var n=\"boolean\"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(e)},i(e,[{key:\"width\",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:\"height\",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s,s.prototype.containerUpdateTransform=s.prototype.updateTransform},function(t,e,n){\"use strict\";e.__esModule=!0;var r=h(n(57)),i=h(n(122)),o=h(n(59)),a=h(n(123)),s=n(2),u=n(0),l=h(n(3));function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"Canvas\",n,r,o));return s.type=u.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext(\"2d\",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new i.default(s),s.smoothProperty=\"imageSmoothingEnabled\",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty=\"webkitImageSmoothingEnabled\":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty=\"mozImageSmoothingEnabled\":s.rootContext.oImageSmoothingEnabled?s.smoothProperty=\"oImageSmoothingEnabled\":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty=\"msImageSmoothingEnabled\")),s.initPlugins(),s.blendModes=(0,a.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,n,r,i){if(this.view){this.renderingToScreen=!e,this.emit(\"prerender\");var a=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!i){var l=t.parent,h=this._tempDisplayObjectParent.transform.worldTransform;r?(r.copy(h),this._tempDisplayObjectParent.transform._worldID=-1):h.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=l}s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle=\"black\",s.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=s,t.renderCanvas(this),this.context=c,s.restore(),this.resolution=a,this.emit(\"postrender\")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=l.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(r.default);e.default=c,s.pluginTarget.mixin(c)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,this.renderer.on(\"context\",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off(\"context\",this.onContextChange,this),this.renderer=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(5),o=n(3),a=(r=o)&&r.__esModule?r:{default:r};function s(t,e){if(t instanceof Array){if(\"precision\"!==t[0].substring(0,9)){var n=t.slice(0);return n.unshift(\"precision \"+e+\" float;\"),n}}else if(\"precision\"!==t.trim().substring(0,9))return\"precision \"+e+\" float;\\n\"+t;return t}var u=function(t){function e(n,r,i,o,u){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,s(r,u||a.default.PRECISION_VERTEX),s(i,u||a.default.PRECISION_FRAGMENT),void 0,o))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);e.default=u},function(t,e,n){\"use strict\";var r=n(175).Loader,i=n(36).Resource,o=n(85),a=n(86);r.Resource=i,r.async=o,r.encodeBinary=a,r.base64=a,t.exports=r,t.exports.Loader=r,t.exports.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),a=n(8),s=(r=a)&&r.__esModule?r:{default:r};var u=new o.Point,l=new o.Polygon,h=function(t){function e(n,r,i,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return l._texture=n||s.default.EMPTY,l.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),l.vertices=r||new Float32Array([0,0,100,0,100,100,0,100]),l.indices=a||new Uint16Array([0,1,3,2]),l.dirty=0,l.indexDirty=0,l.vertexDirty=0,l.autoUpdate=!0,l.blendMode=o.BLEND_MODES.NORMAL,l.canvasPadding=o.settings.MESH_CANVAS_PADDING,l.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,l.shader=null,l.tintRgb=new Float32Array([1,1,1]),l._glDatas={},l._uvTransform=new o.TextureMatrix(l._texture),l.uploadUvTransform=!1,l.pluginName=\"mesh\",l}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,u);for(var n=this.vertices,r=l.points,i=this.indices,o=this.indices.length,a=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<o;s+=a){var h=2*i[s],c=2*i[s+1],f=2*i[s+2];if(r[0]=n[h],r[1]=n[h+1],r[2]=n[c],r[3]=n[c+1],r[4]=n[f],r[5]=n[f+1],l.contains(u.x,u.y))return!0}return!1},e.prototype.destroy=function(e){for(var n in this._glDatas){var r=this._glDatas[n];r.destroy?r.destroy():(r.vertexBuffer&&(r.vertexBuffer.destroy(),r.vertexBuffer=null),r.indexBuffer&&(r.indexBuffer.destroy(),r.indexBuffer=null),r.uvBuffer&&(r.uvBuffer.destroy(),r.uvBuffer=null),r.vao&&(r.vao.destroy(),r.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,e)},i(e,[{key:\"texture\",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once(\"update\",this._onTextureUpdate,this)))}},{key:\"tint\",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);e.default=h,h.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(2),o=n(60);var a={getTintedTexture:function(t,e){var n=t._texture,r=\"#\"+(\"00000\"+(0|(e=a.roundColor(e))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var i=n.tintCache[r],o=void 0;if(i){if(i.tintId===n._updateID)return n.tintCache[r];o=n.tintCache[r]}else o=a.canvas||document.createElement(\"canvas\");if(a.tintMethod(n,e,o),o.tintId=n._updateID,a.convertTintToImage){var s=new Image;s.src=o.toDataURL(),n.tintCache[r]=s}else n.tintCache[r]=o,a.canvas=null;return o},tintWithMultiply:function(t,e,n){var r=n.getContext(\"2d\"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.fillStyle=\"#\"+(\"00000\"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation=\"multiply\",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation=\"destination-atop\",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(t,e,n){var r=n.getContext(\"2d\"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation=\"copy\",r.fillStyle=\"#\"+(\"00000\"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation=\"destination-atop\",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(t,e,n){var r=n.getContext(\"2d\"),o=t._frame.clone(),a=t.baseTexture.resolution;o.x*=a,o.y*=a,o.width*=a,o.height*=a,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),r.save(),r.globalCompositeOperation=\"copy\",r.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),r.restore();for(var s=(0,i.hex2rgb)(e),u=s[0],l=s[1],h=s[2],c=r.getImageData(0,0,o.width,o.height),f=c.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=l,f[d+2]*=h;r.putImageData(c,0,0)},roundColor:function(t){var e=a.cacheStepsPerColorChannel,n=(0,i.hex2rgb)(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),(0,i.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((r=o)&&r.__esModule?r:{default:r}).default)(),tintMethod:0};a.tintMethod=a.canUseMultiply?a.tintWithMultiply:a.tintWithPerPixel,e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(13);var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=g(n(57)),i=g(n(125)),o=g(n(127)),a=g(n(128)),s=g(n(20)),u=g(n(18)),l=g(n(130)),h=g(n(10)),c=g(n(131)),f=g(n(132)),d=g(n(134)),p=g(n(135)),v=n(2),_=g(n(5)),y=n(0);function g(t){return t&&t.__esModule?t:{default:t}}var b=0,m=function(t){function e(n,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"WebGL\",n,r,a));return s.legacy=s.options.legacy,s.legacy&&(_.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=y.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener(\"webglcontextlost\",s.handleContextLost,!1),s.view.addEventListener(\"webglcontextrestored\",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&\"notMultiplied\"!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer,powerPreference:s.options.powerPreference},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new i.default(s),s.stencilManager=new o.default(s),s.emptyRenderer=new u.default(s),s.currentRenderer=s.emptyRenderer,s.textureManager=null,s.filterManager=null,s.initPlugins(),s.options.context&&(0,p.default)(s.options.context),s.gl=s.options.context||_.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=b++,s.state=new f.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.drawModes=(0,d.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension(\"WEBGL_lose_context\")&&t.getExtension(\"WEBGL_lose_context\").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this._unknownBoundTextures=!1,this.textureManager=new l.default(this),this.filterManager=new a.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new s.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new _.default.GLTexture.fromData(t,null,1,1),r={_glTextures:{}};r._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new h.default;o._glTextures[this.CONTEXT_UID]=n,this.boundTextures[i]=r,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit(\"context\",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,n,r,i){if(this.renderingToScreen=!e,this.emit(\"prerender\"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,r),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit(\"postrender\")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){r.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var n=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var n=void 0;if(t){var r=t.baseTexture;r._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(r,0),this.unbindTexture(r),(n=r._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else n=this.rootRenderTarget;return n.transform=e,this.bindRenderTarget(n),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,n){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,n)e=e||0;else{for(var r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===t)return r;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;if(t=t.baseTexture||t,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===this.emptyTextures[n]&&(e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture))}for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new _.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener(\"webglcontextlost\",this.handleContextLost),this.view.removeEventListener(\"webglcontextrestored\",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension(\"WEBGL_lose_context\")&&this.gl.getExtension(\"WEBGL_lose_context\").loseContext(),this.gl=null},e}(r.default);e.default=m,v.pluginTarget.mixin(m)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(4),o=n(0),a=n(3),s=(r=a)&&r.__esModule?r:{default:r},u=n(5);var l=function(){function t(e,n,r,a,l,h){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=l||s.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey=\"\",this.scaleMode=void 0!==a?a:s.default.SCALE_MODE,this.root=h||!1,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,r)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var n=this.projectionMatrix;e=e||t,n.identity(),this.root?(n.a=1/t.width*2,n.d=-1/t.height*2,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2,n.d=1/t.height*2,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},t.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){t.nativeLines?function(t,e){var n=0,r=t.points;if(0===r.length)return;var o=e.points,a=r.length/2,s=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,l=s[0]*u,h=s[1]*u,c=s[2]*u;for(n=1;n<a;n++){var f=r[2*(n-1)],d=r[2*(n-1)+1],p=r[2*n],v=r[2*n+1];o.push(f,d),o.push(l,h,c,u),o.push(p,v),o.push(l,h,c,u)}}(t,n):function(t,e){var n=t.points;if(0===n.length)return;var o=new r.Point(n[0],n[1]),a=new r.Point(n[n.length-2],n[n.length-1]);if(o.x===a.x&&o.y===a.y){(n=n.slice()).pop(),n.pop();var s=(a=new r.Point(n[n.length-2],n[n.length-1])).x+.5*(o.x-a.x),u=a.y+.5*(o.y-a.y);n.unshift(s,u),n.push(s,u)}var l=e.points,h=e.indices,c=n.length/2,f=n.length,d=l.length/6,p=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),_=t.lineAlpha,y=v[0]*_,g=v[1]*_,b=v[2]*_,m=n[0],x=n[1],w=n[2],T=n[3],E=0,S=0,M=-(x-T),O=m-w,C=0,A=0,P=0,R=0,I=Math.sqrt(M*M+O*O);M/=I,O/=I,M*=p,O*=p;var D=t.lineAlignment,k=2*(1-D),L=2*D;l.push(m-M*k,x-O*k,y,g,b,_),l.push(m+M*L,x+O*L,y,g,b,_);for(var N=1;N<c-1;++N){m=n[2*(N-1)],x=n[2*(N-1)+1],w=n[2*N],T=n[2*N+1],E=n[2*(N+1)],S=n[2*(N+1)+1],M=-(x-T),O=m-w,I=Math.sqrt(M*M+O*O),M/=I,O/=I,M*=p,O*=p,C=-(T-S),A=w-E,I=Math.sqrt(C*C+A*A),C/=I,A/=I;var F=-O+x-(-O+T),j=-M+w-(-M+m),B=(-M+m)*(-O+T)-(-M+w)*(-O+x),U=-(A*=p)+S-(-A+T),X=-(C*=p)+w-(-C+E),H=(-C+E)*(-A+T)-(-C+w)*(-A+S),G=F*X-U*j;if(Math.abs(G)<.1)G+=10.1,l.push(w-M*k,T-O*k,y,g,b,_),l.push(w+M*L,T+O*L,y,g,b,_);else{var W=(j*H-X*B)/G,Y=(U*B-F*H)/G,V=(W-w)*(W-w)+(Y-T)*(Y-T);V>196*p*p?(P=M-C,R=O-A,I=Math.sqrt(P*P+R*R),P/=I,R/=I,P*=p,R*=p,l.push(w-P*k,T-R*k),l.push(y,g,b,_),l.push(w+P*L,T+R*L),l.push(y,g,b,_),l.push(w-P*L*k,T-R*k),l.push(y,g,b,_),f++):(l.push(w+(W-w)*k,T+(Y-T)*k),l.push(y,g,b,_),l.push(w-(W-w)*L,T-(Y-T)*L),l.push(y,g,b,_))}}m=n[2*(c-2)],x=n[2*(c-2)+1],w=n[2*(c-1)],T=n[2*(c-1)+1],M=-(x-T),O=m-w,I=Math.sqrt(M*M+O*O),M/=I,O/=I,M*=p,O*=p,l.push(w-M*k,T-O*k),l.push(y,g,b,_),l.push(w+M*L,T+O*L),l.push(y,g,b,_),h.push(d);for(var z=0;z<f;++z)h.push(d++);h.push(d-1)}(t,e)};var r=n(4),i=n(2)},function(t,e){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(23),a=(r=o)&&r.__esModule?r:{default:r},s=n(0);var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new a.default;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new a.default;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,i=t.y;return e.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,n,r,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(n*this.a+r*this.c),this.ty=e-(n*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),a=Math.atan2(n,e),u=Math.abs(o+a);return u<1e-5||Math.abs(s.PI_2-u)<1e-5?(t.rotation=a,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(r*r+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:\"IDENTITY\",get:function(){return new t}},{key:\"TEMP_MATRIX\",get:function(){return new t}}]),t}();e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(o),this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(n-e,0),this.y=r,this.height=Math.max(i-r,0)},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=n-e,this.y=r,this.height=i-r},t.prototype.ceil=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,n=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=r-this.y},r(t,[{key:\"left\",get:function(){return this.x}},{key:\"right\",get:function(){return this.x+this.width}},{key:\"top\",get:function(){return this.y}},{key:\"bottom\",get:function(){return this.y+this.height}}],[{key:\"EMPTY\",get:function(){return new t(0,0,0,0)}}]),t}();e.default=o},function(t,e){var n=null,r={FLOAT:\"float\",FLOAT_VEC2:\"vec2\",FLOAT_VEC3:\"vec3\",FLOAT_VEC4:\"vec4\",INT:\"int\",INT_VEC2:\"ivec2\",INT_VEC3:\"ivec3\",INT_VEC4:\"ivec4\",BOOL:\"bool\",BOOL_VEC2:\"bvec2\",BOOL_VEC3:\"bvec3\",BOOL_VEC4:\"bvec4\",FLOAT_MAT2:\"mat2\",FLOAT_MAT3:\"mat3\",FLOAT_MAT4:\"mat4\",SAMPLER_2D:\"sampler2D\"};t.exports=function(t,e){if(!n){var i=Object.keys(r);n={};for(var o=0;o<i.length;++o){var a=i[o];n[t[a]]=r[a]}}return n[e]}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:((t=t||new r.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[2])<e?o:e,n=(a=t[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[4])<e?o:e,n=(a=t[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[6])<e?o:e,n=(a=t[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},t.prototype.addFrame=function(t,e,n,r,i){var o=t.worldTransform,a=o.a,s=o.b,u=o.c,l=o.d,h=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,_=a*e+u*n+h,y=s*e+l*n+c;f=_<f?_:f,d=y<d?y:d,p=_>p?_:p,v=y>v?y:v,f=(_=a*r+u*n+h)<f?_:f,d=(y=s*r+l*n+c)<d?y:d,p=_>p?_:p,v=y>v?y:v,f=(_=a*e+u*i+h)<f?_:f,d=(y=s*e+l*i+c)<d?y:d,p=_>p?_:p,v=y>v?y:v,f=(_=a*r+u*i+h)<f?_:f,d=(y=s*r+l*i+c)<d?y:d,p=_>p?_:p,v=y>v?y:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,n,r){for(var i=t.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,h=i.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=n;v<r;v+=2){var _=e[v],y=e[v+1],g=o*_+s*y+l,b=u*y+a*_+h;c=g<c?g:c,f=b<f?b:f,d=g>d?g:d,p=b>p?b:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t}();e.default=i},function(t,e,n){var r,i,o;!function(n){var a=/iPhone/i,s=/iPod/i,u=/iPad/i,l=/\\bAndroid(?:.+)Mobile\\b/i,h=/Android/i,c=/\\bAndroid(?:.+)SD4930UR\\b/i,f=/\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i,d=/Windows Phone/i,p=/\\bWindows(?:.+)ARM\\b/i,v=/BlackBerry/i,_=/BB10/i,y=/Opera Mini/i,g=/\\b(CriOS|Chrome)(?:.+)Mobile/i,b=/\\Mobile(?:.+)Firefox\\b/i;function m(t,e){return t.test(e)}function x(t){var e=t||(\"undefined\"!=typeof navigator?navigator.userAgent:\"\"),n=e.split(\"[FBAN\");void 0!==n[1]&&(e=n[0]),void 0!==(n=e.split(\"Twitter\"))[1]&&(e=n[0]);var r={apple:{phone:m(a,e)&&!m(d,e),ipod:m(s,e),tablet:!m(a,e)&&m(u,e)&&!m(d,e),device:(m(a,e)||m(s,e)||m(u,e))&&!m(d,e)},amazon:{phone:m(c,e),tablet:!m(c,e)&&m(f,e),device:m(c,e)||m(f,e)},android:{phone:!m(d,e)&&m(c,e)||!m(d,e)&&m(l,e),tablet:!m(d,e)&&!m(c,e)&&!m(l,e)&&(m(f,e)||m(h,e)),device:!m(d,e)&&(m(c,e)||m(f,e)||m(l,e)||m(h,e))},windows:{phone:m(d,e),tablet:m(p,e),device:m(d,e)||m(p,e)},other:{blackberry:m(v,e),blackberry10:m(_,e),opera:m(y,e),firefox:m(b,e),chrome:m(g,e),device:m(v,e)||m(_,e)||m(y,e)||m(b,e)||m(g,e)}};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}t.exports&&\"undefined\"==typeof window?t.exports=x:t.exports&&\"undefined\"!=typeof window?t.exports=x():(i=[],r=n.isMobile=x(),void 0===(o=\"function\"==typeof r?r.apply(e,i):r)||(t.exports=o))}(this)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,n=this.worldTransform,r=this.localTransform;n.a=r.a*e.a+r.b*e.c,n.b=r.a*e.b+r.b*e.d,n.c=r.c*e.a+r.d*e.c,n.d=r.c*e.b+r.d*e.d,n.tx=r.tx*e.a+r.ty*e.c+e.tx,n.ty=r.tx*e.b+r.ty*e.d+e.ty,this._worldID++},t}();e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(t,e,n){\"use strict\";function r(t,e,n){n=n||2;var r,s,u,l,h,d,v,_=e&&e.length,y=_?e[0]*n:t.length,g=i(t,0,y,n,!0),b=[];if(!g||g.next===g.prev)return b;if(_&&(g=function(t,e,n,r){var a,s,u,l,h,d=[];for(a=0,s=e.length;a<s;a++)u=e[a]*r,l=a<s-1?e[a+1]*r:t.length,(h=i(t,u,l,r,!1))===h.next&&(h.steiner=!0),d.push(p(h));for(d.sort(c),a=0;a<d.length;a++)f(d[a],n),n=o(n,n.next);return n}(t,e,g,n)),t.length>80*n){r=u=t[0],s=l=t[1];for(var m=n;m<y;m+=n)(h=t[m])<r&&(r=h),(d=t[m+1])<s&&(s=d),h>u&&(u=h),d>l&&(l=d);v=0!==(v=Math.max(u-r,l-s))?1/v:0}return a(g,b,n,r,s,v),b}function i(t,e,n,r,i){var o,a;if(i===S(t,e,n,r)>0)for(o=e;o<n;o+=r)a=w(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=w(o,t[o],t[o+1],a);return a&&g(a,a.next)&&(T(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!g(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(T(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,c,f){if(t){!f&&c&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,c);for(var p,v,_=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?u(t,r,i,c):s(t))e.push(p.i/n),e.push(t.i/n),e.push(v.i/n),T(t),t=v.next,_=v.next;else if((t=v)===_){f?1===f?a(t=l(t,e,n),e,n,r,i,c,2):2===f&&h(t,e,n,r,i,c):a(o(t),e,n,r,i,c,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(y(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,h=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,c=d(s,u,e,n,r),f=d(l,h,e,n,r),p=t.prevZ,_=t.nextZ;p&&p.z>=c&&_&&_.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,_!==t.prev&&_!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,_.x,_.y)&&y(_.prev,_,_.next)>=0)return!1;_=_.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;_&&_.z<=f;){if(_!==t.prev&&_!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,_.x,_.y)&&y(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!g(i,o)&&b(i,r,r.next,o)&&m(i,o)&&m(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),T(r),T(r.next),r=t=o),r=r.next}while(r!==t);return r}function h(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&_(u,l)){var h=x(u,l);return u=o(u,u.next),h=o(h,h.next),a(u,e,n,r,i,s),void a(h,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,h=n.x,c=n.y,f=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=h&&i!==r.x&&v(o<c?i:a,o,h,c,o<c?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&m(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=x(e,t);o(n,n.next)}}function d(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function v(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&m(t,e)&&m(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function y(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,r){return!!(g(t,e)&&g(n,r)||g(t,r)&&g(n,e))||y(t,e,n)>0!=y(t,e,r)>0&&y(n,r,t)>0!=y(n,r,e)>0}function m(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function x(t,e){var n=new E(t.i,t.x,t.y),r=new E(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function w(t,e,n,r){var i=new E(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=r,t.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(S(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,h=s<u-1?e[s+1]*n:t.length;a-=Math.abs(S(t,l,h,n))}var c=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(4),o=n(2),a=n(0),s=l(n(8)),u=l(n(11));function l(t){return t&&t.__esModule?t:{default:t}}var h=new i.Point,c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._anchor=new i.ObservablePoint(r._onAnchorUpdate,r,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=a.BLEND_MODES.NORMAL,r.shader=null,r.cachedTint=16777215,r.texture=n||s.default.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.pluginName=\"sprite\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,l=t.trim,h=t.orig,c=this._anchor,f=0,d=0,p=0,v=0;l?(f=(d=l.x-c._x*h.width)+l.width,p=(v=l.y-c._y*h.height)+l.height):(f=(d=-c._x*h.width)+h.width,p=(v=-c._y*h.height)+h.height),u[0]=n*d+i*v+a,u[1]=o*v+r*d+s,u[2]=n*f+i*v+a,u[3]=o*v+r*f+s,u[4]=n*f+i*p+a,u[5]=o*p+r*f+s,u[6]=n*d+i*p+a,u[7]=o*p+r*d+s}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,h=i.ty,c=-r._x*n.width,f=c+n.width,d=-r._y*n.height,p=d+n.height;e[0]=o*c+s*d+l,e[1]=u*d+a*c+h,e[2]=o*f+s*d+l,e[3]=u*d+a*f+h,e[4]=o*f+s*p+l,e[5]=u*p+a*f+h,e[6]=o*c+s*p+l,e[7]=u*p+a*c+h},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var e=this._texture.orig.width,n=this._texture.orig.height,r=-e*this.anchor.x,i=0;return h.x>=r&&h.x<r+e&&(i=-n*this.anchor.y,h.y>=i&&h.y<i+n)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off(\"update\",this._onTextureUpdate,this),this._anchor=null,\"boolean\"==typeof e?e:e&&e.texture){var n=\"boolean\"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},e.from=function(t){return new e(s.default.from(t))},e.fromFrame=function(t){var n=o.TextureCache[t];if(!n)throw new Error('The frameId \"'+t+'\" does not exist in the texture cache');return new e(n)},e.fromImage=function(t,n,r){return new e(s.default.fromImage(t,n,r))},r(e,[{key:\"width\",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:\"height\",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:\"anchor\",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:\"tint\",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:\"texture\",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||s.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once(\"update\",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=c},function(t,e,n){\"use strict\";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){\"use strict\";e.__esModule=!0,e.Ticker=e.shared=void 0;var r,i=n(119),o=(r=i)&&r.__esModule?r:{default:r};var a=new o.default;a.autoStart=!0,a.destroy=function(){},e.shared=a,e.Ticker=o.default},function(t,e,n){\"use strict\";e.__esModule=!0;var r=i(n(58));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o=null;if(!(n instanceof r.default)){var a=arguments[1],s=arguments[2],u=arguments[3],l=arguments[4];console.warn(\"Please use RenderTexture.create(\"+a+\", \"+s+\") instead of the ctor directly.\"),o=arguments[0],i=null,n=new r.default(a,s,u,l)}var h=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,i));return h.legacyRenderer=o,h.valid=!0,h._updateUvs(),h}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,n){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,n,i,o){return new e(new r.default(t,n,i,o))},e}(i(n(8)).default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){for(var e=6*t,n=new Uint16Array(e),r=0,i=0;r<e;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}},function(t,e,n){\"use strict\";e.__esModule=!0,e.Resource=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(84)),o=a(n(83));function a(t){return t&&t.__esModule?t:{default:t}}var s=!(!window.XDomainRequest||\"withCredentials\"in new XMLHttpRequest),u=null;function l(){}var h=e.Resource=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),\"string\"!=typeof e||\"string\"!=typeof n)throw new Error(\"Both name and url are required for constructing a resource.\");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf(\"data:\")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?\"anonymous\":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=l,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,n){c(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){c(t._xhrTypeMap,e,n)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var n=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(n)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&\"string\"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement(\"image\");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement(\"audio\");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement(\"video\");break;case t.LOAD_TYPE.XHR:default:s&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener(\"error\",this._boundOnError,!1),this.data.removeEventListener(\"load\",this._boundComplete,!1),this.data.removeEventListener(\"progress\",this._boundOnProgress,!1),this.data.removeEventListener(\"canplaythrough\",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener(\"error\",this._boundXhrOnError,!1),this.xhr.removeEventListener(\"timeout\",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener(\"abort\",this._boundXhrOnAbort,!1),this.xhr.removeEventListener(\"progress\",this._boundOnProgress,!1),this.xhr.removeEventListener(\"load\",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error(\"Complete called again for an already completed resource.\");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:\"image\"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener(\"error\",this._boundOnError,!1),this.data.addEventListener(\"load\",this._boundComplete,!1),this.data.addEventListener(\"progress\",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:\"audio\"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener(\"error\",this._boundOnError,!1),this.data.addEventListener(\"load\",this._boundComplete,!1),this.data.addEventListener(\"progress\",this._boundOnProgress,!1),this.data.addEventListener(\"canplaythrough\",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort(\"Unsupported element: \"+t)},t.prototype._loadXhr=function(){\"string\"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open(\"GET\",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener(\"error\",this._boundXhrOnError,!1),e.addEventListener(\"timeout\",this._boundXhrOnTimeout,!1),e.addEventListener(\"abort\",this._boundXhrOnAbort,!1),e.addEventListener(\"progress\",this._boundOnProgress,!1),e.addEventListener(\"load\",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){\"string\"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open(\"GET\",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,n){n||(n=t+\"/\"+this._getExtension(e));var r=document.createElement(\"source\");return r.src=e,r.type=n,r},t.prototype._onError=function(t){this.abort(\"Failed to load element using: \"+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort(\"Load timed out.\")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+\" Request failed. Status: \"+t.status+', text: \"'+t.statusText+'\"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(f(t)+\" Request timed out.\")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(f(t)+\" Request was aborted by the user.\")},t.prototype._xhrOnLoad=function(){var e=this.xhr,n=\"\",r=void 0===e.status?200:e.status;if(\"\"!==e.responseType&&\"text\"!==e.responseType&&void 0!==e.responseType||(n=e.responseText),0===r&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(t){return void this.abort(\"Error trying to parse loaded json: \"+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,\"text/xml\")}else{var o=document.createElement(\"div\");o.innerHTML=n,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort(\"Error trying to parse loaded xml: \"+t)}else this.data=e.response||n;this.complete()}else this.abort(\"[\"+e.status+\"] \"+e.statusText+\": \"+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf(\"data:\"))return\"\";if(window.origin!==window.location.origin)return\"anonymous\";e=e||window.location,u||(u=document.createElement(\"a\")),u.href=t;var n=!(t=(0,i.default)(u.href,{strictMode:!0})).port&&\"\"===e.port||t.port===e.port,r=t.protocol?t.protocol+\":\":\"\";return t.host===e.hostname&&n&&r===e.protocol?\"\":\"anonymous\"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e=\"\";if(this.isDataUrl){var n=t.indexOf(\"/\");e=t.substring(n+1,t.indexOf(\";\",n))}else{var r=t.indexOf(\"?\"),i=t.indexOf(\"#\"),o=Math.min(r>-1?r:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(\".\")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return\"application/octet-binary\";case t.XHR_RESPONSE_TYPE.BLOB:return\"application/blob\";case t.XHR_RESPONSE_TYPE.DOCUMENT:return\"application/xml\";case t.XHR_RESPONSE_TYPE.JSON:return\"application/json\";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return\"text/plain\"}},r(t,[{key:\"isDataUrl\",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:\"isComplete\",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:\"isLoading\",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,n){e&&0===e.indexOf(\".\")&&(e=e.substring(1)),e&&(t[e]=n)}function f(t){return t.toString().replace(\"object \",\"\")}h.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},h.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},h.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},h.XHR_RESPONSE_TYPE={DEFAULT:\"text\",BUFFER:\"arraybuffer\",BLOB:\"blob\",DOCUMENT:\"document\",JSON:\"json\",TEXT:\"text\"},h._loadTypeMap={gif:h.LOAD_TYPE.IMAGE,png:h.LOAD_TYPE.IMAGE,bmp:h.LOAD_TYPE.IMAGE,jpg:h.LOAD_TYPE.IMAGE,jpeg:h.LOAD_TYPE.IMAGE,tif:h.LOAD_TYPE.IMAGE,tiff:h.LOAD_TYPE.IMAGE,webp:h.LOAD_TYPE.IMAGE,tga:h.LOAD_TYPE.IMAGE,svg:h.LOAD_TYPE.IMAGE,\"svg+xml\":h.LOAD_TYPE.IMAGE,mp3:h.LOAD_TYPE.AUDIO,ogg:h.LOAD_TYPE.AUDIO,wav:h.LOAD_TYPE.AUDIO,mp4:h.LOAD_TYPE.VIDEO,webm:h.LOAD_TYPE.VIDEO},h._xhrTypeMap={xhtml:h.XHR_RESPONSE_TYPE.DOCUMENT,html:h.XHR_RESPONSE_TYPE.DOCUMENT,htm:h.XHR_RESPONSE_TYPE.DOCUMENT,xml:h.XHR_RESPONSE_TYPE.DOCUMENT,tmx:h.XHR_RESPONSE_TYPE.DOCUMENT,svg:h.XHR_RESPONSE_TYPE.DOCUMENT,tsx:h.XHR_RESPONSE_TYPE.DOCUMENT,gif:h.XHR_RESPONSE_TYPE.BLOB,png:h.XHR_RESPONSE_TYPE.BLOB,bmp:h.XHR_RESPONSE_TYPE.BLOB,jpg:h.XHR_RESPONSE_TYPE.BLOB,jpeg:h.XHR_RESPONSE_TYPE.BLOB,tif:h.XHR_RESPONSE_TYPE.BLOB,tiff:h.XHR_RESPONSE_TYPE.BLOB,webp:h.XHR_RESPONSE_TYPE.BLOB,tga:h.XHR_RESPONSE_TYPE.BLOB,json:h.XHR_RESPONSE_TYPE.JSON,text:h.XHR_RESPONSE_TYPE.TEXT,txt:h.XHR_RESPONSE_TYPE.TEXT,ttf:h.XHR_RESPONSE_TYPE.BUFFER,otf:h.XHR_RESPONSE_TYPE.BUFFER},h.EMPTY_GIF=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\",t.exports.default=h},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(90),a=(r=o)&&r.__esModule?r:{default:r};var s=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var u=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.limiter=new a.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(p),this.registerFindHook(v),this.registerFindHook(l),this.registerFindHook(h),this.registerFindHook(c),this.registerUploadHook(f),this.registerUploadHook(d)}return t.prototype.upload=function(t,e){\"function\"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,s.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)s.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var a=0,u=o.length;a<u;a++)o[a]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.Container)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},t.prototype.destroy=function(){this.ticking&&s.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function l(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof i.Texture){var o=t._textures[r].baseTexture;-1===e.indexOf(o)&&(e.push(o),n=!0)}return n}function h(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function c(t,e){if(t._texture&&t._texture instanceof i.Texture){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function f(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function d(t,e){if(e instanceof i.TextStyle){var n=e.toFontString();return i.TextMetrics.measureFont(n),!0}return!1}function p(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function v(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=u},function(t,e,n){(t.exports=n(195)(!1)).push([t.i,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\\n/* Document\\r\\n   ========================================================================== */\\n/**\\r\\n * 1. Correct the line height in all browsers.\\r\\n * 2. Prevent adjustments of font size after orientation changes in iOS.\\r\\n */\\nhtml {\\n  line-height: 1.15;\\n  /* 1 */\\n  -webkit-text-size-adjust: 100%;\\n  /* 2 */ }\\n\\n/* Sections\\r\\n   ========================================================================== */\\n/**\\r\\n * Remove the margin in all browsers.\\r\\n */\\nbody {\\n  margin: 0; }\\n\\n/**\\r\\n * Render the `main` element consistently in IE.\\r\\n */\\nmain {\\n  display: block; }\\n\\n/**\\r\\n * Correct the font size and margin on `h1` elements within `section` and\\r\\n * `article` contexts in Chrome, Firefox, and Safari.\\r\\n */\\nh1 {\\n  font-size: 2em;\\n  margin: 0.67em 0; }\\n\\n/* Grouping content\\r\\n   ========================================================================== */\\n/**\\r\\n * 1. Add the correct box sizing in Firefox.\\r\\n * 2. Show the overflow in Edge and IE.\\r\\n */\\nhr {\\n  box-sizing: content-box;\\n  /* 1 */\\n  height: 0;\\n  /* 1 */\\n  overflow: visible;\\n  /* 2 */ }\\n\\n/**\\r\\n * 1. Correct the inheritance and scaling of font size in all browsers.\\r\\n * 2. Correct the odd `em` font sizing in all browsers.\\r\\n */\\npre {\\n  font-family: monospace, monospace;\\n  /* 1 */\\n  font-size: 1em;\\n  /* 2 */ }\\n\\n/* Text-level semantics\\r\\n   ========================================================================== */\\n/**\\r\\n * Remove the gray background on active links in IE 10.\\r\\n */\\na {\\n  background-color: transparent; }\\n\\n/**\\r\\n * 1. Remove the bottom border in Chrome 57-\\r\\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\\r\\n */\\nabbr[title] {\\n  border-bottom: none;\\n  /* 1 */\\n  text-decoration: underline;\\n  /* 2 */\\n  text-decoration: underline dotted;\\n  /* 2 */ }\\n\\n/**\\r\\n * Add the correct font weight in Chrome, Edge, and Safari.\\r\\n */\\nb,\\nstrong {\\n  font-weight: bolder; }\\n\\n/**\\r\\n * 1. Correct the inheritance and scaling of font size in all browsers.\\r\\n * 2. Correct the odd `em` font sizing in all browsers.\\r\\n */\\ncode,\\nkbd,\\nsamp {\\n  font-family: monospace, monospace;\\n  /* 1 */\\n  font-size: 1em;\\n  /* 2 */ }\\n\\n/**\\r\\n * Add the correct font size in all browsers.\\r\\n */\\nsmall {\\n  font-size: 80%; }\\n\\n/**\\r\\n * Prevent `sub` and `sup` elements from affecting the line height in\\r\\n * all browsers.\\r\\n */\\nsub,\\nsup {\\n  font-size: 75%;\\n  line-height: 0;\\n  position: relative;\\n  vertical-align: baseline; }\\n\\nsub {\\n  bottom: -0.25em; }\\n\\nsup {\\n  top: -0.5em; }\\n\\n/* Embedded content\\r\\n   ========================================================================== */\\n/**\\r\\n * Remove the border on images inside links in IE 10.\\r\\n */\\nimg {\\n  border-style: none; }\\n\\n/* Forms\\r\\n   ========================================================================== */\\n/**\\r\\n * 1. Change the font styles in all browsers.\\r\\n * 2. Remove the margin in Firefox and Safari.\\r\\n */\\nbutton,\\ninput,\\noptgroup,\\nselect,\\ntextarea {\\n  font-family: inherit;\\n  /* 1 */\\n  font-size: 100%;\\n  /* 1 */\\n  line-height: 1.15;\\n  /* 1 */\\n  margin: 0;\\n  /* 2 */ }\\n\\n/**\\r\\n * Show the overflow in IE.\\r\\n * 1. Show the overflow in Edge.\\r\\n */\\nbutton,\\ninput {\\n  /* 1 */\\n  overflow: visible; }\\n\\n/**\\r\\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\\r\\n * 1. Remove the inheritance of text transform in Firefox.\\r\\n */\\nbutton,\\nselect {\\n  /* 1 */\\n  text-transform: none; }\\n\\n/**\\r\\n * Correct the inability to style clickable types in iOS and Safari.\\r\\n */\\nbutton,\\n[type=\"button\"],\\n[type=\"reset\"],\\n[type=\"submit\"] {\\n  -webkit-appearance: button; }\\n\\n/**\\r\\n * Remove the inner border and padding in Firefox.\\r\\n */\\nbutton::-moz-focus-inner,\\n[type=\"button\"]::-moz-focus-inner,\\n[type=\"reset\"]::-moz-focus-inner,\\n[type=\"submit\"]::-moz-focus-inner {\\n  border-style: none;\\n  padding: 0; }\\n\\n/**\\r\\n * Restore the focus styles unset by the previous rule.\\r\\n */\\nbutton:-moz-focusring,\\n[type=\"button\"]:-moz-focusring,\\n[type=\"reset\"]:-moz-focusring,\\n[type=\"submit\"]:-moz-focusring {\\n  outline: 1px dotted ButtonText; }\\n\\n/**\\r\\n * Correct the padding in Firefox.\\r\\n */\\nfieldset {\\n  padding: 0.35em 0.75em 0.625em; }\\n\\n/**\\r\\n * 1. Correct the text wrapping in Edge and IE.\\r\\n * 2. Correct the color inheritance from `fieldset` elements in IE.\\r\\n * 3. Remove the padding so developers are not caught out when they zero out\\r\\n *    `fieldset` elements in all browsers.\\r\\n */\\nlegend {\\n  box-sizing: border-box;\\n  /* 1 */\\n  color: inherit;\\n  /* 2 */\\n  display: table;\\n  /* 1 */\\n  max-width: 100%;\\n  /* 1 */\\n  padding: 0;\\n  /* 3 */\\n  white-space: normal;\\n  /* 1 */ }\\n\\n/**\\r\\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\\r\\n */\\nprogress {\\n  vertical-align: baseline; }\\n\\n/**\\r\\n * Remove the default vertical scrollbar in IE 10+.\\r\\n */\\ntextarea {\\n  overflow: auto; }\\n\\n/**\\r\\n * 1. Add the correct box sizing in IE 10.\\r\\n * 2. Remove the padding in IE 10.\\r\\n */\\n[type=\"checkbox\"],\\n[type=\"radio\"] {\\n  box-sizing: border-box;\\n  /* 1 */\\n  padding: 0;\\n  /* 2 */ }\\n\\n/**\\r\\n * Correct the cursor style of increment and decrement buttons in Chrome.\\r\\n */\\n[type=\"number\"]::-webkit-inner-spin-button,\\n[type=\"number\"]::-webkit-outer-spin-button {\\n  height: auto; }\\n\\n/**\\r\\n * 1. Correct the odd appearance in Chrome and Safari.\\r\\n * 2. Correct the outline style in Safari.\\r\\n */\\n[type=\"search\"] {\\n  -webkit-appearance: textfield;\\n  /* 1 */\\n  outline-offset: -2px;\\n  /* 2 */ }\\n\\n/**\\r\\n * Remove the inner padding in Chrome and Safari on macOS.\\r\\n */\\n[type=\"search\"]::-webkit-search-decoration {\\n  -webkit-appearance: none; }\\n\\n/**\\r\\n * 1. Correct the inability to style clickable types in iOS and Safari.\\r\\n * 2. Change font properties to `inherit` in Safari.\\r\\n */\\n::-webkit-file-upload-button {\\n  -webkit-appearance: button;\\n  /* 1 */\\n  font: inherit;\\n  /* 2 */ }\\n\\n/* Interactive\\r\\n   ========================================================================== */\\n/*\\r\\n * Add the correct display in Edge, IE 10+, and Firefox.\\r\\n */\\ndetails {\\n  display: block; }\\n\\n/*\\r\\n * Add the correct display in all browsers.\\r\\n */\\nsummary {\\n  display: list-item; }\\n\\n/* Misc\\r\\n   ========================================================================== */\\n/**\\r\\n * Add the correct display in IE 10+.\\r\\n */\\ntemplate {\\n  display: none; }\\n\\n/**\\r\\n * Add the correct display in IE 10.\\r\\n */\\n[hidden] {\\n  display: none; }\\n\\n*,\\n*:after,\\n*:before {\\n  box-sizing: border-box; }\\n\\nhtml,\\nbody {\\n  margin: 0px;\\n  padding: 0px; }\\n\\n#AppCanvas {\\n  margin: 4px; }\\n\\n*::-webkit-scrollbar-track {\\n  background-color: #F5F5F5; }\\n\\n*::-webkit-scrollbar {\\n  width: 8px;\\n  height: 8px;\\n  background-color: #F5F5F5; }\\n\\n*::-webkit-scrollbar-thumb {\\n  background-color: #bcbcbc; }\\n',\"\"])},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._x=r,this._y=i,this.cb=e,this.scope=n}return t.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t(e||this.cb,n||this.scope,this._x,this._y)},t.prototype.set=function(t,e){var n=t||0,r=e||(0!==e?n:0);this._x===n&&this._y===r||(this._x=n,this._y=r,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},r(t,[{key:\"x\",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:\"y\",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(24),o=(r=i)&&r.__esModule?r:{default:r};var a=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],l=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],c=[];function f(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var n=0;n<16;n++)for(var r=f(a[t]*a[n]+u[t]*s[n]),i=f(s[t]*a[n]+l[t]*s[n]),d=f(a[t]*u[n]+u[t]*l[n]),p=f(s[t]*u[n]+l[t]*l[n]),v=0;v<16;v++)if(a[v]===r&&s[v]===i&&u[v]===d&&l[v]===p){e.push(v);break}}for(var _=0;_<16;_++){var y=new o.default;y.set(a[_],s[_],u[_],l[_],0,0),h.push(y)}}();var d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return a[t]},uY:function(t){return s[t]},vX:function(t){return u[t]},vY:function(t){return l[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][d.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW},matrixAppendRotationInv:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=h[d.inv(e)];i.tx=n,i.ty=r,t.append(i)}};e.default=d},function(t,e){t.exports=function(t,e,n){var r;if(n){var i=n.tempAttribState,o=n.attribState;for(r=0;r<i.length;r++)i[r]=!1;for(r=0;r<e.length;r++)i[e[r].attribute.location]=!0;for(r=0;r<o.length;r++)o[r]!==i[r]&&(o[r]=i[r],n.attribState[r]?t.enableVertexAttribArray(r):t.disableVertexAttribArray(r))}else for(r=0;r<e.length;r++){var a=e[r];t.enableVertexAttribArray(a.attribute.location)}}},function(t,e){var n=function(t,e,n,r,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=n||-1,this.format=r||t.RGBA,this.type=i||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=t.videoWidth||t.width,r=t.videoHeight||t.height;r!==this.height||n!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=n,this.height=r};var r=!1;n.prototype.uploadData=function(t,e,n){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!r){if(!i.getExtension(\"OES_texture_float\"))throw new Error(\"floating point textures not available\");r=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||n!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,n,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,n,this.format,this.type,t||null),this.width=e,this.height=n},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},n.fromSource=function(t,e,r){var i=new n(t);return i.premultiplyAlpha=r||!1,i.upload(e),i},n.fromData=function(t,e,r,i){var o=new n(t);return o.uploadData(e,r,i),o},t.exports=n},function(t,e){var n=function(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(t.getShaderInfoLog(r)),null)};t.exports=function(t,e,r,i){var o=n(t,t.VERTEX_SHADER,e),a=n(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,o),t.attachShader(s,a),i)for(var u in i)t.bindAttribLocation(s,i[u],u);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error(\"Pixi.js Error: Could not initialize shader.\"),console.error(\"gl.VALIDATE_STATUS\",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error(\"gl.getError()\",t.getError()),\"\"!==t.getProgramInfoLog(s)&&console.warn(\"Pixi.js Warning: gl.getProgramInfoLog()\",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(o),t.deleteShader(a),s}},function(t,e,n){var r=n(26),i=n(45),o=function(t,e,n,r){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,n||0,r||0)};t.exports=function(t,e){for(var n={},a=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var u=t.getActiveAttrib(e,s),l=r(t,u.type);n[u.name]={type:l,size:i(l),location:t.getAttribLocation(e,u.name),pointer:o}}return n}},function(t,e){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return n[t]}},function(t,e,n){var r=n(26),i=n(47);t.exports=function(t,e){for(var n={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=t.getActiveUniform(e,a),u=s.name.replace(/\\[.*?\\]/,\"\"),l=r(t,s.type);n[u]={type:l,size:s.size,location:t.getUniformLocation(e,u),value:i(l,s.size)}}return n}},function(t,e){var n=function(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e};t.exports=function(t,e){switch(t){case\"float\":return 0;case\"vec2\":return new Float32Array(2*e);case\"vec3\":return new Float32Array(3*e);case\"vec4\":return new Float32Array(4*e);case\"int\":case\"sampler2D\":return 0;case\"ivec2\":return new Int32Array(2*e);case\"ivec3\":return new Int32Array(3*e);case\"ivec4\":return new Int32Array(4*e);case\"bool\":return!1;case\"bvec2\":return n(2*e);case\"bvec3\":return n(3*e);case\"bvec4\":return n(4*e);case\"mat2\":return new Float32Array([1,0,0,1]);case\"mat3\":return new Float32Array([1,0,0,0,1,0,0,0,1]);case\"mat4\":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e){t.exports=function(t,e){return\"precision\"!==t.substring(0,9)?\"precision \"+e+\" float;\\n\"+t:t}},function(t,e){var n=function(t){return function(){return this.data[t].value}},r={float:function(t,e,n){t.uniform1f(e,n)},vec2:function(t,e,n){t.uniform2f(e,n[0],n[1])},vec3:function(t,e,n){t.uniform3f(e,n[0],n[1],n[2])},vec4:function(t,e,n){t.uniform4f(e,n[0],n[1],n[2],n[3])},int:function(t,e,n){t.uniform1i(e,n)},ivec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},ivec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},ivec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},bool:function(t,e,n){t.uniform1i(e,n)},bvec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},bvec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},bvec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},mat2:function(t,e,n){t.uniformMatrix2fv(e,!1,n)},mat3:function(t,e,n){t.uniformMatrix3fv(e,!1,n)},mat4:function(t,e,n){t.uniformMatrix4fv(e,!1,n)},sampler2D:function(t,e,n){t.uniform1i(e,n)}},i={float:function(t,e,n){t.uniform1fv(e,n)},vec2:function(t,e,n){t.uniform2fv(e,n)},vec3:function(t,e,n){t.uniform3fv(e,n)},vec4:function(t,e,n){t.uniform4fv(e,n)},int:function(t,e,n){t.uniform1iv(e,n)},ivec2:function(t,e,n){t.uniform2iv(e,n)},ivec3:function(t,e,n){t.uniform3iv(e,n)},ivec4:function(t,e,n){t.uniform4iv(e,n)},bool:function(t,e,n){t.uniform1iv(e,n)},bvec2:function(t,e,n){t.uniform2iv(e,n)},bvec3:function(t,e,n){t.uniform3iv(e,n)},bvec4:function(t,e,n){t.uniform4iv(e,n)},sampler2D:function(t,e,n){t.uniform1iv(e,n)}};function o(t,e){return function(n){this.data[t].value=n;var o=this.data[t].location;1===e.size?r[e.type](this.gl,o,n):i[e.type](this.gl,o,n)}}function a(t,e){for(var n=e,r=0;r<t.length-1;r++){var i=n[t[r]]||{data:{}};n[t[r]]=i,n=i}return n}t.exports=function(t,e){var r={data:{}};r.gl=t;for(var i=Object.keys(e),s=0;s<i.length;s++){var u=i[s],l=u.split(\".\"),h=l[l.length-1],c=a(l,r),f=e[u];c.data[h]=f,c.gl=t,Object.defineProperty(c,h,{get:n(h),set:o(h,f)})}return r}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(9)),o=n(0),a=c(n(3)),s=c(n(51)),u=c(n(52)),l=c(n(27)),h=n(4);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this)),r=a.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?s.default:u.default;return n.tempDisplayObjectParent=null,n.transform=new r,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new l.default,n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._destroyed=!1,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new h.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new h.Rectangle),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=n,this.transform=e,r},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,r){return e&&(t=e.toGlobal(t,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error(\"setParent: Argument must be a Container\");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},r(e,[{key:\"_tempDisplayObjectParent\",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:\"x\",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:\"y\",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:\"worldTransform\",get:function(){return this.transform.worldTransform}},{key:\"localTransform\",get:function(){return this.transform.localTransform}},{key:\"position\",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:\"scale\",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:\"pivot\",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:\"skew\",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:\"rotation\",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:\"worldVisible\",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:\"mask\",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:\"filters\",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(i.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4),a=n(29);var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return n.position=new o.ObservablePoint(n.onChange,n,0,0),n.scale=new o.ObservablePoint(n.onChange,n,1,1),n.pivot=new o.ObservablePoint(n.onChange,n,0,0),n.skew=new o.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n._localID=0,n._currentLocalID=0,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(e,[{key:\"rotation\",get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4),a=n(29);var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return n.position=new o.Point(0,0),n.scale=new o.Point(1,1),n.skew=new o.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new o.Point(0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},i(e,[{key:\"rotation\",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf(\"data:\"))return\"\";e=e||window.location,a||(a=document.createElement(\"a\"));a.href=t;var n=!(t=o.default.parse(a.href)).port&&\"\"===e.port||t.port===e.port;if(t.hostname!==e.hostname||!n||t.protocol!==e.protocol)return\"anonymous\";return\"\"};var r,i=n(54),o=(r=i)&&r.__esModule?r:{default:r};var a=void 0},function(t,e,n){\"use strict\";var r=n(113),i=n(115);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,l=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),h=[\"'\"].concat(l),c=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(h),f=[\"/\",\"?\",\"#\"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,\"javascript:\":!0},_={javascript:!0,\"javascript:\":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},g=n(116);function b(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof t);var o=t.indexOf(\"?\"),s=-1!==o&&o<t.indexOf(\"#\")?\"?\":\"#\",l=t.split(s);l[0]=l[0].replace(/\\\\/g,\"/\");var b=t=l.join(s);if(b=b.trim(),!n&&1===t.split(\"#\").length){var m=u.exec(b);if(m)return this.path=b,this.href=b,this.pathname=m[1],m[2]?(this.search=m[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search=\"\",this.query={}),this}var x=a.exec(b);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,b=b.substr(x.length)}if(n||x||b.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var T=\"//\"===b.substr(0,2);!T||x&&_[x]||(b=b.substr(2),this.slashes=!0)}if(!_[x]&&(T||x&&!y[x])){for(var E,S,M=-1,O=0;O<f.length;O++){-1!==(C=b.indexOf(f[O]))&&(-1===M||C<M)&&(M=C)}-1!==(S=-1===M?b.lastIndexOf(\"@\"):b.lastIndexOf(\"@\",M))&&(E=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(E)),M=-1;for(O=0;O<c.length;O++){var C;-1!==(C=b.indexOf(c[O]))&&(-1===M||C<M)&&(M=C)}-1===M&&(M=b.length),this.host=b.slice(0,M),b=b.slice(M),this.parseHost(),this.hostname=this.hostname||\"\";var A=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!A)for(var P=this.hostname.split(/\\./),R=(O=0,P.length);O<R;O++){var I=P[O];if(I&&!I.match(d)){for(var D=\"\",k=0,L=I.length;k<L;k++)I.charCodeAt(k)>127?D+=\"x\":D+=I[k];if(!D.match(d)){var N=P.slice(0,O),F=P.slice(O+1),j=I.match(p);j&&(N.push(j[1]),F.unshift(j[2])),F.length&&(b=\"/\"+F.join(\".\")+b),this.hostname=N.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var B=this.port?\":\"+this.port:\"\",U=this.hostname||\"\";this.host=U+B,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==b[0]&&(b=\"/\"+b))}if(!v[w])for(O=0,R=h.length;O<R;O++){var X=h[O];if(-1!==b.indexOf(X)){var H=encodeURIComponent(X);H===X&&(H=escape(X)),b=b.split(X).join(H)}}var G=b.indexOf(\"#\");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var W=b.indexOf(\"?\");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),e&&(this.query=g.parse(this.query)),b=b.slice(0,W)):e&&(this.search=\"\",this.query={}),b&&(this.pathname=b),y[w]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){B=this.pathname||\"\";var Y=this.search||\"\";this.path=B+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||\"\";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,\":\"),t+=\"@\");var e=this.protocol||\"\",n=this.pathname||\"\",r=this.hash||\"\",o=!1,a=\"\";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(o+=\":\"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=g.stringify(this.query));var s=this.search||a&&\"?\"+a||\"\";return e&&\":\"!==e.substr(-1)&&(e+=\":\"),this.slashes||(!e||y[e])&&!1!==o?(o=\"//\"+(o||\"\"),n&&\"/\"!==n.charAt(0)&&(n=\"/\"+n)):o||(o=\"\"),r&&\"#\"!==r.charAt(0)&&(r=\"#\"+r),s&&\"?\"!==s.charAt(0)&&(s=\"?\"+s),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace(\"#\",\"%23\"))+r},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,\"\"===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var h=u[l];\"protocol\"!==h&&(n[h]=t[h])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname=\"/\"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||_[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||\"\").split(\"/\");p.length&&!(t.host=p.shift()););t.host||(t.host=\"\"),t.hostname||(t.hostname=\"\"),\"\"!==p[0]&&p.unshift(\"\"),p.length<2&&p.unshift(\"\"),n.pathname=p.join(\"/\")}if(n.search=t.search,n.query=t.query,n.host=t.host||\"\",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||\"\",g=n.search||\"\";n.path=v+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&\"/\"===n.pathname.charAt(0),m=t.host||t.pathname&&\"/\"===t.pathname.charAt(0),x=m||b||n.host&&t.pathname,w=x,T=n.pathname&&n.pathname.split(\"/\")||[],E=(p=t.pathname&&t.pathname.split(\"/\")||[],n.protocol&&!y[n.protocol]);if(E&&(n.hostname=\"\",n.port=null,n.host&&(\"\"===T[0]?T[0]=n.host:T.unshift(n.host)),n.host=\"\",t.protocol&&(t.hostname=null,t.port=null,t.host&&(\"\"===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(\"\"===p[0]||\"\"===T[0])),m)n.host=t.host||\"\"===t.host?t.host:n.host,n.hostname=t.hostname||\"\"===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(E)n.hostname=n.host=T.shift(),(A=!!(n.host&&n.host.indexOf(\"@\")>0)&&n.host.split(\"@\"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:\"\")+(n.search?n.search:\"\")),n.href=n.format(),n}if(!T.length)return n.pathname=null,n.search?n.path=\"/\"+n.search:n.path=null,n.href=n.format(),n;for(var S=T.slice(-1)[0],M=(n.host||t.host||T.length>1)&&(\".\"===S||\"..\"===S)||\"\"===S,O=0,C=T.length;C>=0;C--)\".\"===(S=T[C])?T.splice(C,1):\"..\"===S?(T.splice(C,1),O++):O&&(T.splice(C,1),O--);if(!x&&!w)for(;O--;O)T.unshift(\"..\");!x||\"\"===T[0]||T[0]&&\"/\"===T[0].charAt(0)||T.unshift(\"\"),M&&\"/\"!==T.join(\"/\").substr(-1)&&T.push(\"\");var A,P=\"\"===T[0]||T[0]&&\"/\"===T[0].charAt(0);E&&(n.hostname=n.host=P?\"\":T.length?T.shift():\"\",(A=!!(n.host&&n.host.indexOf(\"@\")>0)&&n.host.split(\"@\"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift()));return(x=x||n.host&&T.length)&&!P&&T.unshift(\"\"),T.length?n.pathname=T.join(\"/\"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:\"\")+(n.search?n.search:\"\")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(\":\"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(10)),o=n(2),a=n(33),s=n(0),u=l(n(53));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(n,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),!n)throw new Error(\"No video source element specified.\");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var o=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,r));return o.width=n.videoWidth,o.height=n.videoHeight,o._autoUpdate=!0,o._isAutoUpdating=!1,o.autoPlay=i,o.update=o.update.bind(o),o._onCanPlay=o._onCanPlay.bind(o),n.addEventListener(\"play\",o._onPlayStart.bind(o)),n.addEventListener(\"pause\",o._onPlayStop.bind(o)),o.hasLoaded=!1,o.__loaded=!1,o._isSourceReady()?o._onCanPlay():(n.addEventListener(\"canplay\",o._onCanPlay),n.addEventListener(\"canplaythrough\",o._onCanPlay)),o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener(\"canplay\",this._onCanPlay),this.source.removeEventListener(\"canplaythrough\",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit(\"loaded\",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&a.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src=\"\",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,n,r){t._pixiId||(t._pixiId=\"video_\"+(0,o.uid)());var a=o.BaseTextureCache[t._pixiId];return a||(a=new e(t,n,r),i.default.addToCache(a,t._pixiId)),a},e.fromUrl=function(t,n,r,i){var o=document.createElement(\"video\");o.setAttribute(\"webkit-playsinline\",\"\"),o.setAttribute(\"playsinline\",\"\");var a=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===r&&0!==a.indexOf(\"data:\")?o.crossOrigin=(0,u.default)(a):r&&(o.crossOrigin=\"string\"==typeof r?r:\"anonymous\"),Array.isArray(t))for(var s=0;s<t.length;++s)o.appendChild(c(t[s].src||t[s],t[s].mime));else o.appendChild(c(a,t.mime));return o.load(),e.fromVideo(o,n,i)},r(e,[{key:\"autoUpdate\",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(i.default);function c(t,e){if(!e){var n=t.split(\"?\").shift().toLowerCase();e=\"video/\"+n.substr(n.lastIndexOf(\".\")+1)}var r=document.createElement(\"source\");return r.src=t,r.type=e,r}e.default=h,h.fromUrls=h.fromUrl},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(40),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,n){var r=e.width,i=e.height;if(n){var a=t.width/2/r,s=t.height/2/i,u=t.x/r+a,l=t.y/i+s;n=o.default.add(n,o.default.NW),this.x0=u+a*o.default.uX(n),this.y0=l+s*o.default.uY(n),n=o.default.add(n,2),this.x1=u+a*o.default.uX(n),this.y1=l+s*o.default.uY(n),n=o.default.add(n,2),this.x2=u+a*o.default.uX(n),this.y2=l+s*o.default.uY(n),n=o.default.add(n,2),this.x3=u+a*o.default.uX(n),this.y3=l+s*o.default.uY(n)}else this.x0=t.x/r,this.y0=t.y/i,this.x1=(t.x+t.width)/r,this.y1=t.y/i,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/i,this.x3=t.x/r,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=n(4),a=n(0),s=c(n(3)),u=c(n(11)),l=c(n(34)),h=c(n(9));function c(t){return t&&t.__esModule?t:{default:t}}var f=new o.Matrix,d=function(t){function e(n,r,l,h){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return(0,i.sayHello)(n),\"number\"==typeof r&&(r=Object.assign({width:r,height:l||s.default.RENDER_OPTIONS.height},h)),r=Object.assign({},s.default.RENDER_OPTIONS,r),c.options=r,c.type=a.RENDERER_TYPE.UNKNOWN,c.screen=new o.Rectangle(0,0,r.width,r.height),c.view=r.view||document.createElement(\"canvas\"),c.resolution=r.resolution||s.default.RESOLUTION,c.transparent=r.transparent,c.autoResize=r.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=r.preserveDrawingBuffer,c.clearBeforeRender=r.clearBeforeRender,c.roundPixels=r.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString=\"#000000\",c.backgroundColor=r.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new u.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+\"px\",this.view.style.height=e+\"px\")},e.prototype.generateTexture=function(t,e,n,r){r=r||t.getLocalBounds();var i=l.default.create(0|r.width,0|r.height,e,n);return f.tx=-r.x,f.ty=-r.y,this.render(t,i,!1,f,!!t.parent),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},r(e,[{key:\"width\",get:function(){return this.view.width}},{key:\"height\",get:function(){return this.view.height}},{key:\"backgroundColor\",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,i.hex2string)(t),(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(h.default);e.default=d},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(10)),i=o(n(3));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],a=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,null,o));return s.resolution=a||i.default.RESOLUTION,s.width=Math.ceil(n),s.height=Math.ceil(r),s.realWidth=s.width*s.resolution,s.realHeight=s.height*s.resolution,s.scaleMode=void 0!==o?o:i.default.SCALE_MODE,s.hasLoaded=!0,s._glRenderTargets={},s._canvasRenderTarget=null,s.valid=!1,s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit(\"update\",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(r.default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(3),a=(r=o)&&r.__esModule?r:{default:r};var s=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.canvas=document.createElement(\"canvas\"),this.context=this.canvas.getContext(\"2d\"),this.resolution=r||a.default.RESOLUTION,this.resize(e,n)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:\"width\",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:\"height\",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=s},function(t,e,n){\"use strict\";function r(t){var e=document.createElement(\"canvas\");e.width=6,e.height=1;var n=e.getContext(\"2d\");return n.fillStyle=t,n.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if(\"undefined\"==typeof document)return!1;var t=r(\"#ff00ff\"),e=r(\"#ffff00\"),n=document.createElement(\"canvas\");n.width=6,n.height=1;var i=n.getContext(\"2d\");i.globalCompositeOperation=\"multiply\",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var a=o.data;return 255===a[0]&&0===a[1]&&0===a[2]}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=a(n(62)),i=n(4),o=(n(7),a(n(64)));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=new i.Matrix,o=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 otherMatrix;\\n\\nvarying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\n}\\n\",\"varying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform sampler2D mask;\\nuniform float alpha;\\nuniform vec4 maskClamp;\\n\\nvoid main(void)\\n{\\n    float clip = step(3.5,\\n        step(maskClamp.x, vMaskCoord.x) +\\n        step(maskClamp.y, vMaskCoord.y) +\\n        step(vMaskCoord.x, maskClamp.z) +\\n        step(vMaskCoord.y, maskClamp.w));\\n\\n    vec4 original = texture2D(uSampler, vTextureCoord);\\n    vec4 masky = texture2D(mask, vMaskCoord);\\n\\n    original *= (masky.r * masky.a * alpha * clip);\\n\\n    gl_FragColor = original;\\n}\\n\"));return n.renderable=!1,o.maskSprite=n,o.maskMatrix=r,o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){var i=this.maskSprite,a=this.maskSprite.texture;a.valid&&(a.transform||(a.transform=new o.default(a,0)),a.transform.update(),this.uniforms.mask=a,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(a.transform.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=a.transform.uClampFrame,t.applyFilter(this,e,n,r))},e}(r.default);e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(126)),o=n(2),a=n(0),s=u(n(3));function u(t){return t&&t.__esModule?t:{default:t}}var l={},h=function(){function t(e,n,r){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this._blendMode=a.BLEND_MODES.NORMAL,this.uniformData=r||(0,i.default)(this.vertexSrc,this.fragmentSrc,\"projectionMatrix|uSampler\"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},l[this.vertexSrc+this.fragmentSrc]||(l[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=l[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=s.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,n,r,i){t.applyFilter(this,e,n,r)},r(t,[{key:\"blendMode\",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:\"defaultVertexSrc\",get:function(){return[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"uniform mat3 projectionMatrix;\",\"uniform mat3 filterMatrix;\",\"varying vec2 vTextureCoord;\",\"varying vec2 vFilterCoord;\",\"void main(void){\",\"   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\",\"   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\",\"   vTextureCoord = aTextureCoord ;\",\"}\"].join(\"\\n\")}},{key:\"defaultFragmentSrc\",get:function(){return[\"varying vec2 vTextureCoord;\",\"varying vec2 vFilterCoord;\",\"uniform sampler2D uSampler;\",\"uniform sampler2D filterSampler;\",\"void main(void){\",\"   vec4 masky = texture2D(filterSampler, vFilterCoord);\",\"   vec4 sample = texture2D(uSampler, vTextureCoord);\",\"   vec4 color;\",\"   if(mod(vFilterCoord.x, 1.0) > 0.5)\",\"   {\",\"     color = vec4(1.0, 0.0, 0.0, 1.0);\",\"   }\",\"   else\",\"   {\",\"     color = vec4(0.0, 1.0, 0.0, 1.0);\",\"   }\",\"   gl_FragColor = mix(sample, masky, 0.5);\",\"   gl_FragColor *= sample.a;\",\"}\"].join(\"\\n\")}}]),t}();e.default=h},function(t,e){var n,r,i=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],h=!1,c=-1;function f(){h&&u&&(h=!1,u.length?l=u.concat(l):c=-1,l.length&&d())}function d(){if(!h){var t=s(f);h=!0;for(var e=l.length;e;){for(u=l,l=[];++c<e;)u&&u[c].run();c=-1,e=l.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||h||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(t){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(24),a=(r=o)&&r.__esModule?r:{default:r};var s=new a.default,u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._texture=e,this.mapCoord=new a.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===n?.5:n}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,r=0;r<t.length;r+=2){var i=t[r],o=t[r+1];e[r]=i*n.a+o*n.c+n.tx,e[r+1]=i*n.b+o*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=e.orig,i=e.trim;i&&(s.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(s));var o=e.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(e._frame.x+u+l)/o.width,a[1]=(e._frame.y+u+l)/o.height,a[2]=(e._frame.x+e._frame.width-u+l)/o.width,a[3]=(e._frame.y+e._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0},i(t,[{key:\"texture\",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(5)),i=o(n(35));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=r.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(e,n)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(2);var a={align:\"left\",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:\"black\",dropShadowDistance:5,fill:\"black\",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:\"Arial\",fontSize:26,fontStyle:\"normal\",fontVariant:\"normal\",fontWeight:\"normal\",letterSpacing:0,lineHeight:0,lineJoin:\"miter\",miterLimit:10,padding:0,stroke:\"black\",strokeThickness:0,textBaseline:\"alphabetic\",trim:!1,whiteSpace:\"pre\",wordWrap:!1,wordWrapWidth:100,leading:0},s=[\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\"],u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.styleID=0,this.reset(),c(this,e,e)}return t.prototype.clone=function(){var e={};return c(e,this,a),new t(e)},t.prototype.reset=function(){c(this,a,a)},t.prototype.toFontString=function(){var t=\"number\"==typeof this.fontSize?this.fontSize+\"px\":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(\",\"));for(var n=e.length-1;n>=0;n--){var r=e[n].trim();!/([\\\"\\'])[^\\'\\\"]+\\1/.test(r)&&s.indexOf(r)<0&&(r='\"'+r+'\"'),e[n]=r}return this.fontStyle+\" \"+this.fontVariant+\" \"+this.fontWeight+\" \"+t+\" \"+e.join(\",\")},r(t,[{key:\"align\",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:\"breakWords\",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:\"dropShadow\",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:\"dropShadowAlpha\",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:\"dropShadowAngle\",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:\"dropShadowBlur\",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:\"dropShadowColor\",get:function(){return this._dropShadowColor},set:function(t){var e=h(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:\"dropShadowDistance\",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:\"fill\",get:function(){return this._fill},set:function(t){var e=h(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:\"fillGradientType\",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:\"fillGradientStops\",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:\"fontFamily\",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:\"fontSize\",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:\"fontStyle\",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:\"fontVariant\",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:\"fontWeight\",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:\"letterSpacing\",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:\"lineHeight\",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:\"leading\",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:\"lineJoin\",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:\"miterLimit\",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:\"padding\",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:\"stroke\",get:function(){return this._stroke},set:function(t){var e=h(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:\"strokeThickness\",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:\"textBaseline\",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:\"trim\",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:\"whiteSpace\",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:\"wordWrap\",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:\"wordWrapWidth\",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function l(t){return\"number\"==typeof t?(0,o.hex2string)(t):(\"string\"==typeof t&&0===t.indexOf(\"0x\")&&(t=t.replace(\"0x\",\"#\")),t)}function h(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=l(t[e]);return t}return l(t)}function c(t,e,n){for(var r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e,n,r,i,o,a,s,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.text=e,this.style=n,this.width=r,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=l}return t.measureText=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;r=null==r?n.wordWrap:r;var o=n.toFontString(),a=t.measureFont(o),s=i.getContext(\"2d\");s.font=o;for(var u=(r?t.wordWrap(e,n,i):e).split(/(?:\\r\\n|\\r|\\n)/),l=new Array(u.length),h=0,c=0;c<u.length;c++){var f=s.measureText(u[c]).width+(u[c].length-1)*n.letterSpacing;l[c]=f,h=Math.max(h,f)}var d=h+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||a.fontSize+n.strokeThickness,v=Math.max(p,a.fontSize+n.strokeThickness)+(u.length-1)*(p+n.leading);return n.dropShadow&&(v+=n.dropShadowDistance),new t(e,n,d,v,u,l,p+n.leading,h,a)},t.wordWrap=function(e,n){for(var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext(\"2d\"),i=0,o=\"\",a=\"\",s={},u=n.letterSpacing,l=n.whiteSpace,h=t.collapseSpaces(l),c=t.collapseNewlines(l),f=!h,d=n.wordWrapWidth+u,p=t.tokenize(e),v=0;v<p.length;v++){var _=p[v];if(t.isNewline(_)){if(!c){a+=t.addLine(o),f=!h,o=\"\",i=0;continue}_=\" \"}if(h){var y=t.isBreakingSpace(_),g=t.isBreakingSpace(o[o.length-1]);if(y&&g)continue}var b=t.getFromCache(_,u,s,r);if(b>d)if(\"\"!==o&&(a+=t.addLine(o),o=\"\",i=0),t.canBreakWords(_,n.breakWords))for(var m=_.split(\"\"),x=0;x<m.length;x++){for(var w=m[x],T=1;m[x+T];){var E=m[x+T],S=w[w.length-1];if(t.canBreakChars(S,E,_,x,n.breakWords))break;w+=E,T++}x+=w.length-1;var M=t.getFromCache(w,u,s,r);M+i>d&&(a+=t.addLine(o),f=!1,o=\"\",i=0),o+=w,i+=M}else{o.length>0&&(a+=t.addLine(o),o=\"\",i=0);var O=v===p.length-1;a+=t.addLine(_,!O),f=!1,o=\"\",i=0}else b+i>d&&(f=!1,a+=t.addLine(o),o=\"\",i=0),(o.length>0||!t.isBreakingSpace(_)||f)&&(o+=_,i+=b)}return a+=t.addLine(o,!1)},t.addLine=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),e=n?e+\"\\n\":e},t.getFromCache=function(t,e,n,r){var i=n[t];if(void 0===i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t.collapseSpaces=function(t){return\"normal\"===t||\"pre-line\"===t},t.collapseNewlines=function(t){return\"normal\"===t},t.trimRight=function(e){if(\"string\"!=typeof e)return\"\";for(var n=e.length-1;n>=0;n--){var r=e[n];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return\"string\"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return\"string\"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],r=\"\";if(\"string\"!=typeof e)return n;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(\"\"!==r&&(n.push(r),r=\"\"),n.push(o)):r+=o}return\"\"!==r&&n.push(r),n},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,r,i){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={},r=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*s;s=s*t.BASELINE_MULTIPLIER|0,r.width=a,r.height=u,i.fillStyle=\"#f00\",i.fillRect(0,0,a,u),i.font=e,i.textBaseline=\"alphabetic\",i.fillStyle=\"#000\",i.fillText(o,0,s);var l=i.getImageData(0,0,a,u).data,h=l.length,c=4*a,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var v=0;v<c;v+=4)if(255!==l[d+v]){p=!0;break}if(p)break;d+=c}for(n.ascent=s-f,d=h-c,p=!1,f=u;f>s;--f){for(var _=0;_<c;_+=4)if(255!==l[d+_]){p=!0;break}if(p)break;d-=c}return n.descent=f-s,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";e?delete t._fonts[e]:t._fonts={}},t}();e.default=r;var i=document.createElement(\"canvas\");i.width=i.height=10,r._canvas=i,r._context=i.getContext(\"2d\"),r._fonts={},r.METRICS_STRING=\"|Éq\",r.BASELINE_SYMBOL=\"M\",r.BASELINE_MULTIPLIER=1.4,r._newlines=[10,13],r._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e,n,r,i,o,a,s,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.lineWidth=e,this.lineAlignment=l,this.nativeLines=s,this.lineColor=n,this.lineAlpha=r,this._lineTint=n,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=a,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(70),o=l(n(11)),a=n(33),s=l(n(3)),u=n(0);function l(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,n,r,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),\"number\"==typeof e&&(e=Object.assign({width:e,height:n||s.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!l},r)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?a.shared:new a.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},r(t,[{key:\"ticker\",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:\"view\",get:function(){return this.renderer.view}},{key:\"screen\",get:function(){return this.renderer.screen}}]),t}();e.default=h},function(t,e,n){\"use strict\";e.__esModule=!0,e.autoDetectRenderer=function(t,e,n,a){var s=t&&t.forceCanvas;void 0!==a&&(s=a);if(!s&&r.isWebGLSupported())return new o.default(t,e,n);return new i.default(t,e,n)};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(2)),i=a(n(12)),o=a(n(19));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,n){\"use strict\";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var r=n(158);Object.defineProperty(e,\"AnimatedSprite\",{enumerable:!0,get:function(){return s(r).default}});var i=n(159);Object.defineProperty(e,\"TilingSprite\",{enumerable:!0,get:function(){return s(i).default}});var o=n(160);Object.defineProperty(e,\"TilingSpriteRenderer\",{enumerable:!0,get:function(){return s(o).default}});var a=n(161);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"BitmapText\",{enumerable:!0,get:function(){return s(a).default}}),n(162),n(163),n(164)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=u(n(74)),a=u(n(75)),s=u(n(76));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),u=u||5;var l=(0,o.default)(u,!0),h=(0,a.default)(u),c=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,l,h));return c.resolution=s||i.settings.RESOLUTION,c._quality=0,c.quality=r||4,c.strength=n||8,c.firstRun=!0,c}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,u=(0,s.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,a.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var l=t.getRenderTarget(!0),h=e,c=l,f=0;f<this.passes-1;f++){t.applyFilter(this,h,c,!0);var d=c;c=h,h=d}t.applyFilter(this,h,n,r),t.returnRenderTarget(l)}},r(e,[{key:\"blur\",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:\"quality\",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n=Math.ceil(t/2),i=r,o=\"\",a=void 0;a=e?\"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);\":\"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);\";for(var s=0;s<t;s++){var u=a.replace(\"%index%\",s);u=u.replace(\"%sampleIndex%\",s-(n-1)+\".0\"),o+=u,o+=\"\\n\"}return i=(i=i.replace(\"%blur%\",o)).replace(\"%size%\",t)};var r=[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"uniform float strength;\",\"uniform mat3 projectionMatrix;\",\"varying vec2 vBlurTexCoords[%size%];\",\"void main(void)\",\"{\",\"gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\",\"%blur%\",\"}\"].join(\"\\n\")},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){for(var e=r[t],n=e.length,o=i,a=\"\",s=void 0,u=0;u<t;u++){var l=\"gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;\".replace(\"%index%\",u);s=u,u>=n&&(s=t-u-1),l=l.replace(\"%value%\",e[s]),a+=l,a+=\"\\n\"}return o=(o=o.replace(\"%blur%\",a)).replace(\"%size%\",t)};var r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=[\"varying vec2 vBlurTexCoords[%size%];\",\"uniform sampler2D uSampler;\",\"void main(void)\",\"{\",\"    gl_FragColor = vec4(0.0);\",\"    %blur%\",\"}\"].join(\"\\n\")},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),n=15;for(;n>e;)n-=2;return n}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=u(n(74)),a=u(n(75)),s=u(n(76));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),u=u||5;var l=(0,o.default)(u,!1),h=(0,a.default)(u),c=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,l,h));return c.resolution=s||i.settings.RESOLUTION,c._quality=0,c.quality=r||4,c.strength=n||8,c.firstRun=!0,c}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,u=(0,s.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,a.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var l=t.getRenderTarget(!0),h=e,c=l,f=0;f<this.passes-1;f++){t.applyFilter(this,h,c,!0);var d=c;c=h,h=d}t.applyFilter(this,h,n,r),t.returnRenderTarget(l)}},r(e,[{key:\"blur\",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:\"quality\",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},r(t,[{key:\"pointerId\",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},r(t,[{key:\"pointerId\",get:function(){return this._pointerId}},{key:\"flags\",get:function(){return this._flags},set:function(t){this._flags=t}},{key:\"none\",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:\"over\",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:\"rightDown\",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:\"leftDown\",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,n){\"use strict\";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return\"pointer\"===this.cursor},set buttonMode(t){t?this.cursor=\"pointer\":\"pointer\"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,n){\"use strict\";e.__esModule=!0,e.parse=a,e.default=function(){return function(t,e){if(t.data&&t.type===i.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName(\"page\").length&&0!==t.data.getElementsByTagName(\"info\").length&&null!==t.data.getElementsByTagName(\"info\")[0].getAttribute(\"face\")){var n=t.isDataUrl?\"\":r.dirname(t.url);t.isDataUrl&&(\".\"===n&&(n=\"\"),this.baseUrl&&n&&\"/\"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+=\"/\")),(n=n.replace(this.baseUrl,\"\"))&&\"/\"!==n.charAt(n.length-1)&&(n+=\"/\");for(var o=t.data.getElementsByTagName(\"page\"),s={},u=function(n){s[n.metadata.pageFile]=n.texture,Object.keys(s).length===o.length&&(a(t,s),e())},l=0;l<o.length;++l){var h=o[l].getAttribute(\"file\"),c=n+h,f=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===c){p.metadata.pageFile=h,p.texture?u(p):p.onAfterMiddleware.add(u),f=!0;break}}if(!f){var v={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},t.metadata.imageMetadata),parentResource:t};this.add(c,v,u)}}}else e();else e()}};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),i=n(15),o=n(72);function a(t,e){t.bitmapFont=o.BitmapText.registerFont(t.data,e)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var o=function(){function t(e,n,r){void 0===n&&(n=!1),i(this,t),this._fn=e,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return r(t,[{key:\"detach\",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function a(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:\"handlers\",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n}},{key:\"has\",value:function(t){if(!(t instanceof o))throw new Error(\"MiniSignal#has(): First arg must be a MiniSignalBinding object.\");return t._owner===this}},{key:\"dispatch\",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:\"add\",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(\"function\"!=typeof t)throw new Error(\"MiniSignal#add(): First arg must be a Function.\");return a(this,new o(t,!1,e))}},{key:\"once\",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(\"function\"!=typeof t)throw new Error(\"MiniSignal#once(): First arg must be a Function.\");return a(this,new o(t,!0,e))}},{key:\"detach\",value:function(t){if(!(t instanceof o))throw new Error(\"MiniSignal#detach(): First arg must be a MiniSignalBinding object.\");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:\"detachAll\",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=o,e.default=s,t.exports=e.default},function(t,e,n){\"use strict\";t.exports=function(t,e){e=e||{};for(var n={key:[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],q:{name:\"queryKey\",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?\"strict\":\"loose\"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||\"\";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(t,e,r){e&&(i[n.q.name][e]=r)}),i}},function(t,e,n){\"use strict\";function r(){}function i(t){return function(){if(null===t)throw new Error(\"Callback was already called.\");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,n,r){var i=0,o=t.length;!function a(s){s||i===o?n&&n(s):r?setTimeout(function(){e(t[i++],a)},1):e(t[i++],a)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error(\"Concurrency must not be zero\");var n=0,o={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(t,e){a(t,!1,e)},kill:function(){n=0,o.drain=r,o.started=!1,o._tasks=[]},unshift:function(t,e){a(t,!0,e)},process:function(){for(;!o.paused&&n<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(n+=1)===o.concurrency&&o.saturated(),t(e.data,i(s(e)))}},length:function(){return o._tasks.length},running:function(){return n},idle:function(){return o._tasks.length+n===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function a(t,e,n){if(null!=n&&\"function\"!=typeof n)throw new Error(\"task callback must be a function\");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var i={data:t,callback:\"function\"==typeof n?n:r};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout(function(){return o.process()},1)}}function s(t){return function(){n-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),n<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,n){\"use strict\";e.__esModule=!0,e.encodeBinary=i;var r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";function i(t){for(var e=\"\",n=0;n<t.length;){for(var i=[0,0,0],o=[0,0,0,0],a=0;a<i.length;++a)n<t.length?i[a]=255&t.charCodeAt(n++):i[a]=0;switch(o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2],n-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var s=0;s<o.length;++s)e+=r.charAt(o[s])}return e}t.exports.default=i},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){return function(t,e){var n=t.name+\"_image\";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[n]){var r={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=u(t,this.baseUrl);this.add(n,o,r,function(n){if(n.error)e(n.error);else{var r=new s.Spritesheet(n.texture.baseTexture,t.data,t.url);r.parse(function(){t.spritesheet=r,t.textures=r.textures,e()})}})}else e()}},e.getResourcePath=u;var r,i=n(15),o=n(54),a=(r=o)&&r.__esModule?r:{default:r},s=n(1);function u(t,e){return t.isDataUrl?t.data.meta.image:a.default.resolve(t.url.replace(e,\"\"),t.data.meta.image)}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=a.default.fromLoader(t.data,t.url,t.name)),e()}};var r,i=n(15),o=n(8),a=(r=o)&&r.__esModule?r:{default:r}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(16),o=(r=i)&&r.__esModule?r:{default:r};var a=function(t){function e(n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return a._ready=!0,a.verticesX=r||10,a.verticesY=i||10,a.drawMode=o.default.DRAW_MODES.TRIANGLES,a.refresh(),a}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,n=[],r=[],i=[],o=this.verticesX-1,a=this.verticesY-1,s=t.width/o,u=t.height/a,l=0;l<e;l++){var h=l%this.verticesX,c=l/this.verticesX|0;n.push(h*s,c*u),r.push(h/o,c/a)}for(var f=o*a,d=0;d<f;d++){var p=d%o,v=d/o|0,_=v*this.verticesX+p,y=v*this.verticesX+p+1,g=(v+1)*this.verticesX+p,b=(v+1)*this.verticesX+p+1;i.push(_,y,g),i.push(y,b,g)}this.vertices=new Float32Array(n),this.uvs=new Float32Array(r),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(o.default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=r},function(t,e,n){\"use strict\";n(92),n(94),n(95),n(96),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,n){\"use strict\";var r,i=n(93),o=(r=i)&&r.__esModule?r:{default:r};Object.assign||(Object.assign=o.default)},function(t,e,n){\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String(\"abc\");if(t[5]=\"de\",\"5\"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e[\"_\"+String.fromCharCode(n)]=n;if(\"0123456789\"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(\"\"))return!1;var r={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(t){r[t]=t}),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},r)).join(\"\")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null==t)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(s[a[h]]=n[a[h]])}}return s}},function(t,e,n){\"use strict\";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var n=Date.now(),r=[\"ms\",\"moz\",\"webkit\",\"o\"],i=0;i<r.length&&!t.requestAnimationFrame;++i){var o=r[i];t.requestAnimationFrame=t[o+\"RequestAnimationFrame\"],t.cancelAnimationFrame=t[o+\"CancelAnimationFrame\"]||t[o+\"CancelRequestAnimationFrame\"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if(\"function\"!=typeof t)throw new TypeError(t+\"is not a function\");var e=Date.now(),r=16+n-e;return r<0&&(r=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,n(22))},function(t,e,n){\"use strict\";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,n){\"use strict\";Number.isInteger||(Number.isInteger=function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(25),o=(r=i)&&r.__esModule?r:{default:r},a=n(0);var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n,this.radius=r,this.type=a.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-t,i=this.y-e;return(r*=r)+(i*=i)<=n},t.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(25),o=(r=i)&&r.__esModule?r:{default:r},a=n(0);var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n,this.width=r,this.height=i,this.type=a.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return(n*=n)+(r*=r)<=1},t.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(23),o=(r=i)&&r.__esModule?r:{default:r},a=n(0);var s=function(){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),Array.isArray(n[0])&&(n=n[0]),n[0]instanceof o.default){for(var i=[],s=0,u=n.length;s<u;s++)i.push(n[s].x,n[s].y);n=i}this.closed=!0,this.points=n,this.type=a.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];s>e!=l>e&&t<(e-s)/(l-s)*(u-a)+a&&(n=!n)}return n},t}();e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(0);var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n,this.width=i,this.height=o,this.radius=a,this.type=r.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),r=e-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=t-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=e-(this.y+this.height-this.radius))*r<=i)return!0;if((n=t-(this.x+this.radius))*n+r*r<=i)return!0}return!1},t}();e.default=i},function(t,e){t.exports=function(t,e){var n=t.getContext(\"webgl\",e)||t.getContext(\"experimental-webgl\",e);if(!n)throw new Error(\"This browser does not support webGL. Try using the canvas renderer\");return n}},function(t,e){var n=new ArrayBuffer(0),r=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r),this._updateID=0};r.prototype.upload=function(t,e,n){n||this.bind();var r=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?r.bufferSubData(this.type,e,t):r.bufferData(this.type,t,this.drawType),this.data=t},r.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(t,e,n){return new r(t,t.ARRAY_BUFFER,e,n)},r.createIndexBuffer=function(t,e,n){return new r(t,t.ELEMENT_ARRAY_BUFFER,e,n)},r.create=function(t,e,n,i){return new r(t,e,n,i)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=r},function(t,e,n){var r=n(42),i=function(t,e,n){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=n||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new r(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,n,r){this.bind();var i=this.gl;i.clearColor(t,e,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var n=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,n,o){var a=r.fromData(t,null,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},i.createFloat32=function(t,e,n,o){var a=new r.fromData(t,o,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},t.exports=i},function(t,e,n){var r=n(43),i=n(44),o=n(46),a=n(48),s=n(49),u=function(t,e,n,u,l){this.gl=t,u&&(e=a(e,u),n=a(n,u)),this.program=r(t,e,n,l),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=s(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,n){var r=n(41);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension(\"OES_vertex_array_object\")||t.getExtension(\"MOZ_OES_vertex_array_object\")||t.getExtension(\"WEBKIT_OES_vertex_array_object\")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,n=0;n<this.attributes.length;n++){var i=this.attributes[n];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return r(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,n,r,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,n){var r=this.gl;return this.indexBuffer?r.drawElements(t,e||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(n||0)):r.drawArrays(t,n,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,n){t.exports={compileProgram:n(43),defaultValue:n(47),extractAttributes:n(44),extractUniforms:n(46),generateUniformAccessObject:n(49),setPrecision:n(48),mapSize:n(45),mapType:n(26)}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){if(o.default.tablet||o.default.phone)return 4;return t};var r,i=n(28),o=(r=i)&&r.__esModule?r:{default:r}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,n){\"use strict\";function r(t,e){if(t&&e)for(var n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=r,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)r(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,n){\"use strict\";t.exports=function(t,e,n){var r,i=t.length;if(!(e>=i||0===n)){var o=i-(n=e+n>i?i-e:n);for(r=e;r<o;++r)t[r]=t[r+n];t.length=o}}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[r.BLEND_MODES.NORMAL_NPM]=r.BLEND_MODES.NORMAL,t[r.BLEND_MODES.ADD_NPM]=r.BLEND_MODES.ADD,t[r.BLEND_MODES.SCREEN_NPM]=r.BLEND_MODES.SCREEN,e[r.BLEND_MODES.NORMAL]=r.BLEND_MODES.NORMAL_NPM,e[r.BLEND_MODES.ADD]=r.BLEND_MODES.ADD_NPM,e[r.BLEND_MODES.SCREEN]=r.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var r=n(0)},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var a=\"object\"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,h=1,c=26,f=38,d=700,p=72,v=128,_=\"-\",y=/^xn--/,g=/[^\\x20-\\x7E]/,b=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,m={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},x=l-h,w=Math.floor,T=String.fromCharCode;function E(t){throw new RangeError(m[t])}function S(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function M(t,e){var n=t.split(\"@\"),r=\"\";return n.length>1&&(r=n[0]+\"@\",t=n[1]),r+S((t=t.replace(b,\".\")).split(\".\"),e).join(\".\")}function O(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function C(t){return S(t,function(t){var e=\"\";return t>65535&&(e+=T((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=T(t)}).join(\"\")}function A(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,n){var r=0;for(t=n?w(t/d):t>>1,t+=w(t/e);t>x*c>>1;r+=l)t=w(t/x);return w(r+(x+1)*t/(t+f))}function R(t){var e,n,r,i,o,a,s,f,d,y,g,b=[],m=t.length,x=0,T=v,S=p;for((n=t.lastIndexOf(_))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&E(\"not-basic\"),b.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=x,a=1,s=l;i>=m&&E(\"invalid-input\"),((f=(g=t.charCodeAt(i++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:l)>=l||f>w((u-x)/a))&&E(\"overflow\"),x+=f*a,!(f<(d=s<=S?h:s>=S+c?c:s-S));s+=l)a>w(u/(y=l-d))&&E(\"overflow\"),a*=y;S=P(x-o,e=b.length+1,0==o),w(x/e)>u-T&&E(\"overflow\"),T+=w(x/e),x%=e,b.splice(x++,0,T)}return C(b)}function I(t){var e,n,r,i,o,a,s,f,d,y,g,b,m,x,S,M=[];for(b=(t=O(t)).length,e=v,n=0,o=p,a=0;a<b;++a)(g=t[a])<128&&M.push(T(g));for(r=i=M.length,i&&M.push(_);r<b;){for(s=u,a=0;a<b;++a)(g=t[a])>=e&&g<s&&(s=g);for(s-e>w((u-n)/(m=r+1))&&E(\"overflow\"),n+=(s-e)*m,e=s,a=0;a<b;++a)if((g=t[a])<e&&++n>u&&E(\"overflow\"),g==e){for(f=n,d=l;!(f<(y=d<=o?h:d>=o+c?c:d-o));d+=l)S=f-y,x=l-y,M.push(T(A(y+S%x,0))),f=w(S/x);M.push(T(A(f,0))),o=P(n,m,r==i),n=0,++r}++n,++e}return M.join(\"\")}s={version:\"1.4.1\",ucs2:{decode:O,encode:C},decode:R,encode:I,toASCII:function(t){return M(t,function(t){return g.test(t)?\"xn--\"+I(t):t})},toUnicode:function(t){return M(t,function(t){return y.test(t)?R(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(114)(t),n(22))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){\"use strict\";t.exports={isString:function(t){return\"string\"==typeof t},isObject:function(t){return\"object\"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){\"use strict\";e.decode=e.parse=n(117),e.encode=e.stringify=n(118)},function(t,e,n){\"use strict\";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||\"&\",n=n||\"=\";var a={};if(\"string\"!=typeof t||0===t.length)return a;var s=/\\+/g;t=t.split(e);var u=1e3;o&&\"number\"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var h=0;h<l;++h){var c,f,d,p,v=t[h].replace(s,\"%20\"),_=v.indexOf(n);_>=0?(c=v.substr(0,_),f=v.substr(_+1)):(c=v,f=\"\"),d=decodeURIComponent(c),p=decodeURIComponent(f),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}},function(t,e,n){\"use strict\";var r=function(t){switch(typeof t){case\"string\":return t;case\"boolean\":return t?\"true\":\"false\";case\"number\":return isFinite(t)?t:\"\";default:return\"\"}};t.exports=function(t,e,n,s){return e=e||\"&\",n=n||\"=\",null===t&&(t=void 0),\"object\"==typeof t?o(a(t),function(a){var s=encodeURIComponent(r(a))+n;return i(t[a])?o(t[a],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[a]))}).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):\"\"};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(3)),o=n(0),a=s(n(120));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,n))},t.prototype.addOnce=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},r(t,[{key:\"FPS\",get:function(){return 1e3/this.elapsedMS}},{key:\"minFPS\",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.fn=e,this.context=n,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=s(n(12)),i=n(0),o=n(4),a=s(n(17));function s(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,n=this.renderer,r=e._frame.width,s=e._frame.height,l=t.transform.worldTransform,h=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(n.setBlendMode(t.blendMode),e.valid)){n.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==f&&(n.context[n.smoothProperty]=f),e.trim?(h=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(h=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(l.copy(u),l=u,o.GroupD8.matrixAppendRotationInv(l,e.rotate,h,c),h=0,c=0),h-=r/2,c-=s/2,n.roundPixels?(n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution|0,l.ty*n.resolution|0),h|=0,c|=0):n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution,l.ty*n.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=a.default.getTintedTexture(t,t.tint)),n.context.drawImage(t.tintedTexture,0,0,r*d,s*d,h*n.resolution,c*n.resolution,r*n.resolution,s*n.resolution)):n.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,r*d,s*d,h*n.resolution,c*n.resolution,r*n.resolution,s*n.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=l,r.default.registerPlugin(\"sprite\",l)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(0);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var n=t.alpha,r=t.transform.worldTransform,i=e.resolution;e.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=n},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,n=t.graphicsData.length;if(0!==n){e.beginPath();for(var i=0;i<n;i++){var o=t.graphicsData[i],a=o.shape;if(o.type===r.SHAPES.POLY){var s=a.points,u=o.holes,l=void 0,h=void 0;e.moveTo(s[0],s[1]);for(var c=2;c<s.length;c+=2)e.lineTo(s[c],s[c+1]);if(s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath(),u.length>0){l=0;for(var f=0;f<s.length;f+=2)l+=s[f]*s[f+3]-s[f+1]*s[f+2];for(var d=0;d<u.length;d++){s=u[d].points,h=0;for(var p=0;p<s.length;p+=2)h+=s[p]*s[p+3]-s[p+1]*s[p+2];if(e.moveTo(s[0],s[1]),h*l<0)for(var v=2;v<s.length;v+=2)e.lineTo(s[v],s[v+1]);else for(var _=s.length-2;_>=2;_-=2)e.lineTo(s[_],s[_+1])}}}else if(o.type===r.SHAPES.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(o.type===r.SHAPES.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(o.type===r.SHAPES.ELIP){var y=2*a.width,g=2*a.height,b=a.x-y/2,m=a.y-g/2,x=y/2*.5522848,w=g/2*.5522848,T=b+y,E=m+g,S=b+y/2,M=m+g/2;e.moveTo(b,M),e.bezierCurveTo(b,M-w,S-x,m,S,m),e.bezierCurveTo(S+x,m,T,M-w,T,M),e.bezierCurveTo(T,M+w,S+x,E,S,E),e.bezierCurveTo(S-x,E,b,M+w,b,M),e.closePath()}else if(o.type===r.SHAPES.RREC){var O=a.x,C=a.y,A=a.width,P=a.height,R=a.radius,I=Math.min(A,P)/2|0;R=R>I?I:R,e.moveTo(O,C+R),e.lineTo(O,C+P-R),e.quadraticCurveTo(O,C+P,O+R,C+P),e.lineTo(O+A-R,C+P),e.quadraticCurveTo(O+A,C+P,O+A,C+P-R),e.lineTo(O+A,C+R),e.quadraticCurveTo(O+A,C,O+A-R,C),e.lineTo(O+R,C),e.quadraticCurveTo(O,C,O,C+R),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,a.default)()?(t[i.BLEND_MODES.NORMAL]=\"source-over\",t[i.BLEND_MODES.ADD]=\"lighter\",t[i.BLEND_MODES.MULTIPLY]=\"multiply\",t[i.BLEND_MODES.SCREEN]=\"screen\",t[i.BLEND_MODES.OVERLAY]=\"overlay\",t[i.BLEND_MODES.DARKEN]=\"darken\",t[i.BLEND_MODES.LIGHTEN]=\"lighten\",t[i.BLEND_MODES.COLOR_DODGE]=\"color-dodge\",t[i.BLEND_MODES.COLOR_BURN]=\"color-burn\",t[i.BLEND_MODES.HARD_LIGHT]=\"hard-light\",t[i.BLEND_MODES.SOFT_LIGHT]=\"soft-light\",t[i.BLEND_MODES.DIFFERENCE]=\"difference\",t[i.BLEND_MODES.EXCLUSION]=\"exclusion\",t[i.BLEND_MODES.HUE]=\"hue\",t[i.BLEND_MODES.SATURATION]=\"saturate\",t[i.BLEND_MODES.COLOR]=\"color\",t[i.BLEND_MODES.LUMINOSITY]=\"luminosity\"):(t[i.BLEND_MODES.NORMAL]=\"source-over\",t[i.BLEND_MODES.ADD]=\"lighter\",t[i.BLEND_MODES.MULTIPLY]=\"source-over\",t[i.BLEND_MODES.SCREEN]=\"source-over\",t[i.BLEND_MODES.OVERLAY]=\"source-over\",t[i.BLEND_MODES.DARKEN]=\"source-over\",t[i.BLEND_MODES.LIGHTEN]=\"source-over\",t[i.BLEND_MODES.COLOR_DODGE]=\"source-over\",t[i.BLEND_MODES.COLOR_BURN]=\"source-over\",t[i.BLEND_MODES.HARD_LIGHT]=\"source-over\",t[i.BLEND_MODES.SOFT_LIGHT]=\"source-over\",t[i.BLEND_MODES.DIFFERENCE]=\"source-over\",t[i.BLEND_MODES.EXCLUSION]=\"source-over\",t[i.BLEND_MODES.HUE]=\"source-over\",t[i.BLEND_MODES.SATURATION]=\"source-over\",t[i.BLEND_MODES.COLOR]=\"source-over\",t[i.BLEND_MODES.LUMINOSITY]=\"source-over\");return t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var r,i=n(0),o=n(60),a=(r=o)&&r.__esModule?r:{default:r}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=d(n(18)),i=d(n(19)),o=d(n(35)),a=d(n(136)),s=d(n(137)),u=d(n(138)),l=d(n(3)),h=n(2),c=d(n(5)),f=d(n(32));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=0,_=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));r.vertSize=5,r.vertByteSize=4*r.vertSize,r.size=l.default.SPRITE_BATCH_SIZE,r.buffers=[];for(var i=1;i<=f.default.nextPow2(r.size);i*=2)r.buffers.push(new u.default(4*i*r.vertByteSize));r.indices=(0,o.default)(r.size),r.shader=null,r.currentIndex=0,r.groups=[];for(var a=0;a<r.size;a++)r.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return r.sprites=[],r.vertexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.on(\"prerender\",r.onPrerender,r),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,s.default)(this.MAX_TEXTURES,t)),this.shader=(0,a.default)(t,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,n=0;n<this.vaoMax;n++){var r=this.vertexBuffers[n]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(r,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(r,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,n=f.default.nextPow2(this.currentIndex),r=f.default.log2(n),i=this.buffers[r],o=this.sprites,a=this.groups,s=i.float32View,u=i.uint32View,d=this.boundTextures,_=this.renderer.boundTextures,y=this.renderer.textureGC.count,g=0,b=void 0,m=void 0,x=1,w=0,T=a[0],E=void 0,S=void 0,M=h.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];T.textureCount=0,T.start=0,T.blend=M,p++;var O=void 0;for(O=0;O<e;++O){var C=_[O];C._enabled!==p?(d[O]=C,C._virtalBoundId=O,C._enabled=p):d[O]=this.renderer.emptyTextures[O]}for(p++,O=0;O<this.currentIndex;++O){var A=o[O];o[O]=null,b=A._texture.baseTexture;var P=h.premultiplyBlendMode[Number(b.premultipliedAlpha)][A.blendMode];if(M!==P&&(M=P,m=null,w=e,p++),m!==b&&(m=b,b._enabled!==p)){if(w===e&&(p++,T.size=O-T.start,w=0,(T=a[x++]).blend=M,T.textureCount=0,T.start=O),b.touched=y,-1===b._virtalBoundId)for(var R=0;R<e;++R){var I=(R+v)%e,D=d[I];if(D._enabled!==p){v++,D._virtalBoundId=-1,b._virtalBoundId=I,d[I]=b;break}}b._enabled=p,T.textureCount++,T.ids[w]=b._virtalBoundId,T.textures[w++]=b}if(E=A.vertexData,S=A._texture._uvs.uvsUint32,this.renderer.roundPixels){var k=this.renderer.resolution;s[g]=(E[0]*k|0)/k,s[g+1]=(E[1]*k|0)/k,s[g+5]=(E[2]*k|0)/k,s[g+6]=(E[3]*k|0)/k,s[g+10]=(E[4]*k|0)/k,s[g+11]=(E[5]*k|0)/k,s[g+15]=(E[6]*k|0)/k,s[g+16]=(E[7]*k|0)/k}else s[g]=E[0],s[g+1]=E[1],s[g+5]=E[2],s[g+6]=E[3],s[g+10]=E[4],s[g+11]=E[5],s[g+15]=E[6],s[g+16]=E[7];u[g+2]=S[0],u[g+7]=S[1],u[g+12]=S[2],u[g+17]=S[3];var L=Math.min(A.worldAlpha,1),N=L<1&&b.premultipliedAlpha?(0,h.premultiplyTint)(A._tintRGB,L):A._tintRGB+(255*L<<24);u[g+3]=u[g+8]=u[g+13]=u[g+18]=N,s[g+4]=s[g+9]=s[g+14]=s[g+19]=b._virtalBoundId,g+=20}if(T.size=O-T.start,l.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,j=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),B=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(j,F.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(j,F.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(j,F.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&B.addAttribute(j,F.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=B}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(O=0;O<e;++O)_[O]._virtalBoundId=-1;for(O=0;O<x;++O){for(var U=a[O],X=U.textureCount,H=0;H<X;H++)m=U.textures[H],_[U.ids[H]]!==m&&this.renderer.bindTexture(m,U.ids[H],!0),m._virtalBoundId=-1;this.renderer.state.setBlendMode(U.blend),t.drawElements(t.TRIANGLES,6*U.size,t.UNSIGNED_SHORT,6*U.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),l.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off(\"prerender\",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},e}(r.default);e.default=_,i.default.registerPlugin(\"sprite\",_)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(13)),i=o(n(61));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.scissor=!1,r.scissorData=null,r.scissorRenderTarget=null,r.enableScissor=!0,r.alphaMaskPool=[],r.alphaMaskIndex=0,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var n=e.worldTransform,r=Math.atan2(n.b,n.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e;var r=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,n),t.filterArea=r,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var n=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(n.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(r.x*i,(n.root?n.size.height-r.y-r.height:r.y)*i,r.width*i,r.height*i),this.scissorRenderTarget=n,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(r.default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var r=a(t),i=a(e);return Object.assign(r,i)};var r,i=n(5);var o=((r=i)&&r.__esModule?r:{default:r}).default.shader.defaultValue;function a(t){for(var e=new RegExp(\"^(projectionMatrix|uSampler|filterArea|filterClamp)$\"),n={},r=void 0,i=t.replace(/\\s+/g,\" \").split(/\\s*;\\s*/),a=0;a<i.length;a++){var s=i[a].trim();if(s.indexOf(\"uniform\")>-1){var u=s.split(\" \"),l=u[1],h=u[2],c=1;h.indexOf(\"[\")>-1&&(r=h.split(/\\[|]/),h=r[0],c*=Number(r[1])),h.match(e)||(n[h]={value:o(l,c),name:h,type:l})}}return n}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(13),o=(r=i)&&r.__esModule?r:{default:r};var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.stencilMaskStack=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,n,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(o.default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=h(n(13)),i=h(n(20)),o=h(n(65)),a=n(4),s=h(n(14)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(129)),l=h(n(32));function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var f=function(){function t(){c(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new a.Rectangle,this.destinationFrame=new a.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),d=function(t){function e(n){c(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.gl=r.renderer.gl,r.quad=new o.default(r.gl,n.state.attribState),r.shaderCache={},r.pool={},r.filterData=null,r.managedFilters=[],r.renderer.on(\"prerender\",r.onPrerender,r),r._screenWidth=n.view.width,r._screenHeight=n.view.height,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var n=this.renderer,r=this.filterData;if(!r){r=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=r={index:0,stack:[i]},this.filterData=r}var o=r.stack[++r.index],a=r.stack[0].destinationFrame;o||(o=r.stack[r.index]=new f);var s=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===n.screen.width&&t.filterArea.height===n.screen.height,u=e[0].resolution,l=0|e[0].padding,h=s?n.screen:t.filterArea||t.getBounds(!0),c=o.sourceFrame,d=o.destinationFrame;c.x=(h.x*u|0)/u,c.y=(h.y*u|0)/u,c.width=(h.width*u|0)/u,c.height=(h.height*u|0)/u,s||(r.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(a),c.pad(l)),d.width=c.width,d.height=c.height;var p=this.getPotRenderTarget(n.gl,c.width,c.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=p,p.setFrame(d,c),n.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],n=t.stack[t.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var r=n.filters;if(1===r.length)r[0].apply(this,n.renderTarget,e.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var i=n.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);o.setFrame(n.destinationFrame,n.sourceFrame),o.clear();var a=0;for(a=0;a<r.length-1;++a){r[a].apply(this,i,o,!0,n);var s=i;i=o,o=s}r[a].apply(this,i,e.renderTarget,!1,n),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}n.clear(),t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,n,r){var i=this.renderer,o=i.gl,a=t.glShaders[i.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new s.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[i.CONTEXT_UID]=new s.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(n),r&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),n===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(a,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var n=e.uniformData,r=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=s}for(var u in n)if(t.uniforms.data[u]){var l=n[u].type;if(\"sampler2d\"===l&&0!==r[u]){if(r[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(r[u].baseTexture,i);else{t.uniforms[u]=i;var h=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],h.activeTexture(h.TEXTURE0+i),r[u].texture.bind()}i++}else if(\"mat3\"===l)void 0!==r[u].a?t.uniforms[u]=r[u].toArray(!0):t.uniforms[u]=r[u];else if(\"vec2\"===l)if(void 0!==r[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=r[u].x,c[1]=r[u].y,t.uniforms[u]=c}else t.uniforms[u]=r[u];else\"float\"===l?t.uniforms.data[u].value!==n[u]&&(t.uniforms[u]=r[u]):t.uniforms[u]=r[u]}},e.prototype.getRenderTarget=function(t,e){var n=this.filterData.stack[this.filterData.index],r=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,e||n.resolution);return r.setFrame(n.destinationFrame,n.sourceFrame),r},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var n=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,n.sourceFrame,n.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,n=this.managedFilters;e.off(\"prerender\",this.onPrerender,this);for(var r=0;r<n.length;r++)t||n[r].glShaders[e.CONTEXT_UID].destroy(),delete n[r].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,n,r){var o=\"screen\";n*=r,(e*=r)===this._screenWidth&&n===this._screenHeight||(o=(65535&(e=l.default.nextPow2(e)))<<16|65535&(n=l.default.nextPow2(n))),this.pool[o]||(this.pool[o]=[]);var a=this.pool[o].pop();if(!a){var s=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),a=new i.default(t,e,n,null,1),t.bindTexture(t.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return a.resolution=r,a.defaultFrame.width=a.size.width=e/r,a.defaultFrame.height=a.size.height=n/r,a.filterPoolKey=o,a},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var n=0;n<e.length;n++)e[n].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(r.default);e.default=d},function(t,e,n){\"use strict\";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,n){var r=t.identity();return r.translate(e.x/n.width,e.y/n.height),r.scale(n.width,n.height),r},e.calculateNormalizedScreenSpaceMatrix=function(t,e,n){var r=t.identity();r.translate(e.x/n.width,e.y/n.height);var i=n.width/e.width,o=n.height/e.height;return r.scale(i,o),r},e.calculateSpriteMatrix=function(t,e,n,i){var o=i._texture.orig,a=t.set(n.width,0,0,n.height,e.x,e.y),s=i.worldTransform.copy(r.Matrix.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(i.anchor.x,i.anchor.y),a};var r=n(4)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(5),o=n(0),a=n(20),s=(r=a)&&r.__esModule?r:{default:r},u=n(2);var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var n=this.gl,r=!!t._glRenderTargets;if(!t.hasLoaded)return null;var a=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<a.length;++u)if(a[u]===t){e=u;break}}a[e]=t,n.activeTexture(n.TEXTURE0+e);var l=t._glTextures[this.renderer.CONTEXT_UID];if(l)r?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):l.upload(t.source);else{if(r){var h=new s.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);h.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=h,l=h.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(l=new i.GLTexture(this.gl,null,null,null,null)).bind(e),l.premultiplyAlpha=!0,l.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=l,t.on(\"update\",this.updateTexture,this),t.on(\"dispose\",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&l.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?l.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?l.enableWrapRepeat():l.enableWrapMirrorRepeat()):l.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?l.enableNearestScaling():l.enableLinearScaling()}return l},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var n=this.renderer,r=n.CONTEXT_UID,i=t._glTextures,o=t._glRenderTargets;if(i[r]&&(n.unbindTexture(t),i[r].destroy(),t.off(\"update\",this.updateTexture,this),t.off(\"dispose\",this.destroyTexture,this),delete i[r],!e)){var a=this._managedTextures.indexOf(t);-1!==a&&(0,u.removeItems)(this._managedTextures,a,1)}o&&o[r]&&(n._activeRenderTarget===o[r]&&n.bindRenderTarget(n.rootRenderTarget),o[r].destroy(),delete o[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off(\"update\",this.updateTexture,this),e.off(\"dispose\",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(0),o=n(3),a=(r=o)&&r.__esModule?r:{default:r};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=a.default.GC_MAX_IDLE,this.checkCountMax=a.default.GC_MAX_CHECK_COUNT,this.mode=a.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,n=!1,r=0;r<e.length;r++){var i=e[r];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},t}();e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(133),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(e),this.nativeVaoExtension=e.getExtension(\"OES_vertex_array_object\")||e.getExtension(\"MOZ_OES_vertex_array_object\")||e.getExtension(\"WEBKIT_OES_vertex_array_object\")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?\"enable\":\"disable\"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?\"enable\":\"disable\"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?\"enable\":\"disable\"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?\"CW\":\"CCW\"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[r.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[r.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var r=n(0)},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[r.DRAW_MODES.POINTS]=t.POINTS,e[r.DRAW_MODES.LINES]=t.LINES,e[r.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[r.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[r.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[r.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[r.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var r=n(0)},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn(\"Provided WebGL context does not have a stencil buffer, masks may not render correctly\")}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n=a;n=(n=n.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e=\"\";e+=\"\\n\",e+=\"\\n\";for(var n=0;n<t;n++)n>0&&(e+=\"\\nelse \"),n<t-1&&(e+=\"if(textureId == \"+n+\".0)\"),e+=\"\\n{\",e+=\"\\n\\tcolor = texture2D(uSamplers[\"+n+\"], vTextureCoord);\",e+=\"\\n}\";return e+=\"\\n\",e+=\"\\n\"}(e));for(var r=new o.default(t,\"precision highp float;\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec4 aColor;\\nattribute float aTextureId;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\nvarying float vTextureId;\\n\\nvoid main(void){\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vTextureId = aTextureId;\\n    vColor = aColor;\\n}\\n\",n),i=[],s=0;s<e;s++)i[s]=s;return r.bind(),r.uniforms.uSamplers=i,r};var r,i=n(14),o=(r=i)&&r.__esModule?r:{default:r};n(7);var a=[\"varying vec2 vTextureCoord;\",\"varying vec4 vColor;\",\"varying float vTextureId;\",\"uniform sampler2D uSamplers[%count%];\",\"void main(void){\",\"vec4 color;\",\"float textureId = floor(vTextureId+0.5);\",\"%forloop%\",\"gl_FragColor = color * vColor;\",\"}\"].join(\"\\n\")},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n=!e;if(0===t)throw new Error(\"Invalid value of `0` passed to `checkMaxIfStatementsInShader`\");if(n){var r=document.createElement(\"canvas\");r.width=1,r.height=1,e=o.default.createContext(r)}var i=e.createShader(e.FRAGMENT_SHADER);for(;;){var u=a.replace(/%forloop%/gi,s(t));if(e.shaderSource(i,u),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}n&&e.getExtension(\"WEBGL_lose_context\")&&e.getExtension(\"WEBGL_lose_context\").loseContext();return t};var r,i=n(5),o=(r=i)&&r.__esModule?r:{default:r};var a=[\"precision mediump float;\",\"void main(void){\",\"float test = 0.1;\",\"%forloop%\",\"gl_FragColor = vec4(0.0);\",\"}\"].join(\"\\n\");function s(t){for(var e=\"\",n=0;n<t;++n)n>0&&(e+=\"\\nelse \"),n<t-1&&(e+=\"if(test == \"+n+\".0){}\");return e}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=d(n(31)),o=d(n(8)),a=n(4),s=n(2),u=n(0),l=d(n(3)),h=d(n(66)),c=d(n(67)),f=d(n(140));function d(t){return t&&t.__esModule?t:{default:t}}var p={texture:!0,children:!1,baseTexture:!0},v=function(t){function e(n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(i=i||document.createElement(\"canvas\")).width=3,i.height=3;var s=o.default.fromCanvas(i,l.default.SCALE_MODE,\"text\");s.orig=new a.Rectangle,s.trim=new a.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,s));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=i,u.context=u.canvas.getContext(\"2d\"),u.resolution=l.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font=\"\",u.text=n,u.style=r,u.localStyleID=-1,u}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var n=this.context,r=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=r.width,o=r.height,a=r.lines,s=r.lineHeight,u=r.lineWidths,l=r.maxLineWidth,h=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=e.stroke,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;var f=void 0,d=void 0;if(e.dropShadow){n.fillStyle=e.dropShadowColor,n.globalAlpha=e.dropShadowAlpha,n.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(n.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,_=0;_<a.length;_++)f=e.strokeThickness/2,d=e.strokeThickness/2+_*s+h.ascent,\"right\"===e.align?f+=l-u[_]:\"center\"===e.align&&(f+=(l-u[_])/2),e.fill&&(this.drawLetterSpacing(a[_],f+p+e.padding,d+v+e.padding),e.stroke&&e.strokeThickness&&(n.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(a[_],f+p+e.padding,d+v+e.padding,!0),n.strokeStyle=e.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(e,a);for(var y=0;y<a.length;y++)f=e.strokeThickness/2,d=e.strokeThickness/2+y*s+h.ascent,\"right\"===e.align?f+=l-u[y]:\"center\"===e.align&&(f+=(l-u[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[y],f+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(a[y],f+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(t,\"\"),a=e,s=0,u=\"\";s<t.length;)u=o[s++],r?this.context.strokeText(u,a,n):this.context.fillText(u,a,n),a+=this.context.measureText(u).width+i;else r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,n.trim.width=n._frame.width=t.width/this.resolution,n.trim.height=n._frame.height=t.height/this.resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.emit(\"update\",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var n=void 0,r=void 0,i=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,l=t.fill.slice(),h=t.fillGradientStops.slice();if(!h.length)for(var c=l.length+1,f=1;f<c;++f)h.push(f/c);if(l.unshift(t.fill[0]),h.unshift(0),l.push(t.fill[t.fill.length-1]),h.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,0,a/2,s),r=(l.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<l.length;p++)o=\"number\"==typeof h[p]?h[p]/e.length+d/e.length:i/r,n.addColorStop(o,l[p]),i++}}else{n=this.context.createLinearGradient(0,s/2,a,s/2),r=l.length+1,i=1;for(var v=0;v<l.length;v++)o=\"number\"==typeof h[v]?h[v]:i/r,n.addColorStop(o,l[v]),i++}return n},e.prototype.destroy=function(e){\"boolean\"==typeof e&&(e={children:e}),e=Object.assign({},p,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},r(e,[{key:\"width\",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,s.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:\"height\",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,s.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:\"style\",get:function(){return this._style},set:function(t){(t=t||{})instanceof h.default?this._style=t:this._style=new h.default(t),this.localStyleID=-1,this.dirty=!0}},{key:\"text\",get:function(){return this._text},set:function(t){t=String(\"\"===t||null==t?\" \":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(i.default);e.default=v},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=t.width,n=t.height,r=t.getContext(\"2d\"),i=r.getImageData(0,0,e,n).data,o=i.length,a={top:null,left:null,right:null,bottom:null},s=null,u=void 0,l=void 0,h=void 0;for(u=0;u<o;u+=4)0!==i[u+3]&&(l=u/4%e,h=~~(u/4/e),null===a.top&&(a.top=h),null===a.left?a.left=l:l<a.left&&(a.left=l),null===a.right?a.right=l+1:a.right<l&&(a.right=l+1),null===a.bottom?a.bottom=h:a.bottom<h&&(a.bottom=h));null!==a.top&&(e=a.right-a.left,n=a.bottom-a.top+1,s=r.getImageData(a.left,a.top,e,n));return{height:n,width:e,data:s}}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=p(n(11)),i=p(n(34)),o=p(n(8)),a=p(n(68)),s=p(n(31)),u=n(4),l=n(2),h=n(0),c=p(n(27)),f=p(n(142)),d=p(n(12));function p(t){return t&&t.__esModule?t:{default:t}}var v=void 0,_=new u.Matrix,y=new u.Point,g=new Float32Array(4),b=new Float32Array(4),m=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r.fillAlpha=1,r.lineWidth=0,r.nativeLines=n,r.lineColor=0,r.lineAlignment=.5,r.graphicsData=[],r.tint=16777215,r._prevTint=16777215,r.blendMode=h.BLEND_MODES.NORMAL,r.currentPath=null,r._webGL={},r.isMask=!1,r.boundsPadding=0,r._localBounds=new c.default,r.dirty=0,r.fastRectDirty=-1,r.clearDirty=0,r.boundsDirty=-1,r.cachedSpriteDirty=!1,r._spriteRect=null,r._fastRect=!1,r._prevRectTint=null,r._prevRectFillColor=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var n=0;n<this.graphicsData.length;++n)t.graphicsData.push(this.graphicsData[n].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,n,r,i,o){var a=t-2*n+i,s=e-2*r+o,u=2*n-2*t,l=2*r-2*e,h=4*(a*a+s*s),c=4*(a*u+s*l),f=u*u+l*l,d=2*Math.sqrt(h+c+f),p=Math.sqrt(h),v=2*h*p,_=2*Math.sqrt(f),y=c/p;return(v*d+p*c*(d-_)+(4*f*h-c*c)*Math.log((2*p+y+d)/(y+_)))/(4*v)},e.prototype._bezierCurveLength=function(t,e,n,r,i,o,a,s){for(var u=0,l=0,h=0,c=0,f=0,d=0,p=0,v=0,_=0,y=0,g=0,b=t,m=e,x=1;x<=10;++x)y=b-(v=(p=(d=(f=1-(l=x/10))*f)*f)*t+3*d*l*n+3*f*(h=l*l)*i+(c=h*l)*a),g=m-(_=p*e+3*d*l*r+3*f*h*o+c*s),b=v,m=_,u+=Math.sqrt(y*y+g*g);return u},e.prototype._segmentsCount=function(t){var n=Math.ceil(t/e.CURVES.maxLength);return n<e.CURVES.minSegments?n=e.CURVES.minSegments:n>e.CURVES.maxSegments&&(n=e.CURVES.maxSegments),n},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this.lineAlignment=r,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var n=new u.Polygon([t,e]);return n.closed=!1,this.drawShape(n),this},e.prototype.lineTo=function(t,e){var n=this.currentPath.shape.points,r=n[n.length-2],i=n[n.length-1];return r===t&&i===e||(n.push(t,e),this.dirty++),this},e.prototype.quadraticCurveTo=function(t,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,a=0,s=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],l=o[o.length-1],h=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(u,l,t,n,r,i)):20,c=1;c<=h;++c){var f=c/h;a=u+(t-u)*f,s=l+(n-l)*f,o.push(a+(t+(r-t)*f-a)*f,s+(n+(i-n)*f-s)*f)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,n,r,i,o,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,u=s[s.length-2],l=s[s.length-1];s.length-=2;var h=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(u,l,t,n,r,i,o,a)):20;return(0,f.default)(u,l,t,n,r,i,o,a,h,s),this.dirty++,this},e.prototype.arcTo=function(t,e,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1]-e,u=a-t,l=r-e,h=n-t,c=Math.abs(s*h-u*l);if(c<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=s*s+u*u,d=l*l+h*h,p=s*l+u*h,v=i*Math.sqrt(f)/c,_=i*Math.sqrt(d)/c,y=v*p/f,g=_*p/d,b=v*h+_*u,m=v*l+_*s,x=u*(_+y),w=s*(_+y),T=h*(v+g),E=l*(v+g),S=Math.atan2(w-m,x-b),M=Math.atan2(E-m,T-b);this.arc(b+t,m+e,i,S,M,u*l>h*s)}return this.dirty++,this},e.prototype.arc=function(t,n,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===o)return this;!a&&o<=i?o+=h.PI_2:a&&i<=o&&(i+=h.PI_2);var s=o-i,u=e.CURVES.adaptive?this._segmentsCount(Math.abs(s)*r):40*Math.ceil(Math.abs(s)/h.PI_2);if(0===s)return this;var l=t+Math.cos(i)*r,c=n+Math.sin(i)*r,f=this.currentPath?this.currentPath.shape.points:null;if(f){var d=Math.abs(f[f.length-2]-l),p=Math.abs(f[f.length-1]-c);d<.001&&p<.001||f.push(l,c)}else this.moveTo(l,c),f=this.currentPath.shape.points;for(var v=s/(2*u),_=2*v,y=Math.cos(v),g=Math.sin(v),b=u-1,m=b%1/b,x=0;x<=b;++x){var w=v+i+_*(x+m*x),T=Math.cos(w),E=-Math.sin(w);f.push((y*T+g*E)*r+t,(y*-E+g*T)*r+n)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,n,r){return this.drawShape(new u.Rectangle(t,e,n,r)),this},e.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new u.RoundedRectangle(t,e,n,r,i)),this},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new u.Circle(t,e,n)),this},e.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new u.Ellipse(t,e,n,r)),this},e.prototype.drawPolygon=function(t){var e=t,n=!0;if(e instanceof u.Polygon&&(n=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}var i=new u.Polygon(e);return i.closed=n,this.drawShape(i),this},e.prototype.drawStar=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||r/2;for(var a=-1*Math.PI/2+o,s=2*n,u=h.PI_2/s,l=[],c=0;c<s;c++){var f=c%2?i:r,d=c*u+a;l.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(l)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===h.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new s.default(new o.default(o.default.WHITE)));var n=this._spriteRect,r=this.graphicsData[0].fillColor;if(16777215===this.tint)n.tint=r;else if(this.tint!==this._prevRectTint||r!==this._prevRectFillColor){var i=g,a=b;(0,l.hex2rgb)(r,i),(0,l.hex2rgb)(this.tint,a),i[0]*=a[0],i[1]*=a[1],i[2]*=a[2],n.tint=(0,l.rgb2hex)(i),this._prevRectTint=this.tint,this._prevRectFillColor=r}n.alpha=this.graphicsData[0].fillAlpha,n.worldAlpha=this.worldAlpha*n.alpha,n.blendMode=this.blendMode,n._texture._frame.width=e.width,n._texture._frame.height=e.height,n.transform.worldTransform=this.transform.worldTransform,n.anchor.set(-e.x/e.width,-e.y/e.height),n._onAnchorUpdate(),n._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,y);for(var e=this.graphicsData,n=0;n<e.length;++n){var r=e[n];if(r.fill&&(r.shape&&r.shape.contains(y.x,y.y))){if(r.holes)for(var i=0;i<r.holes.length;i++){if(r.holes[i].contains(y.x,y.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0;if(this.graphicsData.length)for(var i=0,o=0,a=0,s=0,u=0,l=0;l<this.graphicsData.length;l++){var c=this.graphicsData[l],f=c.type,d=c.lineWidth*c.lineAlignment;if(i=c.shape,f===h.SHAPES.RECT||f===h.SHAPES.RREC)o=i.x-d,a=i.y-d,t=o<t?o:t,e=o+(s=i.width+2*d)>e?o+s:e,n=a<n?a:n,r=a+(u=i.height+2*d)>r?a+u:r;else if(f===h.SHAPES.CIRC)o=i.x,a=i.y,t=o-(s=i.radius+d)<t?o-s:t,e=o+s>e?o+s:e,n=a-(u=i.radius+d)<n?a-u:n,r=a+u>r?a+u:r;else if(f===h.SHAPES.ELIP)o=i.x,a=i.y,t=o-(s=i.width+d)<t?o-s:t,e=o+s>e?o+s:e,n=a-(u=i.height+d)<n?a-u:n,r=a+u>r?a+u:r;else for(var p=i.points,v=0,_=0,y=0,g=0,b=0,m=0,x=0,w=0,T=0;T+2<p.length;T+=2)o=p[T],a=p[T+1],v=p[T+2],_=p[T+3],y=Math.abs(v-o),g=Math.abs(_-a),u=2*d,(s=Math.sqrt(y*y+g*g))<1e-9||(t=(x=(v+o)/2)-(b=(u/s*g+y)/2)<t?x-b:t,e=x+b>e?x+b:e,n=(w=(_+a)/2)-(m=(u/s*y+g)/2)<n?w-m:n,r=w+m>r?w+m:r)}else t=0,e=0,n=0,r=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=n-E,this._localBounds.maxY=r+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===h.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),r=i.default.create(n.width,n.height,t,e);v||(v=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(_),_.invert(),_.tx-=n.x,_.ty-=n.y,v.render(this,r,!0,_);var a=o.default.fromCanvas(r.baseTexture._canvasRenderTarget.canvas,t,\"graphics\");return a.baseTexture.resolution=e,a.baseTexture.update(),a},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(var r in this._webGL)for(var i=0;i<this._webGL[r].data.length;++i)this._webGL[r].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(r.default);e.default=m,m._SPRITE_TEXTURE=null,m.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n,r,i,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],h=0,c=0,f=0,d=0,p=0;l.push(t,e);for(var v=1,_=0;v<=u;++v)f=(c=(h=1-(_=v/u))*h)*h,p=(d=_*_)*_,l.push(f*t+3*c*_*n+3*h*d*i+p*a,f*e+3*c*_*r+3*h*d*o+p*s);return l}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(2),i=n(0),o=d(n(18)),a=d(n(19)),s=d(n(144)),u=d(n(145)),l=d(n(146)),h=d(n(147)),c=d(n(148)),f=d(n(149));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.graphicsDataPool=[],r.primitiveShader=null,r.gl=n.gl,r.CONTEXT_UID=0,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,n=e.gl,i=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var a=this.primitiveShader;e.bindShader(a),e.state.setBlendMode(t.blendMode);for(var s=0,u=o.data.length;s<u;s++){var l=(i=o.data[s]).shader;e.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,r.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?n.drawArrays(n.LINES,0,i.points.length/6):i.vao.draw(n.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,n=t._webGL[this.CONTEXT_UID];if(n||(n=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),n.dirty=t.dirty,t.clearDirty!==n.clearDirty){n.clearDirty=t.clearDirty;for(var r=0;r<n.data.length;r++)this.graphicsDataPool.push(n.data[r]);n.data.length=0,n.lastIndex=0}for(var o=void 0,a=void 0,s=n.lastIndex;s<t.graphicsData.length;s++){var u=t.graphicsData[s];o=this.getWebGLData(n,0),u.nativeLines&&u.lineWidth&&(a=this.getWebGLData(n,0,!0),n.lastIndex++),u.type===i.SHAPES.POLY&&(0,l.default)(u,o,a),u.type===i.SHAPES.RECT?(0,h.default)(u,o,a):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,f.default)(u,o,a):u.type===i.SHAPES.RREC&&(0,c.default)(u,o,a),n.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<n.data.length;d++)(o=n.data[d]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,n){var r=t.data[t.data.length-1];return(!r||r.nativeLines!==n||r.points.length>32e4)&&((r=this.graphicsDataPool.pop()||new s.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=n,r.reset(e),t.data.push(r)),r.dirty=!0,r},e}(o.default);e.default=p,a.default.registerPlugin(\"graphics\",p)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(5),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new o.default.VertexArrayObject(e,r).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(14);var o=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,[\"attribute vec2 aVertexPosition;\",\"attribute vec4 aColor;\",\"uniform mat3 translationMatrix;\",\"uniform mat3 projectionMatrix;\",\"uniform float alpha;\",\"uniform vec3 tint;\",\"varying vec4 vColor;\",\"void main(void){\",\"   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\",\"   vColor = aColor * vec4(tint * alpha, alpha);\",\"}\"].join(\"\\n\"),[\"varying vec4 vColor;\",\"void main(void){\",\"   gl_FragColor = vColor;\",\"}\"].join(\"\\n\")))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){t.points=t.shape.points.slice();var a=t.points;if(t.fill&&a.length>=6){for(var s=[],u=t.holes,l=0;l<u.length;l++){var h=u[l];s.push(a.length/2),a=a.concat(h.points)}var c=e.points,f=e.indices,d=a.length/2,p=(0,i.hex2rgb)(t.fillColor),v=t.fillAlpha,_=p[0]*v,y=p[1]*v,g=p[2]*v,b=(0,o.default)(a,s,2);if(!b)return;for(var m=c.length/6,x=0;x<b.length;x+=3)f.push(b[x]+m),f.push(b[x]+m),f.push(b[x+1]+m),f.push(b[x+2]+m),f.push(b[x+2]+m);for(var w=0;w<d;w++)c.push(a[2*w],a[2*w+1],_,y,g,v)}t.lineWidth>0&&(0,r.default)(t,e,n)};var r=a(n(21)),i=n(2),o=a(n(30));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var r=t.shape,i=r.x,s=r.y,u=r.width,l=r.height;if(t.fill){var h=(0,a.hex2rgb)(t.fillColor),c=t.fillAlpha,f=h[0]*c,d=h[1]*c,p=h[2]*c,v=e.points,_=e.indices,y=v.length/6;v.push(i,s),v.push(f,d,p,c),v.push(i+u,s),v.push(f,d,p,c),v.push(i,s+l),v.push(f,d,p,c),v.push(i+u,s+l),v.push(f,d,p,c),_.push(y,y,y+1,y+2,y+3,y+3)}if(t.lineWidth){var g=t.points;t.points=[i,s,i+u,s,i+u,s+l,i,s+l,i,s],(0,o.default)(t,e,n),t.points=g}};var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r},a=n(2)},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var a=t.shape,s=a.x,l=a.y,h=a.width,c=a.height,f=a.radius,d=[];if(d.push(s+f,l),u(s+h-f,l,s+h,l,s+h,l+f,d),u(s+h,l+c-f,s+h,l+c,s+h-f,l+c,d),u(s+f,l+c,s,l+c,s,l+c-f,d),u(s,l+f,s,l,s+f+1e-10,l,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,_=p[0]*v,y=p[1]*v,g=p[2]*v,b=e.points,m=e.indices,x=b.length/6,w=(0,r.default)(d,null,2),T=0,E=w.length;T<E;T+=3)m.push(w[T]+x),m.push(w[T]+x),m.push(w[T+1]+x),m.push(w[T+2]+x),m.push(w[T+2]+x);for(var S=0,M=d.length;S<M;S++)b.push(d[S],d[++S],_,y,g,v)}if(t.lineWidth){var O=t.points;t.points=d,(0,i.default)(t,e,n),t.points=O}};var r=a(n(30)),i=a(n(21)),o=n(2);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){return t+(e-t)*n}function u(t,e,n,r,i,o){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,l=0,h=0,c=0,f=0,d=0,p=0,v=0;p<=20;++p)u=s(t,n,v=p/20),l=s(e,r,v),h=s(n,i,v),c=s(r,o,v),f=s(u,h,v),d=s(l,c,v),a.push(f,d);return a}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var r=t.shape,i=r.x,u=r.y,l=void 0,h=void 0;t.type===a.SHAPES.CIRC?(l=r.radius,h=r.radius):(l=r.width,h=r.height);if(0===l||0===h)return;var c=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),f=2*Math.PI/c;if(t.fill){var d=(0,s.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,_=d[1]*p,y=d[2]*p,g=e.points,b=e.indices,m=g.length/6;b.push(m);for(var x=0;x<c+1;x++)g.push(i,u,v,_,y,p),g.push(i+Math.sin(f*x)*l,u+Math.cos(f*x)*h,v,_,y,p),b.push(m++,m++);b.push(m-1)}if(t.lineWidth){var w=t.points;t.points=[];for(var T=0;T<c;T++)t.points.push(i+Math.sin(f*-T)*l,u+Math.cos(f*-T)*h);t.points.push(t.points[0],t.points[1]),(0,o.default)(t,e,n),t.points=w}};var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r},a=n(0),s=n(2)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(12),o=(r=i)&&r.__esModule?r:{default:r},a=n(0);var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;n.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var s=0;s<t.graphicsData.length;s++){var u=t.graphicsData[s],l=u.shape,h=u._fillTint,c=u._lineTint;if(n.lineWidth=u.lineWidth,u.type===a.SHAPES.POLY){n.beginPath();var f=l.points,d=u.holes,p=void 0,v=void 0;n.moveTo(f[0],f[1]);for(var _=2;_<f.length;_+=2)n.lineTo(f[_],f[_+1]);if(l.closed&&n.closePath(),d.length>0){p=0;for(var y=0;y<f.length;y+=2)p+=f[y]*f[y+3]-f[y+1]*f[y+2];for(var g=0;g<d.length;g++){f=d[g].points,v=0;for(var b=0;b<f.length;b+=2)v+=f[b]*f[b+3]-f[b+1]*f[b+2];if(n.moveTo(f[0],f[1]),v*p<0)for(var m=2;m<f.length;m+=2)n.lineTo(f[m],f[m+1]);else for(var x=f.length-2;x>=2;x-=2)n.lineTo(f[x],f[x+1]);d[g].closed&&n.closePath()}}u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.stroke())}else if(u.type===a.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.fillRect(l.x,l.y,l.width,l.height)),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.strokeRect(l.x,l.y,l.width,l.height));else if(u.type===a.SHAPES.CIRC)n.beginPath(),n.arc(l.x,l.y,l.radius,0,2*Math.PI),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.stroke());else if(u.type===a.SHAPES.ELIP){var w=2*l.width,T=2*l.height,E=l.x-w/2,S=l.y-T/2;n.beginPath();var M=w/2*.5522848,O=T/2*.5522848,C=E+w,A=S+T,P=E+w/2,R=S+T/2;n.moveTo(E,R),n.bezierCurveTo(E,R-O,P-M,S,P,S),n.bezierCurveTo(P+M,S,C,R-O,C,R),n.bezierCurveTo(C,R+O,P+M,A,P,A),n.bezierCurveTo(P-M,A,E,R+O,E,R),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.stroke())}else if(u.type===a.SHAPES.RREC){var I=l.x,D=l.y,k=l.width,L=l.height,N=l.radius,F=Math.min(k,L)/2|0;N=N>F?F:N,n.beginPath(),n.moveTo(I,D+N),n.lineTo(I,D+L-N),n.quadraticCurveTo(I,D+L,I+N,D+L),n.lineTo(I+k-N,D+L),n.quadraticCurveTo(I+k,D+L,I+k,D+L-N),n.lineTo(I+k,D+N),n.quadraticCurveTo(I+k,D,I+k-N,D),n.lineTo(I+N,D),n.quadraticCurveTo(I,D,I,D+N),n.closePath(),(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,r=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*r*255,o._lineTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*r*255}},t.prototype.renderPolygon=function(t,e,n){n.moveTo(t[0],t[1]);for(var r=1;r<t.length/2;++r)n.lineTo(t[2*r],t[2*r+1]);e&&n.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=s,o.default.registerPlugin(\"graphics\",s)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o=n(2);var a=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=n,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r(t,null,[{key:\"BATCH_SIZE\",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,n=(0,o.getResolutionOfUrl)(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,r=t.BATCH_SIZE,o=this.baseTexture.sourceScale;n-e<r&&n<this._frameKeys.length;){var a=this._frameKeys[n],s=this._frames[a],u=s.frame;if(u){var l=null,h=null,c=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,f=new i.Rectangle(0,0,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution);l=s.rotated?new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(h=new i.Rectangle(Math.floor(s.spriteSourceSize.x*o)/this.resolution,Math.floor(s.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[a]=new i.Texture(this.baseTexture,l,f,h,s.rotated?2:0,s.anchor),i.Texture.addToCache(this.textures[a],a)}n++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];var n=t[e],r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;this.animations[e].push(this.textures[a])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=t.mesh,n=t.particles,r=t.extras,o=t.filters,a=t.prepare,s=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError(\"SpriteBatch does not exist any more, please use the new ParticleContainer instead.\")}},AssetLoader:{get:function(){throw new ReferenceError(\"The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.\")}},Stage:{get:function(){return i(\"You do not need to use a PIXI Stage any more, you can simply render any container.\"),t.Container}},DisplayObjectContainer:{get:function(){return i(\"DisplayObjectContainer has been shortened to Container, please use Container from now on.\"),t.Container}},Strip:{get:function(){return i(\"The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.\"),e.Mesh}},Rope:{get:function(){return i(\"The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.\"),e.Rope}},ParticleContainer:{get:function(){return i(\"The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.\"),n.ParticleContainer}},MovieClip:{get:function(){return i(\"The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.\"),r.AnimatedSprite}},TilingSprite:{get:function(){return i(\"The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.\"),r.TilingSprite}},BitmapText:{get:function(){return i(\"The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.\"),r.BitmapText}},blendModes:{get:function(){return i(\"The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.\"),t.BLEND_MODES}},scaleModes:{get:function(){return i(\"The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.\"),t.SCALE_MODES}},BaseTextureCache:{get:function(){return i(\"The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.\"),t.utils.BaseTextureCache}},TextureCache:{get:function(){return i(\"The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.\"),t.utils.TextureCache}},math:{get:function(){return i(\"The math namespace is deprecated, please access members already accessible on PIXI.\"),t}},AbstractFilter:{get:function(){return i(\"AstractFilter has been renamed to Filter, please use PIXI.Filter\"),t.Filter}},TransformManual:{get:function(){return i(\"TransformManual has been renamed to TransformBase, please update your pixi-spine\"),t.TransformBase}},TARGET_FPMS:{get:function(){return i(\"PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS\"),t.settings.TARGET_FPMS},set:function(e){i(\"PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS\"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return i(\"PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION\"),t.settings.FILTER_RESOLUTION},set:function(e){i(\"PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION\"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return i(\"PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION\"),t.settings.RESOLUTION},set:function(e){i(\"PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION\"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return i(\"PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES\"),t.settings.MIPMAP_TEXTURES},set:function(e){i(\"PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES\"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return i(\"PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE\"),t.settings.SPRITE_BATCH_SIZE},set:function(e){i(\"PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE\"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return i(\"PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES\"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){i(\"PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES\"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return i(\"PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX\"),t.settings.RETINA_PREFIX},set:function(e){i(\"PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX\"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return i(\"PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS\"),t.settings.RENDER_OPTIONS}}});for(var l=[{parent:\"TRANSFORM_MODE\",target:\"TRANSFORM_MODE\"},{parent:\"GC_MODES\",target:\"GC_MODE\"},{parent:\"WRAP_MODES\",target:\"WRAP_MODE\"},{parent:\"SCALE_MODES\",target:\"SCALE_MODE\"},{parent:\"PRECISION\",target:\"PRECISION_FRAGMENT\"}],h=function(e){var n=l[e];Object.defineProperty(t[n.parent],\"DEFAULT\",{get:function(){return i(\"PIXI.\"+n.parent+\".DEFAULT has been deprecated, please use PIXI.settings.\"+n.target),t.settings[n.target]},set:function(e){i(\"PIXI.\"+n.parent+\".DEFAULT has been deprecated, please use PIXI.settings.\"+n.target),t.settings[n.target]=e}})},c=0;c<l.length;c++)h(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return i(\"PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT\"),t.settings.PRECISION_FRAGMENT},set:function(e){i(\"PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT\"),t.settings.PRECISION_FRAGMENT=e}}}),r.AnimatedSprite&&Object.defineProperties(r,{MovieClip:{get:function(){return i(\"The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.\"),r.AnimatedSprite}}});r&&Object.defineProperties(r,{TextureTransform:{get:function(){return i(\"The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on.\"),t.TextureMatrix}}});t.DisplayObject.prototype.generateTexture=function(t,e,n){return i(\"generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)\"),t.generateTexture(this,e,n)},t.Graphics.prototype.generateTexture=function(t,e){return i(\"graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture\"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return i(\"GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical\"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,n,r){this.legacyRenderer.render(t,this,n,e,!r),i(\"RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)\")},t.RenderTexture.prototype.getImage=function(t){return i(\"RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)\"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return i(\"RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)\"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return i(\"RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)\"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return i(\"RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)\"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,i(\"setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;\")},r.BitmapText&&(r.BitmapText.prototype.setText=function(t){this.text=t,i(\"setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';\")});t.Text.prototype.setText=function(t){this.text=t,i(\"setText is now deprecated, please use the text property, e.g : myText.text = 'my text';\")},t.Text.calculateFontProperties=function(e){return i(\"Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont\"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return i(\"Text.fontPropertiesCache is deprecated\"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i(\"Text.fontPropertiesCanvas is deprecated\"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i(\"Text.fontPropertiesContext is deprecated\"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,i(\"setStyle is now deprecated, please use the style property, e.g : myText.style = style;\")},t.Text.prototype.determineFontProperties=function(e){return i(\"determineFontProperties is now deprecated, please use TextMetrics.measureFont method\"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return i(\"getFontStyle is now deprecated, please use TextStyle.toFontString() instead\"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){i(\"text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on\");var t=\"number\"==typeof this._fontSize?this._fontSize+\"px\":this._fontSize;return this._fontStyle+\" \"+this._fontVariant+\" \"+this._fontWeight+\" \"+t+\" \"+this._fontFamily},set:function(t){i(\"text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on\"),t.indexOf(\"italic\")>1?this._fontStyle=\"italic\":t.indexOf(\"oblique\")>-1?this._fontStyle=\"oblique\":this._fontStyle=\"normal\",t.indexOf(\"small-caps\")>-1?this._fontVariant=\"small-caps\":this._fontVariant=\"normal\";var e=t.split(\" \"),n=-1;this._fontSize=26;for(var r=0;r<e.length;++r)if(e[r].match(/(px|pt|em|%)/)){n=r,this._fontSize=e[r];break}this._fontWeight=\"normal\";for(var o=0;o<n;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(n>-1&&n<e.length-1){this._fontFamily=\"\";for(var a=n+1;a<e.length;++a)this._fontFamily+=e[a]+\" \";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily=\"Arial\";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,i(\"setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;\")},t.Texture.addTextureToCache=function(e,n){t.Texture.addToCache(e,n),i(\"Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.\")},t.Texture.removeTextureFromCache=function(e){return i(\"Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache\"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return i(\"AstractFilter has been renamed to Filter, please use PIXI.Filter\"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return i(\"filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.\"),t.SpriteMaskFilter}},VoidFilter:{get:function(){return i(\"VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter\"),o.AlphaFilter}}}),t.utils.uuid=function(){return i(\"utils.uuid() is deprecated, please use utils.uid() from now on.\"),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i(\"utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on\"),t.CanvasTinter.canUseMultiply};var f=!0;Object.defineProperty(t.utils,\"_saidHello\",{set:function(t){t&&(i(\"PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()\"),this.skipHello()),f=t},get:function(){return f}}),a.BasePrepare&&(a.BasePrepare.prototype.register=function(t,e){return i(\"renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook\"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this});a.canvas&&Object.defineProperty(a.canvas,\"UPLOADS_PER_FRAME\",{set:function(){i(\"PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer\")},get:function(){return i(\"PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter\"),NaN}});a.webgl&&Object.defineProperty(a.webgl,\"UPLOADS_PER_FRAME\",{set:function(){i(\"PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer\")},get:function(){return i(\"PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter\"),NaN}});if(s.Loader){var d=s.Resource,p=s.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return i(\"The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.\"),this.type===d.TYPE.JSON}},isXml:{get:function(){return i(\"The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.\"),this.type===d.TYPE.XML}},isImage:{get:function(){return i(\"The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.\"),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return i(\"The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.\"),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return i(\"The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.\"),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return i(\"The before() method is deprecated, please use pre().\"),this.pre}},after:{get:function(){return i(\"The after() method is deprecated, please use use().\"),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,\"defaultCursor\",{set:function(t){i(\"Property defaultCursor has been replaced with 'cursor'. \"),this.cursor=t},get:function(){return i(\"Property defaultCursor has been replaced with 'cursor'. \"),this.cursor}});u.InteractionManager&&(Object.defineProperty(u.InteractionManager,\"defaultCursorStyle\",{set:function(t){i(\"Property defaultCursorStyle has been replaced with 'cursorStyles.default'. \"),this.cursorStyles.default=t},get:function(){return i(\"Property defaultCursorStyle has been replaced with 'cursorStyles.default'. \"),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,\"currentCursorStyle\",{set:function(t){i(\"Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.\"),this.currentCursorMode=t},get:function(){return i(\"Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.\"),this.currentCursorMode}}))};var r={};function i(t){if(!r[t]){var e=(new Error).stack;void 0===e?console.warn(\"Deprecation Warning: \",t):(e=e.split(\"\\n\").splice(3).join(\"\\n\"),console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):(console.warn(\"Deprecation Warning: \",t),console.warn(e))),r[t]=!0}}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(71);Object.defineProperty(e,\"accessibleTarget\",{enumerable:!0,get:function(){return o(r).default}});var i=n(154);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"AccessibilityManager\",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=a(n(28)),o=a(n(71));function a(t){return t&&t.__esModule?t:{default:t}}r.utils.mixins.delayMixin(r.DisplayObject.prototype,o.default);var s=100,u=0,l=0,h=2,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var n=document.createElement(\"div\");n.style.width=s+\"px\",n.style.height=s+\"px\",n.style.position=\"absolute\",n.style.top=u+\"px\",n.style.left=l+\"px\",n.style.zIndex=h,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener(\"keydown\",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement(\"button\");e.style.width=\"1px\",e.style.height=\"1px\",e.style.position=\"absolute\",e.style.top=\"-1000px\",e.style.left=\"-1000px\",e.style.zIndex=2,e.style.backgroundColor=\"#FF0000\",e.title=\"HOOK DIV\",e.addEventListener(\"focus\",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener(\"mousemove\",this._onMouseMove,!0),window.removeEventListener(\"keydown\",this._onKeyDown,!1),this.renderer.on(\"postrender\",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener(\"mousemove\",this._onMouseMove,!0),window.addEventListener(\"keydown\",this._onKeyDown,!1),this.renderer.off(\"postrender\",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,n=t.height/this.renderer.height,i=this.div;i.style.left=t.left+\"px\",i.style.top=t.top+\"px\",i.style.width=this.renderer.width+\"px\",i.style.height=this.renderer.height+\"px\";for(var o=0;o<this.children.length;o++){var a=this.children[o];if(a.renderId!==this.renderId)a._accessibleActive=!1,r.utils.removeItems(this.children,o,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=a._accessibleDiv;var s=a.hitArea,u=a.worldTransform;a.hitArea?(i.style.left=(u.tx+s.x*u.a)*e+\"px\",i.style.top=(u.ty+s.y*u.d)*n+\"px\",i.style.width=s.width*u.a*e+\"px\",i.style.height=s.height*u.d*n+\"px\"):(s=a.getBounds(),this.capHitArea(s),i.style.left=s.x*e+\"px\",i.style.top=s.y*n+\"px\",i.style.width=s.width*e+\"px\",i.style.height=s.height*n+\"px\",i.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(i.title=a.accessibleTitle),i.getAttribute(\"aria-label\")!==a.accessibleHint&&null!==a.accessibleHint&&i.setAttribute(\"aria-label\",a.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement(\"button\")).style.width=s+\"px\",e.style.height=s+\"px\",e.style.backgroundColor=this.debug?\"rgba(255,0,0,0.5)\":\"transparent\",e.style.position=\"absolute\",e.style.zIndex=h,e.style.borderStyle=\"none\",navigator.userAgent.toLowerCase().indexOf(\"chrome\")>-1?e.setAttribute(\"aria-live\",\"off\"):e.setAttribute(\"aria-live\",\"polite\"),navigator.userAgent.match(/rv:.*Gecko\\//)?e.setAttribute(\"aria-relevant\",\"additions\"):e.setAttribute(\"aria-relevant\",\"text\"),e.addEventListener(\"click\",this._onClick.bind(this)),e.addEventListener(\"focus\",this._onFocus.bind(this)),e.addEventListener(\"focusout\",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title=\"displayObject \"+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute(\"aria-label\",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,\"click\",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute(\"aria-live\",\"off\")||t.target.setAttribute(\"aria-live\",\"assertive\");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,\"mouseover\",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute(\"aria-live\",\"off\")||t.target.setAttribute(\"aria-live\",\"polite\");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,\"mouseout\",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener(\"mousemove\",this._onMouseMove,!0),window.removeEventListener(\"keydown\",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=c,r.WebGLRenderer.registerPlugin(\"accessibility\",c),r.CanvasRenderer.registerPlugin(\"accessibility\",c)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(156);Object.defineProperty(e,\"webgl\",{enumerable:!0,get:function(){return o(r).default}});var i=n(157);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"canvas\",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));var i=new r.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=!1,u=void 0,l=!1;t&&(t instanceof r.RenderTexture?u=t:(u=this.renderer.generateTexture(t),l=!0)),u?(o=(n=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=u.frame,s=!1):(o=(n=this.renderer.rootRenderTarget).resolution,s=!0,(a=i).width=n.size.width,a.height=n.size.height);var h=a.width*o,c=a.height*o,f=new r.CanvasRenderTarget(h,c,1);if(n){e.bindRenderTarget(n);var d=new Uint8Array(4*h*c),p=e.gl;p.readPixels(a.x*o,a.y*o,h,c,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,h,c);v.data.set(d),f.context.putImageData(v,0,0),s&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return l&&u.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0,u=!1;t&&(t instanceof r.RenderTexture?s=t:(s=this.renderer.generateTexture(t),u=!0)),s?(o=(n=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=s.frame):(o=(n=this.renderer.rootRenderTarget).resolution,(a=i).width=n.size.width,a.height=n.size.height);var l=a.width*o,h=a.height*o,c=new Uint8Array(4*l*h);if(n){e.bindRenderTarget(n);var f=e.gl;f.readPixels(a.x*o,a.y*o,l,h,f.RGBA,f.UNSIGNED_BYTE,c)}return u&&s.destroy(!0),c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,r.WebGLRenderer.registerPlugin(\"extract\",o)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));var i=new r.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0;t&&(s=t instanceof r.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,o=e.resolution,(a=i).width=this.renderer.width,a.height=this.renderer.height);var u=a.width*o,l=a.height*o,h=new r.CanvasRenderTarget(u,l,1),c=n.getImageData(a.x*o,a.y*o,u,l);return h.context.putImageData(c,0,0),h.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0;return t&&(s=t instanceof r.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,(a=i).width=e.width,a.height=e.height),n.getImageData(0,0,a.width*o,a.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,r.CanvasRenderer.registerPlugin(\"extract\",o)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));var o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n[0]instanceof i.Texture?n[0]:n[0].texture));return o._textures=null,o._durations=null,o.textures=n,o._autoUpdate=!1!==r,o.animationSpeed=1,o.loop=!0,o.updateAnchor=!1,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.Texture.fromFrame(t[r]));return new e(n)},e.fromImages=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.Texture.fromImage(t[r]));return new e(n)},r(e,[{key:\"totalFrames\",get:function(){return this._textures.length}},{key:\"textures\",get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:\"currentFrame\",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(i.Sprite);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),a=n(17),s=(r=a)&&r.__esModule?r:{default:r};var u=new o.Point,l=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return a.tileTransform=new o.TransformStatic,a._width=r,a._height=i,a._canvasPattern=null,a.uvTransform=n.transform||new o.TextureMatrix(n),a.pluginName=\"tilingSprite\",a.uvRespectAnchor=!1,a}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var n=t.context,r=this.worldTransform,i=t.resolution,a=2===e.rotate,u=e.baseTexture,l=u.resolution,h=this.tilePosition.x/this.tileScale.x%e.orig.width*l,c=this.tilePosition.y/this.tileScale.y%e.orig.height*l;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var f=new o.CanvasRenderTarget(e.orig.width,e.orig.height,l);if(16777215!==this.tint)this.tintedTexture=s.default.getTintedTexture(this,this.tint),f.context.drawImage(this.tintedTexture,0,0);else{var d=e._frame.x*l,p=e._frame.y*l,v=e._frame.width*l,_=e._frame.height*l,y=(e.trim?e.trim.width:e.orig.width)*l,g=(e.trim?e.trim.height:e.orig.height)*l,b=(e.trim?e.trim.x:0)*l,m=(e.trim?e.trim.y:0)*l;a?(f.context.rotate(-Math.PI/2),f.context.translate(-g,0),f.context.drawImage(u.source,d,p,v,_,-m,b,g,y)):f.context.drawImage(u.source,d,p,v,_,b,m,y,g)}this.cachedTint=this.tint,this._canvasPattern=f.context.createPattern(f.canvas,\"repeat\")}n.globalAlpha=this.worldAlpha,n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.scale(this.tileScale.x/l,this.tileScale.y/l);var x=this.anchor.x*-this._width*l,w=this.anchor.y*-this._height*l;this.uvRespectAnchor?(n.translate(h,c),n.fillRect(-h+x,-c+w,this._width/this.tileScale.x*l,this._height/this.tileScale.y*l)):(n.translate(h+x,c+w),n.fillRect(-h,-c,this._width/this.tileScale.x*l,this._height/this.tileScale.y*l))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._width,n=this._height,r=-e*this.anchor._x;if(u.x>=r&&u.x<r+e){var i=-n*this.anchor._y;if(u.y>=i&&u.y<i+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,n,r){return new e(o.Texture.from(t),n,r)},e.fromFrame=function(t,n,r){var i=o.utils.TextureCache[t];if(!i)throw new Error('The frameId \"'+t+'\" does not exist in the texture cache '+this);return new e(i,n,r)},e.fromImage=function(t,n,r,i,a){return new e(o.Texture.fromImage(t,i,a),n,r)},i(e,[{key:\"clampMargin\",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:\"tileScale\",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:\"tilePosition\",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:\"width\",get:function(){return this._width},set:function(t){this._width=t}},{key:\"height\",get:function(){return this._height},set:function(t){this._height=t}}]),e}(o.Sprite);e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=n(0);n(7);var o=new r.Matrix,a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.shader=null,r.simpleShader=null,r.quad=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r.Shader(t,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\",\"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 uColor;\\nuniform mat3 uMapCoord;\\nuniform vec4 uClampFrame;\\nuniform vec2 uClampOffset;\\n\\nvoid main(void)\\n{\\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\\n\\n    vec4 sample = texture2D(uSampler, coord);\\n    gl_FragColor = sample * uColor;\\n}\\n\"),this.simpleShader=new r.Shader(t,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\",\"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 uColor;\\n\\nvoid main(void)\\n{\\n    vec4 sample = texture2D(uSampler, vTextureCoord);\\n    gl_FragColor = sample * uColor;\\n}\\n\"),this.renderer.bindVao(null),this.quad=new r.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,n=this.quad;e.bindVao(n.vao);var a=n.vertices;a[0]=a[6]=t._width*-t.anchor.x,a[1]=a[3]=t._height*-t.anchor.y,a[2]=a[4]=t._width*(1-t.anchor.x),a[5]=a[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((a=n.uvs)[0]=a[6]=-t.anchor.x,a[1]=a[3]=-t.anchor.y,a[2]=a[4]=1-t.anchor.x,a[5]=a[7]=1-t.anchor.y),n.upload();var s=t._texture,u=s.baseTexture,l=t.tileTransform.localTransform,h=t.uvTransform,c=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;c&&(u._glTextures[e.CONTEXT_UID]?c=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));var f=c?this.simpleShader:this.shader;e.bindShader(f);var d=s.width,p=s.height,v=t._width,_=t._height;o.set(l.a*d/v,l.b*d/_,l.c*p/v,l.d*p/_,l.tx/v,l.ty/_),o.invert(),c?o.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=o.toArray(!0),f.uniforms.uColor=r.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(s),e.setBlendMode(r.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(r.ObjectRenderer);e.default=a,r.WebGLRenderer.registerPlugin(\"tilingSprite\",a)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=u(n(39)),a=n(2),s=u(n(3));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||\"left\",name:null,size:0},i.font=r.font,i._text=n,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],n=this._font.size/t.size,r=new i.Point,o=[],a=[],s=this.text.replace(/(?:\\r\\n|\\r)/g,\"\\n\"),u=s.length,l=this._maxWidth*t.size/this._font.size,h=null,c=0,f=0,d=0,p=-1,v=0,_=0,y=0,g=0;g<u;g++){var b=s.charCodeAt(g),m=s.charAt(g);if(/(?:\\s)/.test(m)&&(p=g,v=c),\"\\r\"!==m&&\"\\n\"!==m){var x=t.chars[b];x&&(h&&x.kerning[h]&&(r.x+=x.kerning[h]),o.push({texture:x.texture,line:d,charCode:b,position:new i.Point(r.x+x.xOffset+this._letterSpacing/2,r.y+x.yOffset)}),r.x+=x.xAdvance+this._letterSpacing,c=r.x,y=Math.max(y,x.yOffset+x.texture.height),h=b,-1!==p&&l>0&&r.x>l&&(++_,i.utils.removeItems(o,1+p-_,1+g-p),g=p,p=-1,a.push(v),f=Math.max(f,v),d++,r.x=0,r.y+=t.lineHeight,h=null))}else a.push(c),f=Math.max(f,c),++d,++_,r.x=0,r.y+=t.lineHeight,h=null}var w=s.charAt(s.length-1);\"\\r\"!==w&&\"\\n\"!==w&&(/(?:\\s)/.test(w)&&(c=v),a.push(c),f=Math.max(f,c));for(var T=[],E=0;E<=d;E++){var S=0;\"right\"===this._font.align?S=f-a[E]:\"center\"===this._font.align&&(S=(f-a[E])/2),T.push(S)}for(var M=o.length,O=this.tint,C=0;C<M;C++){var A=this._glyphs[C];A?A.texture=o[C].texture:(A=new i.Sprite(o[C].texture),this._glyphs.push(A)),A.position.x=(o[C].position.x+T[o[C].line])*n,A.position.y=o[C].position.y*n,A.scale.x=A.scale.y=n,A.tint=O,A.parent||this.addChild(A)}for(var P=M;P<this._glyphs.length;++P)this.removeChild(this._glyphs[P]);if(this._textWidth=f*n,this._textHeight=(r.y+t.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var R=0;R<M;R++)this._glyphs[R].x-=this._textWidth*this.anchor.x,this._glyphs[R].y-=this._textHeight*this.anchor.y;this._maxLineHeight=y*n},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,n){var r={},o=t.getElementsByTagName(\"info\")[0],u=t.getElementsByTagName(\"common\")[0],l=t.getElementsByTagName(\"page\"),h=(0,a.getResolutionOfUrl)(l[0].getAttribute(\"file\"),s.default.RESOLUTION),c={};r.font=o.getAttribute(\"face\"),r.size=parseInt(o.getAttribute(\"size\"),10),r.lineHeight=parseInt(u.getAttribute(\"lineHeight\"),10)/h,r.chars={},n instanceof i.Texture&&(n=[n]);for(var f=0;f<l.length;f++){var d=l[f].getAttribute(\"id\"),p=l[f].getAttribute(\"file\");c[d]=n instanceof Array?n[f]:n[p]}for(var v=t.getElementsByTagName(\"char\"),_=0;_<v.length;_++){var y=v[_],g=parseInt(y.getAttribute(\"id\"),10),b=y.getAttribute(\"page\")||0,m=new i.Rectangle(parseInt(y.getAttribute(\"x\"),10)/h+c[b].frame.x/h,parseInt(y.getAttribute(\"y\"),10)/h+c[b].frame.y/h,parseInt(y.getAttribute(\"width\"),10)/h,parseInt(y.getAttribute(\"height\"),10)/h);r.chars[g]={xOffset:parseInt(y.getAttribute(\"xoffset\"),10)/h,yOffset:parseInt(y.getAttribute(\"yoffset\"),10)/h,xAdvance:parseInt(y.getAttribute(\"xadvance\"),10)/h,kerning:{},texture:new i.Texture(c[b].baseTexture,m),page:b}}for(var x=t.getElementsByTagName(\"kerning\"),w=0;w<x.length;w++){var T=x[w],E=parseInt(T.getAttribute(\"first\"),10)/h,S=parseInt(T.getAttribute(\"second\"),10)/h,M=parseInt(T.getAttribute(\"amount\"),10)/h;r.chars[S]&&(r.chars[S].kerning[E]=M)}return e.fonts[r.font]=r,r},r(e,[{key:\"tint\",get:function(){return this._font.tint},set:function(t){this._font.tint=\"number\"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:\"align\",get:function(){return this._font.align},set:function(t){this._font.align=t||\"left\",this.dirty=!0}},{key:\"anchor\",get:function(){return this._anchor},set:function(t){\"number\"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:\"font\",get:function(){return this._font},set:function(t){t&&(\"string\"==typeof t?(t=t.split(\" \"),this._font.name=1===t.length?t[0]:t.slice(1).join(\" \"),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size=\"number\"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:\"text\",get:function(){return this._text},set:function(t){t=t.toString()||\" \",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:\"maxWidth\",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:\"maxLineHeight\",get:function(){return this.validate(),this._maxLineHeight}},{key:\"textWidth\",get:function(){return this.validate(),this._textWidth}},{key:\"letterSpacing\",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:\"textHeight\",get:function(){return this.validate(),this._textHeight}}]),e}(i.Container);e.default=l,l.fonts={}},function(t,e,n){\"use strict\";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=s(n(8)),o=s(n(10)),a=n(2);function s(t){return t&&t.__esModule?t:{default:t}}var u=r.DisplayObject,l=new r.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var h=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new h),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var n=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var s=this._filters[0].padding;n.pad(s)}n.ceil(r.settings.RESOLUTION);var u=t._activeRenderTarget,h=t.filterManager.filterStack,c=r.RenderTexture.create(n.width,n.height),f=\"cacheAsBitmap_\"+(0,a.uid)();this._cacheData.textureCacheId=f,o.default.addToCache(c.baseTexture,f),i.default.addToCache(c,f);var d=l;d.tx=-n.x,d.ty=-n.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,c,!0,d,!0),t.bindRenderTarget(u),t.filterManager.filterStack=h,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var p=new r.Sprite(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-n.x/n.width,p.anchor.y=-n.y/n.height,p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),n=this.alpha;this.alpha=1;var s=t.context;e.ceil(r.settings.RESOLUTION);var u=r.RenderTexture.create(e.width,e.height),h=\"cacheAsBitmap_\"+(0,a.uid)();this._cacheData.textureCacheId=h,o.default.addToCache(u.baseTexture,h),i.default.addToCache(u,h);var c=l;this.transform.localTransform.copy(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,c,!1),t.context=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var f=new r.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}},u.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,n){\"use strict\";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,n){\"use strict\";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));r.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new r.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(166);Object.defineProperty(e,\"FXAAFilter\",{enumerable:!0,get:function(){return c(r).default}});var i=n(167);Object.defineProperty(e,\"NoiseFilter\",{enumerable:!0,get:function(){return c(i).default}});var o=n(168);Object.defineProperty(e,\"DisplacementFilter\",{enumerable:!0,get:function(){return c(o).default}});var a=n(169);Object.defineProperty(e,\"BlurFilter\",{enumerable:!0,get:function(){return c(a).default}});var s=n(73);Object.defineProperty(e,\"BlurXFilter\",{enumerable:!0,get:function(){return c(s).default}});var u=n(77);Object.defineProperty(e,\"BlurYFilter\",{enumerable:!0,get:function(){return c(u).default}});var l=n(170);Object.defineProperty(e,\"ColorMatrixFilter\",{enumerable:!0,get:function(){return c(l).default}});var h=n(171);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"AlphaFilter\",{enumerable:!0,get:function(){return c(h).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nuniform vec4 filterArea;\\n\\nvarying vec2 vTextureCoord;\\n\\nvec2 mapCoord( vec2 coord )\\n{\\n    coord *= filterArea.xy;\\n    coord += filterArea.zw;\\n\\n    return coord;\\n}\\n\\nvec2 unmapCoord( vec2 coord )\\n{\\n    coord -= filterArea.zw;\\n    coord /= filterArea.xy;\\n\\n    return coord;\\n}\\n\\nvoid texcoords(vec2 fragCoord, vec2 resolution,\\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\\n               out vec2 v_rgbM) {\\n    vec2 inverseVP = 1.0 / resolution.xy;\\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\\n    v_rgbM = vec2(fragCoord * inverseVP);\\n}\\n\\nvoid main(void) {\\n\\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n   vTextureCoord = aTextureCoord;\\n\\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\\n\\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n}\",'varying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nvarying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform vec4 filterArea;\\n\\n/**\\n Basic FXAA implementation based on the code on geeks3d.com with the\\n modification that the texture2DLod stuff was removed since it\\'s\\n unsupported by WebGL.\\n \\n --\\n \\n From:\\n https://github.com/mitsuhiko/webgl-meincraft\\n \\n Copyright (c) 2011 by Armin Ronacher.\\n \\n Some rights reserved.\\n \\n Redistribution and use in source and binary forms, with or without\\n modification, are permitted provided that the following conditions are\\n met:\\n \\n * Redistributions of source code must retain the above copyright\\n notice, this list of conditions and the following disclaimer.\\n \\n * Redistributions in binary form must reproduce the above\\n copyright notice, this list of conditions and the following\\n disclaimer in the documentation and/or other materials provided\\n with the distribution.\\n \\n * The names of the contributors may not be used to endorse or\\n promote products derived from this software without specific\\n prior written permission.\\n \\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\\n \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\\n */\\n\\n#ifndef FXAA_REDUCE_MIN\\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\\n#endif\\n#ifndef FXAA_REDUCE_MUL\\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\\n#endif\\n#ifndef FXAA_SPAN_MAX\\n#define FXAA_SPAN_MAX     8.0\\n#endif\\n\\n//optimized version for mobile, where dependent\\n//texture reads can be a bottleneck\\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\\n          vec2 v_rgbNW, vec2 v_rgbNE,\\n          vec2 v_rgbSW, vec2 v_rgbSE,\\n          vec2 v_rgbM) {\\n    vec4 color;\\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\\n    vec4 texColor = texture2D(tex, v_rgbM);\\n    vec3 rgbM  = texColor.xyz;\\n    vec3 luma = vec3(0.299, 0.587, 0.114);\\n    float lumaNW = dot(rgbNW, luma);\\n    float lumaNE = dot(rgbNE, luma);\\n    float lumaSW = dot(rgbSW, luma);\\n    float lumaSE = dot(rgbSE, luma);\\n    float lumaM  = dot(rgbM,  luma);\\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\\n    \\n    mediump vec2 dir;\\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n    \\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\\n    \\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n                  dir * rcpDirMin)) * inverseVP;\\n    \\n    vec3 rgbA = 0.5 * (\\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\\n    \\n    float lumaB = dot(rgbB, luma);\\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\\n        color = vec4(rgbA, texColor.a);\\n    else\\n        color = vec4(rgbB, texColor.a);\\n    return color;\\n}\\n\\nvoid main() {\\n\\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\\n\\n      vec4 color;\\n\\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n\\n      gl_FragColor = color;\\n}\\n'))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.Filter);e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"precision highp float;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\n\\nuniform float uNoise;\\nuniform float uSeed;\\nuniform sampler2D uSampler;\\n\\nfloat rand(vec2 co)\\n{\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\n}\\n\\nvoid main()\\n{\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\\n    float diff = (randomValue - 0.5) * uNoise;\\n\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (color.a > 0.0) {\\n        color.rgb /= color.a;\\n    }\\n\\n    color.r += diff;\\n    color.g += diff;\\n    color.b += diff;\\n\\n    // Premultiply alpha again.\\n    color.rgb *= color.a;\\n\\n    gl_FragColor = color;\\n}\\n\"));return i.noise=n,i.seed=r,i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:\"noise\",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:\"seed\",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(i.Filter);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o=new i.Matrix;n.renderable=!1;var a=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 filterMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec2 vFilterCoord;\\n\\nvoid main(void)\\n{\\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\n   vTextureCoord = aTextureCoord;\\n}\",\"varying vec2 vFilterCoord;\\nvarying vec2 vTextureCoord;\\n\\nuniform vec2 scale;\\n\\nuniform sampler2D uSampler;\\nuniform sampler2D mapSampler;\\n\\nuniform vec4 filterArea;\\nuniform vec4 filterClamp;\\n\\nvoid main(void)\\n{\\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\\n\\n  map -= 0.5;\\n  map.xy *= scale / filterArea.xy;\\n\\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\\n}\\n\"));return a.maskSprite=n,a.maskMatrix=o,a.uniforms.mapSampler=n._texture,a.uniforms.filterMatrix=o,a.uniforms.scale={x:1,y:1},null==r&&(r=20),a.scale=new i.Point(r,r),a}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,n)},r(e,[{key:\"map\",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(i.Filter);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=s(n(73)),a=s(n(77));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return l.blurXFilter=new o.default(n,r,s,u),l.blurYFilter=new a.default(n,r,s,u),l.padding=0,l.resolution=s||i.settings.RESOLUTION,l.quality=r||4,l.blur=n||8,l}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){var r=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,r,!0),this.blurYFilter.apply(t,r,n,!1),t.returnRenderTarget(r)},r(e,[{key:\"blur\",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:\"quality\",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:\"blurX\",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:\"blurY\",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:\"blendMode\",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(i.Filter);e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"varying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform float m[20];\\nuniform float uAlpha;\\n\\nvoid main(void)\\n{\\n    vec4 c = texture2D(uSampler, vTextureCoord);\\n\\n    if (uAlpha == 0.0) {\\n        gl_FragColor = c;\\n        return;\\n    }\\n\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (c.a > 0.0) {\\n      c.rgb /= c.a;\\n    }\\n\\n    vec4 result;\\n\\n    result.r = (m[0] * c.r);\\n        result.r += (m[1] * c.g);\\n        result.r += (m[2] * c.b);\\n        result.r += (m[3] * c.a);\\n        result.r += m[4];\\n\\n    result.g = (m[5] * c.r);\\n        result.g += (m[6] * c.g);\\n        result.g += (m[7] * c.b);\\n        result.g += (m[8] * c.a);\\n        result.g += m[9];\\n\\n    result.b = (m[10] * c.r);\\n       result.b += (m[11] * c.g);\\n       result.b += (m[12] * c.b);\\n       result.b += (m[13] * c.a);\\n       result.b += m[14];\\n\\n    result.a = (m[15] * c.r);\\n       result.a += (m[16] * c.g);\\n       result.a += (m[17] * c.b);\\n       result.a += (m[18] * c.a);\\n       result.a += m[19];\\n\\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\\n\\n    // Premultiply alpha again.\\n    rgb *= result.a;\\n\\n    gl_FragColor = vec4(rgb, result.a);\\n}\\n\"));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n.alpha=1,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=2*t/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,u=((r=r||3375104)>>16&255)/255,l=(r>>8&255)/255,h=(255&r)/255,c=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,u,l,h,e=e||.15,0,o-u,a-l,s-h,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},r(e,[{key:\"matrix\",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:\"alpha\",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform float uAlpha;\\n\\nvoid main(void)\\n{\\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\\n}\\n\"));return r.alpha=n,r.glShaderKey=\"alpha\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:\"alpha\",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(78);Object.defineProperty(e,\"InteractionData\",{enumerable:!0,get:function(){return u(r).default}});var i=n(173);Object.defineProperty(e,\"InteractionManager\",{enumerable:!0,get:function(){return u(i).default}});var o=n(81);Object.defineProperty(e,\"interactiveTarget\",{enumerable:!0,get:function(){return u(o).default}});var a=n(80);Object.defineProperty(e,\"InteractionTrackingData\",{enumerable:!0,get:function(){return u(a).default}});var s=n(79);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"InteractionEvent\",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=h(n(78)),a=h(n(79)),s=h(n(80)),u=h(n(9)),l=h(n(81));function h(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,l.default);var c=1,f={target:null,data:{global:null}},d=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r=r||{},s.renderer=n,s.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,s.interactionFrequency=r.interactionFrequency||10,s.mouse=new o.default,s.mouse.identifier=c,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[c]=s.mouse,s.interactionDataPool=[],s.eventData=new a.default,s.interactionDOMElement=null,s.moveWhenInside=!1,s.eventsAdded=!1,s.mouseOverRenderer=!1,s.supportsTouchEvents=\"ontouchstart\"in window,s.supportsPointerEvents=!!window.PointerEvent,s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={default:\"inherit\",pointer:\"pointer\"},s.currentCursorMode=null,s.cursor=null,s._tempPoint=new i.Point,s.resolution=1,s.setTargetElement(s.renderer.view,s.renderer.resolution),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style[\"-ms-content-zooming\"]=\"none\",this.interactionDOMElement.style[\"-ms-touch-action\"]=\"none\"):this.supportsPointerEvents&&(this.interactionDOMElement.style[\"touch-action\"]=\"none\"),this.supportsPointerEvents?(window.document.addEventListener(\"pointermove\",this.onPointerMove,!0),this.interactionDOMElement.addEventListener(\"pointerdown\",this.onPointerDown,!0),this.interactionDOMElement.addEventListener(\"pointerleave\",this.onPointerOut,!0),this.interactionDOMElement.addEventListener(\"pointerover\",this.onPointerOver,!0),window.addEventListener(\"pointercancel\",this.onPointerCancel,!0),window.addEventListener(\"pointerup\",this.onPointerUp,!0)):(window.document.addEventListener(\"mousemove\",this.onPointerMove,!0),this.interactionDOMElement.addEventListener(\"mousedown\",this.onPointerDown,!0),this.interactionDOMElement.addEventListener(\"mouseout\",this.onPointerOut,!0),this.interactionDOMElement.addEventListener(\"mouseover\",this.onPointerOver,!0),window.addEventListener(\"mouseup\",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener(\"touchstart\",this.onPointerDown,!0),this.interactionDOMElement.addEventListener(\"touchcancel\",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener(\"touchend\",this.onPointerUp,!0),this.interactionDOMElement.addEventListener(\"touchmove\",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style[\"-ms-content-zooming\"]=\"\",this.interactionDOMElement.style[\"-ms-touch-action\"]=\"\"):this.supportsPointerEvents&&(this.interactionDOMElement.style[\"touch-action\"]=\"\"),this.supportsPointerEvents?(window.document.removeEventListener(\"pointermove\",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener(\"pointerdown\",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener(\"pointerleave\",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener(\"pointerover\",this.onPointerOver,!0),window.removeEventListener(\"pointercancel\",this.onPointerCancel,!0),window.removeEventListener(\"pointerup\",this.onPointerUp,!0)):(window.document.removeEventListener(\"mousemove\",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener(\"mousedown\",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener(\"mouseout\",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener(\"mouseover\",this.onPointerOver,!0),window.removeEventListener(\"mouseup\",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener(\"touchstart\",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener(\"touchcancel\",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener(\"touchend\",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener(\"touchmove\",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&\"touch\"!==n.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||\"default\",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?\"undefined\":r(e)){case\"string\":this.interactionDOMElement.style.cursor=e;break;case\"function\":e(t);break;case\"object\":Object.assign(this.interactionDOMElement.style,e)}else\"string\"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.mapPositionToPoint=function(t,e,n){var r=void 0;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*i,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},e.prototype.processInteractive=function(t,e,n,r,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i,u=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,u=!1)),s=!1):e._mask&&r&&(e._mask.containsPoint(o)||(r=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,h=l.length-1;h>=0;h--){var c=l[h],f=this.processInteractive(t,c,n,r,s);if(f){if(!c.parent)continue;s=!1,f&&(t.target&&(r=!1),a=!0)}}return i&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),n&&n(t,e,!!a))),a},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||\"touch\"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit(\"pointerdown\",a),\"touch\"===i.pointerType)this.emit(\"touchstart\",a);else if(\"mouse\"===i.pointerType||\"pen\"===i.pointerType){var s=2===i.button;this.emit(s?\"rightdown\":\"mousedown\",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var r=t.data,i=t.data.identifier;if(n)if(e.trackedPointers[i]||(e.trackedPointers[i]=new s.default(i)),this.dispatchEvent(e,\"pointerdown\",t),\"touch\"===r.pointerType)this.dispatchEvent(e,\"touchstart\",t);else if(\"mouse\"===r.pointerType||\"pen\"===r.pointerType){var o=2===r.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?\"rightdown\":\"mousedown\",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var r=this.normalizeToPointerData(t),i=r.length,o=t.target!==this.interactionDOMElement?\"outside\":\"\",a=0;a<i;a++){var s=r[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=t,this.processInteractive(l,this.renderer._lastObjectRendered,n,e||!o),this.emit(e?\"pointercancel\":\"pointerup\"+o,l),\"mouse\"===s.pointerType||\"pen\"===s.pointerType){var h=2===s.button;this.emit(h?\"rightup\"+o:\"mouseup\"+o,l)}else\"touch\"===s.pointerType&&(this.emit(e?\"touchcancel\":\"touchend\"+o,l),this.releaseInteractionDataForPointerId(s.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&\"touch\"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,\"pointercancel\",t),\"touch\"===n.pointerType&&this.dispatchEvent(e,\"touchcancel\",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&\"touch\"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var r=t.data,i=t.data.identifier,o=e.trackedPointers[i],a=\"touch\"===r.pointerType,u=\"mouse\"===r.pointerType||\"pen\"===r.pointerType,l=!1;if(u){var h=2===r.button,c=s.default.FLAGS,f=h?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==o&&o.flags&f;n?(this.dispatchEvent(e,h?\"rightup\":\"mouseup\",t),d&&(this.dispatchEvent(e,h?\"rightclick\":\"click\",t),l=!0)):d&&this.dispatchEvent(e,h?\"rightupoutside\":\"mouseupoutside\",t),o&&(h?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(e,\"pointerup\",t),a&&this.dispatchEvent(e,\"touchend\",t),o&&(u&&!l||this.dispatchEvent(e,\"pointertap\",t),a&&(this.dispatchEvent(e,\"tap\",t),o.over=!1))):o&&(this.dispatchEvent(e,\"pointerupoutside\",t),a&&this.dispatchEvent(e,\"touchendoutside\",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||\"touch\"!==t.pointerType){var e=this.normalizeToPointerData(t);\"mouse\"!==e[0].pointerType&&\"pen\"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t;var s=\"touch\"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit(\"pointermove\",a),\"touch\"===i.pointerType&&this.emit(\"touchmove\",a),\"mouse\"!==i.pointerType&&\"pen\"!==i.pointerType||this.emit(\"mousemove\",a)}\"mouse\"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var r=t.data,i=\"touch\"===r.pointerType,o=\"mouse\"===r.pointerType||\"pen\"===r.pointerType;o&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,\"pointermove\",t),i&&this.dispatchEvent(e,\"touchmove\",t),o&&this.dispatchEvent(e,\"mousemove\",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||\"touch\"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];\"mouse\"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit(\"pointerout\",r),\"mouse\"===e.pointerType||\"pen\"===e.pointerType?this.emit(\"mouseout\",r):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var r=t.data,i=t.data.identifier,o=\"mouse\"===r.pointerType||\"pen\"===r.pointerType,a=e.trackedPointers[i];n&&!a&&(a=e.trackedPointers[i]=new s.default(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(e,\"pointerover\",t),o&&this.dispatchEvent(e,\"mouseover\",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,\"pointerout\",this.eventData),o&&this.dispatchEvent(e,\"mouseout\",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,\"mouse\"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit(\"pointerover\",r),\"mouse\"!==e.pointerType&&\"pen\"!==e.pointerType||this.emit(\"mouseover\",r)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,n=void 0;return e===c||\"mouse\"===t.pointerType?n=this.mouse:this.activeInteractionData[e]?n=this.activeInteractionData[e]:((n=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=n),n.copyEvent(t),n},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),navigator.isCocoonJS&&\"touch\"===e.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),\"touch\"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,r=t.changedTouches.length;n<r;n++){var i=t.changedTouches[n];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&\"touchstart\"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType=\"touch\"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType=\"mouse\"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=d,i.WebGLRenderer.registerPlugin(\"interaction\",d),i.CanvasRenderer.registerPlugin(\"interaction\",d)},function(t,e,n){\"use strict\";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var r=n(82);Object.defineProperty(e,\"bitmapFontParser\",{enumerable:!0,get:function(){return l(r).default}}),Object.defineProperty(e,\"parseBitmapFontData\",{enumerable:!0,get:function(){return r.parse}});var i=n(87);Object.defineProperty(e,\"spritesheetParser\",{enumerable:!0,get:function(){return l(i).default}}),Object.defineProperty(e,\"getResourcePath\",{enumerable:!0,get:function(){return i.getResourcePath}});var o=n(88);Object.defineProperty(e,\"textureParser\",{enumerable:!0,get:function(){return l(o).default}});var a=n(15);Object.defineProperty(e,\"Resource\",{enumerable:!0,get:function(){return a.Resource}});var s=l(n(69)),u=l(n(176));function l(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var h=new u.default;h.destroy=function(){},e.shared=h;var c=s.default.prototype;c._loader=null,Object.defineProperty(c,\"loader\",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?h:new u.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},function(t,e,n){\"use strict\";e.__esModule=!0,e.Loader=void 0;var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(n(83)),a=l(n(84)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(85)),u=n(36);function l(t){return t&&t.__esModule?t:{default:t}}var h=/(#[\\w-]+)?$/,c=e.Loader=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString=\"\",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,n){return e._loadResource(t,n)},this._queue=s.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default;for(var i=0;i<t._defaultBeforeMiddleware.length;++i)this.pre(t._defaultBeforeMiddleware[i]);for(var a=0;a<t._defaultAfterMiddleware.length;++a)this.use(t._defaultAfterMiddleware[a])}return t.prototype.add=function(t,e,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if(\"object\"===(void 0===t?\"undefined\":r(t))&&(i=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),\"string\"!=typeof e&&(i=n,n=e,e=t),\"string\"!=typeof e)throw new Error(\"No url passed to add resource to loader.\");if(\"function\"==typeof n&&(i=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error(\"Cannot add resources while the loader is running.\");if(this.resources[t])throw new Error('Resource named \"'+t+'\" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.Resource(t,e,n),\"function\"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,s=[],l=0;l<a.children.length;++l)a.children[l].isComplete||s.push(a.children[l]);var h=a.progressChunk*(s.length+1)/(s.length+2);a.children.push(this.resources[t]),a.progressChunk=h;for(var c=0;c<s.length;++c)s[c].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if(\"function\"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,a.default)(t,{strictMode:!0}),n=void 0;if(n=e.protocol||!e.path||0===t.indexOf(\"//\")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf(\"/\")!==this.baseUrl.length-1&&\"/\"!==t.charAt(0)?this.baseUrl+\"/\"+t:this.baseUrl+t,this.defaultQueryString){var r=h.exec(n)[0];-1!==(n=n.substr(0,n.length-r.length)).indexOf(\"?\")?n+=\"&\"+this.defaultQueryString:n+=\"?\"+this.defaultQueryString,n+=r}return n},t.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,s.eachSeries(this._beforeMiddleware,function(e,r){e.call(n,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),s.eachSeries(this._afterMiddleware,function(n,r){n.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},i(t,[{key:\"concurrency\",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();c._defaultBeforeMiddleware=[],c._defaultAfterMiddleware=[],c.pre=function(t){return c._defaultBeforeMiddleware.push(t),c},c.use=function(t){return c._defaultAfterMiddleware.push(t),c}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=l(n(15)),i=n(177),o=l(n(9)),a=l(n(88)),s=l(n(87)),u=l(n(82));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,r));o.default.call(i);for(var a=0;a<e._pixiMiddleware.length;++a)i.use(e._pixiMiddleware[a]());return i.onStart.add(function(t){return i.emit(\"start\",t)}),i.onProgress.add(function(t,e){return i.emit(\"progress\",t,e)}),i.onError.add(function(t,e,n){return i.emit(\"error\",t,e,n)}),i.onLoad.add(function(t,e){return i.emit(\"load\",t,e)}),i.onComplete.add(function(t,e){return i.emit(\"complete\",t,e)}),i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(r.default);for(var c in e.default=h,o.default.prototype)h.prototype[c]=o.default.prototype[c];h._pixiMiddleware=[i.blobMiddlewareFactory,a.default,s.default,u.default];var f=r.default.Resource;f.setExtensionXhrType(\"fnt\",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,n){\"use strict\";e.__esModule=!0,e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===r.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&\"string\"!=typeof t.data){if(0===t.data.type.indexOf(\"image\")){var n=o.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=r.Resource.TYPE.IMAGE,void(t.data.onload=function(){o.revokeObjectURL(n),t.data.onload=null,e()})}}else{var a=t.xhr.getResponseHeader(\"content-type\");if(a&&0===a.indexOf(\"image\"))return t.data=new Image,t.data.src=\"data:\"+a+\";base64,\"+(0,i.encodeBinary)(t.xhr.responseText),t.type=r.Resource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}};var r=n(36),i=n(86),o=window.URL||window.webkitURL},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(16);Object.defineProperty(e,\"Mesh\",{enumerable:!0,get:function(){return l(r).default}});var i=n(179);Object.defineProperty(e,\"MeshRenderer\",{enumerable:!0,get:function(){return l(i).default}});var o=n(180);Object.defineProperty(e,\"CanvasMeshRenderer\",{enumerable:!0,get:function(){return l(o).default}});var a=n(89);Object.defineProperty(e,\"Plane\",{enumerable:!0,get:function(){return l(a).default}});var s=n(181);Object.defineProperty(e,\"NineSlicePlane\",{enumerable:!0,get:function(){return l(s).default}});var u=n(182);function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"Rope\",{enumerable:!0,get:function(){return l(u).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=a(n(5)),o=a(n(16));n(7);function a(t){return t&&t.__esModule?t:{default:t}}var s=r.Matrix.IDENTITY,u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.shader=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r.Shader(t,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\",\"varying vec2 vTextureCoord;\\nuniform vec4 uColor;\\n\\nuniform sampler2D uSampler;\\n\\nvoid main(void)\\n{\\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\\n}\\n\")},e.prototype.render=function(t){var e=this.renderer,n=e.gl,a=t._texture;if(a.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(n,t.vertices,n.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(n,t.uvs,n.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(n,t.indices,n.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty}).vao=new i.default.VertexArrayObject(n).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),t.vertexDirty!==u.vertexDirty&&(u.vertexDirty=t.vertexDirty,u.vertexBuffer.upload(t.vertices)),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(a),e.state.setBlendMode(r.utils.correctBlendMode(t.blendMode,a.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=s.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,a.baseTexture.premultipliedAlpha);var l=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;u.vao.draw(l,t.indices.length,0)}},e}(r.ObjectRenderer);e.default=u,r.WebGLRenderer.registerPlugin(\"mesh\",u)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(16),a=(r=o)&&r.__esModule?r:{default:r};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldTransform,i=e.resolution;e.roundPixels?n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i|0,r.ty*i|0):n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===a.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,n=0;n<e-2;n++){var r=2*n;this._renderDrawTriangle(t,r,r+2,r+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,n=e.length,r=0;r<n;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2];this._renderDrawTriangle(t,i,o,a)}},t.prototype._renderDrawTriangle=function(t,e,n,r){var i=this.renderer.context,o=t.uvs,a=t.vertices,s=t._texture;if(s.valid){var u=s.baseTexture,l=u.source,h=u.width,c=u.height,f=void 0,d=void 0,p=void 0,v=void 0,_=void 0,y=void 0;if(t.uploadUvTransform){var g=t._uvTransform.mapCoord;f=(o[e]*g.a+o[e+1]*g.c+g.tx)*u.width,d=(o[n]*g.a+o[n+1]*g.c+g.tx)*u.width,p=(o[r]*g.a+o[r+1]*g.c+g.tx)*u.width,v=(o[e]*g.b+o[e+1]*g.d+g.ty)*u.height,_=(o[n]*g.b+o[n+1]*g.d+g.ty)*u.height,y=(o[r]*g.b+o[r+1]*g.d+g.ty)*u.height}else f=o[e]*u.width,d=o[n]*u.width,p=o[r]*u.width,v=o[e+1]*u.height,_=o[n+1]*u.height,y=o[r+1]*u.height;var b=a[e],m=a[n],x=a[r],w=a[e+1],T=a[n+1],E=a[r+1],S=t.canvasPadding/this.renderer.resolution;if(S>0){var M=S/Math.abs(t.worldTransform.a),O=S/Math.abs(t.worldTransform.d),C=(b+m+x)/3,A=(w+T+E)/3,P=b-C,R=w-A,I=Math.sqrt(P*P+R*R);b=C+P/I*(I+M),w=A+R/I*(I+O),R=T-A,m=C+(P=m-C)/(I=Math.sqrt(P*P+R*R))*(I+M),T=A+R/I*(I+O),R=E-A,x=C+(P=x-C)/(I=Math.sqrt(P*P+R*R))*(I+M),E=A+R/I*(I+O)}i.save(),i.beginPath(),i.moveTo(b,w),i.lineTo(m,T),i.lineTo(x,E),i.closePath(),i.clip();var D=f*_+v*p+d*y-_*p-v*d-f*y,k=b*_+v*x+m*y-_*x-v*m-b*y,L=f*m+b*p+d*x-m*p-b*d-f*x,N=f*_*x+v*m*p+b*d*y-b*_*p-v*d*x-f*m*y,F=w*_+v*E+T*y-_*E-v*T-w*y,j=f*T+w*p+d*E-T*p-w*d-f*E,B=f*_*E+v*T*p+w*d*y-w*_*p-v*d*E-f*T*y;i.transform(k/D,F/D,L/D,j/D,N/D,B/D),i.drawImage(l,0,0,h*u.resolution,c*u.resolution,0,0,h,c),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,n=t.vertices,r=n.length/2;e.beginPath();for(var i=1;i<r-2;++i){var o=2*i,a=n[o],s=n[o+1],u=n[o+2],l=n[o+3],h=n[o+4],c=n[o+5];e.moveTo(a,s),e.lineTo(u,l),e.lineTo(h,c)}e.fillStyle=\"#FF0000\",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=s,i.CanvasRenderer.registerPlugin(\"mesh\",s)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(89)),o=a(n(17));function a(t){return t&&t.__esModule?t:{default:t}}var s=10,u=function(t){function e(n,r,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,4,4));return u._origWidth=n.orig.width,u._origHeight=n.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth=void 0!==r?r:s,u._rightWidth=void 0!==o?o:s,u._topHeight=void 0!==i?i:s,u._bottomHeight=void 0!==a?a:s,u._cachedTint=16777215,u._tintedTexture=null,u._canvasUvs=null,u.refresh(!0),u}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,n=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*n,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*n,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*n,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*n,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context,n=this.worldTransform,r=t.resolution,i=16777215!==this.tint,a=this._texture;i&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=o.default.getTintedTexture(this,this.tint));var s=i?this._tintedTexture:a.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var u=this.vertices,l=this._canvasUvs,h=i?0:a.frame.x,c=i?0:a.frame.y,f=h+a.frame.width,d=c+a.frame.height;l[0]=h,l[1]=h+this._leftWidth,l[2]=f-this._rightWidth,l[3]=f,l[4]=c,l[5]=c+this._topHeight,l[6]=d-this._bottomHeight,l[7]=d;for(var p=0;p<8;p++)l[p]*=a.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.roundPixels?e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r|0,n.ty*r|0):e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r);for(var v=0;v<3;v++)for(var _=0;_<3;_++){var y=2*_+8*v,g=Math.max(1,l[_+1]-l[_]),b=Math.max(1,l[v+5]-l[v+4]),m=Math.max(1,u[y+10]-u[y]),x=Math.max(1,u[y+11]-u[y+1]);e.drawImage(s,l[_],l[v+4],g,b,u[y],u[y+1],m,x)}},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,n=this._texture;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},r(e,[{key:\"width\",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:\"height\",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:\"leftWidth\",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:\"rightWidth\",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:\"topHeight\",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:\"bottomHeight\",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(i.default);e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(16);var o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return i.points=r,i.vertices=new Float32Array(4*r.length),i.uvs=new Float32Array(4*r.length),i.colors=new Float32Array(2*r.length),i.indices=new Uint16Array(2*r.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,n=this.indices,r=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,r[0]=1,r[1]=1,n[0]=0,n[1]=1;for(var i=t.length,o=1;o<i;o++){var a=4*o,s=o/(i-1);e[a]=s,e[a+1]=0,e[a+2]=s,e[a+3]=1,r[a=2*o]=1,r[a+1]=1,n[a=2*o]=a,n[a+1]=a+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],n=void 0,r=0,i=0,o=this.vertices,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s;i=-((n=s<t.length-1?t[s+1]:u).x-e.x),r=n.y-e.y;var h=10*(1-s/(a-1));h>1&&(h=1);var c=Math.sqrt(r*r+i*i),f=this._texture.height/2;r/=c,i/=c,r*=f,i*=f,o[l]=u.x+r,o[l+1]=u.y+i,o[l+2]=u.x-r,o[l+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(184);Object.defineProperty(e,\"ParticleContainer\",{enumerable:!0,get:function(){return o(r).default}});var i=n(185);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"ParticleRenderer\",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(2);var a=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,r=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>n&&(o=n),s._properties=[!1,!0,!1,!1,!1],s._maxSize=n,s._batchSize=o,s._glBuffers={},s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=i.BLEND_MODES.NORMAL,s.autoResize=a,s.roundPixels=!0,s.baseTexture=null,s.setProperties(r),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]=\"vertices\"in t||\"scale\"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]=\"position\"in t?!!t.position:this._properties[1],this._properties[2]=\"rotation\"in t?!!t.rotation:this._properties[2],this._properties[3]=\"uvs\"in t?!!t.uvs:this._properties[3],this._properties[4]=\"tint\"in t||\"alpha\"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once(\"update\",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,n=this.worldTransform,r=!0,i=0,o=0,a=0,s=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var l=this.children[u];if(l.visible){var h=l._texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)==0)r&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx*t.resolution,n.ty*t.resolution),r=!1),i=l.anchor.x*(-h.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-h.height*l.scale.y)+l.position.y+.5,a=h.width*l.scale.x,s=h.height*l.scale.y;else{r||(r=!0),l.displayObjectUpdateTransform();var c=l.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),i=l.anchor.x*-h.width+.5,o=l.anchor.y*-h.height+.5,a=h.width,s=h.height}var f=l._texture.baseTexture.resolution;e.drawImage(l._texture.baseTexture.source,h.x*f,h.y*f,h.width*f,h.height*f,i*t.resolution,o*t.resolution,a*t.resolution,s*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r(e,[{key:\"tint\",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(i.Container);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=s(n(186)),o=s(n(187)),a=n(2);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new r.Matrix,i.CONTEXT_UID=0,i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,n=t._maxSize,i=t._batchSize,o=this.renderer,a=e.length;if(0!==a){a>n&&(a=n);var s=t._glBuffers[o.CONTEXT_UID];s||(s=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(r.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var l=o.gl,h=t.worldTransform.copy(this.tempMatrix);h.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=h.toArray(!0),this.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var c=!1,f=0,d=0;f<a;f+=i,d+=1){var p=a-f;if(p>i&&(p=i),d>=s.length){if(!t.autoResize)break;s.push(this._generateOneMoreBuffer(t))}var v=s[d];v.uploadDynamic(e,f,p);var _=t._bufferUpdateIDs[d]||0;(c=c||v._updateID<_)&&(v._updateID=t._updateID,v.uploadStatic(e,f,p)),o.bindVao(v.vao),v.vao.draw(l.TRIANGLES,6*p)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,n=[],r=t._maxSize,i=t._batchSize,a=t._properties,s=0;s<r;s+=i)n.push(new o.default(e,this.properties,a,i));return n},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,n=t._batchSize,r=t._properties;return new o.default(e,this.properties,r,n)},e.prototype.uploadVertices=function(t,e,n,r,i,o){for(var a=0,s=0,u=0,l=0,h=0;h<n;++h){var c=t[e+h],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,_=f.orig;v?(a=(s=v.x-c.anchor.x*_.width)+v.width,u=(l=v.y-c.anchor.y*_.height)+v.height):(a=_.width*(1-c.anchor.x),s=_.width*-c.anchor.x,u=_.height*(1-c.anchor.y),l=_.height*-c.anchor.y),r[o]=s*d,r[o+1]=l*p,r[o+i]=a*d,r[o+i+1]=l*p,r[o+2*i]=a*d,r[o+2*i+1]=u*p,r[o+3*i]=s*d,r[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,n,r,i,o){for(var a=0;a<n;++a){var s=t[e+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,n,r,i,o){for(var s=0;s<n;++s){var u=t[e+s],l=u._texture.baseTexture.premultipliedAlpha,h=u.alpha,c=h<1&&l?(0,a.premultiplyTint)(u._tintRGB,h):u._tintRGB+(255*h<<24);r[o]=c,r[o+i]=c,r[o+2*i]=c,r[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(r.ObjectRenderer);e.default=u,r.WebGLRenderer.registerPlugin(\"particle\",u)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(14);var o=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"attribute vec4 aColor;\",\"attribute vec2 aPositionCoord;\",\"attribute float aRotation;\",\"uniform mat3 projectionMatrix;\",\"uniform vec4 uColor;\",\"varying vec2 vTextureCoord;\",\"varying vec4 vColor;\",\"void main(void){\",\"   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\",\"   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\",\"   vec2 v = vec2(x, y);\",\"   v = v + aPositionCoord;\",\"   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\",\"   vTextureCoord = aTextureCoord;\",\"   vColor = aColor * uColor;\",\"}\"].join(\"\\n\"),[\"varying vec2 vTextureCoord;\",\"varying vec4 vColor;\",\"uniform sampler2D uSampler;\",\"void main(void){\",\"  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\",\"  gl_FragColor = color;\",\"}\"].join(\"\\n\")))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(5)),i=o(n(35));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<n.length;++o){var a=n[o];a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,unsignedByte:a.unsignedByte,offset:a.offset},r[o]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,i.default)(this.size),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var o=this.dynamicProperties[n];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=r.default.GLBuffer.createVertexBuffer(t,a,t.STREAM_DRAW);var s=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var l=this.staticProperties[u];l.offset=s,s+=l.size,this.staticStride+=l.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=r.default.GLBuffer.createVertexBuffer(t,h,t.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var f=this.dynamicProperties[c];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(t,e,n,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(t,e,n,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(189);Object.defineProperty(e,\"webgl\",{enumerable:!0,get:function(){return u(r).default}});var i=n(190);Object.defineProperty(e,\"canvas\",{enumerable:!0,get:function(){return u(i).default}});var o=n(37);Object.defineProperty(e,\"BasePrepare\",{enumerable:!0,get:function(){return u(o).default}});var a=n(90);Object.defineProperty(e,\"CountLimiter\",{enumerable:!0,get:function(){return u(a).default}});var s=n(191);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"TimeLimiter\",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(37);var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.uploadHookHelper=r.renderer,r.registerFindHook(l),r.registerUploadHook(s),r.registerUploadHook(u),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);function s(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function u(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function l(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}e.default=a,i.WebGLRenderer.registerPlugin(\"prepare\",a)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(37),a=(r=o)&&r.__esModule?r:{default:r};var s=16,u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.uploadHookHelper=r,r.canvas=document.createElement(\"canvas\"),r.canvas.width=s,r.canvas.height=s,r.ctx=r.canvas.getContext(\"2d\"),r.registerUploadHook(l),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(a.default);function l(t,e){if(e instanceof i.BaseTexture){var n=e.source,r=0===n.width?t.canvas.width:Math.min(t.canvas.width,n.width),o=0===n.height?t.canvas.height:Math.min(t.canvas.height,n.height);return t.ctx.drawImage(n,0,0,r,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=u,i.CanvasRenderer.registerPlugin(\"prepare\",u)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=r},function(t,e,n){(function(n){var r,i=function(){this._tweens={},this._tweensAddedDuringUpdate={}};i.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:a.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]];i&&!1===i.update(t)&&(i._isPlaying=!1,e||delete this._tweens[n[r]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var o,a=new i;a.Group=i,a._nextId=0,a.nextId=function(){return a._nextId++},\"undefined\"==typeof window&&void 0!==n&&n.hrtime?a.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e6}:\"undefined\"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?a.now=window.performance.now.bind(window.performance):void 0!==Date.now?a.now=Date.now:a.now=function(){return(new Date).getTime()},a.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=a.Easing.Linear.None,this._interpolationFunction=a.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||a,this._id=a.nextId()},a.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=t,void 0!==e&&(this._duration=e),this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?\"string\"==typeof t?a.now()+parseFloat(t):t:a.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,n,r;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n,r=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[e]){var i=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,r):(\"string\"==typeof o&&(o=\"+\"===o.charAt(0)||\"-\"===o.charAt(0)?i+parseFloat(o):parseFloat(o)),\"number\"==typeof o&&(this._object[e]=i+(o-i)*r))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1===n){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if(\"string\"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var a=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=a}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,u=this._chainedTweens.length;s<u;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}return!0}},a.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-a.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*a.Easing.Bounce.In(2*t):.5*a.Easing.Bounce.Out(2*t-1)+.5}}},a.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=a.Interpolation.Utils.Bernstein,s=0;s<=r;s++)n+=i(1-e,r-s)*i(e,s)*t[s]*o(r,s);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=a.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(o=[1],function(t){var e=1;if(o[t])return o[t];for(var n=t;n>1;n--)e*=n;return o[t]=e,e}),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i;return(2*e-2*n+o+a)*(i*s)+(-3*e+3*n-2*o-a)*s+o*i+e}}},void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}).call(this,n(63))},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"/\",e(e.s=26)}([function(t,e,n){\"use strict\";var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};t.exports=new function(){var t=this;this.noop=function(){},this.get=function(e,n,r){var i=Array.isArray(n)?n:n.split(\".\");if(!i.length)return e;var o=i.shift();return e&&e.hasOwnProperty(o)?t.get(e[o],i,r):r},this.has=function(e,n){var r=Array.isArray(n)?n:n.split(\".\");if(!r.length)return!0;var i=r.shift();return!(!e||!e.hasOwnProperty(i))&&t.has(e[i],r)},this.set=function(e,n,r){var i=Array.isArray(n)?n:n.split(\".\"),o=i.shift();if(i.length){if(!e.hasOwnProperty(o)){var a=i[0];e[o]=t.isNumeric(a)?[]:{}}t.set(e[o],i,r)}else e[o]=r},this.clone=function(t){return JSON.parse(JSON.stringify(t))},this.includes=function(t,e){if(Array.isArray(t))return t.indexOf(e)>-1;var n=!0,r=!1,o=void 0;try{for(var a,s=Object.entries(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=i(a.value,2);if(u[0],e===u[1])return!0}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!1},this.isObject=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":r(t))&&!Array.isArray(t)},this.isNumber=function(t){return\"number\"==typeof t&&!isNaN(t)},this.isNumeric=function(t){return!isNaN(parseInt(t))};var e=function(e){var n=e,r=Array.isArray(e)&&1===e.length||\"string\"==typeof e,i=Array.isArray(e)&&e.length>1;if(r){var o=Array.isArray(e)?e[0]:e;n=function(e,n){return t.has(e,o)}}else i&&(n=function(n,r){return t.get(n,e[0])===e[1]});return n};this.findIndex=function(t,n,r){r=r||0;var i=e(n);r<0&&(r=t.length+r);for(var o=r;o<t.length;o++)if(i(t[o],o))return o;return-1},this.findLastIndex=function(n,r,i){i=t.isNumber(i)?i:n.length-1;var o=e(r);i<0&&(i=n.length+i);for(var a=i;a>-1;a--)if(o(n[a],a))return a;return-1},this.find=function(e,n,r){return e[t.findIndex(e,n,r)]},this.findLast=function(e,n,r){return e[t.findLastIndex(e,n,r)]},this.findPropertyIndex=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.findIndex(e,function(e){return t.has(e,n)},r)},this.findLastPropertyIndex=function(e,n,r){return r=r||e.length-1,t.findLastIndex(e,function(e){return t.has(e,n)},r)},this.pull=function(t,e){var n=void 0;if(t)for(;t.indexOf(e)>-1;)(n=t.indexOf(e))>-1&&t.splice(n,1)},this.lowerFirst=function(t){return t?t.charAt(0).toLowerCase()+t.substring(1):t},this.forEach=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},this.map=function(e,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];\"string\"==typeof n?r.push(t.get(o,n)):r.push(n(o,i))}return r},this.keys=function(t){return t?Object.keys(t):[]},this.sortBy=function(t,e){return Array.isArray(t)?t.sort(function(t,n){var r=t[e],i=n[e];return void 0===r?1:void 0===i?-1:r<i?-1:r>i?1:0}):t}}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=n(2),a=r(o),s=n(3),u=r(s),l=n(7),h={r:0,g:0,b:0,a:255},c=new function(){var t=this;this.name=\"rgb\",this.className=\"Rgb\",this.parent=null,this.test=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":i(t))&&t.hasOwnProperty(\"r\")&&t.hasOwnProperty(\"g\")&&t.hasOwnProperty(\"b\")&&t.r>=0&&t.r<=255&&t.g>=0&&t.g<=255&&t.b>=0&&t.b<=255&&(!t.hasOwnProperty(\"a\")||t.a>=0&&t.a<=255)},this.gradient=function(e){return a.default.createGradient(e,{mixColors:t.mix,defaultColor:h})},this.gradientData=function(t,e){return e=e||h,new u.default(t,e)},this.draw=function(e,n){var r=(0,l.getCanvasGradient)(t,n),i=(0,l.getCanvasTarget)(e);if(i&&r){for(var o=i.width,a=i.height,s=i.getContext(\"2d\"),u=s.createImageData(o,a),h=u.data.buffer,c=new Uint32Array(h),f=new Uint8ClampedArray(h),d=0;d<o;d++)for(var p=0;p<a;p++)c[p*o+d]=t.to.intabgr(r(d,p));u.data.set(f),s.putImageData(u,0,0)}},this.hueColors=function(){return[{a:255,b:0,g:0,r:255},{a:255,b:0,g:255,r:255},{a:255,b:0,g:255,r:0},{a:255,b:255,g:255,r:0},{a:255,b:255,g:0,r:0},{a:255,b:255,g:0,r:255},{a:255,b:0,g:0,r:255}]},this.hue=function(e){var n=a.default.partialGradient(c.hueColors(),c.to.hsv(e).h);return t.mix(n.item1,n.item2,n.position)},this.mix=function(t,e,n){return{r:t.r-n*(t.r-e.r),g:t.g-n*(t.g-e.g),b:t.b-n*(t.b-e.b),a:t.a-n*(t.a-e.a)}},this.to={int:function(t){return t.r<<16|t.g<<8|t.b},hex:function(t){return\"#\"+(1<<24|t.r<<16|t.g<<8|t.b).toString(16).slice(1)},cssrgb:function(t){return\"rgb(\"+Math.round(t.r)+\",\"+Math.round(t.g)+\",\"+Math.round(t.b)+\")\"},cssrgba:function(t){return\"rgba(\"+Math.round(t.r)+\",\"+Math.round(t.g)+\",\"+Math.round(t.b)+\",\"+t.a/255+\")\"},uintabgr:function(t){return(t.a<<24|t.b<<16|t.g<<8|t.r)>>>0},uintabgrOpaque:function(t){return(4278190080|t.b<<16|t.g<<8|t.r)>>>0},uintrgba:function(t){return(t.r<<24|t.g<<16|t.b<<8|t.a)>>>0},intabgr:function(t){return t.a<<24|t.b<<16|t.g<<8|t.r},intabgrOpaque:function(t){return 4278190080|t.b<<16|t.g<<8|t.r},intrgba:function(t){return t.r<<24|t.g<<16|t.b<<8|t.a},hsl:function(t){var e=t.r,n=t.g,r=t.b,i=t.a;e/=255,n/=255,r/=255,i=isNaN(parseInt(i))?1:i/255;var o=Math.max(e,n,r),a=Math.min(e,n,r),s=o-a,u=(o+a)/2,l=0,h=0;return s>0&&(l=s/(1-Math.abs(2*u-1)),r===o?h=(e-n)/s+4:n===o?h=(r-e)/s+2:e===o&&(h=(n-r)/s+(n<r?6:0))<0&&(h+=360),h/=6),{h:h,s:l,l:u,a:i}},hsv:function(t){var e=t.r,n=t.g,r=t.b,i=t.a;e/=255,n/=255,r/=255,i=isNaN(parseInt(i))?1:i/255;var o=Math.max(e,n,r),a=Math.min(e,n,r),s=o-a,u=0,l=0;return s>0&&(u=s/o,r===o?l=(e-n)/s+4:n===o?l=(r-e)/s+2:e===o&&(l=(n-r)/s+(n<r?6:0))<0&&(l+=360),l/=6),{h:l,s:u,v:o,a:i}}}};e.default=c,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(0),o=r(i),a=n(9),s=r(a),u=n(3),l=r(u);e.default=new function(){var t=this,e=2*Math.PI;this.createGradient=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};var r=o.default.includes([\"linear\",\"circular\"],e.type)?e.type:\"linear\",i=o.default.get(e,\"verify\",!1),a=(o.default.get(e,\"validate\",!0),e.onValidationComplete||o.default.noop),u=null,h=null;if(e.colors instanceof l.default)h=e.colors;else{var c=e.defaultColor||n.defaultColor;h=new l.default(e.colors,c)}i&&h.verify();var f=h.matrix?h.object2d:h.flat1d;a(f);var d=0,p=0;\"circular\"===r?u=h.matrix?t.circularMatrixGradient:t.circularGradient:(d=e.centerX||0,p=e.centerY||0,u=h.matrix?t.linearMatrixGradient:t.linearGradient);var v=e.width||100,_=e.height||100,y=e.scaleX||e.scale||1,g=e.scaleY||e.scale||1,b=v*y,m=_*g,x=e.translateX||0,w=e.translateY||0;\"circular\"===r&&(b=v*(y/=2),m=_*(g/=2),x*=2,w*=2),e.centralize?(\"linear\"===r&&(d=.5,p=.5),x=.5/y+x-d,w=.5/g+w-p):(x-=d,w-=p);var T={colors:f,centerX:d||0,centerY:p||0,translateX:x,translateY:w,rotation:e.rotation||0,repeatX:e.repeatX||s.default.repeat,repeatY:e.repeatY||s.default.repeat,mixColors:n.mixColors};return function(t,e){return u(t/b,e/m,T)}},this.partialGradient=function(t,e){var n=t.length-1,r=e*n|0,i=1/n*1e3,o=1e3*e%i/i,a=t[r];return{item1:a,item2:void 0!==t[r+1]?t[r+1]:a,position:o}},this.partialGradientWithStops=function(t,e,n){for(var r=0;t[r][n]<e;)r++;var i=void 0!==t[r-1]?t[r-1]:t[r],o=t[r],a=o[n]-i[n];return{item1:i,item2:o,position:(e-i[n])/a||0}},this.linearGradient=function(n,r,i){var o=i.rotation*e,a=Math.cos(o),s=Math.sin(o),u=n-i.centerX-i.translateX,l=r-i.centerY-i.translateY;n=i.repeatX(i.centerX+u*a-l*s);var h=t.partialGradientWithStops(i.colors,n,\"x\");return i.mixColors(h.item1,h.item2,h.position)},this.linearMatrixGradient=function(n,r,i){var o=i.rotation*e,a=Math.cos(o),s=Math.sin(o),u=n-i.centerX-i.translateX,l=r-i.centerY-i.translateY;n=i.repeatX(i.centerX+u*a-l*s),r=i.repeatY(i.centerY+u*s+l*a);var h=t.partialGradientWithStops(i.colors,r,\"y\"),c=t.partialGradientWithStops(h.item1.colors,n,\"x\"),f=t.partialGradientWithStops(h.item2.colors,n,\"x\"),d=i.mixColors(c.item1,c.item2,c.position),p=i.mixColors(f.item1,f.item2,f.position);return i.mixColors(d,p,h.position)},this.circularGradient=function(n,r,i){var o=i.translateX,a=i.translateY,s=i.repeatX((Math.atan2(a-r,o-n)+Math.PI)/e-i.rotation),u=t.partialGradientWithStops(i.colors,s,\"x\");return i.mixColors(u.item1,u.item2,u.position)},this.circularMatrixGradient=function(n,r,i){var o=i.translateX,a=i.translateY,s=o-n,u=a-r,l=i.repeatY(Math.sqrt(s*s+u*u)),h=i.repeatX((Math.atan2(u,s)+Math.PI)/e-i.rotation),c=t.partialGradientWithStops(i.colors,l,\"y\"),f=t.partialGradientWithStops(c.item1.colors,h,\"x\"),d=t.partialGradientWithStops(c.item2.colors,h,\"x\"),p=i.mixColors(f.item1,f.item2,f.position),v=i.mixColors(d.item1,d.item2,d.position);return i.mixColors(p,v,c.position)}},t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=r(o),s=n(13),u=r(s),l=n(15),h=r(l),c=n(12),f=r(c),d=n(14),p=r(d),v=[u.default,h.default,f.default,p.default],_=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!Array.isArray(e)||!e.length)throw new Error(\"GradientData: Argument should be and array with at least one item.\");if(this.dataType=this._getDataTypeFromFirstSample(e),!this.dataType)throw new Error(\"GradientData: One sample was tested and it did not match any supported data structures.\");this.data=e,this.defaultColor=n}return i(t,[{key:\"typeName\",get:function(){return this.dataType.name}},{key:\"matrix\",get:function(){return this.dataType.matrix}},{key:\"flat1d\",get:function(){return a.default.has(this.dataType,\"toFlat1d\")?this.dataType.toFlat1d(this.data,this.defaultColor):new t(this.dataType.toObject2d(this.data,this.defaultColor),this.defaultColor).flat1d}},{key:\"flat2d\",get:function(){return a.default.has(this.dataType,\"toFlat2d\")?this.dataType.toFlat2d(this.data,this.defaultColor):new t(this.dataType.toObject2d(this.data,this.defaultColor),this.defaultColor).flat2d}},{key:\"array2d\",get:function(){return a.default.has(this.dataType,\"toArray2d\")?this.dataType.toArray2d(this.data,this.defaultColor):new t(this.dataType.toObject2d(this.data,this.defaultColor),this.defaultColor).array2d}},{key:\"object2d\",get:function(){return this.dataType.toObject2d(this.data,this.defaultColor)}}],[{key:\"types\",get:function(){return v}}]),i(t,[{key:\"verify\",value:function(){return this.dataType.verify(this.data)}},{key:\"_getDataTypeFromFirstSample\",value:function(t){return a.default.find(v,function(e){return e.testStructure(t)})}}]),t}();e.default=_,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return r(t,null,[{key:\"addDefaultColorsForMatrix\",value:function(t,e){var n=o.default.keys(e);o.default.forEach(t,function(t){o.default.forEach(t.colors,function(t){o.default.forEach(n,function(n){o.default.has(t,n)||(t[n]=e[n])})})})}},{key:\"addDefaultColors\",value:function(t,e){var n=o.default.keys(e);o.default.forEach(t,function(t){o.default.forEach(n,function(n){o.default.has(t,n)||(t[n]=e[n])})})}},{key:\"verify\",value:function(t,e){if(!this._verifyExpectedDataStructureInAllSamples(t,e))throw new Error(\"Color data structure is not consistent / valid\");return!0}},{key:\"_verifyExpectedDataStructureInAllSamples\",value:function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(!e.testStructureSingleSample(r))return!1}return!0}},{key:\"addMissingStopsXY\",value:function(t){var e=this;return t=this.addMissingStops(t,\"y\"),o.default.forEach(t,function(t){t.colors=e.addMissingStops(t.colors,\"x\")}),t}},{key:\"addMissingStops\",value:function(t,e){1===(t=o.default.clone(t)).length&&(delete t[0][e],t.push(o.default.clone(t[0])));var n=o.default.findPropertyIndex(t,e),r=t[0],i=void 0;n>0||-1===n?r[e]=0:0!==r[e]&&((i=o.default.clone(r))[e]=0,t.unshift(i));var a=o.default.findLastPropertyIndex(t,e),s=t[t.length-1];a<t.length-1?s[e]=1:1!==s[e]&&((i=o.default.clone(s))[e]=1,t.push(i));for(var u=0,l=0;l>-1;)u=o.default.findPropertyIndex(t,e,u),(l=o.default.findPropertyIndex(t,e,u+1))>-1&&this._addStopsBetweenIndexes(t,e,u,l),u=l;return t}},{key:\"_addStopsBetweenIndexes\",value:function(t,e,n,r){for(var i=t[n][e],o=t[r][e],a=r-n,s=(o-i)/a,u=1;u<a;u++)t[n+u][e]=i+u*s}}]),t}();e.default=a,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return r(t,null,[{key:\"convert\",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Array.isArray(t)?t.map(function(t){return e.convert.apply(e,[t].concat(r))}):r.reduce(function(t,e){return e(t)},t)}},{key:\"convertAny\",value:function(t,e,n){var r=this.getColorType(t,n);if(!r||r===e)return t;if(\"function\"==typeof r.to[e.name])return r.to[e.name](t);var i=this._getConversionPathThroughParentType(r,e,n);return this.convert.apply(this,[t].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(i)))}},{key:\"getColorType\",value:function(t,e){return o.default.find(e,function(e){return e.test(t)})}},{key:\"_getConversionPathThroughParentType\",value:function(t,e,n){var r=this._getPathToRoot(t),i=this._getPathToRoot(e).reverse(),a=r[r.length-1],s=i[0],u=a===s,l=\"function\"==typeof a.to[s.name];if(u)i.shift();else if(!l)throw new Error(\"Path should be implemented from \"+a.name+\" to \"+s.name);var h=r.concat(i),c=[],f=void 0;return o.default.forEach(h,function(t,e){(f=h[e+1])&&c.push(t.to[f.name])}),c}},{key:\"_getPathToRoot\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.push(t),t.parent?this._getPathToRoot(t.parent,e):e}}]),t}();e.default=a,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return{h:t.h-n*(t.h-e.h),s:t.s-n*(t.s-e.s),l:t.l-n*(t.l-e.l),a:t.a-n*(t.a-e.a)}}Object.defineProperty(e,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},a=n(1),s=r(a),u=n(2),l=r(u),h=n(3),c=r(h),f=n(7),d={h:0,s:0,l:0,a:1},p=new function(){var t=this;this.name=\"hsl\",this.className=\"Hsl\",this.parent=null,this.test=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":o(t))&&t.hasOwnProperty(\"h\")&&t.hasOwnProperty(\"s\")&&t.hasOwnProperty(\"l\")&&t.h>=0&&t.h<=1&&t.s>=0&&t.s<=1&&t.l>=0&&t.l<=1&&(!t.hasOwnProperty(\"a\")||t.a>=0&&t.a<=1)},this.gradient=function(t){return l.default.createGradient(t,{mixColors:i,defaultColor:d})},this.gradientData=function(t,e){return e=e||d,new c.default(t,e)},this.draw=function(e,n){var r=(0,f.getCanvasGradient)(t,n),i=(0,f.getCanvasTarget)(e);if(i&&r){for(var o=i.width,a=i.height,u=i.getContext(\"2d\"),l=u.createImageData(o,a),h=l.data.buffer,c=new Uint32Array(h),d=new Uint8ClampedArray(h),p=0;p<o;p++)for(var v=0;v<a;v++){var _=r(p,v),y=t.to.rgb(_);c[v*o+p]=s.default.to.intabgr(y)}l.data.set(d),u.putImageData(l,0,0)}},this.to={rgb:function(t){var e=t.h,n=t.s,r=t.l,i=t.a,o=(1-Math.abs(2*r-1))*n,a=o*(1-Math.abs(6*e%2-1)),s=r-o/2,u=void 0,l=void 0,h=void 0;return e<1/6?(u=o,l=a,h=0):e<2/6?(u=a,l=o,h=0):e<.5?(u=0,l=o,h=a):e<4/6?(u=0,l=a,h=o):e<5/6?(u=a,l=0,h=o):(u=o,l=0,h=a),{r:255*(u+s),g:255*(l+s),b:255*(h+s),a:void 0===i?255:255*i}},hsv:function(t){var e=t.h,n=t.s,r=t.l,i=t.a,o=(2*r+n*(1-Math.abs(2*r-1)))/2;return{h:e,s:n=2*(o-r)/o,v:o,a:void 0===i?1:i}},csshsl:function(t){return\"hsl(\"+Math.round(360*t.h)+\",\"+Math.round(100*t.s)+\"%,\"+Math.round(100*t.l)+\"%)\"},csshsla:function(t){return\"hsla(\"+Math.round(360*t.h)+\",\"+Math.round(100*t.s)+\"%,\"+Math.round(100*t.l)+\"%,\"+t.a+\")\"}}};e.default=p,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getCanvasTarget=e.getCanvasGradient=void 0;var r=n(0),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.getCanvasGradient=function(t,e){return i.default.isObject(e)?t.gradient(e):\"function\"==typeof e?e:null},e.getCanvasTarget=function t(e){return e instanceof HTMLCanvasElement?e:\"string\"==typeof e?t(document.querySelector(e)):null}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.TYPES_ALL=e.TYPES=void 0;var i=n(1),o=r(i),a=n(23),s=r(a),u=n(21),l=r(u),h=n(19),c=r(h),f=n(20),d=r(f),p=n(6),v=r(p),_=n(17),y=r(_),g=n(18),b=r(g),m=n(22),x=r(m),w=n(24),T=r(w),E=n(25),S=r(E),M=[o.default,s.default,l.default,v.default,x.default,d.default,c.default,b.default,y.default],O=M.concat([T.default,S.default]);e.TYPES=M,e.TYPES_ALL=O},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={none:function(t){return t},stop:function(t){return t<0?0:t>1?1:t},repeat:function(t){return t<0?1+t%1:t>1?t%1:t}},t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(5),o=r(i),a=n(2),s=(r(a),n(9)),u=r(s),l=n(11),h=r(l),c=n(0),f=r(c),d=n(16),p=r(d),v=n(8),_=function(){var t=new ArrayBuffer(2),e=new Uint8Array(t),n=new Uint16Array(t);return e[0]=170,e[1]=187,48042===n[0]?0:43707===n[0]?1:UNKNOW_ENDIAN}(),y={any:p.default,endian:_,convert:o.default.convert,colorType:function(t){return o.default.getColorType(t,v.TYPES)},repeat:u.default,color:function(t){return new h.default(t)}};f.default.forEach(v.TYPES_ALL,function(t){y[t.name]=t}),e.default=y,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(8),a=n(1),s=r(a),u=n(2),l=r(u),h=n(5),c=r(h),f=n(0),d=r(f),p=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e instanceof t)this._primaryColor=d.default.clone(e._primaryColor),this._cache=this._cloneCache(e);else{var n=c.default.getColorType(e,o.TYPES);n||(n=\"Rgb\",e={r:0,g:0,b:0,a:255}),this._primaryColor=e,this._cache={},this._cache[n.name]=e}}return i(t,[{key:\"clone\",value:function(){return new t(this)}},{key:\"hueFromColor\",value:function(e){var n=this.hsv;return n.h=new t(e).hsv.h,new t(n)}},{key:\"hueFromValue\",value:function(e){var n=this.hsv;return n.h=e>1?1:e<0?0:e,new t(n)}},{key:\"hue\",value:function(){var e=this;return this._cacheValue(\"hue\",function(){var n=l.default.partialGradient(s.default.hueColors(),e.hsv.h);return new t(s.default.mix(n.item1,n.item2,n.position))}),this._cache.hue}}]),t}();p.prototype._cacheValue=function(t,e){if(!d.default.has(this._cache,t)){var n=e();this._cache[t]=n}},p.prototype._cloneCache=function(t){var e=t._cache.hue,n=d.default.clone(t._cache);return e&&(n.hue=e.clone()),n},d.default.forEach(o.TYPES,function(t){var e=t.name;Object.defineProperty(p.prototype,e,{get:function(){var n=this;return this._cacheValue(e,function(){return c.default.convertAny(n._primaryColor,t,o.TYPES)}),this._cache[e]}})}),e.default=p,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=r(o),s=n(4),u=r(s),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=a.default.get(t,\"0\");return this.testStructureSingleSample(e)}},{key:\"verify\",value:function(t){return u.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){var e=t,n=Array.isArray(t)&&e.length>0;if(!n)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(!(n=a.default.isObject(i)))return!1}return!0}},{key:\"toObject2d\",value:function(t,e){var n=t.map(function(t){var e={};return a.default.isNumber(t.y)&&(e.y=t.y),e.colors=t,e});return n=u.default.addMissingStopsXY(n),u.default.addDefaultColorsForMatrix(n,e),n}},{key:\"name\",get:function(){return\"array2d\"}},{key:\"matrix\",get:function(){return!0}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=r(o),s=n(4),u=r(s),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=a.default.get(t,\"0\");return this.testStructureSingleSample(e)&&this._testStructureAllSamples(t)}},{key:\"verify\",value:function(t){return u.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){return a.default.isObject(t)&&!a.default.has(t,\"colors\")}},{key:\"_testStructureAllSamples\",value:function(t){return-1===a.default.findPropertyIndex(t,\"y\")}},{key:\"toFlat1d\",value:function(t,e){var n=u.default.addMissingStops(t,\"x\");return u.default.addDefaultColors(n,e),n}},{key:\"toObject2d\",value:function(t,e){var n=this.toFlat1d(t,e);return[{y:0,colors:n},{y:1,colors:n}]}},{key:\"name\",get:function(){return\"flat1d\"}},{key:\"matrix\",get:function(){return!1}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=r(o),s=n(4),u=r(s),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=a.default.get(t,\"0\");return this.testStructureSingleSample(e)&&this._testStructureAllSamples(t)}},{key:\"verify\",value:function(t){return u.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){return a.default.isObject(t)&&!a.default.has(t,\"colors\")}},{key:\"_testStructureAllSamples\",value:function(t){return a.default.findPropertyIndex(t,\"y\")>-1}},{key:\"toObject2d\",value:function(t,e){t=a.default.clone(t);var n=[],r=0,i=void 0;return a.default.forEach(t,function(t){i=a.default.isNumber(t.y)?t.y:r;var e=a.default.find(n,[\"y\",i]);e?e.colors.push(t):n.push({y:i,colors:[t]}),r=i,delete t.y}),n=u.default.addMissingStopsXY(n),u.default.addDefaultColorsForMatrix(n,e),n}},{key:\"name\",get:function(){return\"flat2d\"}},{key:\"matrix\",get:function(){return!0}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=r(o),s=n(4),u=r(s),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=a.default.get(t,\"0\");return this.testStructureSingleSample(e)}},{key:\"verify\",value:function(t){return u.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){var e=a.default.get(t,\"colors\"),n=a.default.isObject(t)&&Array.isArray(e);if(!n)return!1;if(e.length<1)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(!(n=a.default.isObject(i)))return!1}return!0}},{key:\"toObject2d\",value:function(t,e){var n=u.default.addMissingStopsXY(t);return u.default.addDefaultColorsForMatrix(n,e),n}},{key:\"toFlat1d\",value:function(t,e){var n=this.toObject2d(t,e),r=[];return a.default.forEach(n,function(t){a.default.forEach(t.colors,function(t){delete t.x,r.push(t)})}),r}},{key:\"toArray2d\",value:function(t,e){var n=this.toObject2d(t,e);return a.default.map(n,\"colors\")}},{key:\"toFlat2d\",value:function(t,e){var n=this.toObject2d(t,e),r=[];return a.default.forEach(n,function(t){var e=t.y;a.default.forEach(t.colors,function(t){t.y=e,r.push(t)})}),r}},{key:\"name\",get:function(){return\"object2d\"}},{key:\"matrix\",get:function(){return!0}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(0),o=r(i),a=n(5),s=r(a),u=n(8),l={to:{}};o.default.forEach(u.TYPES,function(t){var e=o.default.lowerFirst(t.name);l.to[e]=function(e){return s.default.convertAny(e,t,u.TYPES)}}),e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=n(6),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^hsla?\\s*\\(\\s*(\\d{1,3}\\s*)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*\\)$/;e.default={name:\"csshsl\",className:\"Csshsl\",parent:o.default,test:function(t){return\"string\"==typeof t&&!!a.exec(t)},to:{hsl:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=a.exec(t)||[],i=r(n,5),o=i[0],s=i[1],u=i[2],l=(i[3],i[4]);return o?{h:parseInt(s)/360,s:parseInt(u)/100,l:parseInt(l)/100,a:e}:null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=n(6),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^hsla?\\s*\\(\\s*(\\d{1,3}\\s*)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*,\\s*(\\d*\\.?\\d*)\\s*\\)$/;e.default={name:\"csshsla\",className:\"Csshsla\",parent:o.default,test:function(t){return\"string\"==typeof t&&!!a.exec(t)},to:{hsl:function(t){var e=a.exec(t)||[],n=r(e,7),i=n[0],o=n[1],s=n[2],u=(n[3],n[4]),l=(n[5],n[6]);return i?{h:parseInt(o)/360,s:parseInt(s)/100,l:parseInt(u)/100,a:l?parseFloat(l):1}:null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^rgba?\\s*\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;e.default={name:\"cssrgb\",className:\"Cssrgb\",parent:o.default,test:function(t){return\"string\"==typeof t&&!!a.exec(t)},to:{rgb:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255,n=a.exec(t)||[],i=r(n,4),o=i[0],s=i[1],u=i[2],l=i[3];return o?{r:parseInt(s),g:parseInt(u),b:parseInt(l),a:e}:null},int:function(t){var e=a.exec(t)||[],n=r(e,4),i=n[0],o=n[1],s=n[2],u=n[3];return i?(parseInt(o)<<16)+(parseInt(s)<<8)+parseInt(u):null},hex:function(t){var e=a.exec(t)||[],n=r(e,4),i=n[0],o=n[1],s=n[2],u=n[3];return i?\"#\"+((1<<24)+(parseInt(o)<<16)+(parseInt(s)<<8)+parseInt(u)).toString(16).slice(1):null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^rgba?\\s*\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d*\\.?\\d*)\\s*\\)$/;e.default={name:\"cssrgba\",className:\"Cssrgba\",parent:o.default,test:function(t){return\"string\"==typeof t&&!!a.exec(t)},to:{rgb:function(t){var e=a.exec(t)||[],n=r(e,5),i=n[0],o=n[1],s=n[2],u=n[3],l=n[4];return i?{r:parseInt(o),g:parseInt(s),b:parseInt(u),a:l?255*parseFloat(l)|0:255}:null},int:function(t){var e=a.exec(t)||[],n=r(e,4),i=n[0],o=n[1],s=n[2],u=n[3];return i?(parseInt(o)<<16)+(parseInt(s)<<8)+parseInt(u):null},hex:function(t){var e=a.exec(t)||[],n=r(e,4),i=n[0],o=n[1],s=n[2],u=n[3];return i?\"#\"+((1<<24)+(parseInt(o)<<16)+(parseInt(s)<<8)+parseInt(u)).toString(16).slice(1):null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,s=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;e.default={name:\"hex\",className:\"Hex\",parent:o.default,test:function(t){return\"string\"==typeof t&&!(!s.exec(t)&&!a.exec(t))},to:{rgb:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;t=t.replace(a,function(t,e,n,r){return e+e+n+n+r+r});var n=s.exec(t)||[],i=r(n,4),o=i[0],u=i[1],l=i[2],h=i[3];return o?{r:parseInt(u,16),g:parseInt(l,16),b:parseInt(h,16),a:e}:null},int:function(t){return parseInt(t.replace(a,function(t,e,n,r){return e+e+n+n+r+r}).replace(\"#\",\"\"),16)},cssrgb:function(t){t=t.replace(a,function(t,e,n,r){return e+e+n+n+r+r});var e=s.exec(t)||[],n=r(e,4),i=n[0],o=n[1],u=n[2],l=n[3];return i?\"rgb(\"+parseInt(o,16)+\",\"+parseInt(u,16)+\",\"+parseInt(l,16)+\")\":null},cssrgba:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=t.replace(a,function(t,e,n,r){return e+e+n+n+r+r});var n=s.exec(t)||[],i=r(n,4),o=i[0],u=i[1],l=i[2],h=i[3];return o?\"rgba(\"+parseInt(u,16)+\",\"+parseInt(l,16)+\",\"+parseInt(h,16)+\",\"+e+\")\":null}}},t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return{h:t.h-n*(t.h-e.h),s:t.s-n*(t.s-e.s),v:t.v-n*(t.v-e.v),a:t.a-n*(t.a-e.a)}}Object.defineProperty(e,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},a=n(1),s=r(a),u=n(2),l=r(u),h=n(3),c=r(h),f=n(7),d={h:0,s:0,v:0,a:1},p=new function(){var t=this;this.name=\"hsv\",this.className=\"Hsv\",this.parent=null,this.test=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":o(t))&&t.hasOwnProperty(\"h\")&&t.hasOwnProperty(\"s\")&&t.hasOwnProperty(\"v\")&&t.h>=0&&t.h<=1&&t.s>=0&&t.s<=1&&t.v>=0&&t.v<=1&&(!t.hasOwnProperty(\"a\")||t.a>=0&&t.a<=1)},this.gradient=function(t){return l.default.createGradient(t,{mixColors:i,defaultColor:d})},this.gradientData=function(t,e){return e=e||d,new c.default(t,e)},this.draw=function(e,n){var r=(0,f.getCanvasGradient)(t,n),i=(0,f.getCanvasTarget)(e);if(i&&r){for(var o=i.width,a=i.height,u=i.getContext(\"2d\"),l=u.createImageData(o,a),h=l.data.buffer,c=new Uint32Array(h),d=new Uint8ClampedArray(h),p=0;p<o;p++)for(var v=0;v<a;v++){var _=r(p,v),y=t.to.rgb(_);c[v*o+p]=s.default.to.intabgr(y)}l.data.set(d),u.putImageData(l,0,0)}},this.to={rgb:function(t){var e=t.h,n=t.s,r=t.v,i=t.a,o=r*n,a=o*(1-Math.abs(6*e%2-1)),s=r-o,u=void 0,l=void 0,h=void 0;return e<1/6?(u=o,l=a,h=0):e<2/6?(u=a,l=o,h=0):e<.5?(u=0,l=o,h=a):e<4/6?(u=0,l=a,h=o):e<5/6?(u=a,l=0,h=o):(u=o,l=0,h=a),{r:255*(u+s),g:255*(l+s),b:255*(h+s),a:isNaN(parseFloat(i))?255:255*i}},hsl:function(t){var e=t.h,n=t.s,r=t.v,i=t.a,o=.5*r*(2-n);return n=r*n/(1-Math.abs(2*o-1)),{h:e,s:n,l:o,a:void 0===i?1:i}}}};e.default=p,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={name:\"int\",className:\"Int\",parent:i.default,test:function(t){return\"number\"==typeof t&&t<=16777215&&t>=0},to:{rgb:function(t){return{r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t,a:arguments.length>1&&void 0!==arguments[1]?arguments[1]:255}},hex:function(t){return\"#\"+((1<<24)+t).toString(16).slice(1)},cssrgb:function(t){return\"rgb(\"+((16711680&t)>>16)+\",\"+((65280&t)>>8)+\",\"+(255&t)+\")\"},cssrgba:function(t){return\"rgba(\"+((16711680&t)>>16)+\",\"+((65280&t)>>8)+\",\"+(255&t)+\",\"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+\")\"}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={name:\"intabgr\",className:\"Intabgr\",parent:i.default,to:{rgb:function(t){return{a:t>>24&255,b:t>>16&255,g:t>>8&255,r:255&t}}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={name:\"intrgba\",className:\"Intrgba\",parent:i.default,to:{rgb:function(t){return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t}}}},t.exports=e.default},function(t,e,n){t.exports=n(10)}])},function(t,e,n){var r=n(38);\"string\"==typeof r&&(r=[[t.i,r,\"\"]]);var i={hmr:!0,transform:void 0,insertInto:void 0},o=n(196)(r,i);r.locals&&(t.exports=r.locals),t.hot.accept(38,function(){var e=n(38);if(\"string\"==typeof e&&(e=[[t.i,e,\"\"]]),!function(t,e){var n,r=0;for(n in t){if(!e||t[n]!==e[n])return!1;r++}for(n in e)r--;return 0===r}(r.locals,e.locals))throw new Error(\"Aborting CSS HMR due to changed css-modules locals.\");o(e)}),t.hot.dispose(function(){o()})},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||\"\",r=t[3];if(!r)return n;if(e&&\"function\"==typeof btoa){var i=(a=r,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+\" */\"),o=r.sources.map(function(t){return\"/*# sourceURL=\"+r.sourceRoot+t+\" */\"});return[n].concat(o).concat([i]).join(\"\\n\")}var a;return[n].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n}).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];\"number\"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];\"number\"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t){var e={};return function(t){if(\"function\"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=null,l=0,h=[],c=n(197);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(g(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(g(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(t,e){var n=s(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var r=h[h.length-1];if(\"top\"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),h.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var i=s(t.insertInto+\" \"+t.insertAt.before);n.insertBefore(e,i)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function _(t){var e=document.createElement(\"style\");return t.attrs.type=\"text/css\",y(e,t.attrs),p(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var a=l++;n=u||(u=_(e)),r=x.bind(null,n,a,!1),i=x.bind(null,n,a,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return t.attrs.type=\"text/css\",t.attrs.rel=\"stylesheet\",y(e,t.attrs),p(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=c(r));i&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+\" */\");var a=new Blob([r],{type:\"text/css\"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=_(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute(\"media\",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=d(t,e);return f(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&f(d(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var b,m=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join(\"\\n\")});function x(t,e,n,r){var i=n?\"\":r.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,r=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var i,o=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(o)?t:(i=0===o.indexOf(\"//\")?o:0===o.indexOf(\"/\")?n+o:r+o.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(i)+\")\")})}},function(t,e){Array.prototype.keySort=function(t){var e=function(t,e){var n,r=0;for(n in t)if(t.hasOwnProperty(n)){if(r==e)return n;r++}return!1},n=function(t,e,n){return n=null!==n?n:1,t==e?0:t>e?1*n:-1*n},r=function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(t=t||{});if(!r)return this.sort(n);for(var i in t)t[i]=\"desc\"==t[i]||-1==t[i]?-1:\"skip\"==t[i]||0===t[i]?0:1;return this.sort(function(i,o){for(var a=0,s=0;0===a&&s<r;){var u=e(t,s);if(u){var l=t[u];a=n(i[u],o[u],l),s++}}return a}),this}},function(t,e,n){\"use strict\";n.r(e);var r=n(6),i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},o=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return i(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var a=o(i),s=a.right,u=(a.left,s);var l=Array.prototype,h=(l.slice,l.map,Math.sqrt(50)),c=Math.sqrt(10),f=Math.sqrt(2),d=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=p(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function p(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=h?10:o>=c?5:o>=f?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=h?10:o>=c?5:o>=f?2:1)}function v(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=h?i*=10:o>=c?i*=5:o>=f&&(i*=2),e<t?-i:i}var _=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};Array.prototype.slice;var y={value:function(){}};function g(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+\"\")||t in r)throw new Error(\"illegal type: \"+t);r[t]=[]}return new b(r)}function b(t){this._=t}function m(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function x(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=y,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}b.prototype=g.prototype={constructor:b,on:function(t,e){var n,r,i=this._,o=(r=i,(t+\"\").trim().split(/^|\\s+/).map(function(t){var e=\"\",n=t.indexOf(\".\");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&\"function\"!=typeof e)throw new Error(\"invalid callback: \"+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=x(i[n],t.name,e);else if(null==e)for(n in i)i[n]=x(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=m(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new b(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var w=g,T=\"http://www.w3.org/1999/xhtml\",E={svg:\"http://www.w3.org/2000/svg\",xhtml:T,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},S=function(t){var e=t+=\"\",n=e.indexOf(\":\");return n>=0&&\"xmlns\"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),E.hasOwnProperty(e)?{space:E[e],local:t}:t};var M=function(t){var e=S(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===T&&e.documentElement.namespaceURI===T?e.createElement(t):e.createElementNS(n,t)}})(e)};function O(){}var C=function(t){return null==t?O:function(){return this.querySelector(t)}};function A(){return[]}var P=function(t){return null==t?A:function(){return this.querySelectorAll(t)}},R=function(t){return function(){return this.matches(t)}},I=function(t){return new Array(t.length)};function D(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}D.prototype={constructor:D,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var k=\"$\";function L(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new D(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function N(t,e,n,r,i,o,a){var s,u,l,h={},c=e.length,f=o.length,d=new Array(c);for(s=0;s<c;++s)(u=e[s])&&(d[s]=l=k+a.call(u,u.__data__,s,e),l in h?i[s]=u:h[l]=u);for(s=0;s<f;++s)(u=h[l=k+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],h[l]=null):n[s]=new D(t,o[s]);for(s=0;s<c;++s)(u=e[s])&&h[d[s]]===u&&(i[s]=u)}function F(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var j=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function B(t,e){return t.style.getPropertyValue(e)||j(t).getComputedStyle(t,null).getPropertyValue(e)}function U(t){return t.trim().split(/^|\\s+/)}function X(t){return t.classList||new H(t)}function H(t){this._node=t,this._names=U(t.getAttribute(\"class\")||\"\")}function G(t,e){for(var n=X(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function W(t,e){for(var n=X(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}H.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(t){return this._names.indexOf(t)>=0}};function Y(){this.textContent=\"\"}function V(){this.innerHTML=\"\"}function z(){this.nextSibling&&this.parentNode.appendChild(this)}function q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(){return null}function Z(){var t=this.parentNode;t&&t.removeChild(this)}function J(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Q(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var $={},tt=null;\"undefined\"!=typeof document&&(\"onmouseenter\"in document.documentElement||($={mouseenter:\"mouseover\",mouseleave:\"mouseout\"}));function et(t,e,n){return t=nt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function nt(t,e,n){return function(r){var i=tt;tt=r;try{t.call(this,this.__data__,e,n)}finally{tt=i}}}function rt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function it(t,e,n){var r=$.hasOwnProperty(t.type)?et:nt;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var h=0,c=u.length;h<c;++h)if((s=u[h]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function ot(t,e,n){var r=j(t),i=r.CustomEvent;\"function\"==typeof i?i=new i(e,n):(i=r.document.createEvent(\"Event\"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var at=[null];function st(t,e){this._groups=t,this._parents=e}function ut(){return new st([[document.documentElement]],at)}st.prototype=ut.prototype={constructor:st,select:function(t){\"function\"!=typeof t&&(t=C(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),h=0;h<u;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&(\"__data__\"in o&&(a.__data__=o.__data__),l[h]=a);return new st(r,this._parents)},selectAll:function(t){\"function\"!=typeof t&&(t=P(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new st(r,i)},filter:function(t){\"function\"!=typeof t&&(t=R(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new st(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),h=-1,this.each(function(t){p[++h]=t}),p;var n,r=e?N:L,i=this._parents,o=this._groups;\"function\"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),h=0;h<a;++h){var c=i[h],f=o[h],d=f.length,p=t.call(c,c&&c.__data__,h,i),v=p.length,_=u[h]=new Array(v),y=s[h]=new Array(v);r(c,f,_,y,l[h]=new Array(d),p,e);for(var g,b,m=0,x=0;m<v;++m)if(g=_[m]){for(m>=x&&(x=m+1);!(b=y[x])&&++x<v;);g._next=b||null}}return(s=new st(s,i))._enter=u,s._exit=l,s},enter:function(){return new st(this._enter||this._groups.map(I),this._parents)},exit:function(){return new st(this._exit||this._groups.map(I),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r=\"function\"==typeof t?t(r):r.append(t+\"\"),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],h=n[s],c=l.length,f=a[s]=new Array(c),d=0;d<c;++d)(u=l[d]||h[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new st(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=F);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),h=0;h<u;++h)(a=s[h])&&(l[h]=a);l.sort(e)}return new st(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=S(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:\"function\"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:\"function\"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?\"\":n)):B(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:\"function\"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=U(t+\"\");if(arguments.length<2){for(var r=X(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((\"function\"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?G:W)(this,t)}}:e?function(t){return function(){G(this,t)}}:function(t){return function(){W(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Y:(\"function\"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?\"\":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?V:(\"function\"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?\"\":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(z)},lower:function(){return this.each(q)},append:function(t){var e=\"function\"==typeof t?t:M(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n=\"function\"==typeof t?t:M(t),r=null==e?K:\"function\"==typeof e?e:C(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Z)},clone:function(t){return this.select(t?Q:J)},datum:function(t){return arguments.length?this.property(\"__data__\",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\\s+/).map(function(t){var e=\"\",n=t.indexOf(\".\");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+\"\"),a=o.length;if(!(arguments.length<2)){for(s=e?it:rt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,h=s.length;l<h;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each((\"function\"==typeof e?function(t,e){return function(){return ot(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return ot(this,t,e)}})(t,e))}};var lt=ut,ht=0;function ct(){this._=\"@\"+(++ht).toString(36)}ct.prototype=function(){return new ct}.prototype={constructor:ct,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function ft(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}ft.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var dt=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function pt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vt(){}var _t=\"\\\\s*([+-]?\\\\d+)\\\\s*\",yt=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",gt=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",bt=/^#([0-9a-f]{3})$/,mt=/^#([0-9a-f]{6})$/,xt=new RegExp(\"^rgb\\\\(\"+[_t,_t,_t]+\"\\\\)$\"),wt=new RegExp(\"^rgb\\\\(\"+[gt,gt,gt]+\"\\\\)$\"),Tt=new RegExp(\"^rgba\\\\(\"+[_t,_t,_t,yt]+\"\\\\)$\"),Et=new RegExp(\"^rgba\\\\(\"+[gt,gt,gt,yt]+\"\\\\)$\"),St=new RegExp(\"^hsl\\\\(\"+[yt,gt,gt]+\"\\\\)$\"),Mt=new RegExp(\"^hsla\\\\(\"+[yt,gt,gt,yt]+\"\\\\)$\"),Ot={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ct(t){var e;return t=(t+\"\").trim().toLowerCase(),(e=bt.exec(t))?new Dt((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=mt.exec(t))?At(parseInt(e[1],16)):(e=xt.exec(t))?new Dt(e[1],e[2],e[3],1):(e=wt.exec(t))?new Dt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Tt.exec(t))?Pt(e[1],e[2],e[3],e[4]):(e=Et.exec(t))?Pt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=St.exec(t))?Lt(e[1],e[2]/100,e[3]/100,1):(e=Mt.exec(t))?Lt(e[1],e[2]/100,e[3]/100,e[4]):Ot.hasOwnProperty(t)?At(Ot[t]):\"transparent\"===t?new Dt(NaN,NaN,NaN,0):null}function At(t){return new Dt(t>>16&255,t>>8&255,255&t,1)}function Pt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dt(t,e,n,r)}function Rt(t){return t instanceof vt||(t=Ct(t)),t?new Dt((t=t.rgb()).r,t.g,t.b,t.opacity):new Dt}function It(t,e,n,r){return 1===arguments.length?Rt(t):new Dt(t,e,n,null==r?1:r)}function Dt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function kt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?\"0\":\"\")+t.toString(16)}function Lt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ft(t,e,n,r)}function Nt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Ft)return new Ft(t.h,t.s,t.l,t.opacity);if(t instanceof vt||(t=Ct(t)),!t)return new Ft;if(t instanceof Ft)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Ft(a,s,u,t.opacity)}(t):new Ft(t,e,n,null==r?1:r)}function Ft(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function jt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}dt(vt,Ct,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+\"\"}}),dt(Dt,It,pt(vt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Dt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Dt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return\"#\"+kt(this.r)+kt(this.g)+kt(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?\")\":\", \"+t+\")\")}})),dt(Ft,Nt,pt(vt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ft(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ft(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dt(jt(t>=240?t-240:t+120,i,r),jt(t,i,r),jt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Bt=Math.PI/180,Ut=180/Math.PI,Xt=.96422,Ht=1,Gt=.82521,Wt=4/29,Yt=6/29,Vt=3*Yt*Yt,zt=Yt*Yt*Yt;function qt(t){if(t instanceof Zt)return new Zt(t.l,t.a,t.b,t.opacity);if(t instanceof re){if(isNaN(t.h))return new Zt(t.l,0,0,t.opacity);var e=t.h*Bt;return new Zt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Dt||(t=Rt(t));var n,r,i=te(t.r),o=te(t.g),a=te(t.b),s=Jt((.2225045*i+.7168786*o+.0606169*a)/Ht);return i===o&&o===a?n=r=s:(n=Jt((.4360747*i+.3850649*o+.1430804*a)/Xt),r=Jt((.0139322*i+.0971045*o+.7141733*a)/Gt)),new Zt(116*s-16,500*(n-s),200*(s-r),t.opacity)}function Kt(t,e,n,r){return 1===arguments.length?qt(t):new Zt(t,e,n,null==r?1:r)}function Zt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Jt(t){return t>zt?Math.pow(t,1/3):t/Vt+Wt}function Qt(t){return t>Yt?t*t*t:Vt*(t-Wt)}function $t(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function te(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ee(t){if(t instanceof re)return new re(t.h,t.c,t.l,t.opacity);if(t instanceof Zt||(t=qt(t)),0===t.a&&0===t.b)return new re(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ut;return new re(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ne(t,e,n,r){return 1===arguments.length?ee(t):new re(t,e,n,null==r?1:r)}function re(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}dt(Zt,Kt,pt(vt,{brighter:function(t){return new Zt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Zt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Dt($t(3.1338561*(e=Xt*Qt(e))-1.6168667*(t=Ht*Qt(t))-.4906146*(n=Gt*Qt(n))),$t(-.9787684*e+1.9161415*t+.033454*n),$t(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),dt(re,ne,pt(vt,{brighter:function(t){return new re(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new re(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return qt(this).rgb()}}));var ie=-.29227,oe=-.90649,ae=1.97294,se=ae*oe,ue=1.78277*ae,le=1.78277*ie- -.14861*oe;function he(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ce)return new ce(t.h,t.s,t.l,t.opacity);t instanceof Dt||(t=Rt(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(le*r+se*e-ue*n)/(le+se-ue),o=r-i,a=(ae*(n-i)-ie*o)/oe,s=Math.sqrt(a*a+o*o)/(ae*i*(1-i)),u=s?Math.atan2(a,o)*Ut-120:NaN;return new ce(u<0?u+360:u,s,i,t.opacity)}(t):new ce(t,e,n,null==r?1:r)}function ce(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function fe(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}dt(ce,he,pt(vt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ce(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ce(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Bt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Dt(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(ie*r+oe*i)),255*(e+n*(ae*r)),this.opacity)}}));var de=function(t){return function(){return t}};function pe(t,e){return function(n){return t+n*e}}function ve(t,e){var n=e-t;return n?pe(t,n>180||n<-180?n-360*Math.round(n/360):n):de(isNaN(t)?e:t)}function _e(t){return 1==(t=+t)?ye:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):de(isNaN(e)?n:e)}}function ye(t,e){var n=e-t;return n?pe(t,n):de(isNaN(t)?e:t)}var ge=function t(e){var n=_e(e);function r(t,e){var r=n((t=It(t)).r,(e=It(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=ye(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+\"\"}}return r.gamma=t,r}(1);function be(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=It(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+\"\"}}}var me=be(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return fe((n-r/e)*e,a,i,o,s)}}),xe=(be(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return fe((n-r/e)*e,i,o,a,s)}}),function(t,e){return e-=t=+t,function(n){return t+e*n}}),we=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Te=new RegExp(we.source,\"g\");var Ee,Se,Me,Oe,Ce=function(t,e){var n,r,i,o=we.lastIndex=Te.lastIndex=0,a=-1,s=[],u=[];for(t+=\"\",e+=\"\";(n=we.exec(t))&&(r=Te.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:xe(n,r)})),o=Te.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+\"\"}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join(\"\")})},Ae=function(t,e){var n,r=typeof e;return null==e||\"boolean\"===r?de(e):(\"number\"===r?xe:\"string\"===r?(n=Ct(e))?(e=n,ge):Ce:e instanceof Ct?ge:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ae(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}:\"function\"!=typeof e.valueOf&&\"function\"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&\"object\"==typeof t||(t={}),null!==e&&\"object\"==typeof e||(e={}),e)n in t?r[n]=Ae(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:xe)(t,e)},Pe=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},Re=180/Math.PI,Ie={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},De=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Re,skewX:Math.atan(u)*Re,scaleX:a,scaleY:s}};function ke(t,e,n,r){function i(t){return t.length?t.pop()+\" \":\"\"}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push(\"translate(\",null,e,null,n);s.push({i:u-4,x:xe(t,i)},{i:u-2,x:xe(r,o)})}else(i||o)&&a.push(\"translate(\"+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+\"rotate(\",null,r)-2,x:xe(t,e)})):e&&n.push(i(n)+\"rotate(\"+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+\"skewX(\",null,r)-2,x:xe(t,e)}):e&&n.push(i(n)+\"skewX(\"+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+\"scale(\",null,\",\",null,\")\");a.push({i:s-4,x:xe(t,n)},{i:s-2,x:xe(e,r)})}else 1===n&&1===r||o.push(i(o)+\"scale(\"+n+\",\"+r+\")\")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join(\"\")}}}var Le=ke(function(t){return\"none\"===t?Ie:(Ee||(Ee=document.createElement(\"DIV\"),Se=document.documentElement,Me=document.defaultView),Ee.style.transform=t,t=Me.getComputedStyle(Se.appendChild(Ee),null).getPropertyValue(\"transform\"),Se.removeChild(Ee),t=t.slice(7,-1).split(\",\"),De(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},\"px, \",\"px)\",\"deg)\"),Ne=ke(function(t){return null==t?Ie:(Oe||(Oe=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),Oe.setAttribute(\"transform\",t),(t=Oe.transform.baseVal.consolidate())?(t=t.matrix,De(t.a,t.b,t.c,t.d,t.e,t.f)):Ie)},\", \",\")\",\")\");Math.SQRT2;function Fe(t){return function(e,n){var r=t((e=Nt(e)).h,(n=Nt(n)).h),i=ye(e.s,n.s),o=ye(e.l,n.l),a=ye(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+\"\"}}}Fe(ve),Fe(ye);function je(t){return function(e,n){var r=t((e=ne(e)).h,(n=ne(n)).h),i=ye(e.c,n.c),o=ye(e.l,n.l),a=ye(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+\"\"}}}je(ve),je(ye);function Be(t){return function e(n){function r(e,r){var i=t((e=he(e)).h,(r=he(r)).h),o=ye(e.s,r.s),a=ye(e.l,r.l),s=ye(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+\"\"}}return n=+n,r.gamma=e,r}(1)}Be(ve);var Ue=Be(ye);var Xe,He,Ge=0,We=0,Ye=0,Ve=1e3,ze=0,qe=0,Ke=0,Ze=\"object\"==typeof performance&&performance.now?performance:Date,Je=\"object\"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Qe(){return qe||(Je($e),qe=Ze.now()+Ke)}function $e(){qe=0}function tn(){this._call=this._time=this._next=null}function en(t,e,n){var r=new tn;return r.restart(t,e,n),r}function nn(){qe=(ze=Ze.now())+Ke,Ge=We=0;try{!function(){Qe(),++Ge;for(var t,e=Xe;e;)(t=qe-e._time)>=0&&e._call.call(null,t),e=e._next;--Ge}()}finally{Ge=0,function(){var t,e,n=Xe,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Xe=e);He=t,on(r)}(),qe=0}}function rn(){var t=Ze.now(),e=t-ze;e>Ve&&(Ke-=e,ze=t)}function on(t){Ge||(We&&(We=clearTimeout(We)),t-qe>24?(t<1/0&&(We=setTimeout(nn,t-Ze.now()-Ke)),Ye&&(Ye=clearInterval(Ye))):(Ye||(ze=Ze.now(),Ye=setInterval(rn,Ve)),Ge=1,Je(nn)))}tn.prototype=en.prototype={constructor:tn,restart:function(t,e,n){if(\"function\"!=typeof t)throw new TypeError(\"callback is not a function\");n=(null==n?Qe():+n)+(null==e?0:+e),this._next||He===this||(He?He._next=this:Xe=this,He=this),this._call=t,this._time=n,on()},stop:function(){this._call&&(this._call=null,this._time=1/0,on())}};var an=function(t,e,n){var r=new tn;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},sn=w(\"start\",\"end\",\"cancel\",\"interrupt\"),un=[],ln=0,hn=1,cn=2,fn=3,dn=4,pn=5,vn=6,_n=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var l,h,c,f;if(n.state!==hn)return s();for(l in i)if((f=i[l]).name===n.name){if(f.state===fn)return an(o);f.state===dn?(f.state=vn,f.timer.stop(),f.on.call(\"interrupt\",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=vn,f.timer.stop(),f.on.call(\"cancel\",t,t.__data__,f.index,f.group),delete i[l])}if(an(function(){n.state===fn&&(n.state=dn,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=cn,n.on.call(\"start\",t,t.__data__,n.index,n.group),n.state===cn){for(n.state=fn,r=new Array(c=n.tween.length),l=0,h=-1;l<c;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++h]=f);r.length=h+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=pn,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===pn&&(n.on.call(\"end\",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=vn,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=en(function(t){n.state=hn,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:sn,tween:un,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ln})};function yn(t,e){var n=bn(t,e);if(n.state>ln)throw new Error(\"too late; already scheduled\");return n}function gn(t,e){var n=bn(t,e);if(n.state>fn)throw new Error(\"too late; already running\");return n}function bn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error(\"transition not found\");return n}var mn=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+\"\",o)(n=o[i]).name===e?(r=n.state>cn&&n.state<pn,n.state=vn,n.timer.stop(),n.on.call(r?\"interrupt\":\"cancel\",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}};function xn(t,e,n){var r=t._id;return t.each(function(){var t=gn(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return bn(t,r).value[e]}}var wn=function(t,e){var n;return(\"number\"==typeof e?xe:e instanceof Ct?ge:(n=Ct(e))?(e=n,ge):Ce)(t,e)};var Tn=lt.prototype.constructor;function En(t){return function(){this.style.removeProperty(t)}}var Sn=0;function Mn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function On(){return++Sn}var Cn=lt.prototype;Mn.prototype=function(t){return lt().transition(t)}.prototype={constructor:Mn,select:function(t){var e=this._name,n=this._id;\"function\"!=typeof t&&(t=C(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],h=l.length,c=o[a]=new Array(h),f=0;f<h;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&(\"__data__\"in s&&(u.__data__=s.__data__),c[f]=u,_n(c[f],e,n,f,c,bn(s,n)));return new Mn(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;\"function\"!=typeof t&&(t=P(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],h=l.length,c=0;c<h;++c)if(u=l[c]){for(var f,d=t.call(u,u.__data__,c,l),p=bn(u,n),v=0,_=d.length;v<_;++v)(f=d[v])&&_n(f,e,n,v,d,p);o.push(d),a.push(u)}return new Mn(o,a,e,n)},filter:function(t){\"function\"!=typeof t&&(t=R(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Mn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],h=n[s],c=l.length,f=a[s]=new Array(c),d=0;d<c;++d)(u=l[d]||h[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new Mn(a,this._parents,this._name,this._id)},selection:function(){return new Tn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=On(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var h=bn(a,e);_n(a,t,n,l,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Mn(r,this._parents,t,n)},call:Cn.call,nodes:Cn.nodes,node:Cn.node,size:Cn.size,empty:Cn.empty,each:Cn.each,on:function(t,e){var n=this._id;return arguments.length<2?bn(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+\"\").trim().split(/^|\\s+/).every(function(t){var e=t.indexOf(\".\");return e>=0&&(t=t.slice(0,e)),!t||\"start\"===t})}(e)?yn:gn;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=S(t),r=\"transform\"===n?Ne:wn;return this.attrTween(t,\"function\"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+\"\")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+\"\")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}})(n,r,xn(this,\"attr.\"+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,o=n+\"\";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}:function(t,e,n){var r,i,o=n+\"\";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}})(n,r,e))},attrTween:function(t,e){var n=\"attr.\"+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if(\"function\"!=typeof e)throw new Error;var r=S(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,i)),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,i)),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r=\"transform\"==(t+=\"\")?Le:wn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=B(this,t),a=(this.style.removeProperty(t),B(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on(\"end.style.\"+t,En(t)):\"function\"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=B(this,t),s=n(this),u=s+\"\";return null==s&&(this.style.removeProperty(t),u=s=B(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,xn(this,\"style.\"+t,e))).each(function(t,e){var n,r,i,o,a=\"style.\"+e,s=\"end.\"+a;return function(){var u=gn(this,t),l=u.on,h=null==u.value[a]?o||(o=En(e)):void 0;l===n&&i===h||(r=(n=l).copy()).on(s,i=h),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+\"\";return function(){var a=B(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on(\"end.style.\"+t,null)},styleTween:function(t,e,n){var r=\"style.\"+(t+=\"\");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if(\"function\"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?\"\":n))},text:function(t){return this.tween(\"text\",\"function\"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?\"\":e}}(xn(this,\"text\",t)):function(t){return function(){this.textContent=t}}(null==t?\"\":t+\"\"))},remove:function(){return this.on(\"end.remove\",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+=\"\",arguments.length<2){for(var r,i=bn(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=gn(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if(\"function\"!=typeof n)throw new Error;return function(){var o=gn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each((\"function\"==typeof t?function(t,e){return function(){yn(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){yn(this,t).delay=e}})(e,t)):bn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each((\"function\"==typeof t?function(t,e){return function(){gn(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){gn(this,t).duration=e}})(e,t)):bn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if(\"function\"!=typeof e)throw new Error;return function(){gn(this,t).ease=e}}(e,t)):bn(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each(function(){var n=gn(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})})}};(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Math.PI;(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n})(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158);var An=2*Math.PI,Pn=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=An);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*An)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=An);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*An)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=An);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*An)},i.period=function(n){return t(e,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function Rn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Pn.time=Qe(),Pn;return n}lt.prototype.interrupt=function(t){return this.each(function(){mn(this,t)})},lt.prototype.transition=function(t){var e,n;t instanceof Mn?(e=t._id,t=t._name):(e=On(),(n=Pn).time=Qe(),t=null==t?null:t+\"\");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&_n(a,t,e,l,s,n||Rn(a,e));return new Mn(r,this._parents,t,e)};[\"e\",\"w\"].map(In),[\"n\",\"s\"].map(In),[\"n\",\"e\",\"s\",\"w\",\"nw\",\"ne\",\"se\",\"sw\"].map(In);function In(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Dn=Math.PI,kn=2*Dn,Ln=kn-1e-6;function Nn(){this._x0=this._y0=this._x1=this._y1=null,this._=\"\"}function Fn(){return new Nn}Nn.prototype=Fn.prototype={constructor:Nn,moveTo:function(t,e){this._+=\"M\"+(this._x0=this._x1=+t)+\",\"+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+=\"Z\")},lineTo:function(t,e){this._+=\"L\"+(this._x1=+t)+\",\"+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+=\"Q\"+ +t+\",\"+ +e+\",\"+(this._x1=+n)+\",\"+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+=\"C\"+ +t+\",\"+ +e+\",\"+ +n+\",\"+ +r+\",\"+(this._x1=+i)+\",\"+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,h=a-e,c=l*l+h*h;if(i<0)throw new Error(\"negative radius: \"+i);if(null===this._x1)this._+=\"M\"+(this._x1=t)+\",\"+(this._y1=e);else if(c>1e-6)if(Math.abs(h*s-u*l)>1e-6&&i){var f=n-o,d=r-a,p=s*s+u*u,v=f*f+d*d,_=Math.sqrt(p),y=Math.sqrt(c),g=i*Math.tan((Dn-Math.acos((p+c-v)/(2*_*y)))/2),b=g/y,m=g/_;Math.abs(b-1)>1e-6&&(this._+=\"L\"+(t+b*l)+\",\"+(e+b*h)),this._+=\"A\"+i+\",\"+i+\",0,0,\"+ +(h*f>l*d)+\",\"+(this._x1=t+m*s)+\",\"+(this._y1=e+m*u)}else this._+=\"L\"+(this._x1=t)+\",\"+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,h=1^o,c=o?r-i:i-r;if(n<0)throw new Error(\"negative radius: \"+n);null===this._x1?this._+=\"M\"+u+\",\"+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+=\"L\"+u+\",\"+l),n&&(c<0&&(c=c%kn+kn),c>Ln?this._+=\"A\"+n+\",\"+n+\",0,1,\"+h+\",\"+(t-a)+\",\"+(e-s)+\"A\"+n+\",\"+n+\",0,1,\"+h+\",\"+(this._x1=u)+\",\"+(this._y1=l):c>1e-6&&(this._+=\"A\"+n+\",\"+n+\",0,\"+ +(c>=Dn)+\",\"+h+\",\"+(this._x1=t+n*Math.cos(i))+\",\"+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+=\"M\"+(this._x0=this._x1=+t)+\",\"+(this._y0=this._y1=+e)+\"h\"+ +n+\"v\"+ +r+\"h\"+-n+\"Z\"},toString:function(){return this._}};function jn(){}function Bn(t,e){var n=new jn;if(t instanceof jn)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}jn.prototype=Bn.prototype={constructor:jn,has:function(t){return\"$\"+t in this},get:function(t){return this[\"$\"+t]},set:function(t,e){return this[\"$\"+t]=e,this},remove:function(t){var e=\"$\"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)\"$\"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)\"$\"===e[0]&&++t;return t},empty:function(){for(var t in this)if(\"$\"===t[0])return!1;return!0},each:function(t){for(var e in this)\"$\"===e[0]&&t(this[e],e.slice(1),this)}};var Un=Bn,Xn=function(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,l,h,c=-1,f=n.length,d=r[i++],p=Un(),v=a();++c<f;)(h=p.get(u=d(l=n[c])+\"\"))?h.push(l):p.set(u,[l]);return p.each(function(t,e){s(v,e,o(t,i,a,s))}),v}return n={object:function(t){return o(t,0,Hn,Gn)},map:function(t){return o(t,0,Wn,Yn)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(o(t,0,Wn,Yn),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function Hn(){return{}}function Gn(t,e,n){t[e]=n}function Wn(){return Un()}function Yn(t,e,n){t.set(e,n)}function Vn(){}var zn=Un.prototype;function qn(t,e){var n=new Vn;if(t instanceof Vn)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Vn.prototype=qn.prototype={constructor:Vn,has:zn.has,add:function(t){return this[\"$\"+(t+=\"\")]=t,this},remove:zn.remove,clear:zn.clear,values:zn.keys,size:zn.size,empty:zn.empty,each:zn.each};var Kn=function(t){var e=[];for(var n in t)e.push(n);return e};Array.prototype.slice;var Zn={},Jn={},Qn=34,$n=10,tr=13;function er(t){return new Function(\"d\",\"return {\"+t.map(function(t,e){return JSON.stringify(t)+\": d[\"+e+\"]\"}).join(\",\")+\"}\")}function nr(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function rr(t,e){var n=t+\"\",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function ir(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?\"Invalid Date\":((e=t.getUTCFullYear())<0?\"-\"+rr(-e,6):e>9999?\"+\"+rr(e,6):rr(e,4))+\"-\"+rr(t.getUTCMonth()+1,2)+\"-\"+rr(t.getUTCDate(),2)+(o?\"T\"+rr(n,2)+\":\"+rr(r,2)+\":\"+rr(i,2)+\".\"+rr(o,3)+\"Z\":i?\"T\"+rr(n,2)+\":\"+rr(r,2)+\":\"+rr(i,2)+\"Z\":r||n?\"T\"+rr(n,2)+\":\"+rr(r,2)+\"Z\":\"\")}var or=function(t){var e=new RegExp('[\"'+t+\"\\n\\r]\"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,l=!1;function h(){if(u)return Jn;if(l)return l=!1,Zn;var e,r,i=a;if(t.charCodeAt(i)===Qn){for(;a++<o&&t.charCodeAt(a)!==Qn||t.charCodeAt(++a)===Qn;);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===$n?l=!0:r===tr&&(l=!0,t.charCodeAt(a)===$n&&++a),t.slice(i+1,e-1).replace(/\"\"/g,'\"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===$n)l=!0;else if(r===tr)l=!0,t.charCodeAt(a)===$n&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===$n&&--o,t.charCodeAt(o-1)===tr&&--o;(r=h())!==Jn;){for(var c=[];r!==Zn&&r!==Jn;)c.push(r),r=h();e&&null==(c=e(c,s++))||i.push(c)}return i}function i(e,n){return e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})}function o(e){return e.map(a).join(t)}function a(t){return null==t?\"\":t instanceof Date?ir(t):e.test(t+=\"\")?'\"'+t.replace(/\"/g,'\"\"')+'\"':t}return{parse:function(t,e){var n,i,o=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=er(t);return function(r,i){return e(n(r),i,t)}}(t,e):er(t)});return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=nr(e)),[n.map(a).join(t)].concat(i(e,n)).join(\"\\n\")},formatBody:function(t,e){return null==e&&(e=nr(t)),i(t,e).join(\"\\n\")},formatRows:function(t){return t.map(o).join(\"\\n\")}}},ar=or(\",\"),sr=ar.parse,ur=(ar.parseRows,ar.format,ar.formatBody,ar.formatRows,or(\"\\t\")),lr=ur.parse;ur.parseRows,ur.format,ur.formatBody,ur.formatRows;function hr(t){if(!t.ok)throw new Error(t.status+\" \"+t.statusText);return t.text()}var cr=function(t,e){return fetch(t,e).then(hr)};function fr(t){return function(e,n,r){return 2===arguments.length&&\"function\"==typeof n&&(r=n,n=void 0),cr(e,n).then(function(e){return t(e,r)})}}fr(sr),fr(lr);function dr(t){return function(e,n){return cr(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}dr(\"application/xml\"),dr(\"text/html\"),dr(\"image/svg+xml\");function pr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,h,c,f,d=t._root,p={data:r},v=t._x0,_=t._y0,y=t._x1,g=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(v+y)/2))?v=o:y=o,(h=n>=(a=(_+g)/2))?_=a:g=a,i=d,!(d=d[c=h<<1|l]))return i[c]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[c]=p:t._root=p,t;do{i=i?i[c]=new Array(4):t._root=new Array(4),(l=e>=(o=(v+y)/2))?v=o:y=o,(h=n>=(a=(_+g)/2))?_=a:g=a}while((c=h<<1|l)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[c]=p,t}var vr=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function _r(t){return t[0]}function yr(t){return t[1]}function gr(t,e,n){var r=new br(null==e?_r:e,null==n?yr:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function br(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function mr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var xr=gr.prototype=br.prototype;xr.copy=function(){var t,e,n=new br(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=mr(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=mr(e));return n},xr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return pr(this.cover(e,n),e,n,t)},xr.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,h=-1/0,c=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>h&&(h=r),i<l&&(l=i),i>c&&(c=i));if(u>h||l>c)return this;for(this.cover(u,l).cover(h,c),n=0;n<o;++n)pr(this,a[n],s[n],t[n]);return this},xr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},xr.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},xr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},xr.find=function(t,e,n){var r,i,o,a,s,u,l,h=this._x0,c=this._y0,f=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new vr(v,h,c,f,d)),null==n?n=1/0:(h=t-n,c=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>f||(o=u.y0)>d||(a=u.x1)<h||(s=u.y1)<c))if(v.length){var _=(i+a)/2,y=(o+s)/2;p.push(new vr(v[3],_,y,a,s),new vr(v[2],i,y,_,s),new vr(v[1],_,o,a,y),new vr(v[0],i,o,_,y)),(l=(e>=y)<<1|t>=_)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var g=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),m=g*g+b*b;if(m<n){var x=Math.sqrt(n=m);h=t-x,c=e-x,f=t+x,d=e+x,r=v.data}}return r},xr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,h,c,f,d=this._root,p=this._x0,v=this._y0,_=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+_)/2))?p=s:_=s,(h=a>=(u=(v+y)/2))?v=u:y=u,e=d,!(d=d[c=h<<1|l]))return this;if(!d.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(n=e,f=c)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[c]=i:delete e[c],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},xr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},xr.root=function(){return this._root},xr.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},xr.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new vr(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,h=(i+a)/2;(n=u[3])&&s.push(new vr(n,l,h,o,a)),(n=u[2])&&s.push(new vr(n,r,h,l,a)),(n=u[1])&&s.push(new vr(n,l,i,o,h)),(n=u[0])&&s.push(new vr(n,r,i,l,h))}return this},xr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new vr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,h=(a+u)/2,c=(s+l)/2;(o=i[0])&&n.push(new vr(o,a,s,h,c)),(o=i[1])&&n.push(new vr(o,h,s,u,c)),(o=i[2])&&n.push(new vr(o,a,c,h,l)),(o=i[3])&&n.push(new vr(o,h,c,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},xr.x=function(t){return arguments.length?(this._x=t,this):this._x},xr.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var wr=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf(\"e\"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Tr=function(t){return(t=wr(Math.abs(t)))?t[1]:NaN},Er=/^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function Sr(t){return new Mr(t)}function Mr(t){if(!(e=Er.exec(t)))throw new Error(\"invalid format: \"+t);var e;this.fill=e[1]||\" \",this.align=e[2]||\">\",this.sign=e[3]||\"-\",this.symbol=e[4]||\"\",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||\"\"}Sr.prototype=Mr.prototype,Mr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(null==this.width?\"\":Math.max(1,0|this.width))+(this.comma?\",\":\"\")+(null==this.precision?\"\":\".\"+Math.max(0,0|this.precision))+(this.trim?\"~\":\"\")+this.type};var Or,Cr,Ar,Pr,Rr=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case\".\":i=e=r;break;case\"0\":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},Ir=function(t,e){var n=wr(t,e);if(!n)return t+\"\";var r=n[0],i=n[1];return i<0?\"0.\"+new Array(-i).join(\"0\")+r:r.length>i+1?r.slice(0,i+1)+\".\"+r.slice(i+1):r+new Array(i-r.length+2).join(\"0\")},Dr={\"%\":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+\"\"},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ir(100*t,e)},r:Ir,s:function(t,e){var n=wr(t,e);if(!n)return t+\"\";var r=n[0],i=n[1],o=i-(Or=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join(\"0\"):o>0?r.slice(0,o)+\".\"+r.slice(o):\"0.\"+new Array(1-o).join(\"0\")+wr(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},kr=function(t){return t},Lr=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];Cr=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}):kr,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):kr,s=t.percent||\"%\";function u(t){var e=(t=Sr(t)).fill,n=t.align,u=t.sign,l=t.symbol,h=t.zero,c=t.width,f=t.comma,d=t.precision,p=t.trim,v=t.type;\"n\"===v?(f=!0,v=\"g\"):Dr[v]||(null==d&&(d=12),p=!0,v=\"g\"),(h||\"0\"===e&&\"=\"===n)&&(h=!0,e=\"0\",n=\"=\");var _=\"$\"===l?i[0]:\"#\"===l&&/[boxX]/.test(v)?\"0\"+v.toLowerCase():\"\",y=\"$\"===l?i[1]:/[%p]/.test(v)?s:\"\",g=Dr[v],b=/[defgprs%]/.test(v);function m(t){var i,s,l,m=_,x=y;if(\"c\"===v)x=g(t)+x,t=\"\";else{var w=(t=+t)<0;if(t=g(Math.abs(t),d),p&&(t=Rr(t)),w&&0==+t&&(w=!1),m=(w?\"(\"===u?u:\"-\":\"-\"===u||\"(\"===u?\"\":u)+m,x=(\"s\"===v?Lr[8+Or/3]:\"\")+x+(w&&\"(\"===u?\")\":\"\"),b)for(i=-1,s=t.length;++i<s;)if(48>(l=t.charCodeAt(i))||l>57){x=(46===l?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}f&&!h&&(t=r(t,1/0));var T=m.length+t.length+x.length,E=T<c?new Array(c-T+1).join(e):\"\";switch(f&&h&&(t=r(E+t,E.length?c-x.length:1/0),E=\"\"),n){case\"<\":t=m+t+x+E;break;case\"=\":t=m+E+t+x;break;case\"^\":t=E.slice(0,T=E.length>>1)+m+t+x+E.slice(T);break;default:t=E+m+t+x}return a(t)}return d=null==d?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),m.toString=function(){return t+\"\"},m}return{format:u,formatPrefix:function(t,e){var n=u(((t=Sr(t)).type=\"f\",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Tr(e)/3))),i=Math.pow(10,-r),o=Lr[8+r/3];return function(t){return n(i*t)+o}}}}({decimal:\".\",thousands:\",\",grouping:[3],currency:[\"$\",\"\"]}),Ar=Cr.format,Pr=Cr.formatPrefix;var Nr=function(){return new Fr};function Fr(){this.reset()}Fr.prototype={constructor:Fr,reset:function(){this.s=this.t=0},add:function(t){Br(jr,t,this.t),Br(this,jr.s,this.s),this.s?this.t+=jr.t:this.s=jr.t},valueOf:function(){return this.s}};var jr=new Fr;function Br(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var Ur=1e-6,Xr=Math.PI,Hr=Xr/2,Gr=Xr/4,Wr=2*Xr,Yr=Xr/180,Vr=Math.abs,zr=Math.atan,qr=Math.atan2,Kr=Math.cos,Zr=(Math.ceil,Math.exp),Jr=(Math.floor,Math.log),Qr=(Math.pow,Math.sin),$r=(Math.sign,Math.sqrt),ti=Math.tan;function ei(t){return t>1?0:t<-1?Xr:Math.acos(t)}function ni(t){return t>1?Hr:t<-1?-Hr:Math.asin(t)}function ri(){}Nr(),Nr();function ii(t){var e=t[0],n=t[1],r=Kr(n);return[r*Kr(e),r*Qr(e),Qr(n)]}function oi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ai(t){var e=$r(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}Nr();function si(t,e){return[Vr(t)>Xr?t+Math.round(-t/Wr)*Wr:t,e]}si.invert=si;var ui=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:ri,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},li=function(t,e){return Vr(t[0]-e[0])<Ur&&Vr(t[1]-e[1])<Ur};function hi(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var ci=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(li(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new hi(r,t,null,!0)),u.push(n.o=new hi(r,null,n,!1)),s.push(n=new hi(a,t,null,!1)),u.push(n.o=new hi(a,null,n,!0))}}),s.length){for(u.sort(e),fi(s),fi(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,h,c=s[0];;){for(var f=c,d=!0;f.v;)if((f=f.n)===c)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=l.length;o<a;++o)i.point((h=l[o])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((h=l[o])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}};function fi(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var di=Nr(),pi=function(t,e){var n=e[0],r=e[1],i=Qr(r),o=[Qr(n),-Kr(n),0],a=0,s=0;di.reset(),1===i?r=Hr+Ur:-1===i&&(r=-Hr-Ur);for(var u=0,l=t.length;u<l;++u)if(c=(h=t[u]).length)for(var h,c,f=h[c-1],d=f[0],p=f[1]/2+Gr,v=Qr(p),_=Kr(p),y=0;y<c;++y,d=b,v=x,_=w,f=g){var g=h[y],b=g[0],m=g[1]/2+Gr,x=Qr(m),w=Kr(m),T=b-d,E=T>=0?1:-1,S=E*T,M=S>Xr,O=v*x;if(di.add(qr(O*E*Qr(S),_*w+O*Kr(S))),a+=M?T+E*Wr:T,M^d>=n^b>=n){var C=oi(ii(f),ii(g));ai(C);var A=oi(o,C);ai(A);var P=(M^T>=0?-1:1)*ni(A[2]);(r>P||r===P&&(C[0]||C[1]))&&(s+=M^T>=0?1:-1)}}return(a<-Ur||a<Ur&&di<-Ur)^1&s},vi=function(t,e,n,r){return function(i){var o,a,s,u=e(i),l=ui(),h=e(l),c=!1,f={point:d,lineStart:v,lineEnd:y,polygonStart:function(){f.point=g,f.lineStart=b,f.lineEnd=m,a=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=v,f.lineEnd=y,a=_(a);var t=pi(o,r);a.length?(c||(i.polygonStart(),c=!0),ci(a,yi,t,n,i)):t&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){u.point(t,e)}function v(){f.point=p,u.lineStart()}function y(){f.point=d,u.lineEnd()}function g(t,e){s.push([t,e]),h.point(t,e)}function b(){h.lineStart(),s=[]}function m(){g(s[0][0],s[0][1]),h.lineEnd();var t,e,n,r,u=h.clean(),f=l.result(),d=f.length;if(s.pop(),o.push(s),s=null,d)if(1&u){if((e=(n=f[0]).length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&u&&f.push(f.pop().concat(f.shift())),a.push(f.filter(_i))}return f}};function _i(t){return t.length>1}function yi(t,e){return((t=t.x)[0]<0?t[1]-Hr-Ur:Hr-t[1])-((e=e.x)[0]<0?e[1]-Hr-Ur:Hr-e[1])}vi(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Xr:-Xr,u=Vr(o-n);Vr(u-Xr)<Ur?(t.point(n,r=(r+a)/2>0?Hr:-Hr),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Xr&&(Vr(n-i)<Ur&&(n-=i*Ur),Vr(o-s)<Ur&&(o-=s*Ur),r=function(t,e,n,r){var i,o,a=Qr(t-n);return Vr(a)>Ur?zr((Qr(e)*(o=Kr(r))*Qr(n)-Qr(r)*(i=Kr(e))*Qr(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*Hr,r.point(-Xr,i),r.point(0,i),r.point(Xr,i),r.point(Xr,0),r.point(Xr,-i),r.point(0,-i),r.point(-Xr,-i),r.point(-Xr,0),r.point(-Xr,i);else if(Vr(t[0]-e[0])>Ur){var o=t[0]<e[0]?Xr:-Xr;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Xr,-Hr]);Nr();Nr(),Nr();function gi(t){this._context=t}gi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Wr)}},result:ri};Nr();function bi(){this._string=[]}function mi(t){return\"m0,\"+t+\"a\"+t+\",\"+t+\" 0 1,1 0,\"+-2*t+\"a\"+t+\",\"+t+\" 0 1,1 0,\"+2*t+\"z\"}bi.prototype={_radius:4.5,_circle:mi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push(\"Z\"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push(\"M\",t,\",\",e),this._point=1;break;case 1:this._string.push(\"L\",t,\",\",e);break;default:null==this._circle&&(this._circle=mi(this._radius)),this._string.push(\"M\",t,\",\",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join(\"\");return this._string=[],t}return null}};function xi(t){return function(e){var n=new wi;for(var r in t)n[r]=t[r];return n.stream=e,n}}function wi(){}wi.prototype={constructor:wi,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};Kr(30*Yr);xi({point:function(t,e){this.stream.point(t*Yr,e*Yr)}});function Ti(t){return function(e,n){var r=Kr(e),i=Kr(n),o=t(r*i);return[o*i*Qr(e),o*Qr(n)]}}function Ei(t){return function(e,n){var r=$r(e*e+n*n),i=t(r),o=Qr(i),a=Kr(i);return[qr(e*o,r*a),ni(r&&n*o/r)]}}var Si=Ti(function(t){return $r(2/(1+t))});Si.invert=Ei(function(t){return 2*ni(t/2)});var Mi=Ti(function(t){return(t=ei(t))&&t/Qr(t)});Mi.invert=Ei(function(t){return t});function Oi(t,e){return[t,Jr(ti((Hr+e)/2))]}Oi.invert=function(t,e){return[t,2*zr(Zr(e))-Hr]};function Ci(t,e){return[t,e]}Ci.invert=Ci;var Ai=1.340264,Pi=-.081106,Ri=893e-6,Ii=.003796,Di=$r(3)/2;function ki(t,e){var n=ni(Di*Qr(e)),r=n*n,i=r*r*r;return[t*Kr(n)/(Di*(Ai+3*Pi*r+i*(7*Ri+9*Ii*r))),n*(Ai+Pi*r+i*(Ri+Ii*r))]}ki.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(Ai+Pi*i+o*(Ri+Ii*i))-e)/(Ai+3*Pi*i+o*(7*Ri+9*Ii*i)))*r)*i*i,!(Vr(n)<1e-12));++a);return[Di*t*(Ai+3*Pi*i+o*(7*Ri+9*Ii*i))/Kr(r),ni(Qr(r)/Di)]};function Li(t,e){var n=Kr(e),r=Kr(t)*n;return[n*Qr(t)/r,Qr(e)/r]}Li.invert=Ei(zr);function Ni(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Ni.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Vr(n)>Ur&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};function Fi(t,e){return[Kr(e)*Qr(t),Qr(e)]}Fi.invert=Ei(ni);function ji(t,e){var n=Kr(e),r=1+Kr(t)*n;return[n*Qr(t)/r,Qr(e)/r]}ji.invert=Ei(function(t){return 2*zr(t)});function Bi(t,e){return[Jr(ti((Hr+e)/2)),-t]}Bi.invert=function(t,e){return[-e,2*zr(Zr(t))-Hr]};function Ui(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Xi(t,e){var n,r,i,o,a,s=new Yi(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=Hi);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new Yi(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Wi)}function Hi(t){return t.children}function Gi(t){t.data=t.data.data}function Wi(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Yi(t){this.data=t,this.depth=this.height=0,this.parent=null}Yi.prototype=Xi.prototype={constructor:Yi,count:function(){return this.eachAfter(Ui)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Xi(this).eachBefore(Gi)}};Array.prototype.slice;var Vi=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l};function zi(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}zi.prototype=Object.create(Yi.prototype);var qi=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l},Ki=(1+Math.sqrt(5))/2;function Zi(t,e,n,r,i,o){for(var a,s,u,l,h,c,f,d,p,v,_,y=[],g=e.children,b=0,m=0,x=g.length,w=e.value;b<x;){u=i-n,l=o-r;do{h=g[m++].value}while(!h&&m<x);for(c=f=h,_=h*h*(v=Math.max(l/u,u/l)/(w*t)),p=Math.max(f/_,_/c);m<x;++m){if(h+=s=g[m].value,s<c&&(c=s),s>f&&(f=s),_=h*h*v,(d=Math.max(f/_,_/c))>p){h-=s;break}p=d}y.push(a={value:h,dice:u<l,children:g.slice(b,m)}),a.dice?Vi(a,n,r,i,w?r+=l*h/w:o):qi(a,n,r,w?n+=u*h/w:i,o),w-=h,b=m}return y}(function t(e){function n(t,n,r,i,o){Zi(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n})(Ki),function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,l,h,c=-1,f=a.length,d=t.value;++c<f;){for(u=(s=a[c]).children,l=s.value=0,h=u.length;l<h;++l)s.value+=u[l].value;s.dice?Vi(s,n,r,i,r+=(o-r)*s.value/d):qi(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else t._squarify=a=Zi(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Ki);var Ji=function(){return Math.random()},Qi=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Ji),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Ji)),$i=(function t(e){function n(){var t=Qi.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Ji),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Ji));(function t(e){function n(t){var n=$i.source(e)(t);return function(){return n()/t}}return n.source=t,n})(Ji),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Ji);function to(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var eo=Array.prototype,no=eo.map,ro=eo.slice;var io=function(t){return function(){return t}},oo=function(t){return+t},ao=[0,1];function so(t){return t}function uo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:io(isNaN(e)?NaN:.5)}function lo(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function ho(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=uo(i,r),o=n(a,o)):(r=uo(r,i),o=n(o,a)),function(t){return o(r(t))}}function co(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=uo(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=u(t,e,1,r)-1;return o[n](i[n](e))}}function fo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function po(){var t,e,n,r,i,o,a=ao,s=ao,u=Ae,l=so;function h(){return r=Math.min(a.length,s.length)>2?co:ho,i=o=null,c}function c(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return c.invert=function(n){return l(e((o||(o=r(s,a.map(t),xe)))(n)))},c.domain=function(t){return arguments.length?(a=no.call(t,oo),l===so||(l=lo(a)),h()):a.slice()},c.range=function(t){return arguments.length?(s=ro.call(t),h()):s.slice()},c.rangeRound=function(t){return s=ro.call(t),u=Pe,h()},c.clamp=function(t){return arguments.length?(l=t?lo(a):so,c):l!==so},c.interpolate=function(t){return arguments.length?(u=t,h()):u},c.unknown=function(t){return arguments.length?(n=t,c):n},function(n,r){return t=n,e=r,h()}}function vo(t,e){return po()(t,e)}var _o=function(t,e,n,r){var i,o=v(t,e,n);switch((r=Sr(null==r?\",f\":r)).type){case\"s\":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Tr(e)/3)))-Tr(Math.abs(t)))}(o,a))||(r.precision=i),Pr(r,a);case\"\":case\"e\":case\"g\":case\"p\":case\"r\":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Tr(e)-Tr(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-(\"e\"===r.type));break;case\"f\":case\"%\":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Tr(Math.abs(t)))}(o))||(r.precision=i-2*(\"%\"===r.type))}return Ar(r)};function yo(t){var e=t.domain;return t.ticks=function(t){var n=e();return d(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return _o(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=p(s,u,n))>0?r=p(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=p(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}function go(){var t=vo(so,so);return t.copy=function(){return fo(t,go())},to.apply(t,arguments),yo(t)}var bo=new Date,mo=new Date;function xo(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return xo(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return bo.setTime(+e),mo.setTime(+r),t(bo),t(mo),Math.floor(n(bo,mo))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var wo=xo(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});wo.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?xo(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):wo:null};wo.range;var To=6e4,Eo=6048e5,So=xo(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Mo=(So.range,xo(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*To)},function(t,e){return(e-t)/To},function(t){return t.getMinutes()})),Oo=(Mo.range,xo(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*To)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})),Co=(Oo.range,xo(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*To)/864e5},function(t){return t.getDate()-1})),Ao=Co;Co.range;function Po(t){return xo(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*To)/Eo})}var Ro=Po(0),Io=Po(1),Do=Po(2),ko=Po(3),Lo=Po(4),No=Po(5),Fo=Po(6),jo=(Ro.range,Io.range,Do.range,ko.range,Lo.range,No.range,Fo.range,xo(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Bo=(jo.range,xo(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Bo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?xo(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Uo=Bo,Xo=(Bo.range,xo(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*To)},function(t,e){return(e-t)/To},function(t){return t.getUTCMinutes()})),Ho=(Xo.range,xo(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()})),Go=(Ho.range,xo(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),Wo=Go;Go.range;function Yo(t){return xo(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Eo})}var Vo=Yo(0),zo=Yo(1),qo=Yo(2),Ko=Yo(3),Zo=Yo(4),Jo=Yo(5),Qo=Yo(6),$o=(Vo.range,zo.range,qo.range,Ko.range,Zo.range,Jo.range,Qo.range,xo(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),ta=($o.range,xo(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));ta.every=function(t){return isFinite(t=Math.floor(t))&&t>0?xo(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ea=ta;ta.range;function na(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ra(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ia(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var oa,aa,sa,ua={\"-\":\"\",_:\" \",0:\"0\"},la=/^\\s*\\d+/,ha=/^%/,ca=/[\\\\^$*+?|[\\]().{}]/g;function fa(t,e,n){var r=t<0?\"-\":\"\",i=(r?-t:t)+\"\",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function da(t){return t.replace(ca,\"\\\\$&\")}function pa(t){return new RegExp(\"^(?:\"+t.map(da).join(\"|\")+\")\",\"i\")}function va(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function _a(t,e,n){var r=la.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ya(t,e,n){var r=la.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ga(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ba(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ma(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function xa(t,e,n){var r=la.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wa(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ta(t,e,n){var r=/^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||\"00\")),n+r[0].length):-1}function Ea(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Sa(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ma(t,e,n){var r=la.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Oa(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ca(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Aa(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Pa(t,e,n){var r=la.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ra(t,e,n){var r=la.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ia(t,e,n){var r=ha.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Da(t,e,n){var r=la.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ka(t,e,n){var r=la.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function La(t,e){return fa(t.getDate(),e,2)}function Na(t,e){return fa(t.getHours(),e,2)}function Fa(t,e){return fa(t.getHours()%12||12,e,2)}function ja(t,e){return fa(1+Ao.count(Uo(t),t),e,3)}function Ba(t,e){return fa(t.getMilliseconds(),e,3)}function Ua(t,e){return Ba(t,e)+\"000\"}function Xa(t,e){return fa(t.getMonth()+1,e,2)}function Ha(t,e){return fa(t.getMinutes(),e,2)}function Ga(t,e){return fa(t.getSeconds(),e,2)}function Wa(t){var e=t.getDay();return 0===e?7:e}function Ya(t,e){return fa(Ro.count(Uo(t),t),e,2)}function Va(t,e){var n=t.getDay();return t=n>=4||0===n?Lo(t):Lo.ceil(t),fa(Lo.count(Uo(t),t)+(4===Uo(t).getDay()),e,2)}function za(t){return t.getDay()}function qa(t,e){return fa(Io.count(Uo(t),t),e,2)}function Ka(t,e){return fa(t.getFullYear()%100,e,2)}function Za(t,e){return fa(t.getFullYear()%1e4,e,4)}function Ja(t){var e=t.getTimezoneOffset();return(e>0?\"-\":(e*=-1,\"+\"))+fa(e/60|0,\"0\",2)+fa(e%60,\"0\",2)}function Qa(t,e){return fa(t.getUTCDate(),e,2)}function $a(t,e){return fa(t.getUTCHours(),e,2)}function ts(t,e){return fa(t.getUTCHours()%12||12,e,2)}function es(t,e){return fa(1+Wo.count(ea(t),t),e,3)}function ns(t,e){return fa(t.getUTCMilliseconds(),e,3)}function rs(t,e){return ns(t,e)+\"000\"}function is(t,e){return fa(t.getUTCMonth()+1,e,2)}function os(t,e){return fa(t.getUTCMinutes(),e,2)}function as(t,e){return fa(t.getUTCSeconds(),e,2)}function ss(t){var e=t.getUTCDay();return 0===e?7:e}function us(t,e){return fa(Vo.count(ea(t),t),e,2)}function ls(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Zo(t):Zo.ceil(t),fa(Zo.count(ea(t),t)+(4===ea(t).getUTCDay()),e,2)}function hs(t){return t.getUTCDay()}function cs(t,e){return fa(zo.count(ea(t),t),e,2)}function fs(t,e){return fa(t.getUTCFullYear()%100,e,2)}function ds(t,e){return fa(t.getUTCFullYear()%1e4,e,4)}function ps(){return\"+0000\"}function vs(){return\"%\"}function _s(t){return+t}function ys(t){return Math.floor(+t/1e3)}!function(t){oa=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=pa(i),h=va(i),c=pa(o),f=va(o),d=pa(a),p=va(a),v=pa(s),_=va(s),y=pa(u),g=va(u),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:La,e:La,f:Ua,H:Na,I:Fa,j:ja,L:Ba,m:Xa,M:Ha,p:function(t){return i[+(t.getHours()>=12)]},Q:_s,s:ys,S:Ga,u:Wa,U:Ya,V:Va,w:za,W:qa,x:null,X:null,y:Ka,Y:Za,Z:Ja,\"%\":vs},m={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Qa,e:Qa,f:rs,H:$a,I:ts,j:es,L:ns,m:is,M:os,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:_s,s:ys,S:as,u:ss,U:us,V:ls,w:hs,W:cs,x:null,X:null,y:fs,Y:ds,Z:ps,\"%\":vs},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:Sa,e:Sa,f:Ra,H:Oa,I:Oa,j:Ma,L:Pa,m:Ea,M:Ca,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=h[r[0].toLowerCase()],n+r[0].length):-1},Q:Da,s:ka,S:Aa,u:ya,U:ga,V:ba,w:_a,W:ma,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:wa,Y:xa,Z:Ta,\"%\":Ia};function w(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=ua[r=t.charAt(++s)])?r=t.charAt(++s):i=\"e\"===r?\" \":\"0\",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join(\"\")}}function T(t,e){return function(n){var r,i,o=ia(1900);if(E(o,t,n+=\"\",0)!=n.length)return null;if(\"Q\"in o)return new Date(o.Q);if(\"p\"in o&&(o.H=o.H%12+12*o.p),\"V\"in o){if(o.V<1||o.V>53)return null;\"w\"in o||(o.w=1),\"Z\"in o?(i=(r=ra(ia(o.y))).getUTCDay(),r=i>4||0===i?zo.ceil(r):zo(r),r=Wo.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=e(ia(o.y))).getDay(),r=i>4||0===i?Io.ceil(r):Io(r),r=Ao.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else(\"W\"in o||\"U\"in o)&&(\"w\"in o||(o.w=\"u\"in o?o.u%7:\"W\"in o?1:0),i=\"Z\"in o?ra(ia(o.y)).getUTCDay():e(ia(o.y)).getDay(),o.m=0,o.d=\"W\"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return\"Z\"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ra(o)):e(o)}}function E(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in ua?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),m.x=w(n,m),m.X=w(r,m),m.c=w(e,m),{format:function(t){var e=w(t+=\"\",b);return e.toString=function(){return t},e},parse:function(t){var e=T(t+=\"\",na);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+=\"\",m);return e.toString=function(){return t},e},utcParse:function(t){var e=T(t,ra);return e.toString=function(){return t},e}}}(t),oa.format,oa.parse,aa=oa.utcFormat,sa=oa.utcParse}({dateTime:\"%x, %X\",date:\"%-m/%-d/%Y\",time:\"%-I:%M:%S %p\",periods:[\"AM\",\"PM\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],shortDays:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortMonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]});Date.prototype.toISOString||aa(\"%Y-%m-%dT%H:%M:%S.%LZ\");+new Date(\"2000-01-01T00:00:00.000Z\")||sa(\"%Y-%m-%dT%H:%M:%S.%LZ\");var gs=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]=\"#\"+t.slice(6*r,6*++r);return n},bs=(gs(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\"),gs(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\"),gs(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\"),gs(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\"),gs(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\"),gs(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\"),gs(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\"),gs(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\"),gs(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\"),function(t){return me(t[t.length-1])});bs(new Array(3).concat(\"d8b365f5f5f55ab4ac\",\"a6611adfc27d80cdc1018571\",\"a6611adfc27df5f5f580cdc1018571\",\"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\").map(gs)),bs(new Array(3).concat(\"af8dc3f7f7f77fbf7b\",\"7b3294c2a5cfa6dba0008837\",\"7b3294c2a5cff7f7f7a6dba0008837\",\"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\").map(gs)),bs(new Array(3).concat(\"e9a3c9f7f7f7a1d76a\",\"d01c8bf1b6dab8e1864dac26\",\"d01c8bf1b6daf7f7f7b8e1864dac26\",\"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\").map(gs)),bs(new Array(3).concat(\"998ec3f7f7f7f1a340\",\"5e3c99b2abd2fdb863e66101\",\"5e3c99b2abd2f7f7f7fdb863e66101\",\"542788998ec3d8daebfee0b6f1a340b35806\",\"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\").map(gs)),bs(new Array(3).concat(\"ef8a62f7f7f767a9cf\",\"ca0020f4a58292c5de0571b0\",\"ca0020f4a582f7f7f792c5de0571b0\",\"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\").map(gs)),bs(new Array(3).concat(\"ef8a62ffffff999999\",\"ca0020f4a582bababa404040\",\"ca0020f4a582ffffffbababa404040\",\"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\").map(gs)),bs(new Array(3).concat(\"fc8d59ffffbf91bfdb\",\"d7191cfdae61abd9e92c7bb6\",\"d7191cfdae61ffffbfabd9e92c7bb6\",\"d73027fc8d59fee090e0f3f891bfdb4575b4\",\"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\").map(gs)),bs(new Array(3).concat(\"fc8d59ffffbf91cf60\",\"d7191cfdae61a6d96a1a9641\",\"d7191cfdae61ffffbfa6d96a1a9641\",\"d73027fc8d59fee08bd9ef8b91cf601a9850\",\"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\").map(gs)),bs(new Array(3).concat(\"fc8d59ffffbf99d594\",\"d7191cfdae61abdda42b83ba\",\"d7191cfdae61ffffbfabdda42b83ba\",\"d53e4ffc8d59fee08be6f59899d5943288bd\",\"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\").map(gs)),bs(new Array(3).concat(\"e5f5f999d8c92ca25f\",\"edf8fbb2e2e266c2a4238b45\",\"edf8fbb2e2e266c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\").map(gs)),bs(new Array(3).concat(\"e0ecf49ebcda8856a7\",\"edf8fbb3cde38c96c688419d\",\"edf8fbb3cde38c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\").map(gs)),bs(new Array(3).concat(\"e0f3dba8ddb543a2ca\",\"f0f9e8bae4bc7bccc42b8cbe\",\"f0f9e8bae4bc7bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\").map(gs)),bs(new Array(3).concat(\"fee8c8fdbb84e34a33\",\"fef0d9fdcc8afc8d59d7301f\",\"fef0d9fdcc8afc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\").map(gs)),bs(new Array(3).concat(\"ece2f0a6bddb1c9099\",\"f6eff7bdc9e167a9cf02818a\",\"f6eff7bdc9e167a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\").map(gs)),bs(new Array(3).concat(\"ece7f2a6bddb2b8cbe\",\"f1eef6bdc9e174a9cf0570b0\",\"f1eef6bdc9e174a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\").map(gs)),bs(new Array(3).concat(\"e7e1efc994c7dd1c77\",\"f1eef6d7b5d8df65b0ce1256\",\"f1eef6d7b5d8df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\").map(gs)),bs(new Array(3).concat(\"fde0ddfa9fb5c51b8a\",\"feebe2fbb4b9f768a1ae017e\",\"feebe2fbb4b9f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\").map(gs)),bs(new Array(3).concat(\"edf8b17fcdbb2c7fb8\",\"ffffcca1dab441b6c4225ea8\",\"ffffcca1dab441b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\").map(gs)),bs(new Array(3).concat(\"f7fcb9addd8e31a354\",\"ffffccc2e69978c679238443\",\"ffffccc2e69978c67931a354006837\",\"ffffccd9f0a3addd8e78c67931a354006837\",\"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\").map(gs)),bs(new Array(3).concat(\"fff7bcfec44fd95f0e\",\"ffffd4fed98efe9929cc4c02\",\"ffffd4fed98efe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\").map(gs)),bs(new Array(3).concat(\"ffeda0feb24cf03b20\",\"ffffb2fecc5cfd8d3ce31a1c\",\"ffffb2fecc5cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\").map(gs)),bs(new Array(3).concat(\"deebf79ecae13182bd\",\"eff3ffbdd7e76baed62171b5\",\"eff3ffbdd7e76baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\").map(gs)),bs(new Array(3).concat(\"e5f5e0a1d99b31a354\",\"edf8e9bae4b374c476238b45\",\"edf8e9bae4b374c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\").map(gs)),bs(new Array(3).concat(\"f0f0f0bdbdbd636363\",\"f7f7f7cccccc969696525252\",\"f7f7f7cccccc969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\").map(gs)),bs(new Array(3).concat(\"efedf5bcbddc756bb1\",\"f2f0f7cbc9e29e9ac86a51a3\",\"f2f0f7cbc9e29e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\").map(gs)),bs(new Array(3).concat(\"fee0d2fc9272de2d26\",\"fee5d9fcae91fb6a4acb181d\",\"fee5d9fcae91fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\").map(gs)),bs(new Array(3).concat(\"fee6cefdae6be6550d\",\"feeddefdbe85fd8d3cd94701\",\"feeddefdbe85fd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\").map(gs)),Ue(he(300,.5,0),he(-240,.5,1)),Ue(he(-100,.75,.35),he(80,1.5,.8)),Ue(he(260,.75,.35),he(80,1.5,.8)),he(),It(),Math.PI,Math.PI;function ms(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}ms(gs(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\")),ms(gs(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\")),ms(gs(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\")),ms(gs(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\")),Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var xs=1e-12,ws=Math.PI,Ts=2*ws;function Es(t){this._context=t}Es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Ss=function(t){return new Es(t)};Os(Ss);function Ms(t){this._curve=t}function Os(t){function e(e){return new Ms(t(e))}return e._curve=t,e}Ms.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};Array.prototype.slice;Math.sqrt(1/3);var Cs=Math.sin(ws/10)/Math.sin(7*ws/10),As=(Math.sin(Ts/10),Math.cos(Ts/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function Ps(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Rs(t){this._context=t}Rs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ps(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ps(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Is(t){this._context=t}Is.prototype={areaStart:As,areaEnd:As,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ps(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ds(t){this._context=t}Ds.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ps(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ks(t,e){this._basis=new Rs(t),this._beta=e}ks.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};(function t(e){function n(t){return 1===e?new Rs(t):new ks(t,e)}return n.beta=function(e){return t(+e)},n})(.85);function Ls(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ns(t,e){this._context=t,this._k=(1-e)/6}Ns.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ls(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ls(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Ns(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Fs(t,e){this._context=t,this._k=(1-e)/6}Fs.prototype={areaStart:As,areaEnd:As,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ls(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Fs(t,e)}return n.tension=function(e){return t(+e)},n})(0);function js(t,e){this._context=t,this._k=(1-e)/6}js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ls(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new js(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Bs(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>xs){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>xs){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/h,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Us(t,e){this._context=t,this._alpha=e}Us.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Bs(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Us(t,e):new Ns(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Xs(t,e){this._context=t,this._alpha=e}Xs.prototype={areaStart:As,areaEnd:As,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Bs(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Xs(t,e):new Fs(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Hs(t,e){this._context=t,this._alpha=e}Hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bs(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Hs(t,e):new js(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Gs(t){this._context=t}Gs.prototype={areaStart:As,areaEnd:As,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ws(t){return t<0?-1:1}function Ys(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ws(o)+Ws(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Vs(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zs(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function qs(t){this._context=t}function Ks(t){this._context=new Zs(t)}function Zs(t){this._context=t}function Js(t){this._context=t}function Qs(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zs(this,this._t0,Vs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zs(this,Vs(this,n=Ys(this,t,e)),n);break;default:zs(this,this._t0,n=Ys(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ks.prototype=Object.create(qs.prototype)).point=function(t,e){qs.prototype.point.call(this,e,t)},Zs.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Qs(t),i=Qs(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $s(t,e){this._context=t,this._t=e}$s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};function tu(){this._=null}function eu(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function nu(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ru(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function iu(t){for(;t.L;)t=t.L;return t}tu.prototype={constructor:tu,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=iu(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(nu(this,n),n=(t=n).U),n.C=!1,r.C=!0,ru(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ru(this,n),n=(t=n).U),n.C=!1,r.C=!0,nu(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?iu(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,nu(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ru(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,nu(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ru(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,nu(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ru(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ou=tu;function au(t,e,n,r){var i=[null,null],o=Pu.push(i)-1;return i.left=t,i.right=e,n&&uu(i,t,e,n),r&&uu(i,e,t,r),Cu[t.index].halfedges.push(o),Cu[e.index].halfedges.push(o),i}function su(t,e,n){var r=[e,n];return r.left=t,r}function uu(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function lu(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],h=0,c=1,f=s[0]-u,d=s[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<h)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>h&&(h=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>h&&(h=o)}else if(f>0){if(o<h)return;o<c&&(c=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<h)return;o<c&&(c=o)}else if(d>0){if(o>c)return;o>h&&(h=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>c)return;o>h&&(h=o)}else if(d>0){if(o<h)return;o<c&&(c=o)}return!(h>0||c<1)||(h>0&&(t[0]=[u+h*f,l+h*d]),c<1&&(t[1]=[u+c*f,l+c*d]),!0)}}}}}function hu(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,h=t.right,c=l[0],f=l[1],d=h[0],p=h[1],v=(c+d)/2,_=(f+p)/2;if(p===f){if(v<e||v>=r)return;if(c>d){if(u){if(u[1]>=i)return}else u=[v,n];o=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];o=[v,n]}}else if(s=_-(a=(c-d)/(p-f))*v,a<-1||a>1)if(c>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function cu(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function fu(t,e){return e[+(e.left!==t.site)]}function du(t,e){return e[+(e.left===t.site)]}var pu,vu=[];function _u(){eu(this),this.x=this.y=this.arc=this.site=this.cy=null}function yu(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,h=o[0]-a,c=o[1]-s,f=2*(u*c-l*h);if(!(f>=-Iu)){var d=u*u+l*l,p=h*h+c*c,v=(c*d-l*p)/f,_=(u*p-h*d)/f,y=vu.pop()||new _u;y.arc=t,y.site=i,y.x=v+a,y.y=(y.cy=_+s)+Math.sqrt(v*v+_*_),t.circle=y;for(var g=null,b=Au._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}Au.insert(g,y),g||(pu=y)}}}}function gu(t){var e=t.circle;e&&(e.P||(pu=e.N),Au.remove(e),vu.push(e),eu(e),t.circle=null)}var bu=[];function mu(){eu(this),this.edge=this.site=this.circle=null}function xu(t){var e=bu.pop()||new mu;return e.site=t,e}function wu(t){gu(t),Ou.remove(t),bu.push(t),eu(t)}function Tu(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];wu(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Ru&&Math.abs(r-u.circle.cy)<Ru;)o=u.P,s.unshift(u),wu(u),u=o;s.unshift(u),gu(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Ru&&Math.abs(r-l.circle.cy)<Ru;)a=l.N,s.push(l),wu(l),l=a;s.push(l),gu(l);var h,c=s.length;for(h=1;h<c;++h)l=s[h],u=s[h-1],uu(l.edge,u.site,l.site,i);u=s[0],(l=s[c-1]).edge=au(u.site,l.site,null,i),yu(u),yu(l)}function Eu(t){for(var e,n,r,i,o=t[0],a=t[1],s=Ou._;s;)if((r=Su(s,a)-o)>Ru)s=s.L;else{if(!((i=o-Mu(s,a))>Ru)){r>-Ru?(e=s.P,n=s):i>-Ru?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Cu[t.index]={site:t,halfedges:[]}}(t);var u=xu(t);if(Ou.insert(e,u),e||n){if(e===n)return gu(e),n=xu(e.site),Ou.insert(u,n),u.edge=n.edge=au(e.site,u.site),yu(e),void yu(n);if(n){gu(e),gu(n);var l=e.site,h=l[0],c=l[1],f=t[0]-h,d=t[1]-c,p=n.site,v=p[0]-h,_=p[1]-c,y=2*(f*_-d*v),g=f*f+d*d,b=v*v+_*_,m=[(_*g-d*b)/y+h,(f*b-v*g)/y+c];uu(n.edge,l,p,m),u.edge=au(l,t,null,m),n.edge=au(t,p,null,m),yu(e),yu(n)}else u.edge=au(e.site,u.site)}}function Su(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var h=s-r,c=1/o-1/l,f=h/l;return c?(-f+Math.sqrt(f*f-2*c*(h*h/(-2*l)-u+l/2+i-o/2)))/c+r:(r+s)/2}function Mu(t,e){var n=t.N;if(n)return Su(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Ou,Cu,Au,Pu,Ru=1e-6,Iu=1e-12;function Du(t,e){return e[1]-t[1]||e[0]-t[0]}function ku(t,e){var n,r,i,o=t.sort(Du).pop();for(Pu=[],Cu=new Array(t.length),Ou=new ou,Au=new ou;;)if(i=pu,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Eu(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Tu(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Cu.length;i<o;++i)if((t=Cu[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=cu(t,Pu[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=Pu.length;o--;)hu(i=Pu[o],t,e,n,r)&&lu(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ru||Math.abs(i[0][1]-i[1][1])>Ru)||delete Pu[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,h,c,f,d,p,v,_=Cu.length,y=!0;for(i=0;i<_;++i)if(o=Cu[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)Pu[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(d=du(o,Pu[u[s]]))[0],v=d[1],c=(h=fu(o,Pu[u[++s%l]]))[0],f=h[1],(Math.abs(p-c)>Ru||Math.abs(v-f)>Ru)&&(u.splice(s,0,Pu.push(su(a,d,Math.abs(p-t)<Ru&&r-v>Ru?[t,Math.abs(c-t)<Ru?f:r]:Math.abs(v-r)<Ru&&n-p>Ru?[Math.abs(f-r)<Ru?c:n,r]:Math.abs(p-n)<Ru&&v-e>Ru?[n,Math.abs(c-n)<Ru?f:e]:Math.abs(v-e)<Ru&&p-t>Ru?[Math.abs(f-e)<Ru?c:t,e]:null))-1),++l);l&&(y=!1)}if(y){var g,b,m,x=1/0;for(i=0,y=null;i<_;++i)(o=Cu[i])&&(m=(g=(a=o.site)[0]-t)*g+(b=a[1]-e)*b)<x&&(x=m,y=o);if(y){var w=[t,e],T=[t,r],E=[n,r],S=[n,e];y.halfedges.push(Pu.push(su(a=y.site,w,T))-1,Pu.push(su(a,T,E))-1,Pu.push(su(a,E,S))-1,Pu.push(su(a,S,w))-1)}}for(i=0;i<_;++i)(o=Cu[i])&&(o.halfedges.length||delete Cu[i])}(a,s,u,l)}this.edges=Pu,this.cells=Cu,Ou=Au=Pu=Cu=null}ku.prototype={constructor:ku,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return fu(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,l,h=n.site,c=-1,f=e[i[o-1]],d=f.left===h?f.right:f.left;++c<o;)a=d,d=(f=e[i[c]]).left===h?f.right:f.left,a&&d&&r<a.index&&r<d.index&&(u=a,l=d,((s=h)[0]-l[0])*(u[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0)&&t.push([h.data,a.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],h=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],c=u*u+l*l;c<h&&(h=c,a=s.index)}})}while(null!==a);return o._found=r,null==n||h<=n*n?i.site:null}};function Lu(t,e,n){this.k=t,this.x=e,this.y=n}Lu.prototype={constructor:Lu,scale:function(t){return 1===t?this:new Lu(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Lu(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return\"translate(\"+this.x+\",\"+this.y+\") scale(\"+this.k+\")\"}};new Lu(1,0,0);Lu.prototype;function Nu(t,e){var n=t.__state.conversionName.toString(),r=Math.round(t.r),i=Math.round(t.g),o=Math.round(t.b),a=t.a,s=Math.round(t.h),u=t.s.toFixed(1),l=t.v.toFixed(1);if(e||\"THREE_CHAR_HEX\"===n||\"SIX_CHAR_HEX\"===n){for(var h=t.hex.toString(16);h.length<6;)h=\"0\"+h;return\"#\"+h}return\"CSS_RGB\"===n?\"rgb(\"+r+\",\"+i+\",\"+o+\")\":\"CSS_RGBA\"===n?\"rgba(\"+r+\",\"+i+\",\"+o+\",\"+a+\")\":\"HEX\"===n?\"0x\"+t.hex.toString(16):\"RGB_ARRAY\"===n?\"[\"+r+\",\"+i+\",\"+o+\"]\":\"RGBA_ARRAY\"===n?\"[\"+r+\",\"+i+\",\"+o+\",\"+a+\"]\":\"RGB_OBJ\"===n?\"{r:\"+r+\",g:\"+i+\",b:\"+o+\"}\":\"RGBA_OBJ\"===n?\"{r:\"+r+\",g:\"+i+\",b:\"+o+\",a:\"+a+\"}\":\"HSV_OBJ\"===n?\"{h:\"+s+\",s:\"+u+\",v:\"+l+\"}\":\"HSVA_OBJ\"===n?\"{h:\"+s+\",s:\"+u+\",v:\"+l+\",a:\"+a+\"}\":\"unknown format\"}var Fu=Array.prototype.forEach,ju=Array.prototype.slice,Bu={BREAK:{},extend:function(t){return this.each(ju.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))},this),t},defaults:function(t){return this.each(ju.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))},this),t},compose:function(){var t=ju.call(arguments);return function(){for(var e=ju.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(Fu&&t.forEach&&t.forEach===Fu)t.forEach(e,n);else if(t.length===t.length+0){var r,i=void 0;for(i=0,r=t.length;i<r;i++)if(i in t&&e.call(n,t[i],i)===this.BREAK)return}else for(var o in t)if(e.call(n,t[o],o)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r=void 0;return function(){var i=this,o=arguments;var a=n||!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,o)},e),a&&t.apply(i,o)}},toArray:function(t){return t.toArray?t.toArray():ju.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+\"\"},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return\"[object Function]\"===Object.prototype.toString.call(t)}},Uu=[{litmus:Bu.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:\"HEX\",hex:parseInt(\"0x\"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:Nu},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:\"HEX\",hex:parseInt(\"0x\"+e[1].toString(),0)}},write:Nu},CSS_RGB:{read:function(t){var e=t.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);return null!==e&&{space:\"RGB\",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:Nu},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);return null!==e&&{space:\"RGB\",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:Nu}}},{litmus:Bu.isNumber,conversions:{HEX:{read:function(t){return{space:\"HEX\",hex:t,conversionName:\"HEX\"}},write:function(t){return t.hex}}}},{litmus:Bu.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:\"RGB\",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:\"RGB\",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:Bu.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(Bu.isNumber(t.r)&&Bu.isNumber(t.g)&&Bu.isNumber(t.b)&&Bu.isNumber(t.a))&&{space:\"RGB\",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(Bu.isNumber(t.r)&&Bu.isNumber(t.g)&&Bu.isNumber(t.b))&&{space:\"RGB\",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(Bu.isNumber(t.h)&&Bu.isNumber(t.s)&&Bu.isNumber(t.v)&&Bu.isNumber(t.a))&&{space:\"HSV\",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(Bu.isNumber(t.h)&&Bu.isNumber(t.s)&&Bu.isNumber(t.v))&&{space:\"HSV\",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],Xu=void 0,Hu=void 0,Gu=function(){Hu=!1;var t=arguments.length>1?Bu.toArray(arguments):arguments[0];return Bu.each(Uu,function(e){if(e.litmus(t))return Bu.each(e.conversions,function(e,n){if(Xu=e.read(t),!1===Hu&&!1!==Xu)return Hu=Xu,Xu.conversionName=n,Xu.conversion=e,Bu.BREAK}),Bu.BREAK}),Hu},Wu=void 0,Yu={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][r];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=i-r,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=t===i?(e-n)/o:e===i?2+(n-t)/o:4+(t-e)/o,(a/=6)<0&&(a+=1),{h:360*a,s:o/i,v:i/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(Wu=8*e)|t&~(255<<Wu)}},Vu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},zu=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},qu=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ku=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if(\"value\"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Zu=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Ju=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e},Qu=function(){function t(){if(zu(this,t),this.__state=Gu.apply(this,arguments),!1===this.__state)throw new Error(\"Failed to interpret color arguments\");this.__state.a=this.__state.a||1}return qu(t,[{key:\"toString\",value:function(){return Nu(this)}},{key:\"toHexString\",value:function(){return Nu(this,!0)}},{key:\"toOriginal\",value:function(){return this.__state.conversion.write(this)}}]),t}();function $u(t,e,n){Object.defineProperty(t,e,{get:function(){return\"RGB\"===this.__state.space?this.__state[e]:(Qu.recalculateRGB(this,e,n),this.__state[e])},set:function(t){\"RGB\"!==this.__state.space&&(Qu.recalculateRGB(this,e,n),this.__state.space=\"RGB\"),this.__state[e]=t}})}function tl(t,e){Object.defineProperty(t,e,{get:function(){return\"HSV\"===this.__state.space?this.__state[e]:(Qu.recalculateHSV(this),this.__state[e])},set:function(t){\"HSV\"!==this.__state.space&&(Qu.recalculateHSV(this),this.__state.space=\"HSV\"),this.__state[e]=t}})}Qu.recalculateRGB=function(t,e,n){if(\"HEX\"===t.__state.space)t.__state[e]=Yu.component_from_hex(t.__state.hex,n);else{if(\"HSV\"!==t.__state.space)throw new Error(\"Corrupted color state\");Bu.extend(t.__state,Yu.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},Qu.recalculateHSV=function(t){var e=Yu.rgb_to_hsv(t.r,t.g,t.b);Bu.extend(t.__state,{s:e.s,v:e.v}),Bu.isNaN(e.h)?Bu.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},Qu.COMPONENTS=[\"r\",\"g\",\"b\",\"h\",\"s\",\"v\",\"hex\",\"a\"],$u(Qu.prototype,\"r\",2),$u(Qu.prototype,\"g\",1),$u(Qu.prototype,\"b\",0),tl(Qu.prototype,\"h\"),tl(Qu.prototype,\"s\"),tl(Qu.prototype,\"v\"),Object.defineProperty(Qu.prototype,\"a\",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(Qu.prototype,\"hex\",{get:function(){return\"HEX\"!==!this.__state.space&&(this.__state.hex=Yu.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space=\"HEX\",this.__state.hex=t}});var el=function(){function t(e,n){zu(this,t),this.initialValue=e[n],this.domElement=document.createElement(\"div\"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return qu(t,[{key:\"onChange\",value:function(t){return this.__onChange=t,this}},{key:\"onFinishChange\",value:function(t){return this.__onFinishChange=t,this}},{key:\"setValue\",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:\"getValue\",value:function(){return this.object[this.property]}},{key:\"updateDisplay\",value:function(){return this}},{key:\"isModified\",value:function(){return this.initialValue!==this.getValue()}}]),t}(),nl={};Bu.each({HTMLEvents:[\"change\"],MouseEvents:[\"click\",\"mousemove\",\"mousedown\",\"mouseup\",\"mouseover\"],KeyboardEvents:[\"keydown\"]},function(t,e){Bu.each(t,function(t){nl[t]=e})});var rl=/(\\d+(\\.\\d+)?)px/;function il(t){if(\"0\"===t||Bu.isUndefined(t))return 0;var e=t.match(rl);return Bu.isNull(e)?0:parseFloat(e[1])}var ol={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?\"auto\":\"none\",t.style.KhtmlUserSelect=e?\"auto\":\"none\",t.unselectable=e?\"on\":\"off\")},makeFullscreen:function(t,e,n){var r=n,i=e;Bu.isUndefined(i)&&(i=!0),Bu.isUndefined(r)&&(r=!0),t.style.position=\"absolute\",i&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,r){var i=n||{},o=nl[e];if(!o)throw new Error(\"Event type \"+e+\" not supported.\");var a=document.createEvent(o);switch(o){case\"MouseEvents\":var s=i.x||i.clientX||0,u=i.y||i.clientY||0;a.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,s,u,!1,!1,!1,!1,0,null);break;case\"KeyboardEvents\":var l=a.initKeyboardEvent||a.initKeyEvent;Bu.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),l(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:a.initEvent(e,i.bubbles||!1,i.cancelable||!0)}Bu.defaults(a,r),t.dispatchEvent(a)},bind:function(t,e,n,r){var i=r||!1;return t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent(\"on\"+e,n),ol},unbind:function(t,e,n,r){var i=r||!1;return t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent(\"on\"+e,n),ol},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(\" \").replace(/^\\s+/,\"\").replace(/\\s+$/,\"\"))}return ol},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute(\"class\");else{var n=t.className.split(/ +/),r=n.indexOf(e);-1!==r&&(n.splice(r,1),t.className=n.join(\" \"))}else t.className=void 0;return ol},hasClass:function(t,e){return new RegExp(\"(?:^|\\\\s+)\"+e+\"(?:\\\\s+|$)\").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return il(e[\"border-left-width\"])+il(e[\"border-right-width\"])+il(e[\"padding-left\"])+il(e[\"padding-right\"])+il(e.width)},getHeight:function(t){var e=getComputedStyle(t);return il(e[\"border-top-width\"])+il(e[\"border-bottom-width\"])+il(e[\"padding-top\"])+il(e[\"padding-bottom\"])+il(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},al=function(t){function e(t,n){zu(this,e);var r=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement(\"input\"),r.__checkbox.setAttribute(\"type\",\"checkbox\"),ol.bind(r.__checkbox,\"change\",function(){i.setValue(!i.__prev)},!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return Zu(e,el),qu(e,[{key:\"setValue\",value:function(t){var n=Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"setValue\",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:\"updateDisplay\",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute(\"checked\",\"checked\"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}(),sl=function(t){function e(t,n,r){zu(this,e);var i=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r,a=i;if(i.__select=document.createElement(\"select\"),Bu.isArray(o)){var s={};Bu.each(o,function(t){s[t]=t}),o=s}return Bu.each(o,function(t,e){var n=document.createElement(\"option\");n.innerHTML=e,n.setAttribute(\"value\",t),a.__select.appendChild(n)}),i.updateDisplay(),ol.bind(i.__select,\"change\",function(){var t=this.options[this.selectedIndex].value;a.setValue(t)}),i.domElement.appendChild(i.__select),i}return Zu(e,el),qu(e,[{key:\"setValue\",value:function(t){var n=Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"setValue\",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:\"updateDisplay\",value:function(){return ol.isActive(this.__select)?this:(this.__select.value=this.getValue(),Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this))}}]),e}(),ul=function(t){function e(t,n){zu(this,e);var r=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;function o(){i.setValue(i.__input.value)}return r.__input=document.createElement(\"input\"),r.__input.setAttribute(\"type\",\"text\"),ol.bind(r.__input,\"keyup\",o),ol.bind(r.__input,\"change\",o),ol.bind(r.__input,\"blur\",function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),ol.bind(r.__input,\"keydown\",function(t){13===t.keyCode&&this.blur()}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return Zu(e,el),qu(e,[{key:\"updateDisplay\",value:function(){return ol.isActive(this.__input)||(this.__input.value=this.getValue()),Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}();function ll(t){var e=t.toString();return e.indexOf(\".\")>-1?e.length-e.indexOf(\".\")-1:0}var hl=function(t){function e(t,n,r){zu(this,e);var i=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r||{};return i.__min=o.min,i.__max=o.max,i.__step=o.step,Bu.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=ll(i.__impliedStep),i}return Zu(e,el),qu(e,[{key:\"setValue\",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"setValue\",this).call(this,n)}},{key:\"min\",value:function(t){return this.__min=t,this}},{key:\"max\",value:function(t){return this.__max=t,this}},{key:\"step\",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=ll(t),this}}]),e}();var cl=function(t){function e(t,n,r){zu(this,e);var i=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));i.__truncationSuspended=!1;var o=i,a=void 0;function s(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function u(t){var e=a-t.clientY;o.setValue(o.getValue()+e*o.__impliedStep),a=t.clientY}function l(){ol.unbind(window,\"mousemove\",u),ol.unbind(window,\"mouseup\",l),s()}return i.__input=document.createElement(\"input\"),i.__input.setAttribute(\"type\",\"text\"),ol.bind(i.__input,\"change\",function(){var t=parseFloat(o.__input.value);Bu.isNaN(t)||o.setValue(t)}),ol.bind(i.__input,\"blur\",function(){s()}),ol.bind(i.__input,\"mousedown\",function(t){ol.bind(window,\"mousemove\",u),ol.bind(window,\"mouseup\",l),a=t.clientY}),ol.bind(i.__input,\"keydown\",function(t){13===t.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,s())}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return Zu(e,hl),qu(e,[{key:\"updateDisplay\",value:function(){var t,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(t*r)/r),Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}();function fl(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}var dl=function(t){function e(t,n,r,i,o){zu(this,e);var a=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:r,max:i,step:o})),s=a;function u(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(fl(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function l(){ol.unbind(window,\"mousemove\",u),ol.unbind(window,\"mouseup\",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function h(t){var e=t.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(fl(e,n.left,n.right,s.__min,s.__max))}function c(){ol.unbind(window,\"touchmove\",h),ol.unbind(window,\"touchend\",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement(\"div\"),a.__foreground=document.createElement(\"div\"),ol.bind(a.__background,\"mousedown\",function(t){document.activeElement.blur(),ol.bind(window,\"mousemove\",u),ol.bind(window,\"mouseup\",l),u(t)}),ol.bind(a.__background,\"touchstart\",function(t){if(1!==t.touches.length)return;ol.bind(window,\"touchmove\",h),ol.bind(window,\"touchend\",c),h(t)}),ol.addClass(a.__background,\"slider\"),ol.addClass(a.__foreground,\"slider-fg\"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return Zu(e,hl),qu(e,[{key:\"updateDisplay\",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+\"%\",Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}(),pl=function(t){function e(t,n,r){zu(this,e);var i=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=i;return i.__button=document.createElement(\"div\"),i.__button.innerHTML=void 0===r?\"Fire\":r,ol.bind(i.__button,\"click\",function(t){return t.preventDefault(),o.fire(),!1}),ol.addClass(i.__button,\"button\"),i.domElement.appendChild(i.__button),i}return Zu(e,el),qu(e,[{key:\"fire\",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(),vl=function(t){function e(t,n){zu(this,e);var r=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.__color=new Qu(r.getValue()),r.__temp=new Qu(0);var i=r;r.domElement=document.createElement(\"div\"),ol.makeSelectable(r.domElement,!1),r.__selector=document.createElement(\"div\"),r.__selector.className=\"selector\",r.__saturation_field=document.createElement(\"div\"),r.__saturation_field.className=\"saturation-field\",r.__field_knob=document.createElement(\"div\"),r.__field_knob.className=\"field-knob\",r.__field_knob_border=\"2px solid \",r.__hue_knob=document.createElement(\"div\"),r.__hue_knob.className=\"hue-knob\",r.__hue_field=document.createElement(\"div\"),r.__hue_field.className=\"hue-field\",r.__input=document.createElement(\"input\"),r.__input.type=\"text\",r.__input_textShadow=\"0 1px 1px \",ol.bind(r.__input,\"keydown\",function(t){13===t.keyCode&&c.call(this)}),ol.bind(r.__input,\"blur\",c),ol.bind(r.__selector,\"mousedown\",function(){ol.addClass(this,\"drag\").bind(window,\"mouseup\",function(){ol.removeClass(i.__selector,\"drag\")})}),ol.bind(r.__selector,\"touchstart\",function(){ol.addClass(this,\"drag\").bind(window,\"touchend\",function(){ol.removeClass(i.__selector,\"drag\")})});var o,a=document.createElement(\"div\");function s(t){d(t),ol.bind(window,\"mousemove\",d),ol.bind(window,\"touchmove\",d),ol.bind(window,\"mouseup\",l),ol.bind(window,\"touchend\",l)}function u(t){p(t),ol.bind(window,\"mousemove\",p),ol.bind(window,\"touchmove\",p),ol.bind(window,\"mouseup\",h),ol.bind(window,\"touchend\",h)}function l(){ol.unbind(window,\"mousemove\",d),ol.unbind(window,\"touchmove\",d),ol.unbind(window,\"mouseup\",l),ol.unbind(window,\"touchend\",l),f()}function h(){ol.unbind(window,\"mousemove\",p),ol.unbind(window,\"touchmove\",p),ol.unbind(window,\"mouseup\",h),ol.unbind(window,\"touchend\",h),f()}function c(){var t=Gu(this.value);!1!==t?(i.__color.__state=t,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function f(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function d(t){-1===t.type.indexOf(\"touch\")&&t.preventDefault();var e=i.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,r=n.clientX,o=n.clientY,a=(r-e.left)/(e.right-e.left),s=1-(o-e.top)/(e.bottom-e.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),i.__color.v=s,i.__color.s=a,i.setValue(i.__color.toOriginal()),!1}function p(t){-1===t.type.indexOf(\"touch\")&&t.preventDefault();var e=i.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return Bu.extend(r.__selector.style,{width:\"122px\",height:\"102px\",padding:\"3px\",backgroundColor:\"#222\",boxShadow:\"0px 1px 3px rgba(0,0,0,0.3)\"}),Bu.extend(r.__field_knob.style,{position:\"absolute\",width:\"12px\",height:\"12px\",border:r.__field_knob_border+(r.__color.v<.5?\"#fff\":\"#000\"),boxShadow:\"0px 1px 3px rgba(0,0,0,0.5)\",borderRadius:\"12px\",zIndex:1}),Bu.extend(r.__hue_knob.style,{position:\"absolute\",width:\"15px\",height:\"2px\",borderRight:\"4px solid #fff\",zIndex:1}),Bu.extend(r.__saturation_field.style,{width:\"100px\",height:\"100px\",border:\"1px solid #555\",marginRight:\"3px\",display:\"inline-block\",cursor:\"pointer\"}),Bu.extend(a.style,{width:\"100%\",height:\"100%\",background:\"none\"}),yl(a,\"top\",\"rgba(0,0,0,0)\",\"#000\"),Bu.extend(r.__hue_field.style,{width:\"15px\",height:\"100px\",border:\"1px solid #555\",cursor:\"ns-resize\",position:\"absolute\",top:\"3px\",right:\"3px\"}),(o=r.__hue_field).style.background=\"\",o.style.cssText+=\"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);\",o.style.cssText+=\"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",o.style.cssText+=\"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",o.style.cssText+=\"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",o.style.cssText+=\"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",Bu.extend(r.__input.style,{outline:\"none\",textAlign:\"center\",color:\"#fff\",border:0,fontWeight:\"bold\",textShadow:r.__input_textShadow+\"rgba(0,0,0,0.7)\"}),ol.bind(r.__saturation_field,\"mousedown\",s),ol.bind(r.__saturation_field,\"touchstart\",s),ol.bind(r.__field_knob,\"mousedown\",s),ol.bind(r.__field_knob,\"touchstart\",s),ol.bind(r.__hue_field,\"mousedown\",u),ol.bind(r.__hue_field,\"touchstart\",u),r.__saturation_field.appendChild(a),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return Zu(e,el),qu(e,[{key:\"updateDisplay\",value:function(){var t=Gu(this.getValue());if(!1!==t){var e=!1;Bu.each(Qu.COMPONENTS,function(n){if(!Bu.isUndefined(t[n])&&!Bu.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}},this),e&&Bu.extend(this.__color.__state,t)}Bu.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;Bu.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+\"px\",marginTop:100*(1-this.__color.v)-7+\"px\",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+\"rgb(\"+n+\",\"+n+\",\"+n+\")\"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+\"px\",this.__temp.s=1,this.__temp.v=1,yl(this.__saturation_field,\"left\",\"#fff\",this.__temp.toHexString()),this.__input.value=this.__color.toString(),Bu.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:\"rgb(\"+n+\",\"+n+\",\"+n+\")\",textShadow:this.__input_textShadow+\"rgba(\"+r+\",\"+r+\",\"+r+\",.7)\"})}}]),e}(),_l=[\"-moz-\",\"-o-\",\"-webkit-\",\"-ms-\",\"\"];function yl(t,e,n,r){t.style.background=\"\",Bu.each(_l,function(i){t.style.cssText+=\"background: \"+i+\"linear-gradient(\"+e+\", \"+n+\" 0%, \"+r+\" 100%); \"})}var gl=function(t,e){var n=e||document,r=document.createElement(\"style\");r.type=\"text/css\",r.innerHTML=t;var i=n.getElementsByTagName(\"head\")[0];try{i.appendChild(r)}catch(t){}},bl=function(t,e){var n=t[e];return Bu.isArray(arguments[2])||Bu.isObject(arguments[2])?new sl(t,e,arguments[2]):Bu.isNumber(n)?Bu.isNumber(arguments[2])&&Bu.isNumber(arguments[3])?Bu.isNumber(arguments[4])?new dl(t,e,arguments[2],arguments[3],arguments[4]):new dl(t,e,arguments[2],arguments[3]):Bu.isNumber(arguments[4])?new cl(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new cl(t,e,{min:arguments[2],max:arguments[3]}):Bu.isString(n)?new ul(t,e):Bu.isFunction(n)?new pl(t,e,\"\"):Bu.isBoolean(n)?new al(t,e):null};var ml=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},xl=function(){function t(){zu(this,t),this.backgroundElement=document.createElement(\"div\"),Bu.extend(this.backgroundElement.style,{backgroundColor:\"rgba(0,0,0,0.8)\",top:0,left:0,display:\"none\",zIndex:\"1000\",opacity:0,WebkitTransition:\"opacity 0.2s linear\",transition:\"opacity 0.2s linear\"}),ol.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position=\"fixed\",this.domElement=document.createElement(\"div\"),Bu.extend(this.domElement.style,{position:\"fixed\",display:\"none\",zIndex:\"1001\",opacity:0,WebkitTransition:\"-webkit-transform 0.2s ease-out, opacity 0.2s linear\",transition:\"transform 0.2s ease-out, opacity 0.2s linear\"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;ol.bind(this.backgroundElement,\"click\",function(){e.hide()})}return qu(t,[{key:\"show\",value:function(){var t=this;this.backgroundElement.style.display=\"block\",this.domElement.style.display=\"block\",this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\",this.layout(),Bu.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform=\"scale(1)\"})}},{key:\"hide\",value:function(){var t=this,e=function e(){t.domElement.style.display=\"none\",t.backgroundElement.style.display=\"none\",ol.unbind(t.domElement,\"webkitTransitionEnd\",e),ol.unbind(t.domElement,\"transitionend\",e),ol.unbind(t.domElement,\"oTransitionEnd\",e)};ol.bind(this.domElement,\"webkitTransitionEnd\",e),ol.bind(this.domElement,\"transitionend\",e),ol.bind(this.domElement,\"oTransitionEnd\",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\"}},{key:\"layout\",value:function(){this.domElement.style.left=window.innerWidth/2-ol.getWidth(this.domElement)/2+\"px\",this.domElement.style.top=window.innerHeight/2-ol.getHeight(this.domElement)/2+\"px\"}}]),t}();gl(function(t){if(t&&\"undefined\"!=typeof window){var e=document.createElement(\"style\");return e.setAttribute(\"type\",\"text/css\"),e.innerHTML=t,document.head.appendChild(e),t}}(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\"));var wl=\"Default\",Tl=function(){try{return!!window.localStorage}catch(t){return!1}}(),El=void 0,Sl=!0,Ml=void 0,Ol=!1,Cl=[],Al=function t(e){var n=this,r=e||{};this.domElement=document.createElement(\"div\"),this.__ul=document.createElement(\"ul\"),this.domElement.appendChild(this.__ul),ol.addClass(this.domElement,\"dg\"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=Bu.defaults(r,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),r=Bu.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),Bu.isUndefined(r.load)?r.load={preset:wl}:r.preset&&(r.load.preset=r.preset),Bu.isUndefined(r.parent)&&r.hideable&&Cl.push(this),r.resizable=Bu.isUndefined(r.parent)&&r.resizable,r.autoPlace&&Bu.isUndefined(r.scrollable)&&(r.scrollable=!0);var i,o=Tl&&\"true\"===localStorage.getItem(Ll(this,\"isLocal\")),a=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(t){n.parent?n.getRoot().preset=t:r.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return r.width},set:function(t){r.width=t,Bl(n,t)}},name:{get:function(){return r.name},set:function(t){r.name=t,s&&(s.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(e){r.closed=e,r.closed?ol.addClass(n.__ul,t.CLASS_CLOSED):ol.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return o},set:function(t){Tl&&(o=t,t?ol.bind(window,\"unload\",a):ol.unbind(window,\"unload\",a),localStorage.setItem(Ll(n,\"isLocal\"),t))}}}),Bu.isUndefined(r.parent)){if(this.closed=r.closed||!1,ol.addClass(this.domElement,t.CLASS_MAIN),ol.makeSelectable(this.domElement,!1),Tl&&o){n.useLocalStorage=!0;var u=localStorage.getItem(Ll(this,\"gui\"));u&&(r.load=JSON.parse(u))}this.__closeButton=document.createElement(\"div\"),this.__closeButton.innerHTML=t.TEXT_CLOSED,ol.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),r.closeOnTop?(ol.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(ol.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),ol.bind(this.__closeButton,\"click\",function(){n.closed=!n.closed})}else{void 0===r.closed&&(r.closed=!0);var l=document.createTextNode(r.name);ol.addClass(l,\"controller-name\"),s=Pl(n,l);ol.addClass(this.__ul,t.CLASS_CLOSED),ol.addClass(s,\"title\"),ol.bind(s,\"click\",function(t){return t.preventDefault(),n.closed=!n.closed,!1}),r.closed||(this.closed=!1)}r.autoPlace&&(Bu.isUndefined(r.parent)&&(Sl&&(Ml=document.createElement(\"div\"),ol.addClass(Ml,\"dg\"),ol.addClass(Ml,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Ml),Sl=!1),Ml.appendChild(this.domElement),ol.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||Bl(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},ol.bind(window,\"resize\",this.__resizeHandler),ol.bind(this.__ul,\"webkitTransitionEnd\",this.__resizeHandler),ol.bind(this.__ul,\"transitionend\",this.__resizeHandler),ol.bind(this.__ul,\"oTransitionEnd\",this.__resizeHandler),this.onResize(),r.resizable&&jl(this),a=function(){Tl&&\"true\"===localStorage.getItem(Ll(n,\"isLocal\"))&&localStorage.setItem(Ll(n,\"gui\"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,r.parent||((i=n.getRoot()).width+=1,Bu.defer(function(){i.width-=1}))};function Pl(t,e,n){var r=document.createElement(\"li\");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,n):t.__ul.appendChild(r),t.onResize(),r}function Rl(t){ol.unbind(window,\"resize\",t.__resizeHandler),t.saveToLocalStorageIfPossible&&ol.unbind(window,\"unload\",t.saveToLocalStorageIfPossible)}function Il(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+\"*\":n.value}function Dl(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!==r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[e.property]=e,n.load&&n.load.remembered){var o=n.load.remembered,a=void 0;if(o[t.preset])a=o[t.preset];else{if(!o[wl])return;a=o[wl]}if(a[r]&&void 0!==a[r][e.property]){var s=a[r][e.property];e.initialValue=s,e.setValue(s)}}}}function kl(t,e,n,r){if(void 0===e[n])throw new Error('Object \"'+e+'\" has no property \"'+n+'\"');var i=void 0;if(r.color)i=new vl(e,n);else{var o=[e,n].concat(r.factoryArgs);i=bl.apply(t,o)}r.before instanceof el&&(r.before=r.before.__li),Dl(t,i),ol.addClass(i.domElement,\"c\");var a=document.createElement(\"span\");ol.addClass(a,\"property-name\"),a.innerHTML=i.property;var s=document.createElement(\"div\");s.appendChild(a),s.appendChild(i.domElement);var u=Pl(t,s,r.before);return ol.addClass(u,Al.CLASS_CONTROLLER_ROW),i instanceof vl?ol.addClass(u,\"color\"):ol.addClass(u,Vu(i.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,Bu.extend(n,{options:function(e){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),kl(t,n.object,n.property,{before:r,factoryArgs:[Bu.toArray(arguments)]})}if(Bu.isArray(e)||Bu.isObject(e)){var i=n.__li.nextElementSibling;return n.remove(),kl(t,n.object,n.property,{before:i,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof dl){var r=new cl(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});Bu.each([\"updateDisplay\",\"onChange\",\"onFinishChange\",\"step\",\"min\",\"max\"],function(t){var e=n[t],i=r[t];n[t]=r[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(r,t),e.apply(n,t)}}),ol.addClass(e,\"has-slider\"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof cl){var i=function(e){if(Bu.isNumber(n.__min)&&Bu.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var o=kl(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return o.name(r),i&&o.listen(),o}return e};n.min=Bu.compose(i,n.min),n.max=Bu.compose(i,n.max)}else n instanceof al?(ol.bind(e,\"click\",function(){ol.fakeEvent(n.__checkbox,\"click\")}),ol.bind(n.__checkbox,\"click\",function(t){t.stopPropagation()})):n instanceof pl?(ol.bind(e,\"click\",function(){ol.fakeEvent(n.__button,\"click\")}),ol.bind(e,\"mouseover\",function(){ol.addClass(n.__button,\"hover\")}),ol.bind(e,\"mouseout\",function(){ol.removeClass(n.__button,\"hover\")})):n instanceof vl&&(ol.addClass(e,\"color\"),n.updateDisplay=Bu.compose(function(t){return e.style.borderLeftColor=n.__color.toString(),t},n.updateDisplay),n.updateDisplay());n.setValue=Bu.compose(function(e){return t.getRoot().__preset_select&&n.isModified()&&Il(t.getRoot(),!0),e},n.setValue)}(t,u,i),t.__controllers.push(i),i}function Ll(t,e){return document.location.href+\".\"+e}function Nl(t,e,n){var r=document.createElement(\"option\");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function Fl(t,e){e.style.display=t.useLocalStorage?\"block\":\"none\"}function jl(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function r(){ol.removeClass(t.__closeButton,Al.CLASS_DRAG),ol.unbind(window,\"mousemove\",n),ol.unbind(window,\"mouseup\",r)}function i(i){return i.preventDefault(),e=i.clientX,ol.addClass(t.__closeButton,Al.CLASS_DRAG),ol.bind(window,\"mousemove\",n),ol.bind(window,\"mouseup\",r),!1}t.__resize_handle=document.createElement(\"div\"),Bu.extend(t.__resize_handle.style,{width:\"6px\",marginLeft:\"-3px\",height:\"200px\",cursor:\"ew-resize\",position:\"absolute\"}),ol.bind(t.__resize_handle,\"mousedown\",i),ol.bind(t.__closeButton,\"mousedown\",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function Bl(t,e){t.domElement.style.width=e+\"px\",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+\"px\"),t.__closeButton&&(t.__closeButton.style.width=e+\"px\")}function Ul(t,e){var n={};return Bu.each(t.__rememberedObjects,function(r,i){var o={},a=t.__rememberedObjectIndecesToControllers[i];Bu.each(a,function(t,n){o[n]=e?t.initialValue:t.getValue()}),n[i]=o}),n}Al.toggleHide=function(){Ol=!Ol,Bu.each(Cl,function(t){t.domElement.style.display=Ol?\"none\":\"\"})},Al.CLASS_AUTO_PLACE=\"a\",Al.CLASS_AUTO_PLACE_CONTAINER=\"ac\",Al.CLASS_MAIN=\"main\",Al.CLASS_CONTROLLER_ROW=\"cr\",Al.CLASS_TOO_TALL=\"taller-than-window\",Al.CLASS_CLOSED=\"closed\",Al.CLASS_CLOSE_BUTTON=\"close-button\",Al.CLASS_CLOSE_TOP=\"close-top\",Al.CLASS_CLOSE_BOTTOM=\"close-bottom\",Al.CLASS_DRAG=\"drag\",Al.DEFAULT_WIDTH=245,Al.TEXT_CLOSED=\"Close Controls\",Al.TEXT_OPEN=\"Open Controls\",Al._keydownHandler=function(t){\"text\"===document.activeElement.type||72!==t.which&&72!==t.keyCode||Al.toggleHide()},ol.bind(window,\"keydown\",Al._keydownHandler,!1),Bu.extend(Al.prototype,{add:function(t,e){return kl(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return kl(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;Bu.defer(function(){e.onResize()})},destroy:function(){if(this.parent)throw new Error(\"Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.\");this.autoPlace&&Ml.removeChild(this.domElement);var t=this;Bu.each(this.__folders,function(e){t.removeFolder(e)}),ol.unbind(window,\"keydown\",Al._keydownHandler,!1),Rl(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name \"'+t+'\"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new Al(e);this.__folders[t]=n;var r=Pl(this,n.domElement);return ol.addClass(r,\"folder\"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],Rl(t);var e=this;Bu.each(t.__folders,function(e){t.removeFolder(e)}),Bu.defer(function(){e.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=ol.getOffset(t.__ul).top,n=0;Bu.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(n+=ol.getHeight(e))}),window.innerHeight-e-20<n?(ol.addClass(t.domElement,Al.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+\"px\"):(ol.removeClass(t.domElement,Al.CLASS_TOO_TALL),t.__ul.style.height=\"auto\")}t.__resize_handle&&Bu.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+\"px\"}),t.__closeButton&&(t.__closeButton.style.width=t.width+\"px\")},onResizeDebounced:Bu.debounce(function(){this.onResize()},50),remember:function(){if(Bu.isUndefined(El)&&((El=new xl).domElement.innerHTML='<div id=\"dg-save\" class=\"dg dialogue\">\\n\\n  Here\\'s the new load parameter for your <code>GUI</code>\\'s constructor:\\n\\n  <textarea id=\"dg-new-constructor\"></textarea>\\n\\n  <div id=\"dg-save-locally\">\\n\\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>\\'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>'),this.parent)throw new Error(\"You can only call remember on a top level GUI.\");var t=this;Bu.each(Array.prototype.slice.call(arguments),function(e){0===t.__rememberedObjects.length&&function(t){var e=t.__save_row=document.createElement(\"li\");ol.addClass(t.domElement,\"has-save\"),t.__ul.insertBefore(e,t.__ul.firstChild),ol.addClass(e,\"save-row\");var n=document.createElement(\"span\");n.innerHTML=\"&nbsp;\",ol.addClass(n,\"button gears\");var r=document.createElement(\"span\");r.innerHTML=\"Save\",ol.addClass(r,\"button\"),ol.addClass(r,\"save\");var i=document.createElement(\"span\");i.innerHTML=\"New\",ol.addClass(i,\"button\"),ol.addClass(i,\"save-as\");var o=document.createElement(\"span\");o.innerHTML=\"Revert\",ol.addClass(o,\"button\"),ol.addClass(o,\"revert\");var a=t.__preset_select=document.createElement(\"select\");t.load&&t.load.remembered?Bu.each(t.load.remembered,function(e,n){Nl(t,n,n===t.preset)}):Nl(t,wl,!1);if(ol.bind(a,\"change\",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),e.appendChild(a),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(o),Tl){var s=document.getElementById(\"dg-local-explain\"),u=document.getElementById(\"dg-local-storage\"),l=document.getElementById(\"dg-save-locally\");l.style.display=\"block\",\"true\"===localStorage.getItem(Ll(t,\"isLocal\"))&&u.setAttribute(\"checked\",\"checked\"),Fl(t,s),ol.bind(u,\"change\",function(){t.useLocalStorage=!t.useLocalStorage,Fl(t,s)})}var h=document.getElementById(\"dg-new-constructor\");ol.bind(h,\"keydown\",function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||El.hide()}),ol.bind(n,\"click\",function(){h.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),El.show(),h.focus(),h.select()}),ol.bind(r,\"click\",function(){t.save()}),ol.bind(i,\"click\",function(){var e=prompt(\"Enter a new preset name.\");e&&t.saveAs(e)}),ol.bind(o,\"click\",function(){t.revert()})}(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&Bl(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=Ul(this)),t.folders={},Bu.each(this.__folders,function(e,n){t.folders[n]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Ul(this),Il(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[wl]=Ul(this,!0)),this.load.remembered[t]=Ul(this),this.preset=t,Nl(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){Bu.each(this.__controllers,function(e){this.getRoot().load.remembered?Dl(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())},this),Bu.each(this.__folders,function(t){t.revert(t)}),t||Il(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&function t(e){0!==e.length&&ml.call(window,function(){t(e)});Bu.each(e,function(t){t.updateDisplay()})}(this.__listening)},updateDisplay:function(){Bu.each(this.__controllers,function(t){t.updateDisplay()}),Bu.each(this.__folders,function(t){t.updateDisplay()})}});var Xl,Hl,Gl,Wl,Yl=Al,Vl=(n(194),n(192)),zl=n(193),ql=(n(198),function(){return r.Texture.fromImage(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAr8AAABiCAYAAABZJrs2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACRISURBVHgB7Z0JsGZFdcf/b2ZYxAgBEdFovAriILgRRFCDE0OiEcUNN6QqcYsmMXEpE5OKFUyZilqaIJVYuFQiRi1JiLuCGwKCUZFNQUBB5oEICgijwIwyM+9L/+nv8u67873bfbfur/ucX9UpmOF7zLzz+pw+5/Tp04CiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIoSjgXMJ+uM7GZkjZGdjdxlZJuRzUaWoCjKPED7pJ2uq/webfVXUDudBfW0K3bU12YoijIvqJ0Ow66Vf982lblh3oJfbqZ7GimMPMnIg408zMitRq41cp6Ry6a/1s11JWXCsBY2YSj5NdRwm6CB3gsrdUaoN+rsLih1Sjvdx8hhRtbD6pBcZ+R8I1dC7bSEtrkHrF97nJH9sFJfZxnZaGQTlDpca78Ba6fV/Yp2WdqosiPUG9cc/Vq51rbD6m0LrN7mKhiZA9RO+8P1dh/KunXrHjGZTH6Tv7mwsHDLtm3bFs2//szIHZgD5in4pdIKIy8z8idG9p3xGRrs6UY+YOQbUMdH6gnDI4wcALthEAYhlxo508hVUJ2VlHo71MhTjRyCZZ0R6o3OjoHcImw1U7EJ1m8b+WOonfrANfVwI8cZOR7N+jrRyAXQhKukXGu/Z2SDkQdiuRrHYORCI1+BBiR1Sr29wMiRsD6OQQjX2TVGvm7ky7C2eQsU0tZOuS9o8rASrrFHrVmz5nnmny/GjjrkWjt17dq1/7l161bGJKo/2MCXgdsZsFnpxCE3G3mTkb0gG+qNVbe3G7kRbp29EzZIlg4DX2b1vno7wciDoHCDeK6RbxvZCrVTF9TXS2GDNB998XTrdVC/RnzX2p1GTjPyBFi7lk4bG/2gkYOgdLHTVxnZHUrJfU3Q+3ojG41MHHKtCYCpv9+AcOiwGPieA7+FV3V6b4bcBUi9PRHt9UaHV0A2hZGPGbkdqjdfWHF7iZEr4K8zyXbKY3puqF30xYRB8sbAymVb3fGzR2Nln6Y0uujtXNjKsFTUTvuzmwlo32bkRo/AtxTq79VY2RcsjsLIl9AugKsuwBdBpsPjEeCn4Fcpr8tbYY8oJEJn9S+wVUnVmz+sELF1pqud8jhRkp0eZeRitNcV5drp10uESf2zYVu12uqN+8gjIZM+ens/5J5sbYDaaS9MFfcYE8xe2iLwvVsWFhaYcDwZQuGxfddApBS2SuwPebwWtteti8646KRm++xFapvlV/V2GOTBoPVkI7ehu53yhGI9ZMAKHI/iuySmpfDrC8iDfYJdiyGUN0BmNa6P3pic8q6NtCoc44++fk2qnZbsZoLY00wwu6UW2M6UGUHwSZjdXz06sXukDoRtyN8b3eHXF5AFf25PQfdFwyDkYMh0ds9H9/VCvTH4lba58vLMY9Gv6s1kS0p16QjYtdLHvjbA6l0aT4Od8NP1lOCZkFnF7KM3JmvHQp7eaKPlZcCubIBMO72bdevWHW6C2h183WQyWVVqn2Pl976IQOzgl7fs+0b9NNy+Czg1+L1Sb30214Mh7wifJwQF+umNx6rS9Mbe8j4JKpFkp49G/++T+uZak5Zo9d0TaOMSK7999cakfh/I4nD092tS7fRulpaWetmbCZw5Zel+iEDs4HcoR8XMQ1JAwkyzr95otNIqv6yM9NVb/VEHCfCEZgj7kmKnQ9gnYV+/JBulXfXV3VC6T42+3zf3AwbPknzbQ6B22he+xZCkvcUOfgvobUklHBID/iGQGPDPA9ICOVYe1T7jIW29DeXXpCZcJNmZ5LGDX/Zg6qaqKIqyI9KGwK+D7gcx0dcYuyFWbwsLCz9CvxfbogXPsYPfn2KYl7OkbRJD6EyiwQ5haBL1NpR9SbHTodbIUP4xFfhq2y/RD6kvMQ6x5vhKnqS9dKjvVZre7mH79u18CbWzzU4mk8sQ6bnj2MHvDRjGWUnbJLjg+j5LKdFgr0Z/Q5Oot6Hsayh7n3eGWiNS9FWlr+4ug8ynjvvqjYUBJh9RApFIDOXXhthXUuUiWJvrsva2mcox3yq4HhGIHfz+EMMsGipP2ibRd2McSvcpwXft+26MEh3dT9DfvliZkqK7q9D/++Rmsgh5a42JfZ/vWeJeQPr6c4n7wRB+Taqd3sPS0tJppoJ7dfX31qxZM1NMsHvPl5mvudx87Vdhk5DgxA5++bLKregHFy8dprRsv88mcRdk6ozVchppV4dHvS1CnqO7BP3tlF/P5EOC7obQ1/XT/4e0U4Zvot+p1nchs/LLvbTP930B5Onte+j/PbNaLtFOq3zaBLL/ZeQGz88z8L3GyDthq8ZRiB38smTOIKzPwuH/Q6Kz67NJSMzyS/oE/dTbTZDn6Ph9Mxjra6e3QQZcY0yy1K+1hwHJTegGk1OpbQ/fQvcKGtfpWYhUgYvIIvq3D543wP8jB04ywey7jTTGc+a/38EqsZETzC8/i4hxSOzgl3wN/RbPhZC3+Hgjmptr1+9b4sbKtc5RSn1G0kisjnAiC+dxs22hTzBHO/0FZECdca309WvcGObBR4eElTQGcl02RSZpEvukCfXGwL/L93799Oul6Y3fL09p+vh0Pnm/GTqlhDo40QS1rzL/PHVa2b3VyKap3GTkuoWFBVaJX2E+80lELsDF+IFxY+Cg+92mv+YmsYjur9PcC/ZZRmb9m5Dw3DkH/FntAas3BnEcLv2rqbSdjckNgkHgA4xsgb2tmfMUA665wshfGDkO3V/14bE9dc31didsMJez3rhGHmPkLbDPePaZwXpv2FcF1xq5EXnaKW1zLyMPhfVxfZKF+xh5EmxQwnV3M/Jda7RP6m4XIzvBJucMyNajHTdMv4b+jHvBHcg7Wd11KrtMf83Wh6PQ/vl26pp2TtvkeuNay11ve2LZRvsE/U+A9WWXwwbCP4bskXHnLS0tsRrO2cd80ZMPgDB24bq6YNoaIbJFhE6ODv39sAY2GVBYKXkN8nxBiovncUbeZYRz9bZiGJ1da+QjsA5zZ+QJA7jfNXIGbKA/hN64dj9j5GnIW28vhbWrodYbhRsEk5DdkRfcUJ8Le3w81Dor5VwjRyPPtVbaJxMs2igvCw6hP9rox2Gf5s4R6o3+5wRYvbENjv3Ot6Of3pjUn4Z89cYki3qj/+6rq1m+7VjkuycoPaBBnYNhN9O64b4S+b0SdJCRMzGe3hgEH4P8jm7KAI5OaSy9PRuqty52ygp8TnpjAsnK22QkydVGX4zx1lmpt6OQHy+B6q0LtKFLoXaqBIQZFzPKoasidWGVpO1x2TzDLPJk2MtCY+rtE2h/XDbvjL1BUFh12R95EUJvTIJzsVPaaAjflpuNMkBQvbWHevsCxiuG5Ko3tVPlHkJepjgCdrMbuyr7ZNh+k1ygztg7M3Y7x9ONPAz5wHV2PMYPTI9EXustlN7KfrAcOAB2sxvbt9FGc0q0eM+D/fOqt3ZQb+wtH7u6mJve1E77w5hx1xElWMtIyNL8oxGuH7eAPbrNYZwXk4auF7TawMo8DfZ85KE3rrey2X5MVG/dyElvj0QY30adMWnIZepIiMCXUG+HQPXWltz0pnbaD8ZUD1q7du1+6Dc1qYnN27dv5+XBH2FkQga/BcZTWB0uvlx6bnhDPlTSwD8nF72NaaB1VG/dyMVOQ/7810//vBw21fJ7CUEBu65Vb+3gaWAueuPEmVB2eiDysdO7MUHvsyaTyZuMsEAymh4XFhaunI5MOw8jErLtIeQGkdOFNx5xhfp+CoQLfMamdNohKKB660IudvoQhNPZTsiHXRAOjonMJUENOU2A4zBzsdOQMUhOBRGy69LSEtvhRg18iQl+169Zs+Y56D7+1otQwS//HPZFhtogQmbGY8JFxpaHUM4np4p5qKNBonrrRi52GvLnX8BWsHIgdOU3F72FTLZC7ttjE/J7yUlv2GmnndaboDREO1zJ6HGPZkHzTciqb06wMhJyY11AHoTWWy6EtFHOR86l+huygpmT3vQUtRshYxAR+/ZkMsEQmMAaoQlZrQiZBeUSjIQOfkMeQ45JyKN7kktyF1pvudhpyIQhp4S4QLj1pnrrRk7JcMg1IKKIkHLwG6rtIXRwkEswEtph52KwPJ4JqbdcjrhC6y0HOw399+dxYA5rjXoL2S6y9/TPS53QeiM5JA2MdUK2EAJ6ajvXhAp++dZ9SIedSzByf6gBdYEjtEL+/HNp6VE7bU+MimIOVcwY30MOyVYMveVQFInxs9cWsjkmVPAb2mBDTrEYk9B609v33cjlSFXttD37QIPfLsTQW4H0k63Q1UsgD98WI9HWwtUcE2rz0ePUboTWWy6ZaojXj6rkcqQactIDycFOY3wPOQS/MfSWw3qL8XMvZ9amjOpNWUGo4LeAHqd2oUD47yPkDewx4OYWI4hPfWOlLwittxzsNMb3kMPs1Rh6C93WMwbq27qhelNWECL4pZOOMQc19SCOf/8YeiuQ9gYRqyqWeiAXy1GnvjnEmJBSIP2ZtTH0lkPFPMa+FnoKzBio3pQVhAh+Q72nXadA2guvQJy/P+dhphyQhG4VKUl9U43lqFMPSGJUlNjWk/rM2hh6i+UbhiT0fQaSQ9KgelNWECL4jVVRSj2IC923WpK6wRaIE8Sl3i8d6+ee+nqLUVHiWtsbaRPDtxVIvxLHv3+M8Xq7I21ixAM56C1bQgS/sfqsUt9UD0KcYOp+SFtveyLOxpr6AyGxqmKabHUjdb3F+PuzjSz14DdWMSn1I/xY9qKtD3NKiOA31qJLfUZuLL2l3qQfqwKbeuU3xrEgSdlOYzw4UJLyEX6MBwdKYrXhDUWsuwUprzfaZ6z1lkOrTZaECH61otSNWHorkHamGutnnvoFS22zaU/Mv3uBdO00ZoKdcnIf005SnpQR005zmDCSJSGC3wJxfvihZ5YOTYE4etPKbzcKpO3kYukt5cpIrGoSidXeMwQxJ6Psh3TtNObpUspJakw71Utvc8rYwW+sMWeEjmIvpElMvXFjSrVJP6aT2Q3pOrmYf+8Cut66kPLxfUy9sQcz1TFxMfWWchCnelN2YOzgN3YfZKpVzNgbW6p6i73eUnV0MfXGpIGVGV1v7Uj5hCam3njScC+kiVZ+u6F6U3YgROU3JvsjzSOu2BtbgTT1Fnu9xTxe64PaaTfWIh48oUm18huzPz5lvcWcKJPy2K4FxEPHnc0pYwe/sd+2LpDmphq7SV4rv93Qykg3CqRpp7GrOqlWlWJNFinRE5puFNBiUhcK6KW3uWPs4Df2orsP0gziYjvn2JtTV2LP2k113Flsve2BNO00dqV/H6QZxMXeF1K9DB3775xqUST20/OpP7iVJWMHv7EXXaoZfuwb8Fr5lcU8VJRSvIQUYlpOE6naaYG4+0KsB4T6opXfNNG+3zlkbOcde/YpDTXFRVcgrpOJnbR0JfVZu7GIbSP8ue2E9Ig1kaUkVTuNrTcNRroR++eWKqneBcmasYNfOpmYzvkKI5uQHupkusHjzJjrbQlpcgDiVpR+auRXSI+7EJcUdTYPaDAii82IS6r7QtaMHfxebeQOxONWI9ugSOEmxPt5L0X+8/twC+L+vX+CNAO5yxHPv3FDvwRpJvdKN2IHUakmW+fC+uZYxPavygzGDn5jbg6synwPaW4OMRMGErui1ZUzjFyPOLB6+bXpP1Pj67AOOgbcFFIN4s40sojwMAj6Muymrv6tPb9EmsRMrhn4pmqn9G/8u8fQHdfa+YjnX5VVGPto/SzYAHhfhD/GvwRxg+8+fBb2csP+CA+dHJOGFPX2RSO/D3thcDeEgw7uNCM/RJoZPoO45yHOYxPUWaqb6pWwtsq2kZCvSTLBO9nID5Am1Bkf8nkYwkLb5Dr7DOIlyX34vJFDEX5fYDGEAeS3kKad8pTk40YeC2uroeBe+j+w/i3LFqWFhQXufQzsuxbMOGmI8WHwh2fGHtL+C9hsld8gezE58iPEwGn+QN4Fa7ApLjpuqnfCjjLiRaDt038OqTvqhY6MC/e26b9TLjBykpHvI71epa1GLoPt/eWs5DEvwNHYqTfq79NG3mPkGqQJvwdWrEs7pYSYZEA7PRE2SY7dl9eVi2A3VE4QCKEzBnD/CnvKkWoFk/6NvuX+01/Tlmi7Q/s4Qj9HPdFWrzLyfiMfQ9xj8K78CDZI2Gf6a+qM39uvYXU3xvrj/59r/K1GLkS6/atcc9wXGACPfTGavuxnsBXfVPfSFaxdu3bfyWTyHNhA9R5M8LuLkT2N7N1R+LWzLjt/1/x5ZyOTti5WMj8Ba7CTEeV2WAcXo2o6NKxeHmbkL418BdaBD6Gjn8Nunq+Frb7kdrmOFcwTYDc7Jg5Dri9uNDcaOcfI65Gf/minHzGyBWqnvlBntM9JAOFGejjygHbKYOSFRv4aVocsmAyhJ9o97ZR+7m+MPBH5jOmi3vj9vBL2xOY4I/+N4XRHof1Tf7TRRyMPH8fpKGPbKeMbxjkbkNelyoPXrFlzsZFJIDkFdupVNvCo62KMt/Buht241yM/GAi/2shG9NfRP8NmwbnzZNiqLL/nIYJgJh8Meo9H3vOE1U7bw7X2HYynMwoTrzfCBj85Qh/3Bth2jr66+jFscChl7jd193b0L5CUQS+ThhcjP/2xeskEciwbZXU+l+S0Cqu05wQMft+HzIJfOm1e0vBdSFvhXynmhvoW1MryGfI2dHdw/DoJOqrCTeFYWGfONdLVqfFr2dpQIH/a2mlbPea6Bl+B/slpk/DY+VDkzx8a+Sb66eodkJHgV6Gvey9sy1xbfeUe9FZ5HeyEGV/dUJ++xZPPIY/TrB0wAek7TAB888hB7/bpn/EaZLYG/8DIpXAvIPbLXAtbSWEm5TqClRTUHQU7v7itc2PVSErwNosyCO5S0ZSSWJW0sdONsLbqszlIsNO/g20r8l1XG1t8/t2QswZZSe+TgD0DMmel82j/U2jXXkjb5aXX3IPeEu4FvBPk2ybyBdi16FM8oS88EnnCtfU2E5xebGTjVLbMCmIr/31jy89+3/ze3yJDP/ePsNll0+JhLyCP9qhoLtIPT39vtc8zMJYU1PFIpUsA923IqBo1wZ4/9uluhL/eGJhIq5a3sVNWiXkB50to3nCl2Cl9Fls6fIKPf4JdV6x0ftfj8wxqsqwqrUKfVpINkAvXk0/yWgorm29G2IklsWmTJHDP4AQhFk98Ck+8xLsPBGAC1RON3FYPaDHD/tp8NgQh36bnpsDgy9WvdvpUrjPyCNj+w6aLChy/cgrizNuMAS8ftM3OeUP8Q7CPjkiFN3yfBds3XXh+DW+K88LHKUhzfm8XaGs+dsqxS7RTTopgkMLNpKnSJsVOedObm98lHp/lTXquMc7s/Sjcs0DZr8hRflJeJzvPyAeM3ID2SH7BjevpVPjflOfe/A9GXg47kUkCjC84LvBKj8/Sr9Gu/xf2YqFLr38KG9DpK61zTMjg90lwb5DcCHjEUM5gPAbNfVv8PBfjIuTAhKDtrWWO4JL8GhTX+SFG2EfUpnLGzZdzGlOcCdoVVo1cEyw4A5o3mhdhdUvbbgqWpdkpR0PRj7ns7UAs2zJ7BX1G5fGypaTqL8eSnY3287M5RULKZbdZMGm/oMXnGQBzqhCTKylBG5ME+jGXnT4Yy8kUkwpXEYm6fBFsvKPMKSGDX1aHXNUkBhvlAwus1B2MZgdG40518HYXaFQM4tre9ubxjqQArg6PlunYqTtfx841yA3EpzKQC9SNK5AlrPpynjKDWh6VHub4Gml2Snw2yadiObnnOqP/cz0uQz96BORUNllxY4Xuh+2+DI+C7OCXpwisVLY5sWKwxlamgyEHHzulzZVtDLRT+jPX+wFPR7v9RglMqODXp+WhHmxwcHyBZifPmX1SjqMJ+33bBr7l6zyS9FSFzodzRNvO+eSRfhngSaGA1ZPLTsuqL/Fpw5Fmp4R+jIl80/phsMFxb6WPY5K6CDdsf5A0yYBJAW2xTfWXpxf3hmxop5e3+5K7A73nQ07i4GOnDGIZj5SBLE8jfKq/R0PWXZGkCBX8+rQ8fBErgw3XsRWDOmZgkt7MfjjatzzQuGO+CR+b/WCPoIoWX0NdVdtvpMBqhctZ1+3UtSYl2mnJ/8H9fVcrlAzy+CqUK+FipV3apkrdtFlDvKAU/MnUOYP6+ira2x7bwyRdjvZZW9Ukn5/nSZbLTnmy80Aoc0mo4NfV8sANkqNWqtUh17EVMy9pQR2rRG0zck55kBh4EK5v9kgWaAeDXh6zuo6gc4JtRk9Bc1A1y05drUkS7bSEExxcrR7s360mD2fDba/0paxsSrrUxbm/bfwYiy25vOjWh7Z6I1xfz4WcBMtnj6wn+Zxu4zrN4hrkCY22PswhIYJfbqqulgcezbA6VN0o6NybnBcvh0gKTrrC4EOqntintQHtnTiPwaRdDmRiVaA5oJplp/s6vkaynVJftzo+Uw9++ciAz8W3+tfljo8u60ie+FDCU5q2eiPPhN2DJbAIO3mliXqSfzbsxAgXbJfQJGwOCRH88ofPIKQp+6n3BPKzDJabnBcHTkvqx+yK5OCDg+67VC/4sIo0nfESlaufvF71VTtthpe1WFFqqnoXWLk58vPlpd8mpFU2fXRZp8tJWW5QZ7TZticvXF+Ph4w15rO26km+r53qGpxTQgS/rmNRwj636rGDq5pEWH2SdpS6hHYw6LgFMoMPBmZ/hG4Xg5jRSwt+OU/bZaf1irjaqRvXWuLFmHphQOLJgw9t7bKtv8yVrv6MYw+ltD64dDQryVc7TZgQwe8D0LxBso+wHqC5qklEYoDStvLBy25SjbPst9KjTz8Y+DadznDd1W1O7dTNXWjPRmhL1xBIT7z6wouVUi5s+SRKO9d+rXaaMCGCX9fxHC8X6QLyo+3lBcmVD595tcoyrPA02Sn7BrXNqD2LaO/fpJ7WDMmsZE1pB/0npxxIaH3wSZQK7NiipHaaKCEfuVgNPqeotyH94OWFNsEvDXorZOKaV9vEzpDHIpoDBTp9tdP2bME41Uc90m+GTyJrYNKfx0BGzyrXiytRmtWi5ELtdE4JEfy6HBADlL3QHokbMQNfjuDydeo/NnIn5MHgtc9FgwLybui6Kh90/LujPdID5i6JlI/OJB7pt9El/eTtUEifZJ7z9vdA/vjcX6i3MPnoVVtv5pQQwe8VcPeddjmi9lmsOeIzOF86fcdA7Ql5QZvPSDy10/Y8BO3Xok+vusQRhgX8dckZy7+Awj2+QHd/yIuw90P++NxfWMRKm+MDSi69Sh41OteECH59Mh/XIxiz8FmsOXIx/C+x7QKZ+DilJnwmH+SGz3i36hv3vki105IuR6WPQ/P6oz9dhLxHWHx1Sf3oTXwL11Gf1kLqnPd29OKwHYlWxjKMnXi62LTPSLTTZAgR/Pq8lHUorIGVaK/W6lwEv+HaROqMwb6VX9fkgxxhhcI16J12yjVV6qbLJANpuI5G676O69b1KBAvCfMCoqTjVNejR1UkvtC4Gm30thoSHlRxBfd1W6N9Hg6102QJEfxy3NYNjs8wu+TTqntXvsaVta+FXHzfuZd4cYv0fVWHiZi0pOG6qbj6fqt2ugh3gLETZFOgeS3Wfd0zYQOWpuTrEsiranLklm/1kQUCrfpahmg7qj/tmxtlFbfJ5/OhkGqi+lTYfULtNFFCTXvw6VOt3853VZUk9xJ+A37BbwF5F7f6XnYrkbi+fJx1tfWBx4CuU5rCyL0hE64f11H9XbXPPx9WZ020aX3KhTbVx7YjIXPm/ujvxzjuLOdigM9JX3V6CPcYtdPECRX8+iwCvgRXDX4X0VxVkvyAwQXwa33gxist+PXZJH2OodpUmnLBx04PwcrWh3pFpA43FqnVX5/XLRex7Od+B3b9Nq076pr2Ly24eyj8fBkTssuhQUfJEEl8gbyDX5/WkEUs2+mBsDpp0ivXoUQ7TYZQwS+fL3a1PjDw5XF1uaBcvTLrIfcRAxrW2fAzLJ8NOCd8LrsxcfCpWEpLHHzslFRPaVzzVAvI02OJT+BxG5b9nM9zsjzSvwHy+gh9k1G2hF0L7bMs4SlN3+A390tvrldoSVs75Wm3rsM5JlTwyyCNTtvVH3gEljfV78OdvUuu/vq2PvgYdk74VH6/BrfuJI47o054S95lp9XB94uOz0s8fSj5Lbhtjw/XbJp+znXRjfjafU5wn3K9FEr4oMC5Rn4OpcTn2XKfC+Y59/367BmlnbLlgc8+u+z0Quiovbkm5AtvX4E9Im2iOlDbdZxKpFU1q/i2Pki4qVvFddmNa+pTsLfBm5A47oyw+tumRalaEVmN3HsGV8P1fTNYK/0cP8vqZlOgws/x5yMt+PWdvkK9nA33PiMFn6SBpwhnw23z3JtztWHXHlm1U+4vBdwtD1+HrsO5JmTw63OkyoDjAdN/55gQV/DrU1nJFd/WB0nBL9eC67IbL3VxHfKWfVPFUuK4M3KGkWscn2HgW8Dq22eeat+5yyni87gA9VZuqj46YsJ7NeSNgvSp+hIGHNpjuYyPD+N6+g+4iwG5JrDUTwF/O30U3HrQ1psECBn80ikx8HAdkT4ednExOLkJzUitKJXwiM+lowLdnqVNEZ8pD5fCOjMGeE1rUeK4M+LbolS2HC3CPR+47+i5FPF5XKD6+pPPpRuf0zOpMNA4E6qfKj5r6irYpIrFKZc/zPGODXt398KwdsrWJCmtN7MS8aUBPjs6IYNf4tOvVr1M4wpQCsgJ7GbBDJO9SK7ZrNSnxCrmLEpH9hO4K2hSx+n5BFllosETCNp00xpkm8RekIVPwF/1b66X8PT2eDPUpc5VXYmP/yonY/ic4PAUMbeCQNunxF06FWWnS0tL34EdTnAPk8mEp/bb+nw2BKGD32/BvalWq7mum+Qa2Pm1PvgeG6YOZ6YuOf57GXD4PKQi9WleVoFc/eRVPbte06IeuWlIstOD4A4UbsSyf3NVQCQfpfpUh9jHfz2UKj7+iz6Qa4oV4CYbpu/0uYeTGj6nx9Wn3/nZJp1Ks9MvGjnLBLE3Gdlk5KcLCwsfhE0Y+nx2dEJvRtxQGXSweX61BcRMrAzUSoNsOm4pAzupGf8XjByH5tEr0Y4WArMIW8Fg73h9fVEHF00/Qwfu8zSvFL3VYTL1VdiNYZbtUS9stykdfNlK0rSJlJVQKXbqU3WrJg0MLJo2TElHqXW4ZpoCM/43vWC0Iy7/RR/IPZn64wkig5D1Mz5Hf8mq+iLyC3595kdXK7+LsDpYzbal2elmU9H9K/PPT8K2hFxtgloWOTf1/OzoxKjE8Ejg6Vg9WKtuAuV4kSakBigldF6nwy6mB87479Rlmd3nDo+cToB1TlxjZTDGNcKA7t9gky+yiObNkv8PKXqbBfvJn4fZwS8rbBwXV+qvujmsRtkmISX4dVXduK6qpw+fM3IM7At6Vbh2eVQoueWBPu7LsEltvX2G/eafhz3R0QtGK+F6aUryub/eUfnsO2FPUw+Z/h7XHv0gCwonY9l35oRrfnQ1QSBfgrXTWYm+VDvlvnv6CJ8dlRjBLy8lvBA7Br80NDqy07B8fMXNdXPD/4sLU3KAUnISrJN6OWwfNH+uO09/j4GJ61g6J+io/gw22Docy32pPMqn8y4rF/y9T04/V1S+fmn63zik3Gfmba7w+O59Rl6LlY/P0EZ5VEXdlHbHwEN7LdtRn2bDtXkK7KME1Dd1y3VIH/gh2FMLyX7uw7DB7zOw7Ntom9xI34tIR6dzzvlT4V5bvxtDO663itDmX2bkSNjkjeuPAXLOfpDBb1Plt57YU0efhdUpbbU8RaQ+P4KVflGZY2IEv3Ty3FS5mR4w/T0uIGZNHLP077BVOcIMqmyIrv9dy2NsNuxLDVBK6KROhNXf0bAXjKhb6o6bxmWQx5VwVyo+BuvAjp3+k06sDJRZJZaotyocgcRjvBcYOQo2keBluI9iZdWcdkpdH4rVqyjSxnO52mrou+oJA/XN9ffnsHpkAvZx2CNnafqrw6T2zVhua2IfJiu+tFHpulkN2uXfw+6RPMVhwMZ7PlybrKSfih1Pv6jnj0IOZRK6mt+aVTh6O2y8wnbD8mEgJhJqp4oX7NU93sjrsfKIus6rYW/mTyqyHbYfmItP2gglZRykXAocC26uP8BKOy2FD2G8BrJGx70Uq+vjdiNvhNzn2ZU4cL1JHDvYxKtgE6lZdrrFyFvgfspYUUaBBsvqJTdQLkY2k18BDXwVZZ5gryArIrzpfNtUbp7++j1Y2VoiAerjDUYuhvVZVZ3weHQ9FEWJTZOd8iT1sVCyZAFpwAD4RbDHqgx8Pw294KAo8wY3kg2wly/ZpsQjQR7d8yhVqq3Sd3F2OU8WSp1wkoZOJlCU+UHtVFEURVEURVGUPPl/0azdzw2qp8UAAAAASUVORK5CYII=\")}),Kl=hh(),Zl=0,Jl=[],Ql=[],$l=[],th=[],eh=[],nh=0,rh=new r.Application(Kl,Zl,{backgroundColor:16777215,resolution:2}),ih=!1,oh=new function(){this.values={},this.Save=function(){Gl.set(oh.values),sh()},this.Reset=function(){ah(),Gl.set(oh.values),sh()}};function ah(){oh.values.format=\"Math.round(d) + '%'\",oh.values.gapBetweenOptions=10,oh.values.personScale=1,oh.values.textXOffset=5,oh.values.xMax=100,oh.values.titleFontColor=\"#333\",oh.values.titleFontFamily=\"'Segoe UI'\",oh.values.titleFontSize=15,oh.values.titleFontWeight=700,oh.values.labelFontColor=\"#343741\",oh.values.labelFontFamily=\"'Segoe UI'\",oh.values.labelFontSize=12,oh.values.labelFontWeight=400}function sh(){var t=Xn().key(function(t){return t.option}).entries(Hl),e={},n={};Hl.forEach(function(t,r){e[t.option]=t.optionsorder||r,n[t.category]=t.categoriesorder||r}),t.forEach(function(t){t.sort=+e[t.key]||e[t.key];var r=JSON.parse(JSON.stringify(n));t.values.forEach(function(t,e){void 0===t.categoriesorder&&(t.categoriesorder=n[t.category]),delete r[t.category]}),Kn(r).forEach(function(e){t.values.push({value:null,category:e,categoriesorder:n[e]})}),t.values=t.values.keySort({categoriesorder:\"asc\"})}),t=t.keySort({sort:\"asc\"}),Xl=t,ih?lh():(document.getElementById(\"app\").appendChild(rh.view),uh(Kl,Zl),window.onresize=function(){Kl=hh(),lh()},Jl=[],[624,312,390,468,546,0,78,156,234].forEach(function(t){var e=ql(),n=new r.Texture(e,new r.Rectangle(t,0,78,98));Jl.push(n)}),lh(),ih=!0),window.gui=Wl,window.chartConfig=oh}function uh(t,e){Kl=t,Zl=e,rh.renderer.resize(Kl,Zl),rh.view.style.width=Kl+\"px\",rh.view.style.height=Zl+\"px\"}function lh(){var t=function(t){var e;try{(e=new Function(\"d\",\"return \"+t+\";\"))(1)}catch(t){console.log(t),e=new Function(\"d\",\"return d;\")}return e}(oh.values.format),e=oh.values.gapBetweenOptions,n=oh.values.personScale,i=oh.values.textXOffset,o=oh.values.xMax,a=oh.values.titleFontColor,s=oh.values.titleFontFamily,u=oh.values.titleFontSize,l=oh.values.titleFontWeight,h=oh.values.labelFontColor,c=oh.values.labelFontFamily,f=oh.values.labelFontSize,d=oh.values.labelFontWeight,p=[];ph(Ql),ph($l),function(){var t;for(;t=th.pop();)eh.push(t)}(),Ql=[],$l=[],nh=0;var v=new r.Graphics;if($l.push(v),rh.stage.addChild(v),Xl.length){for(var _=0;_<Xl.length;_++){var y=Xl[_],g=vh(y.key,nh,u,a,l,i,s);Ql.push(g.node),nh+=g.height,rh.stage.addChild(g.node);for(var b=0;b<y.values.length;b++){var m=[zl.color(y.values[b].color).rgb.r,zl.color(y.values[b].color).rgb.g,zl.color(y.values[b].color).rgb.b],x=y.values[b].value||0,w=20*n,T=1.8*w,E=(Kl-50)/w,S=go().domain([0,o]).range([0,E])(x),M=T*Math.ceil(S/E)||T;g=vh(t(x),0,f,h,d,0,c);$l.push(g.node),g.node.anchor.x=.5,g.node.anchor.y=.5,g.node.visible=!1,rh.stage.addChild(g.node);for(var O=0,C=0,A=0,P=0;P<S;P++){var R=Math.ceil(P/E)-1;R<0&&(R=0),C!==R?(O=1,C+=1):O+=1;var I=O*w-w/2;A<I&&(A=I);var D=nh+R*T+T/2,k=dh(1,I,D,n);ch(k,I,D),yh(k,m)}g.node.x=A+w+10,g.node.y=nh+M/2;var L=new r.Graphics;L.lineStyle(0,0,0),L.beginFill(16777215,.8),L.drawRoundedRect(0,nh,A+w/2+50,M,0),L.endFill(),L.interactive=!0,L.buttonMode=!0,L.selectionId=y.values[b].selectionId,L.alpha=0,L.show=function(){this.alpha=0},L.hide=function(){this.alpha=1},L.on(\"click\",function(t){Gl.customClickHandler(t,this)}),$l.push(L),p.push(L),rh.stage.addChild(L),nh+=M}nh+=e}v.lineStyle(0,0,0),v.beginFill(0,0),v.drawRoundedRect(0,0,Kl,nh,0),v.endFill(),v.interactive=!0,v.buttonMode=!1,v.alpha=1,v.on(\"click\",function(t){Gl.customClickHandler(t)}),Gl.manageMySelections(p),setTimeout(function(){$l.forEach(function(t){t.visible=!0})},2200),fh(),uh(Kl,nh),rh.ticker.add(function(t){Vl.update()})}else fh()}function hh(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-8}function ch(t,e,n){var r=t.x,i=t.y,o=Math.abs(r-e)/14*gh(100,250);o>3e3&&(o=3e3),_h(t),t.tween_walk&&Vl.remove(t.tween_walk);var a,s=new Vl.Tween({x:r,y:i}).to({x:e,y:n},o).onUpdate(function(){t.x=this._object.x,t.y=this._object.y}).interpolation(function(t){return Math.floor(10*t)/10});t.tween_walk=s,r<e?((a=t).state=\"right\",a.playSequence([1,4])):r>e&&function(t){t.state=\"left\",t.playSequence([5,8])}(t),s.start(),s.onComplete(function(){_h(t)})}function fh(){for(var t;t=eh.pop();)rh.stage.removeChild(t)}function dh(t,e,n,i){var o=function(t,e,n){var r,i=eh.filter(function(e,r){if(e.ind=r,e.question==t&&e.qY==n)return!0});return i.length?(r=i.pop(),eh.splice(r.ind,1)):r=eh.pop(),r}(t,0,n);return void 0===o?(function(t,e){t.x=gh(0,-50),t.y=gh(0,20),t.anchor.set(.5),t.width=28.08*e,t.height=35.1*e,function(t){if(!(t instanceof r.extras.AnimatedSprite))throw new Error(\"You can only animate PIXI.MovieClip sprites\");var e=0,n=0,i=0,o=0,a=void 0,s=!1;function u(){void 0!==a&&!0===s&&(s=!1,e=0,i=0,o=0,n=0,clearInterval(a))}t.show=function(e){u(),t.gotoAndStop(e)},t.playSequence=function(r){u(),i=r[0],o=r[1],n=o-i,t.fps||(t.fps=12);var l=1e3/t.fps;t.gotoAndStop(i),s||(a=setInterval(function(){e<n?(t.gotoAndStop(t.currentFrame+1),e+=1):t.loop&&(t.gotoAndStop(i),e=1)}.bind(this),l),s=!0)}}(t),t.fps=4;var n=new r.filters.ColorMatrixFilter;n.resolution=2,n.matrix[3]=1,n.matrix[8]=1,n.matrix[13]=1,t.filters=[n]}(o=new r.extras.AnimatedSprite(Jl),i),th.push(o),rh.stage.addChild(o),o.question=t,o.qX=e,o.qY=n,o.x=gh(e-300,e+300),o.y=gh(n-300,n+300)):(o.width=28.08*i,o.height=35.1*i,o.question==t?th.push(o):(th.push(o),o.question=t),o.qX=e,o.qY=n),o}function ph(t){for(var e=0;e<t.length;e++){var n=t[e];rh.stage.removeChild(n),n.destroy({children:!0,texture:!0,baseTexture:!0})}}function vh(t,e,n,i,o,a,s){var u=new r.Text(t,{fontSize:n||16,fontWeight:o||400,fontFamily:s,fill:i||\"#5f6369\",align:\"left\",wordWrapWidth:Kl-24,wordWrap:!0,strokeThickness:0});return u.x=a||0,u.y=e,u.resolution=2,{node:u,height:u.height}}function _h(t){t.state=\"stop\",t.show(0)}function yh(t,e){var n=t.filters[0].matrix,r=n[3],i=n[8],o=n[13],a=e[0]/255,s=e[1]/255,u=e[2]/255;t.tween_color&&Vl.remove(t.tween_color);var l=new Vl.Tween({r:r,g:i,b:o}).to({r:a,g:s,b:u},1500).onUpdate(function(){n[3]=this._object.r,n[8]=this._object.g,n[13]=this._object.b}).interpolation(Vl.Interpolation.Bezier).start();t.tween_color=l}function gh(t,e){return Math.floor(Math.random()*(e-t)+t)}window.constructPage=function(t,e){Hl=t,Gl=e,function(){if(Wl&&Wl.destroy(),oh.values=Gl.get(),Kn(oh.values).length||ah(),Gl.edit){var t=(Wl=new Yl).addFolder(\"Chart Settings\");for(var e in Wl.add(oh,\"Save\"),Wl.add(oh,\"Reset\"),t.add(oh.values,\"format\"),t.add(oh.values,\"gapBetweenOptions\"),t.add(oh.values,\"personScale\",0,3),t.add(oh.values,\"textXOffset\"),t.add(oh.values,\"xMax\"),t.addColor(oh.values,\"titleFontColor\"),t.add(oh.values,\"titleFontFamily\"),t.add(oh.values,\"titleFontSize\"),t.add(oh.values,\"titleFontWeight\"),t.addColor(oh.values,\"labelFontColor\"),t.add(oh.values,\"labelFontFamily\"),t.add(oh.values,\"labelFontSize\"),t.add(oh.values,\"labelFontWeight\"),Wl.__folders)for(var n in Wl.__folders[e].__controllers)Wl.__folders[e].__controllers[n].onChange&&Wl.__folders[e].__controllers[n].onChange(function(){sh()})}}(),sh()}}]);",
          "parsedSrc": "function(t,e){!function(t){var e=window.webpackHotUpdate;window.webpackHotUpdate=function(t,n){!function(t,e){if(x[t]&&b[t]){for(var n in b[t]=!1,e)Object.prototype.hasOwnProperty.call(e,n)&&(v[n]=e[n]);0==--y&&0===_&&M()}}(t,n),e&&e(t,n)};var n,r=!0,i=\"6ea7670d5e0e8ce86f66\",o=1e4,a={},s=[],u=[];function l(t){var e=O[t];if(!e)return C;var r=function(r){return e.hot.active?(O[r]?-1===O[r].parents.indexOf(t)&&O[r].parents.push(t):(s=[t],n=r),-1===e.children.indexOf(r)&&e.children.push(r)):(console.warn(\"[HMR] unexpected require(\"+r+\") from disposed module \"+t),s=[]),C(r)},i=function(t){return{configurable:!0,enumerable:!0,get:function(){return C[t]},set:function(e){C[t]=e}}};for(var o in C)Object.prototype.hasOwnProperty.call(C,o)&&\"e\"!==o&&\"t\"!==o&&Object.defineProperty(r,o,i(o));return r.e=function(t){return\"ready\"===f&&d(\"prepare\"),_++,C.e(t).then(e,function(t){throw e(),t});function e(){_--,\"prepare\"===f&&(m[t]||E(t),0===_&&0===y&&M())}},r.t=function(t,e){return 1&e&&(t=r(t)),C.t(t,-2&e)},r}function c(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(t,n){if(void 0===t)e._selfAccepted=!0;else if(\"function\"==typeof t)e._selfAccepted=t;else if(\"object\"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n||function(){};else e._acceptedDependencies[t]=n||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if(\"object\"==typeof t)for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:T,apply:S,status:function(t){if(!t)return f;h.push(t)},addStatusHandler:function(t){h.push(t)},removeStatusHandler:function(t){var e=h.indexOf(t);e>=0&&h.splice(e,1)},data:a[t]};return n=void 0,e}var h=[],f=\"idle\";function d(t){f=t;for(var e=0;e<h.length;e++)h[e].call(null,t)}var p,v,g,y=0,_=0,m={},b={},x={};function w(t){return+t+\"\"===t?+t:t}function T(t){if(\"idle\"!==f)throw new Error(\"check() is only allowed in idle status\");return r=t,d(\"check\"),(e=o,e=e||1e4,new Promise(function(t,n){if(\"undefined\"==typeof XMLHttpRequest)return n(new Error(\"No browser support\"));try{var r=new XMLHttpRequest,o=C.p+\"\"+i+\".hot-update.json\";r.open(\"GET\",o,!0),r.timeout=e,r.send(null)}catch(t){return n(t)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error(\"Manifest request to \"+o+\" timed out.\"));else if(404===r.status)t();else if(200!==r.status&&304!==r.status)n(new Error(\"Manifest request to \"+o+\" failed.\"));else{try{var e=JSON.parse(r.responseText)}catch(t){return void n(t)}t(e)}}})).then(function(t){if(!t)return d(\"idle\"),null;b={},m={},x=t.c,g=t.h,d(\"prepare\");var e=new Promise(function(t,e){p={resolve:t,reject:e}});return v={},E(0),\"prepare\"===f&&0===_&&0===y&&M(),e});var e}function E(t){x[t]?(b[t]=!0,y++,function(t){var e=document.createElement(\"script\");e.charset=\"utf-8\",e.src=C.p+\"\"+t+\".\"+i+\".hot-update.js\",document.head.appendChild(e)}(t)):m[t]=!0}function M(){d(\"ready\");var t=p;if(p=null,t)if(r)Promise.resolve().then(function(){return S(r)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&e.push(w(n));t.resolve(e)}}function S(e){if(\"ready\"!==f)throw new Error(\"apply() is only allowed in ready status\");var n,r,o,u,l;function c(t){for(var e=[t],n={},r=e.slice().map(function(t){return{chain:[t],id:t}});r.length>0;){var i=r.pop(),o=i.id,a=i.chain;if((u=O[o])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:\"self-declined\",chain:a,moduleId:o};if(u.hot._main)return{type:\"unaccepted\",chain:a,moduleId:o};for(var s=0;s<u.parents.length;s++){var l=u.parents[s],c=O[l];if(c){if(c.hot._declinedDependencies[o])return{type:\"declined\",chain:a.concat([l]),moduleId:o,parentId:l};-1===e.indexOf(l)&&(c.hot._acceptedDependencies[o]?(n[l]||(n[l]=[]),h(n[l],[o])):(delete n[l],e.push(l),r.push({chain:a.concat([l]),id:l})))}}}}return{type:\"accepted\",moduleId:t,outdatedModules:e,outdatedDependencies:n}}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];-1===t.indexOf(r)&&t.push(r)}}e=e||{};var p={},y=[],_={},m=function(){console.warn(\"[HMR] unexpected require(\"+T.moduleId+\") to disposed module\")};for(var b in v)if(Object.prototype.hasOwnProperty.call(v,b)){var T;l=w(b);var E=!1,M=!1,S=!1,A=\"\";switch((T=v[b]?c(l):{type:\"disposed\",moduleId:b}).chain&&(A=\"\\nUpdate propagation: \"+T.chain.join(\" -> \")),T.type){case\"self-declined\":e.onDeclined&&e.onDeclined(T),e.ignoreDeclined||(E=new Error(\"Aborted because of self decline: \"+T.moduleId+A));break;case\"declined\":e.onDeclined&&e.onDeclined(T),e.ignoreDeclined||(E=new Error(\"Aborted because of declined dependency: \"+T.moduleId+\" in \"+T.parentId+A));break;case\"unaccepted\":e.onUnaccepted&&e.onUnaccepted(T),e.ignoreUnaccepted||(E=new Error(\"Aborted because \"+l+\" is not accepted\"+A));break;case\"accepted\":e.onAccepted&&e.onAccepted(T),M=!0;break;case\"disposed\":e.onDisposed&&e.onDisposed(T),S=!0;break;default:throw new Error(\"Unexception type \"+T.type)}if(E)return d(\"abort\"),Promise.reject(E);if(M)for(l in _[l]=v[l],h(y,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,l)&&(p[l]||(p[l]=[]),h(p[l],T.outdatedDependencies[l]));S&&(h(y,[T.moduleId]),_[l]=m)}var P,R=[];for(r=0;r<y.length;r++)l=y[r],O[l]&&O[l].hot._selfAccepted&&R.push({module:l,errorHandler:O[l].hot._selfAccepted});d(\"dispose\"),Object.keys(x).forEach(function(t){!1===x[t]&&function(t){delete installedChunks[t]}(t)});for(var I,D,k=y.slice();k.length>0;)if(l=k.pop(),u=O[l]){var N={},L=u.hot._disposeHandlers;for(o=0;o<L.length;o++)(n=L[o])(N);for(a[l]=N,u.hot.active=!1,delete O[l],delete p[l],o=0;o<u.children.length;o++){var j=O[u.children[o]];j&&(P=j.parents.indexOf(l))>=0&&j.parents.splice(P,1)}}for(l in p)if(Object.prototype.hasOwnProperty.call(p,l)&&(u=O[l]))for(D=p[l],o=0;o<D.length;o++)I=D[o],(P=u.children.indexOf(I))>=0&&u.children.splice(P,1);for(l in d(\"apply\"),i=g,_)Object.prototype.hasOwnProperty.call(_,l)&&(t[l]=_[l]);var F=null;for(l in p)if(Object.prototype.hasOwnProperty.call(p,l)&&(u=O[l])){D=p[l];var U=[];for(r=0;r<D.length;r++)if(I=D[r],n=u.hot._acceptedDependencies[I]){if(-1!==U.indexOf(n))continue;U.push(n)}for(r=0;r<U.length;r++){n=U[r];try{n(D)}catch(t){e.onErrored&&e.onErrored({type:\"accept-errored\",moduleId:l,dependencyId:D[r],error:t}),e.ignoreErrored||F||(F=t)}}}for(r=0;r<R.length;r++){var B=R[r];l=B.module,s=[l];try{C(l)}catch(t){if(\"function\"==typeof B.errorHandler)try{B.errorHandler(t)}catch(n){e.onErrored&&e.onErrored({type:\"self-accept-error-handler-errored\",moduleId:l,error:n,originalError:t}),e.ignoreErrored||F||(F=n),F||(F=t)}else e.onErrored&&e.onErrored({type:\"self-accept-errored\",moduleId:l,error:t}),e.ignoreErrored||F||(F=t)}}return F?(d(\"fail\"),Promise.reject(F)):(d(\"idle\"),new Promise(function(t){t(y)}))}var O={};function C(e){if(O[e])return O[e].exports;var n=O[e]={i:e,l:!1,exports:{},hot:c(e),parents:(u=s,s=[],u),children:[]};return t[e].call(n.exports,n,n.exports,l(e)),n.l=!0,n.exports}C.m=t,C.c=O,C.d=function(t,e,n){C.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},C.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},C.t=function(t,e){if(1&e&&(t=C(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(C.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)C.d(n,r,function(e){return t[e]}.bind(null,r));return n},C.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return C.d(e,\"a\",e),e},C.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},C.p=\"/\",C.h=function(){return i},l(199)(C.s=199)}([function(t,e,n){\"use strict\";e.__esModule=!0,e.VERSION=\"4.8.6\",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\\.(\\w{3,4})(?:$|\\?|#)/i,e.DATA_URI=/^\\s*data:(?:([\\w-]+)\\/([\\w+.-]+))?(?:;charset=([\\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\\s(width|height)=('|\")(\\d*(?:\\.\\d+)?)(?:px)?('|\"))[^>]*(?:\\s(width|height)=('|\")(\\d*(?:\\.\\d+)?)(?:px)?('|\"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:\"lowp\",MEDIUM:\"mediump\",HIGH:\"highp\"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,n){\"use strict\";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var r=n(0);Object.keys(r).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(4);Object.keys(i).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=n(5);Object.defineProperty(e,\"glCore\",{enumerable:!0,get:function(){return V(o).default}});var a=n(27);Object.defineProperty(e,\"Bounds\",{enumerable:!0,get:function(){return V(a).default}});var s=n(50);Object.defineProperty(e,\"DisplayObject\",{enumerable:!0,get:function(){return V(s).default}});var u=n(11);Object.defineProperty(e,\"Container\",{enumerable:!0,get:function(){return V(u).default}});var l=n(52);Object.defineProperty(e,\"Transform\",{enumerable:!0,get:function(){return V(l).default}});var c=n(51);Object.defineProperty(e,\"TransformStatic\",{enumerable:!0,get:function(){return V(c).default}});var h=n(29);Object.defineProperty(e,\"TransformBase\",{enumerable:!0,get:function(){return V(h).default}});var f=n(31);Object.defineProperty(e,\"Sprite\",{enumerable:!0,get:function(){return V(f).default}});var d=n(121);Object.defineProperty(e,\"CanvasSpriteRenderer\",{enumerable:!0,get:function(){return V(d).default}});var p=n(17);Object.defineProperty(e,\"CanvasTinter\",{enumerable:!0,get:function(){return V(p).default}});var v=n(124);Object.defineProperty(e,\"SpriteRenderer\",{enumerable:!0,get:function(){return V(v).default}});var g=n(139);Object.defineProperty(e,\"Text\",{enumerable:!0,get:function(){return V(g).default}});var y=n(66);Object.defineProperty(e,\"TextStyle\",{enumerable:!0,get:function(){return V(y).default}});var _=n(67);Object.defineProperty(e,\"TextMetrics\",{enumerable:!0,get:function(){return V(_).default}});var m=n(141);Object.defineProperty(e,\"Graphics\",{enumerable:!0,get:function(){return V(m).default}});var b=n(68);Object.defineProperty(e,\"GraphicsData\",{enumerable:!0,get:function(){return V(b).default}});var x=n(143);Object.defineProperty(e,\"GraphicsRenderer\",{enumerable:!0,get:function(){return V(x).default}});var w=n(150);Object.defineProperty(e,\"CanvasGraphicsRenderer\",{enumerable:!0,get:function(){return V(w).default}});var T=n(151);Object.defineProperty(e,\"Spritesheet\",{enumerable:!0,get:function(){return V(T).default}});var E=n(8);Object.defineProperty(e,\"Texture\",{enumerable:!0,get:function(){return V(E).default}});var M=n(64);Object.defineProperty(e,\"TextureMatrix\",{enumerable:!0,get:function(){return V(M).default}});var S=n(10);Object.defineProperty(e,\"BaseTexture\",{enumerable:!0,get:function(){return V(S).default}});var O=n(34);Object.defineProperty(e,\"RenderTexture\",{enumerable:!0,get:function(){return V(O).default}});var C=n(58);Object.defineProperty(e,\"BaseRenderTexture\",{enumerable:!0,get:function(){return V(C).default}});var A=n(55);Object.defineProperty(e,\"VideoBaseTexture\",{enumerable:!0,get:function(){return V(A).default}});var P=n(56);Object.defineProperty(e,\"TextureUvs\",{enumerable:!0,get:function(){return V(P).default}});var R=n(59);Object.defineProperty(e,\"CanvasRenderTarget\",{enumerable:!0,get:function(){return V(R).default}});var I=n(14);Object.defineProperty(e,\"Shader\",{enumerable:!0,get:function(){return V(I).default}});var D=n(13);Object.defineProperty(e,\"WebGLManager\",{enumerable:!0,get:function(){return V(D).default}});var k=n(18);Object.defineProperty(e,\"ObjectRenderer\",{enumerable:!0,get:function(){return V(k).default}});var N=n(20);Object.defineProperty(e,\"RenderTarget\",{enumerable:!0,get:function(){return V(N).default}});var L=n(65);Object.defineProperty(e,\"Quad\",{enumerable:!0,get:function(){return V(L).default}});var j=n(61);Object.defineProperty(e,\"SpriteMaskFilter\",{enumerable:!0,get:function(){return V(j).default}});var F=n(62);Object.defineProperty(e,\"Filter\",{enumerable:!0,get:function(){return V(F).default}});var U=n(69);Object.defineProperty(e,\"Application\",{enumerable:!0,get:function(){return V(U).default}});var B=n(70);Object.defineProperty(e,\"autoDetectRenderer\",{enumerable:!0,get:function(){return B.autoDetectRenderer}});var H=W(n(2)),X=W(n(33)),z=V(n(3)),G=V(n(12)),Y=V(n(19));function W(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function V(t){return t&&t.__esModule?t:{default:t}}e.settings=z.default,e.utils=H,e.ticker=X,e.CanvasRenderer=G.default,e.WebGLRenderer=Y.default},function(t,e,n){\"use strict\";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++p},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),\"#\"+(\"000000\".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var n=i.default.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):void 0!==e?e:1},e.decomposeDataUri=function(t){var e=r.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}},e.getUrlFileExtension=function(t){var e=r.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()},e.getSvgSize=function(t){var e=r.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n},e.skipHello=function(){v=!0},e.sayHello=function(t){if(!v){if(navigator.userAgent.toLowerCase().indexOf(\"chrome\")>-1){var e=[\"\\n %c %c %c PixiJS \"+r.VERSION+\" - ✰ \"+t+\" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \\n\\n\",\"background: #ff66a5; padding:5px 0;\",\"background: #ff66a5; padding:5px 0;\",\"color: #ff66a5; background: #030307; padding:5px 0;\",\"background: #ff66a5; padding:5px 0;\",\"background: #ffc3dc; padding:5px 0;\",\"background: #ff66a5; padding:5px 0;\",\"color: #ff2424; background: #fff; padding:5px 0;\",\"color: #ff2424; background: #fff; padding:5px 0;\",\"color: #ff2424; background: #fff; padding:5px 0;\"];window.console.log.apply(console,e)}else window.console&&window.console.log(\"PixiJS \"+r.VERSION+\" - \"+t+\" - http://www.pixijs.com/\");v=!0}},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement(\"canvas\"),n=e.getContext(\"webgl\",t)||e.getContext(\"experimental-webgl\",t),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension(\"WEBGL_lose_context\");i&&i.loseContext()}return n=null,r}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in g)g[t].destroy();for(t in y)y[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in g)delete g[t];for(t in y)delete y[t]},e.correctBlendMode=function(t,e){return _[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,r=t>>8&255,i=255&t;return(255*e<<24)+((n=n*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(i*e+.5|0)},e.premultiplyRgba=function(t,e,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n},e.premultiplyTintToRgba=function(t,e,n,r){return(n=n||new Float32Array(4))[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(r||void 0===r)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n};var r=n(0),i=d(n(3)),o=d(n(9)),a=d(n(109)),s=f(n(110)),u=f(n(28)),l=d(n(111)),c=d(n(112)),h=d(n(30));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=!1;e.isMobile=u,e.removeItems=l.default,e.EventEmitter=o.default,e.pluginTarget=a.default,e.mixins=s,e.earcut=h.default;var g=e.TextureCache=Object.create(null),y=e.BaseTextureCache=Object.create(null),_=e.premultiplyBlendMode=(0,c.default)()},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(107)),i=o(n(108));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,r.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:\"highp\",PRECISION_FRAGMENT:\"mediump\",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(23);Object.defineProperty(e,\"Point\",{enumerable:!0,get:function(){return f(r).default}});var i=n(39);Object.defineProperty(e,\"ObservablePoint\",{enumerable:!0,get:function(){return f(i).default}});var o=n(24);Object.defineProperty(e,\"Matrix\",{enumerable:!0,get:function(){return f(o).default}});var a=n(40);Object.defineProperty(e,\"GroupD8\",{enumerable:!0,get:function(){return f(a).default}});var s=n(97);Object.defineProperty(e,\"Circle\",{enumerable:!0,get:function(){return f(s).default}});var u=n(98);Object.defineProperty(e,\"Ellipse\",{enumerable:!0,get:function(){return f(u).default}});var l=n(99);Object.defineProperty(e,\"Polygon\",{enumerable:!0,get:function(){return f(l).default}});var c=n(25);Object.defineProperty(e,\"Rectangle\",{enumerable:!0,get:function(){return f(c).default}});var h=n(100);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"RoundedRectangle\",{enumerable:!0,get:function(){return f(h).default}})},function(t,e,n){var r={createContext:n(101),setVertexAttribArrays:n(41),GLBuffer:n(102),GLFramebuffer:n(103),GLShader:n(104),GLTexture:n(42),VertexArrayObject:n(105),shader:n(106)};t.exports&&(t.exports=r),\"undefined\"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},function(t,e,n){\"use strict\";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var r=n(91);Object.keys(r).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(1);Object.keys(i).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o,a=(o=n(152))&&o.__esModule?o:{default:o},s=g(n(153)),u=g(n(155)),l=g(n(72)),c=g(n(165)),h=g(n(172)),f=g(n(174)),d=g(n(178)),p=g(n(183)),v=g(n(188));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}i.utils.mixins.performMixins();var y=f.shared||null;e.accessibility=s,e.extract=u,e.extras=l,e.filters=c,e.interaction=h,e.loaders=f,e.mesh=d,e.particles=p,e.prepare=v,e.loader=y,\"function\"==typeof a.default&&(0,a.default)(e),t.PIXI=e}).call(this,n(22))},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];\".\"===i?t.splice(r,1):\"..\"===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift(\"..\");return t}var r=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/,i=function(t){return r.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e=\"\",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:t.cwd();if(\"string\"!=typeof a)throw new TypeError(\"Arguments to path.resolve must be strings\");a&&(e=a+\"/\"+e,r=\"/\"===a.charAt(0))}return(r?\"/\":\"\")+(e=n(o(e.split(\"/\"),function(t){return!!t}),!r).join(\"/\"))||\".\"},e.normalize=function(t){var r=e.isAbsolute(t),i=\"/\"===a(t,-1);return(t=n(o(t.split(\"/\"),function(t){return!!t}),!r).join(\"/\"))||r||(t=\".\"),t&&i&&(t+=\"/\"),(r?\"/\":\"\")+t},e.isAbsolute=function(t){return\"/\"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"Arguments to path.join must be strings\");return t}).join(\"/\"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&\"\"===t[e];e++);for(var n=t.length-1;n>=0&&\"\"===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split(\"/\")),o=r(n.split(\"/\")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push(\"..\");return(l=l.concat(o.slice(s))).join(\"/\")},e.sep=\"/\",e.delimiter=\":\",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):\".\"},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var a=\"b\"===\"ab\".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(63))},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(10)),o=h(n(55)),a=h(n(56)),s=h(n(9)),u=n(4),l=n(2),c=h(n(3));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(n,r,i,o,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));if(l.noFrame=!1,r||(l.noFrame=!0,r=new u.Rectangle(0,0,1,1)),n instanceof e&&(n=n.baseTexture),l.baseTexture=n,l._frame=r,l.trim=o,l.valid=!1,l.requiresUpdate=!1,l._uvs=null,l.orig=i||r,l._rotate=Number(a||0),!0===a)l._rotate=2;else if(l._rotate%2!=0)throw new Error(\"attempt to use diamond-shaped UVs. If you are sure, set rotation manually\");return n.hasLoaded?(l.noFrame&&(r=new u.Rectangle(0,0,n.width,n.height),n.on(\"update\",l.onBaseTextureUpdated,l)),l.frame=r):n.once(\"loaded\",l.onBaseTextureLoaded,l),l.defaultAnchor=s?new u.Point(s.x,s.y):new u.Point(0,0),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on(\"update\",this.onBaseTextureUpdated,this),this.emit(\"update\",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit(\"update\",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(l.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off(\"update\",this.onBaseTextureUpdated,this),this.baseTexture.off(\"loaded\",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new a.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,n,r,o){var a=l.TextureCache[t];return a||(a=new e(i.default.fromImage(t,n,r,o)),e.addToCache(a,t)),a},e.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId \"'+t+'\" does not exist in the texture cache');return e},e.fromCanvas=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"canvas\";return new e(i.default.fromCanvas(t,n,r))},e.fromVideo=function(t,n,r,i){return\"string\"==typeof t?e.fromVideoUrl(t,n,r,i):new e(o.default.fromVideo(t,n,i))},e.fromVideoUrl=function(t,n,r,i){return new e(o.default.fromUrl(t,n,r,i))},e.from=function(t){return\"string\"==typeof t?l.TextureCache[t]||(null!==t.match(/\\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t)):t instanceof HTMLImageElement?new e(i.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,c.default.SCALE_MODE,\"HTMLCanvasElement\"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof i.default?new e(t):t},e.fromLoader=function(t,n,r){var o=new i.default(t,void 0,(0,l.getResolutionOfUrl)(n)),a=new e(o);return o.imageUrl=n,r||(r=n),i.default.addToCache(a.baseTexture,r),e.addToCache(a,r),r!==n&&(i.default.addToCache(a.baseTexture,n),e.addToCache(a,n)),a},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),l.TextureCache[e]&&console.warn(\"Texture added to the cache with an id [\"+e+\"] that already had an entry\"),l.TextureCache[e]=t)},e.removeFromCache=function(t){if(\"string\"==typeof t){var e=l.TextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete l.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)l.TextureCache[t.textureCacheIds[r]]===t&&delete l.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},r(e,[{key:\"frame\",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,r=t.width,i=t.height,o=e+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?\"and\":\"or\",u=\"X: \"+e+\" + \"+r+\" = \"+(e+r)+\" > \"+this.baseTexture.width,l=\"Y: \"+n+\" + \"+i+\" = \"+(n+i)+\" > \"+this.baseTexture.height;throw new Error(\"Texture Error: frame does not fit inside the base Texture dimensions: \"+u+\" \"+s+\" \"+l)}this.valid=r&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:\"rotate\",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:\"width\",get:function(){return this.orig.width}},{key:\"height\",get:function(){return this.orig.height}}]),e}(s.default);function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new i.default),d(f.EMPTY),d(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement(\"canvas\");t.width=10,t.height=10;var e=t.getContext(\"2d\");return e.fillStyle=\"white\",e.fillRect(0,0,10,10),new f(new i.default(t))}(),d(f.WHITE),d(f.WHITE.baseTexture)},function(t,e,n){\"use strict\";var r=Object.prototype.hasOwnProperty,i=\"~\";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},s.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,r);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(t,e,n){var r=new a(e,n||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.once=function(t,e,n){var r=new a(e,n||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.removeListener=function(t,e,n,r){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,t.exports=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(2),i=u(n(3)),o=u(n(9)),a=u(n(53)),s=u(n(32));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return s.uid=(0,r.uid)(),s.touched=0,s.resolution=a||i.default.RESOLUTION,s.width=100,s.height=100,s.realWidth=100,s.realHeight=100,s.scaleMode=void 0!==o?o:i.default.SCALE_MODE,s.hasLoaded=!1,s.isLoading=!1,s.source=null,s.origSource=null,s.imageType=null,s.sourceScale=1,s.premultipliedAlpha=!0,s.imageUrl=null,s.isPowerOfTwo=!1,s.mipmap=i.default.MIPMAP_TEXTURES,s.wrapMode=i.default.WRAP_MODE,s._glTextures={},s._enabled=0,s._virtalBoundId=-1,s._destroyed=!1,s.textureCacheIds=[],n&&s.loadSource(n),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){\"svg\"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit(\"update\",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=s.default.isPow2(this.realWidth)&&s.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),\"svg\"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit(\"loaded\",this);else if(!t.getContext){this.isLoading=!0;var r=this;if(t.onload=function(){r._updateImageType(),t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),\"svg\"!==r.imageType?r.emit(\"loaded\",r):r._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit(\"error\",r))},t.complete&&t.src){if(t.onload=null,t.onerror=null,\"svg\"===r.imageType)return void r._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit(\"loaded\",this)):e&&this.emit(\"error\",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,r.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&\"image\"===t.mediaType){var n=t.subType.split(\"+\")[0];if(!(e=(0,r.getUrlFileExtension)(\".\"+n)))throw new Error(\"Invalid image type in data URI.\")}else(e=(0,r.getUrlFileExtension)(this.imageUrl))||(e=\"png\");this.imageType=e}},e.prototype._loadSvgSource=function(){if(\"svg\"===this.imageType){var t=(0,r.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if(\"base64\"===t.encoding){if(!atob)throw new Error(\"Your browser doesn't support base64 conversions.\");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error(\"Failed to load SVG using XHR.\");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit(\"error\",t)},e.open(\"GET\",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var n=(0,r.getSvgSize)(t),i=n.width,o=n.height;if(!i||!o)throw new Error(\"The SVG image must have width and height defined (in pixels), canvas API needs them.\");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var a=document.createElement(\"canvas\");a.width=this.realWidth,a.height=this.realHeight,a._pixiId=\"canvas_\"+(0,r.uid)(),a.getContext(\"2d\").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=a,e.addToCache(this,a._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit(\"loaded\",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete r.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src=\"\")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit(\"dispose\",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,n,i,o){var s=r.BaseTextureCache[t];if(!s){var u=new Image;void 0===n&&0!==t.indexOf(\"data:\")?u.crossOrigin=(0,a.default)(t):n&&(u.crossOrigin=\"string\"==typeof n?n:\"anonymous\"),(s=new e(u,i)).imageUrl=t,o&&(s.sourceScale=o),s.resolution=(0,r.getResolutionOfUrl)(t),u.src=t,e.addToCache(s,t)}return s},e.fromCanvas=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"canvas\";t._pixiId||(t._pixiId=i+\"_\"+(0,r.uid)());var o=r.BaseTextureCache[t._pixiId];return o||(o=new e(t,n),e.addToCache(o,t._pixiId)),o},e.from=function(t,n,i){if(\"string\"==typeof t)return e.fromImage(t,void 0,n,i);if(t instanceof HTMLImageElement){var o=t.src,a=r.BaseTextureCache[o];return a||((a=new e(t,n)).imageUrl=o,i&&(a.sourceScale=i),a.resolution=(0,r.getResolutionOfUrl)(o),e.addToCache(a,o)),a}return t instanceof HTMLCanvasElement?e.fromCanvas(t,n):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),r.BaseTextureCache[e]&&console.warn(\"BaseTexture added to the cache with an id [\"+e+\"] that already had an entry\"),r.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if(\"string\"==typeof t){var e=r.BaseTextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete r.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete r.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2),a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return n.children=[],n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.addChild(arguments[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit(\"added\",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+\"addChildAt: The index \"+e+\" supplied is out of bounds \"+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit(\"added\",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error(\"The supplied DisplayObject must be a child of the caller\");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error(\"The index \"+e+\" supplied is out of bounds \"+this.children.length);var n=this.getChildIndex(t);(0,o.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error(\"getChildAt: Index (\"+t+\") does not exist.\");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.removeChild(arguments[n]);else{var r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit(\"removed\",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit(\"removed\",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=t,r=\"number\"==typeof e?e:this.children.length,i=r-n,o=void 0;if(i>0&&i<=r){o=this.children.splice(n,i);for(var a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var s=0;s<o.length;++s)o[s].emit(\"removed\",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError(\"removeChildren: numeric values are outside the acceptable range.\")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}n&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),n&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var n=\"boolean\"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(e)},i(e,[{key:\"width\",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:\"height\",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((r=n(50))&&r.__esModule?r:{default:r}).default);e.default=a,a.prototype.containerUpdateTransform=a.prototype.updateTransform},function(t,e,n){\"use strict\";e.__esModule=!0;var r=c(n(57)),i=c(n(122)),o=c(n(59)),a=c(n(123)),s=n(2),u=n(0),l=c(n(3));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"Canvas\",n,r,o));return s.type=u.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext(\"2d\",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new i.default(s),s.smoothProperty=\"imageSmoothingEnabled\",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty=\"webkitImageSmoothingEnabled\":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty=\"mozImageSmoothingEnabled\":s.rootContext.oImageSmoothingEnabled?s.smoothProperty=\"oImageSmoothingEnabled\":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty=\"msImageSmoothingEnabled\")),s.initPlugins(),s.blendModes=(0,a.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,n,r,i){if(this.view){this.renderingToScreen=!e,this.emit(\"prerender\");var a=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!i){var l=t.parent,c=this._tempDisplayObjectParent.transform.worldTransform;r?(r.copy(c),this._tempDisplayObjectParent.transform._worldID=-1):c.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=l}s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle=\"black\",s.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var h=this.context;this.context=s,t.renderCanvas(this),this.context=h,s.restore(),this.resolution=a,this.emit(\"postrender\")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=l.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(r.default);e.default=h,s.pluginTarget.mixin(h)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,this.renderer.on(\"context\",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off(\"context\",this.onContextChange,this),this.renderer=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(5),o=(r=n(3))&&r.__esModule?r:{default:r};function a(t,e){if(t instanceof Array){if(\"precision\"!==t[0].substring(0,9)){var n=t.slice(0);return n.unshift(\"precision \"+e+\" float;\"),n}}else if(\"precision\"!==t.trim().substring(0,9))return\"precision \"+e+\" float;\\n\"+t;return t}var s=function(t){function e(n,r,i,s,u){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,a(r,u||o.default.PRECISION_VERTEX),a(i,u||o.default.PRECISION_FRAGMENT),void 0,s))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);e.default=s},function(t,e,n){\"use strict\";var r=n(175).Loader,i=n(36).Resource,o=n(85),a=n(86);r.Resource=i,r.async=o,r.encodeBinary=a,r.base64=a,t.exports=r,t.exports.Loader=r,t.exports.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),a=(r=n(8))&&r.__esModule?r:{default:r},s=new o.Point,u=new o.Polygon,l=function(t){function e(n,r,i,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return l._texture=n||a.default.EMPTY,l.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),l.vertices=r||new Float32Array([0,0,100,0,100,100,0,100]),l.indices=s||new Uint16Array([0,1,3,2]),l.dirty=0,l.indexDirty=0,l.vertexDirty=0,l.autoUpdate=!0,l.blendMode=o.BLEND_MODES.NORMAL,l.canvasPadding=o.settings.MESH_CANVAS_PADDING,l.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,l.shader=null,l.tintRgb=new Float32Array([1,1,1]),l._glDatas={},l._uvTransform=new o.TextureMatrix(l._texture),l.uploadUvTransform=!1,l.pluginName=\"mesh\",l}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,s);for(var n=this.vertices,r=u.points,i=this.indices,o=this.indices.length,a=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,l=0;l+2<o;l+=a){var c=2*i[l],h=2*i[l+1],f=2*i[l+2];if(r[0]=n[c],r[1]=n[c+1],r[2]=n[h],r[3]=n[h+1],r[4]=n[f],r[5]=n[f+1],u.contains(s.x,s.y))return!0}return!1},e.prototype.destroy=function(e){for(var n in this._glDatas){var r=this._glDatas[n];r.destroy?r.destroy():(r.vertexBuffer&&(r.vertexBuffer.destroy(),r.vertexBuffer=null),r.indexBuffer&&(r.indexBuffer.destroy(),r.indexBuffer=null),r.uvBuffer&&(r.uvBuffer.destroy(),r.uvBuffer=null),r.vao&&(r.vao.destroy(),r.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,e)},i(e,[{key:\"texture\",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once(\"update\",this._onTextureUpdate,this)))}},{key:\"tint\",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);e.default=l,l.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(2),o={getTintedTexture:function(t,e){var n=t._texture,r=\"#\"+(\"00000\"+(0|(e=o.roundColor(e))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var i=n.tintCache[r],a=void 0;if(i){if(i.tintId===n._updateID)return n.tintCache[r];a=n.tintCache[r]}else a=o.canvas||document.createElement(\"canvas\");if(o.tintMethod(n,e,a),a.tintId=n._updateID,o.convertTintToImage){var s=new Image;s.src=a.toDataURL(),n.tintCache[r]=s}else n.tintCache[r]=a,o.canvas=null;return a},tintWithMultiply:function(t,e,n){var r=n.getContext(\"2d\"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.fillStyle=\"#\"+(\"00000\"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation=\"multiply\",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation=\"destination-atop\",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(t,e,n){var r=n.getContext(\"2d\"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation=\"copy\",r.fillStyle=\"#\"+(\"00000\"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation=\"destination-atop\",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(t,e,n){var r=n.getContext(\"2d\"),o=t._frame.clone(),a=t.baseTexture.resolution;o.x*=a,o.y*=a,o.width*=a,o.height*=a,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),r.save(),r.globalCompositeOperation=\"copy\",r.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),r.restore();for(var s=(0,i.hex2rgb)(e),u=s[0],l=s[1],c=s[2],h=r.getImageData(0,0,o.width,o.height),f=h.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=l,f[d+2]*=c;r.putImageData(h,0,0)},roundColor:function(t){var e=o.cacheStepsPerColorChannel,n=(0,i.hex2rgb)(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),(0,i.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((r=n(60))&&r.__esModule?r:{default:r}).default)(),tintMethod:0};o.tintMethod=o.canUseMultiply?o.tintWithMultiply:o.tintWithPerPixel,e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((r=n(13))&&r.__esModule?r:{default:r}).default);e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0;var r=_(n(57)),i=_(n(125)),o=_(n(127)),a=_(n(128)),s=_(n(20)),u=_(n(18)),l=_(n(130)),c=_(n(10)),h=_(n(131)),f=_(n(132)),d=_(n(134)),p=_(n(135)),v=n(2),g=_(n(5)),y=n(0);function _(t){return t&&t.__esModule?t:{default:t}}var m=0,b=function(t){function e(n,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"WebGL\",n,r,a));return s.legacy=s.options.legacy,s.legacy&&(g.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=y.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener(\"webglcontextlost\",s.handleContextLost,!1),s.view.addEventListener(\"webglcontextrestored\",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&\"notMultiplied\"!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer,powerPreference:s.options.powerPreference},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new i.default(s),s.stencilManager=new o.default(s),s.emptyRenderer=new u.default(s),s.currentRenderer=s.emptyRenderer,s.textureManager=null,s.filterManager=null,s.initPlugins(),s.options.context&&(0,p.default)(s.options.context),s.gl=s.options.context||g.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=m++,s.state=new f.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.drawModes=(0,d.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension(\"WEBGL_lose_context\")&&t.getExtension(\"WEBGL_lose_context\").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this._unknownBoundTextures=!1,this.textureManager=new l.default(this),this.filterManager=new a.default(this),this.textureGC=new h.default(this),this.state.resetToDefault(),this.rootRenderTarget=new s.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new g.default.GLTexture.fromData(t,null,1,1),r={_glTextures:{}};r._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new c.default;o._glTextures[this.CONTEXT_UID]=n,this.boundTextures[i]=r,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit(\"context\",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,n,r,i){if(this.renderingToScreen=!e,this.emit(\"prerender\"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,r),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit(\"postrender\")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){r.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var n=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var n=void 0;if(t){var r=t.baseTexture;r._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(r,0),this.unbindTexture(r),(n=r._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else n=this.rootRenderTarget;return n.transform=e,this.bindRenderTarget(n),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,n){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,n)e=e||0;else{for(var r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===t)return r;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;if(t=t.baseTexture||t,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===this.emptyTextures[n]&&(e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture))}for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new g.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener(\"webglcontextlost\",this.handleContextLost),this.view.removeEventListener(\"webglcontextrestored\",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension(\"WEBGL_lose_context\")&&this.gl.getExtension(\"WEBGL_lose_context\").loseContext(),this.gl=null},e}(r.default);e.default=b,v.pluginTarget.mixin(b)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(4),o=n(0),a=(r=n(3))&&r.__esModule?r:{default:r},s=n(5),u=function(){function t(e,n,r,u,l,c){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=l||a.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey=\"\",this.scaleMode=void 0!==u?u:a.default.SCALE_MODE,this.root=c||!1,this.root?(this.frameBuffer=new s.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=s.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,r)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var n=this.projectionMatrix;e=e||t,n.identity(),this.root?(n.a=1/t.width*2,n.d=-1/t.height*2,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2,n.d=1/t.height*2,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},t.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){t.nativeLines?function(t,e){var n=0,r=t.points;if(0!==r.length){var o=e.points,a=r.length/2,s=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,l=s[0]*u,c=s[1]*u,h=s[2]*u;for(n=1;n<a;n++){var f=r[2*(n-1)],d=r[2*(n-1)+1],p=r[2*n],v=r[2*n+1];o.push(f,d),o.push(l,c,h,u),o.push(p,v),o.push(l,c,h,u)}}}(t,n):function(t,e){var n=t.points;if(0!==n.length){var o=new r.Point(n[0],n[1]),a=new r.Point(n[n.length-2],n[n.length-1]);if(o.x===a.x&&o.y===a.y){(n=n.slice()).pop(),n.pop();var s=(a=new r.Point(n[n.length-2],n[n.length-1])).x+.5*(o.x-a.x),u=a.y+.5*(o.y-a.y);n.unshift(s,u),n.push(s,u)}var l=e.points,c=e.indices,h=n.length/2,f=n.length,d=l.length/6,p=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),g=t.lineAlpha,y=v[0]*g,_=v[1]*g,m=v[2]*g,b=n[0],x=n[1],w=n[2],T=n[3],E=0,M=0,S=-(x-T),O=b-w,C=0,A=0,P=0,R=0,I=Math.sqrt(S*S+O*O);S/=I,O/=I,S*=p,O*=p;var D=t.lineAlignment,k=2*(1-D),N=2*D;l.push(b-S*k,x-O*k,y,_,m,g),l.push(b+S*N,x+O*N,y,_,m,g);for(var L=1;L<h-1;++L){b=n[2*(L-1)],x=n[2*(L-1)+1],w=n[2*L],T=n[2*L+1],E=n[2*(L+1)],M=n[2*(L+1)+1],S=-(x-T),O=b-w,S/=I=Math.sqrt(S*S+O*O),O/=I,S*=p,O*=p,C=-(T-M),A=w-E,C/=I=Math.sqrt(C*C+A*A),A/=I;var j=-O+x-(-O+T),F=-S+w-(-S+b),U=(-S+b)*(-O+T)-(-S+w)*(-O+x),B=-(A*=p)+M-(-A+T),H=-(C*=p)+w-(-C+E),X=(-C+E)*(-A+T)-(-C+w)*(-A+M),z=j*H-B*F;if(Math.abs(z)<.1)z+=10.1,l.push(w-S*k,T-O*k,y,_,m,g),l.push(w+S*N,T+O*N,y,_,m,g);else{var G=(F*X-H*U)/z,Y=(B*U-j*X)/z;(G-w)*(G-w)+(Y-T)*(Y-T)>196*p*p?(P=S-C,R=O-A,P/=I=Math.sqrt(P*P+R*R),R/=I,P*=p,R*=p,l.push(w-P*k,T-R*k),l.push(y,_,m,g),l.push(w+P*N,T+R*N),l.push(y,_,m,g),l.push(w-P*N*k,T-R*k),l.push(y,_,m,g),f++):(l.push(w+(G-w)*k,T+(Y-T)*k),l.push(y,_,m,g),l.push(w-(G-w)*N,T-(Y-T)*N),l.push(y,_,m,g))}}b=n[2*(h-2)],x=n[2*(h-2)+1],w=n[2*(h-1)],S=-(x-(T=n[2*(h-1)+1])),O=b-w,S/=I=Math.sqrt(S*S+O*O),O/=I,S*=p,O*=p,l.push(w-S*k,T-O*k),l.push(y,_,m,g),l.push(w+S*N,T+O*N),l.push(y,_,m,g),c.push(d);for(var W=0;W<f;++W)c.push(d++);c.push(d-1)}}(t,e)};var r=n(4),i=n(2)},function(t,e){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n(23))&&r.__esModule?r:{default:r},a=n(0),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new o.default;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new o.default;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,i=t.y;return e.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,n,r,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(n*this.a+r*this.c),this.ty=e-(n*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),s=Math.atan2(n,e),u=Math.abs(o+s);return u<1e-5||Math.abs(a.PI_2-u)<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(r*r+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:\"IDENTITY\",get:function(){return new t}},{key:\"TEMP_MATRIX\",get:function(){return new t}}]),t}();e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(o),this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(n-e,0),this.y=r,this.height=Math.max(i-r,0)},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=n-e,this.y=r,this.height=i-r},t.prototype.ceil=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,n=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=r-this.y},r(t,[{key:\"left\",get:function(){return this.x}},{key:\"right\",get:function(){return this.x+this.width}},{key:\"top\",get:function(){return this.y}},{key:\"bottom\",get:function(){return this.y+this.height}}],[{key:\"EMPTY\",get:function(){return new t(0,0,0,0)}}]),t}();e.default=o},function(t,e){var n=null,r={FLOAT:\"float\",FLOAT_VEC2:\"vec2\",FLOAT_VEC3:\"vec3\",FLOAT_VEC4:\"vec4\",INT:\"int\",INT_VEC2:\"ivec2\",INT_VEC3:\"ivec3\",INT_VEC4:\"ivec4\",BOOL:\"bool\",BOOL_VEC2:\"bvec2\",BOOL_VEC3:\"bvec3\",BOOL_VEC4:\"bvec4\",FLOAT_MAT2:\"mat2\",FLOAT_MAT3:\"mat3\",FLOAT_MAT4:\"mat4\",SAMPLER_2D:\"sampler2D\"};t.exports=function(t,e){if(!n){var i=Object.keys(r);n={};for(var o=0;o<i.length;++o){var a=i[o];n[t[a]]=r[a]}}return n[e]}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(4),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:((t=t||new r.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[2])<e?o:e,n=(a=t[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[4])<e?o:e,n=(a=t[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[6])<e?o:e,n=(a=t[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},t.prototype.addFrame=function(t,e,n,r,i){var o=t.worldTransform,a=o.a,s=o.b,u=o.c,l=o.d,c=o.tx,h=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,g=a*e+u*n+c,y=s*e+l*n+h;f=g<f?g:f,d=y<d?y:d,p=g>p?g:p,v=y>v?y:v,f=(g=a*r+u*n+c)<f?g:f,d=(y=s*r+l*n+h)<d?y:d,p=g>p?g:p,v=y>v?y:v,f=(g=a*e+u*i+c)<f?g:f,d=(y=s*e+l*i+h)<d?y:d,p=g>p?g:p,v=y>v?y:v,f=(g=a*r+u*i+c)<f?g:f,d=(y=s*r+l*i+h)<d?y:d,p=g>p?g:p,v=y>v?y:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,n,r){for(var i=t.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=n;v<r;v+=2){var g=e[v],y=e[v+1],_=o*g+s*y+l,m=u*y+a*g+c;h=_<h?_:h,f=m<f?m:f,d=_>d?_:d,p=m>p?m:p}this.minX=h,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t}();e.default=i},function(t,e,n){var r,i,o;!function(n){var a=/iPhone/i,s=/iPod/i,u=/iPad/i,l=/\\bAndroid(?:.+)Mobile\\b/i,c=/Android/i,h=/\\bAndroid(?:.+)SD4930UR\\b/i,f=/\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i,d=/Windows Phone/i,p=/\\bWindows(?:.+)ARM\\b/i,v=/BlackBerry/i,g=/BB10/i,y=/Opera Mini/i,_=/\\b(CriOS|Chrome)(?:.+)Mobile/i,m=/\\Mobile(?:.+)Firefox\\b/i;function b(t,e){return t.test(e)}function x(t){var e=t||(\"undefined\"!=typeof navigator?navigator.userAgent:\"\"),n=e.split(\"[FBAN\");void 0!==n[1]&&(e=n[0]),void 0!==(n=e.split(\"Twitter\"))[1]&&(e=n[0]);var r={apple:{phone:b(a,e)&&!b(d,e),ipod:b(s,e),tablet:!b(a,e)&&b(u,e)&&!b(d,e),device:(b(a,e)||b(s,e)||b(u,e))&&!b(d,e)},amazon:{phone:b(h,e),tablet:!b(h,e)&&b(f,e),device:b(h,e)||b(f,e)},android:{phone:!b(d,e)&&b(h,e)||!b(d,e)&&b(l,e),tablet:!b(d,e)&&!b(h,e)&&!b(l,e)&&(b(f,e)||b(c,e)),device:!b(d,e)&&(b(h,e)||b(f,e)||b(l,e)||b(c,e))},windows:{phone:b(d,e),tablet:b(p,e),device:b(d,e)||b(p,e)},other:{blackberry:b(v,e),blackberry10:b(g,e),opera:b(y,e),firefox:b(m,e),chrome:b(_,e),device:b(v,e)||b(g,e)||b(y,e)||b(m,e)||b(_,e)}};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}t.exports&&\"undefined\"==typeof window?t.exports=x:t.exports&&\"undefined\"!=typeof window?t.exports=x():(i=[],r=n.isMobile=x(),void 0===(o=\"function\"==typeof r?r.apply(e,i):r)||(t.exports=o))}(this)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(4),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,n=this.worldTransform,r=this.localTransform;n.a=r.a*e.a+r.b*e.c,n.b=r.a*e.b+r.b*e.d,n.c=r.c*e.a+r.d*e.c,n.d=r.c*e.b+r.d*e.d,n.tx=r.tx*e.a+r.ty*e.c+e.tx,n.ty=r.tx*e.b+r.ty*e.d+e.ty,this._worldID++},t}();e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(t,e,n){\"use strict\";function r(t,e,n){n=n||2;var r,s,u,l,c,d,v,g=e&&e.length,y=g?e[0]*n:t.length,_=i(t,0,y,n,!0),m=[];if(!_||_.next===_.prev)return m;if(g&&(_=function(t,e,n,r){var a,s,u,l=[];for(a=0,s=e.length;a<s;a++)(u=i(t,e[a]*r,a<s-1?e[a+1]*r:t.length,r,!1))===u.next&&(u.steiner=!0),l.push(p(u));for(l.sort(h),a=0;a<l.length;a++)f(l[a],n),n=o(n,n.next);return n}(t,e,_,n)),t.length>80*n){r=u=t[0],s=l=t[1];for(var b=n;b<y;b+=n)(c=t[b])<r&&(r=c),(d=t[b+1])<s&&(s=d),c>u&&(u=c),d>l&&(l=d);v=0!==(v=Math.max(u-r,l-s))?1/v:0}return a(_,m,n,r,s,v),m}function i(t,e,n,r,i){var o,a;if(i===M(t,e,n,r)>0)for(o=e;o<n;o+=r)a=w(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=w(o,t[o],t[o+1],a);return a&&_(a,a.next)&&(T(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!_(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(T(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,h,f){if(t){!f&&h&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,h);for(var p,v,g=t;t.prev!==t.next;)if(p=t.prev,v=t.next,h?u(t,r,i,h):s(t))e.push(p.i/n),e.push(t.i/n),e.push(v.i/n),T(t),t=v.next,g=v.next;else if((t=v)===g){f?1===f?a(t=l(t,e,n),e,n,r,i,h,2):2===f&&c(t,e,n,r,i,h):a(o(t),e,n,r,i,h,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(y(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=d(s,u,e,n,r),f=d(l,c,e,n,r),p=t.prevZ,g=t.nextZ;p&&p.z>=h&&g&&g.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,g!==t.prev&&g!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;g&&g.z<=f;){if(g!==t.prev&&g!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!_(i,o)&&m(i,r,r.next,o)&&b(i,o)&&b(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),T(r),T(r.next),r=t=o),r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&g(u,l)){var c=x(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,e,n,r,i,s),void a(c,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function h(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&v(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&b(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=x(e,t);o(n,n.next)}}function d(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function v(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&m(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function y(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,n,r){return!!(_(t,e)&&_(n,r)||_(t,r)&&_(n,e))||y(t,e,n)>0!=y(t,e,r)>0&&y(n,r,t)>0!=y(n,r,e)>0}function b(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function x(t,e){var n=new E(t.i,t.x,t.y),r=new E(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function w(t,e,n,r){var i=new E(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function M(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=r,t.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(M(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(M(t,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(4),o=n(2),a=n(0),s=l(n(8)),u=l(n(11));function l(t){return t&&t.__esModule?t:{default:t}}var c=new i.Point,h=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._anchor=new i.ObservablePoint(r._onAnchorUpdate,r,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=a.BLEND_MODES.NORMAL,r.shader=null,r.cachedTint=16777215,r.texture=n||s.default.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.pluginName=\"sprite\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,l=t.trim,c=t.orig,h=this._anchor,f=0,d=0,p=0,v=0;l?(f=(d=l.x-h._x*c.width)+l.width,p=(v=l.y-h._y*c.height)+l.height):(f=(d=-h._x*c.width)+c.width,p=(v=-h._y*c.height)+c.height),u[0]=n*d+i*v+a,u[1]=o*v+r*d+s,u[2]=n*f+i*v+a,u[3]=o*v+r*f+s,u[4]=n*f+i*p+a,u[5]=o*p+r*f+s,u[6]=n*d+i*p+a,u[7]=o*p+r*d+s}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=-r._x*n.width,f=h+n.width,d=-r._y*n.height,p=d+n.height;e[0]=o*h+s*d+l,e[1]=u*d+a*h+c,e[2]=o*f+s*d+l,e[3]=u*d+a*f+c,e[4]=o*f+s*p+l,e[5]=u*p+a*f+c,e[6]=o*h+s*p+l,e[7]=u*p+a*h+c},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var e=this._texture.orig.width,n=this._texture.orig.height,r=-e*this.anchor.x,i=0;return c.x>=r&&c.x<r+e&&(i=-n*this.anchor.y,c.y>=i&&c.y<i+n)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off(\"update\",this._onTextureUpdate,this),this._anchor=null,\"boolean\"==typeof e?e:e&&e.texture){var n=\"boolean\"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},e.from=function(t){return new e(s.default.from(t))},e.fromFrame=function(t){var n=o.TextureCache[t];if(!n)throw new Error('The frameId \"'+t+'\" does not exist in the texture cache');return new e(n)},e.fromImage=function(t,n,r){return new e(s.default.fromImage(t,n,r))},r(e,[{key:\"width\",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:\"height\",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:\"anchor\",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:\"tint\",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:\"texture\",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||s.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once(\"update\",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=h},function(t,e,n){\"use strict\";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){\"use strict\";e.__esModule=!0,e.Ticker=e.shared=void 0;var r,i=(r=n(119))&&r.__esModule?r:{default:r},o=new i.default;o.autoStart=!0,o.destroy=function(){},e.shared=o,e.Ticker=i.default},function(t,e,n){\"use strict\";e.__esModule=!0;var r=i(n(58));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o=null;if(!(n instanceof r.default)){var a=arguments[1],s=arguments[2],u=arguments[3],l=arguments[4];console.warn(\"Please use RenderTexture.create(\"+a+\", \"+s+\") instead of the ctor directly.\"),o=arguments[0],i=null,n=new r.default(a,s,u,l)}var c=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,i));return c.legacyRenderer=o,c.valid=!0,c._updateUvs(),c}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,n){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,n,i,o){return new e(new r.default(t,n,i,o))},e}(i(n(8)).default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){for(var e=6*t,n=new Uint16Array(e),r=0,i=0;r<e;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}},function(t,e,n){\"use strict\";e.__esModule=!0,e.Resource=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(84)),o=a(n(83));function a(t){return t&&t.__esModule?t:{default:t}}var s=!(!window.XDomainRequest||\"withCredentials\"in new XMLHttpRequest),u=null;function l(){}var c=e.Resource=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),\"string\"!=typeof e||\"string\"!=typeof n)throw new Error(\"Both name and url are required for constructing a resource.\");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf(\"data:\")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?\"anonymous\":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=l,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,n){h(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){h(t._xhrTypeMap,e,n)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var n=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(n)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&\"string\"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement(\"image\");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement(\"audio\");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement(\"video\");break;case t.LOAD_TYPE.XHR:default:s&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener(\"error\",this._boundOnError,!1),this.data.removeEventListener(\"load\",this._boundComplete,!1),this.data.removeEventListener(\"progress\",this._boundOnProgress,!1),this.data.removeEventListener(\"canplaythrough\",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener(\"error\",this._boundXhrOnError,!1),this.xhr.removeEventListener(\"timeout\",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener(\"abort\",this._boundXhrOnAbort,!1),this.xhr.removeEventListener(\"progress\",this._boundOnProgress,!1),this.xhr.removeEventListener(\"load\",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error(\"Complete called again for an already completed resource.\");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:\"image\"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener(\"error\",this._boundOnError,!1),this.data.addEventListener(\"load\",this._boundComplete,!1),this.data.addEventListener(\"progress\",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:\"audio\"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener(\"error\",this._boundOnError,!1),this.data.addEventListener(\"load\",this._boundComplete,!1),this.data.addEventListener(\"progress\",this._boundOnProgress,!1),this.data.addEventListener(\"canplaythrough\",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort(\"Unsupported element: \"+t)},t.prototype._loadXhr=function(){\"string\"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open(\"GET\",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener(\"error\",this._boundXhrOnError,!1),e.addEventListener(\"timeout\",this._boundXhrOnTimeout,!1),e.addEventListener(\"abort\",this._boundXhrOnAbort,!1),e.addEventListener(\"progress\",this._boundOnProgress,!1),e.addEventListener(\"load\",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){\"string\"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open(\"GET\",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,n){n||(n=t+\"/\"+this._getExtension(e));var r=document.createElement(\"source\");return r.src=e,r.type=n,r},t.prototype._onError=function(t){this.abort(\"Failed to load element using: \"+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort(\"Load timed out.\")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+\" Request failed. Status: \"+t.status+', text: \"'+t.statusText+'\"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(f(t)+\" Request timed out.\")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(f(t)+\" Request was aborted by the user.\")},t.prototype._xhrOnLoad=function(){var e=this.xhr,n=\"\",r=void 0===e.status?200:e.status;if(\"\"!==e.responseType&&\"text\"!==e.responseType&&void 0!==e.responseType||(n=e.responseText),0===r&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2==(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(t){return void this.abort(\"Error trying to parse loaded json: \"+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,\"text/xml\")}else{var o=document.createElement(\"div\");o.innerHTML=n,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort(\"Error trying to parse loaded xml: \"+t)}else this.data=e.response||n;this.complete()}else this.abort(\"[\"+e.status+\"] \"+e.statusText+\": \"+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf(\"data:\"))return\"\";if(window.origin!==window.location.origin)return\"anonymous\";e=e||window.location,u||(u=document.createElement(\"a\")),u.href=t;var n=!(t=(0,i.default)(u.href,{strictMode:!0})).port&&\"\"===e.port||t.port===e.port,r=t.protocol?t.protocol+\":\":\"\";return t.host===e.hostname&&n&&r===e.protocol?\"\":\"anonymous\"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e=\"\";if(this.isDataUrl){var n=t.indexOf(\"/\");e=t.substring(n+1,t.indexOf(\";\",n))}else{var r=t.indexOf(\"?\"),i=t.indexOf(\"#\"),o=Math.min(r>-1?r:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(\".\")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return\"application/octet-binary\";case t.XHR_RESPONSE_TYPE.BLOB:return\"application/blob\";case t.XHR_RESPONSE_TYPE.DOCUMENT:return\"application/xml\";case t.XHR_RESPONSE_TYPE.JSON:return\"application/json\";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return\"text/plain\"}},r(t,[{key:\"isDataUrl\",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:\"isComplete\",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:\"isLoading\",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function h(t,e,n){e&&0===e.indexOf(\".\")&&(e=e.substring(1)),e&&(t[e]=n)}function f(t){return t.toString().replace(\"object \",\"\")}c.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},c.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},c.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},c.XHR_RESPONSE_TYPE={DEFAULT:\"text\",BUFFER:\"arraybuffer\",BLOB:\"blob\",DOCUMENT:\"document\",JSON:\"json\",TEXT:\"text\"},c._loadTypeMap={gif:c.LOAD_TYPE.IMAGE,png:c.LOAD_TYPE.IMAGE,bmp:c.LOAD_TYPE.IMAGE,jpg:c.LOAD_TYPE.IMAGE,jpeg:c.LOAD_TYPE.IMAGE,tif:c.LOAD_TYPE.IMAGE,tiff:c.LOAD_TYPE.IMAGE,webp:c.LOAD_TYPE.IMAGE,tga:c.LOAD_TYPE.IMAGE,svg:c.LOAD_TYPE.IMAGE,\"svg+xml\":c.LOAD_TYPE.IMAGE,mp3:c.LOAD_TYPE.AUDIO,ogg:c.LOAD_TYPE.AUDIO,wav:c.LOAD_TYPE.AUDIO,mp4:c.LOAD_TYPE.VIDEO,webm:c.LOAD_TYPE.VIDEO},c._xhrTypeMap={xhtml:c.XHR_RESPONSE_TYPE.DOCUMENT,html:c.XHR_RESPONSE_TYPE.DOCUMENT,htm:c.XHR_RESPONSE_TYPE.DOCUMENT,xml:c.XHR_RESPONSE_TYPE.DOCUMENT,tmx:c.XHR_RESPONSE_TYPE.DOCUMENT,svg:c.XHR_RESPONSE_TYPE.DOCUMENT,tsx:c.XHR_RESPONSE_TYPE.DOCUMENT,gif:c.XHR_RESPONSE_TYPE.BLOB,png:c.XHR_RESPONSE_TYPE.BLOB,bmp:c.XHR_RESPONSE_TYPE.BLOB,jpg:c.XHR_RESPONSE_TYPE.BLOB,jpeg:c.XHR_RESPONSE_TYPE.BLOB,tif:c.XHR_RESPONSE_TYPE.BLOB,tiff:c.XHR_RESPONSE_TYPE.BLOB,webp:c.XHR_RESPONSE_TYPE.BLOB,tga:c.XHR_RESPONSE_TYPE.BLOB,json:c.XHR_RESPONSE_TYPE.JSON,text:c.XHR_RESPONSE_TYPE.TEXT,txt:c.XHR_RESPONSE_TYPE.TEXT,ttf:c.XHR_RESPONSE_TYPE.BUFFER,otf:c.XHR_RESPONSE_TYPE.BUFFER},c.EMPTY_GIF=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\",t.exports.default=c},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=(r=n(90))&&r.__esModule?r:{default:r},a=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var s=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.limiter=new o.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(d),this.registerFindHook(p),this.registerFindHook(u),this.registerFindHook(l),this.registerFindHook(c),this.registerUploadHook(h),this.registerUploadHook(f)}return t.prototype.upload=function(t,e){\"function\"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var s=0,u=o.length;s<u;s++)o[s]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.Container)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},t.prototype.destroy=function(){this.ticking&&a.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function u(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof i.Texture){var o=t._textures[r].baseTexture;-1===e.indexOf(o)&&(e.push(o),n=!0)}return n}function l(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function c(t,e){if(t._texture&&t._texture instanceof i.Texture){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function h(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function f(t,e){if(e instanceof i.TextStyle){var n=e.toFontString();return i.TextMetrics.measureFont(n),!0}return!1}function d(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function p(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=s},function(t,e,n){(t.exports=n(195)(!1)).push([t.i,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\\n/* Document\\r\\n   ========================================================================== */\\n/**\\r\\n * 1. Correct the line height in all browsers.\\r\\n * 2. Prevent adjustments of font size after orientation changes in iOS.\\r\\n */\\nhtml {\\n  line-height: 1.15;\\n  /* 1 */\\n  -webkit-text-size-adjust: 100%;\\n  /* 2 */ }\\n\\n/* Sections\\r\\n   ========================================================================== */\\n/**\\r\\n * Remove the margin in all browsers.\\r\\n */\\nbody {\\n  margin: 0; }\\n\\n/**\\r\\n * Render the `main` element consistently in IE.\\r\\n */\\nmain {\\n  display: block; }\\n\\n/**\\r\\n * Correct the font size and margin on `h1` elements within `section` and\\r\\n * `article` contexts in Chrome, Firefox, and Safari.\\r\\n */\\nh1 {\\n  font-size: 2em;\\n  margin: 0.67em 0; }\\n\\n/* Grouping content\\r\\n   ========================================================================== */\\n/**\\r\\n * 1. Add the correct box sizing in Firefox.\\r\\n * 2. Show the overflow in Edge and IE.\\r\\n */\\nhr {\\n  box-sizing: content-box;\\n  /* 1 */\\n  height: 0;\\n  /* 1 */\\n  overflow: visible;\\n  /* 2 */ }\\n\\n/**\\r\\n * 1. Correct the inheritance and scaling of font size in all browsers.\\r\\n * 2. Correct the odd `em` font sizing in all browsers.\\r\\n */\\npre {\\n  font-family: monospace, monospace;\\n  /* 1 */\\n  font-size: 1em;\\n  /* 2 */ }\\n\\n/* Text-level semantics\\r\\n   ========================================================================== */\\n/**\\r\\n * Remove the gray background on active links in IE 10.\\r\\n */\\na {\\n  background-color: transparent; }\\n\\n/**\\r\\n * 1. Remove the bottom border in Chrome 57-\\r\\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\\r\\n */\\nabbr[title] {\\n  border-bottom: none;\\n  /* 1 */\\n  text-decoration: underline;\\n  /* 2 */\\n  text-decoration: underline dotted;\\n  /* 2 */ }\\n\\n/**\\r\\n * Add the correct font weight in Chrome, Edge, and Safari.\\r\\n */\\nb,\\nstrong {\\n  font-weight: bolder; }\\n\\n/**\\r\\n * 1. Correct the inheritance and scaling of font size in all browsers.\\r\\n * 2. Correct the odd `em` font sizing in all browsers.\\r\\n */\\ncode,\\nkbd,\\nsamp {\\n  font-family: monospace, monospace;\\n  /* 1 */\\n  font-size: 1em;\\n  /* 2 */ }\\n\\n/**\\r\\n * Add the correct font size in all browsers.\\r\\n */\\nsmall {\\n  font-size: 80%; }\\n\\n/**\\r\\n * Prevent `sub` and `sup` elements from affecting the line height in\\r\\n * all browsers.\\r\\n */\\nsub,\\nsup {\\n  font-size: 75%;\\n  line-height: 0;\\n  position: relative;\\n  vertical-align: baseline; }\\n\\nsub {\\n  bottom: -0.25em; }\\n\\nsup {\\n  top: -0.5em; }\\n\\n/* Embedded content\\r\\n   ========================================================================== */\\n/**\\r\\n * Remove the border on images inside links in IE 10.\\r\\n */\\nimg {\\n  border-style: none; }\\n\\n/* Forms\\r\\n   ========================================================================== */\\n/**\\r\\n * 1. Change the font styles in all browsers.\\r\\n * 2. Remove the margin in Firefox and Safari.\\r\\n */\\nbutton,\\ninput,\\noptgroup,\\nselect,\\ntextarea {\\n  font-family: inherit;\\n  /* 1 */\\n  font-size: 100%;\\n  /* 1 */\\n  line-height: 1.15;\\n  /* 1 */\\n  margin: 0;\\n  /* 2 */ }\\n\\n/**\\r\\n * Show the overflow in IE.\\r\\n * 1. Show the overflow in Edge.\\r\\n */\\nbutton,\\ninput {\\n  /* 1 */\\n  overflow: visible; }\\n\\n/**\\r\\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\\r\\n * 1. Remove the inheritance of text transform in Firefox.\\r\\n */\\nbutton,\\nselect {\\n  /* 1 */\\n  text-transform: none; }\\n\\n/**\\r\\n * Correct the inability to style clickable types in iOS and Safari.\\r\\n */\\nbutton,\\n[type=\"button\"],\\n[type=\"reset\"],\\n[type=\"submit\"] {\\n  -webkit-appearance: button; }\\n\\n/**\\r\\n * Remove the inner border and padding in Firefox.\\r\\n */\\nbutton::-moz-focus-inner,\\n[type=\"button\"]::-moz-focus-inner,\\n[type=\"reset\"]::-moz-focus-inner,\\n[type=\"submit\"]::-moz-focus-inner {\\n  border-style: none;\\n  padding: 0; }\\n\\n/**\\r\\n * Restore the focus styles unset by the previous rule.\\r\\n */\\nbutton:-moz-focusring,\\n[type=\"button\"]:-moz-focusring,\\n[type=\"reset\"]:-moz-focusring,\\n[type=\"submit\"]:-moz-focusring {\\n  outline: 1px dotted ButtonText; }\\n\\n/**\\r\\n * Correct the padding in Firefox.\\r\\n */\\nfieldset {\\n  padding: 0.35em 0.75em 0.625em; }\\n\\n/**\\r\\n * 1. Correct the text wrapping in Edge and IE.\\r\\n * 2. Correct the color inheritance from `fieldset` elements in IE.\\r\\n * 3. Remove the padding so developers are not caught out when they zero out\\r\\n *    `fieldset` elements in all browsers.\\r\\n */\\nlegend {\\n  box-sizing: border-box;\\n  /* 1 */\\n  color: inherit;\\n  /* 2 */\\n  display: table;\\n  /* 1 */\\n  max-width: 100%;\\n  /* 1 */\\n  padding: 0;\\n  /* 3 */\\n  white-space: normal;\\n  /* 1 */ }\\n\\n/**\\r\\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\\r\\n */\\nprogress {\\n  vertical-align: baseline; }\\n\\n/**\\r\\n * Remove the default vertical scrollbar in IE 10+.\\r\\n */\\ntextarea {\\n  overflow: auto; }\\n\\n/**\\r\\n * 1. Add the correct box sizing in IE 10.\\r\\n * 2. Remove the padding in IE 10.\\r\\n */\\n[type=\"checkbox\"],\\n[type=\"radio\"] {\\n  box-sizing: border-box;\\n  /* 1 */\\n  padding: 0;\\n  /* 2 */ }\\n\\n/**\\r\\n * Correct the cursor style of increment and decrement buttons in Chrome.\\r\\n */\\n[type=\"number\"]::-webkit-inner-spin-button,\\n[type=\"number\"]::-webkit-outer-spin-button {\\n  height: auto; }\\n\\n/**\\r\\n * 1. Correct the odd appearance in Chrome and Safari.\\r\\n * 2. Correct the outline style in Safari.\\r\\n */\\n[type=\"search\"] {\\n  -webkit-appearance: textfield;\\n  /* 1 */\\n  outline-offset: -2px;\\n  /* 2 */ }\\n\\n/**\\r\\n * Remove the inner padding in Chrome and Safari on macOS.\\r\\n */\\n[type=\"search\"]::-webkit-search-decoration {\\n  -webkit-appearance: none; }\\n\\n/**\\r\\n * 1. Correct the inability to style clickable types in iOS and Safari.\\r\\n * 2. Change font properties to `inherit` in Safari.\\r\\n */\\n::-webkit-file-upload-button {\\n  -webkit-appearance: button;\\n  /* 1 */\\n  font: inherit;\\n  /* 2 */ }\\n\\n/* Interactive\\r\\n   ========================================================================== */\\n/*\\r\\n * Add the correct display in Edge, IE 10+, and Firefox.\\r\\n */\\ndetails {\\n  display: block; }\\n\\n/*\\r\\n * Add the correct display in all browsers.\\r\\n */\\nsummary {\\n  display: list-item; }\\n\\n/* Misc\\r\\n   ========================================================================== */\\n/**\\r\\n * Add the correct display in IE 10+.\\r\\n */\\ntemplate {\\n  display: none; }\\n\\n/**\\r\\n * Add the correct display in IE 10.\\r\\n */\\n[hidden] {\\n  display: none; }\\n\\n*,\\n*:after,\\n*:before {\\n  box-sizing: border-box; }\\n\\nhtml,\\nbody {\\n  margin: 0px;\\n  padding: 0px; }\\n\\n#AppCanvas {\\n  margin: 4px; }\\n\\n*::-webkit-scrollbar-track {\\n  background-color: #F5F5F5; }\\n\\n*::-webkit-scrollbar {\\n  width: 8px;\\n  height: 8px;\\n  background-color: #F5F5F5; }\\n\\n*::-webkit-scrollbar-thumb {\\n  background-color: #bcbcbc; }\\n',\"\"])},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._x=r,this._y=i,this.cb=e,this.scope=n}return t.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t(e||this.cb,n||this.scope,this._x,this._y)},t.prototype.set=function(t,e){var n=t||0,r=e||(0!==e?n:0);this._x===n&&this._y===r||(this._x=n,this._y=r,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},r(t,[{key:\"x\",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:\"y\",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=(r=n(24))&&r.__esModule?r:{default:r},o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],s=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];function h(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var n=0;n<16;n++)for(var r=h(o[t]*o[n]+s[t]*a[n]),f=h(a[t]*o[n]+u[t]*a[n]),d=h(o[t]*s[n]+s[t]*u[n]),p=h(a[t]*s[n]+u[t]*u[n]),v=0;v<16;v++)if(o[v]===r&&a[v]===f&&s[v]===d&&u[v]===p){e.push(v);break}}for(var g=0;g<16;g++){var y=new i.default;y.set(o[g],a[g],s[g],u[g],0,0),l.push(y)}}();var f={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return o[t]},uY:function(t){return a[t]},vX:function(t){return s[t]},vY:function(t){return u[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][f.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?f.S:f.N:2*Math.abs(e)<=Math.abs(t)?t>0?f.E:f.W:e>0?t>0?f.SE:f.SW:t>0?f.NE:f.NW},matrixAppendRotationInv:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l[f.inv(e)];i.tx=n,i.ty=r,t.append(i)}};e.default=f},function(t,e){t.exports=function(t,e,n){var r;if(n){var i=n.tempAttribState,o=n.attribState;for(r=0;r<i.length;r++)i[r]=!1;for(r=0;r<e.length;r++)i[e[r].attribute.location]=!0;for(r=0;r<o.length;r++)o[r]!==i[r]&&(o[r]=i[r],n.attribState[r]?t.enableVertexAttribArray(r):t.disableVertexAttribArray(r))}else for(r=0;r<e.length;r++){var a=e[r];t.enableVertexAttribArray(a.attribute.location)}}},function(t,e){var n=function(t,e,n,r,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=n||-1,this.format=r||t.RGBA,this.type=i||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=t.videoWidth||t.width,r=t.videoHeight||t.height;r!==this.height||n!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=n,this.height=r};var r=!1;n.prototype.uploadData=function(t,e,n){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!r){if(!i.getExtension(\"OES_texture_float\"))throw new Error(\"floating point textures not available\");r=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||n!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,n,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,n,this.format,this.type,t||null),this.width=e,this.height=n},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},n.fromSource=function(t,e,r){var i=new n(t);return i.premultiplyAlpha=r||!1,i.upload(e),i},n.fromData=function(t,e,r,i){var o=new n(t);return o.uploadData(e,r,i),o},t.exports=n},function(t,e){var n=function(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(t.getShaderInfoLog(r)),null)};t.exports=function(t,e,r,i){var o=n(t,t.VERTEX_SHADER,e),a=n(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,o),t.attachShader(s,a),i)for(var u in i)t.bindAttribLocation(s,i[u],u);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error(\"Pixi.js Error: Could not initialize shader.\"),console.error(\"gl.VALIDATE_STATUS\",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error(\"gl.getError()\",t.getError()),\"\"!==t.getProgramInfoLog(s)&&console.warn(\"Pixi.js Warning: gl.getProgramInfoLog()\",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(o),t.deleteShader(a),s}},function(t,e,n){var r=n(26),i=n(45),o=function(t,e,n,r){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,n||0,r||0)};t.exports=function(t,e){for(var n={},a=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var u=t.getActiveAttrib(e,s),l=r(t,u.type);n[u.name]={type:l,size:i(l),location:t.getAttribLocation(e,u.name),pointer:o}}return n}},function(t,e){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return n[t]}},function(t,e,n){var r=n(26),i=n(47);t.exports=function(t,e){for(var n={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=t.getActiveUniform(e,a),u=s.name.replace(/\\[.*?\\]/,\"\"),l=r(t,s.type);n[u]={type:l,size:s.size,location:t.getUniformLocation(e,u),value:i(l,s.size)}}return n}},function(t,e){var n=function(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e};t.exports=function(t,e){switch(t){case\"float\":return 0;case\"vec2\":return new Float32Array(2*e);case\"vec3\":return new Float32Array(3*e);case\"vec4\":return new Float32Array(4*e);case\"int\":case\"sampler2D\":return 0;case\"ivec2\":return new Int32Array(2*e);case\"ivec3\":return new Int32Array(3*e);case\"ivec4\":return new Int32Array(4*e);case\"bool\":return!1;case\"bvec2\":return n(2*e);case\"bvec3\":return n(3*e);case\"bvec4\":return n(4*e);case\"mat2\":return new Float32Array([1,0,0,1]);case\"mat3\":return new Float32Array([1,0,0,0,1,0,0,0,1]);case\"mat4\":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e){t.exports=function(t,e){return\"precision\"!==t.substring(0,9)?\"precision \"+e+\" float;\\n\"+t:t}},function(t,e){var n=function(t){return function(){return this.data[t].value}},r={float:function(t,e,n){t.uniform1f(e,n)},vec2:function(t,e,n){t.uniform2f(e,n[0],n[1])},vec3:function(t,e,n){t.uniform3f(e,n[0],n[1],n[2])},vec4:function(t,e,n){t.uniform4f(e,n[0],n[1],n[2],n[3])},int:function(t,e,n){t.uniform1i(e,n)},ivec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},ivec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},ivec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},bool:function(t,e,n){t.uniform1i(e,n)},bvec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},bvec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},bvec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},mat2:function(t,e,n){t.uniformMatrix2fv(e,!1,n)},mat3:function(t,e,n){t.uniformMatrix3fv(e,!1,n)},mat4:function(t,e,n){t.uniformMatrix4fv(e,!1,n)},sampler2D:function(t,e,n){t.uniform1i(e,n)}},i={float:function(t,e,n){t.uniform1fv(e,n)},vec2:function(t,e,n){t.uniform2fv(e,n)},vec3:function(t,e,n){t.uniform3fv(e,n)},vec4:function(t,e,n){t.uniform4fv(e,n)},int:function(t,e,n){t.uniform1iv(e,n)},ivec2:function(t,e,n){t.uniform2iv(e,n)},ivec3:function(t,e,n){t.uniform3iv(e,n)},ivec4:function(t,e,n){t.uniform4iv(e,n)},bool:function(t,e,n){t.uniform1iv(e,n)},bvec2:function(t,e,n){t.uniform2iv(e,n)},bvec3:function(t,e,n){t.uniform3iv(e,n)},bvec4:function(t,e,n){t.uniform4iv(e,n)},sampler2D:function(t,e,n){t.uniform1iv(e,n)}};function o(t,e){return function(n){this.data[t].value=n;var o=this.data[t].location;1===e.size?r[e.type](this.gl,o,n):i[e.type](this.gl,o,n)}}function a(t,e){for(var n=e,r=0;r<t.length-1;r++){var i=n[t[r]]||{data:{}};n[t[r]]=i,n=i}return n}t.exports=function(t,e){var r={data:{}};r.gl=t;for(var i=Object.keys(e),s=0;s<i.length;s++){var u=i[s],l=u.split(\".\"),c=l[l.length-1],h=a(l,r),f=e[u];h.data[c]=f,h.gl=t,Object.defineProperty(h,c,{get:n(c),set:o(c,f)})}return r}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(9)),o=n(0),a=h(n(3)),s=h(n(51)),u=h(n(52)),l=h(n(27)),c=n(4);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this)),r=a.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?s.default:u.default;return n.tempDisplayObjectParent=null,n.transform=new r,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new l.default,n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._destroyed=!1,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new c.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=n,this.transform=e,r},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,r){return e&&(t=e.toGlobal(t,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error(\"setParent: Argument must be a Container\");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},r(e,[{key:\"_tempDisplayObjectParent\",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:\"x\",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:\"y\",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:\"worldTransform\",get:function(){return this.transform.worldTransform}},{key:\"localTransform\",get:function(){return this.transform.localTransform}},{key:\"position\",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:\"scale\",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:\"pivot\",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:\"skew\",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:\"rotation\",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:\"worldVisible\",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:\"mask\",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:\"filters\",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(i.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4),a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return n.position=new o.ObservablePoint(n.onChange,n,0,0),n.scale=new o.ObservablePoint(n.onChange,n,1,1),n.pivot=new o.ObservablePoint(n.onChange,n,0,0),n.skew=new o.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n._localID=0,n._currentLocalID=0,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(e,[{key:\"rotation\",get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}]),e}(((r=n(29))&&r.__esModule?r:{default:r}).default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4),a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return n.position=new o.Point(0,0),n.scale=new o.Point(1,1),n.skew=new o.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new o.Point(0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},i(e,[{key:\"rotation\",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((r=n(29))&&r.__esModule?r:{default:r}).default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf(\"data:\"))return\"\";e=e||window.location,o||(o=document.createElement(\"a\")),o.href=t;var n=!(t=i.default.parse(o.href)).port&&\"\"===e.port||t.port===e.port;return t.hostname===e.hostname&&n&&t.protocol===e.protocol?\"\":\"anonymous\"};var r,i=(r=n(54))&&r.__esModule?r:{default:r},o=void 0},function(t,e,n){\"use strict\";var r=n(113),i=n(115);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=m,e.resolve=function(t,e){return m(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?m(t,!1,!0).resolveObject(e):e},e.format=function(t){return i.isString(t)&&(t=m(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,l=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),c=[\"'\"].concat(l),h=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(c),f=[\"/\",\"?\",\"#\"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,\"javascript:\":!0},g={javascript:!0,\"javascript:\":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},_=n(116);function m(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof t);var o=t.indexOf(\"?\"),s=-1!==o&&o<t.indexOf(\"#\")?\"?\":\"#\",l=t.split(s);l[0]=l[0].replace(/\\\\/g,\"/\");var m=t=l.join(s);if(m=m.trim(),!n&&1===t.split(\"#\").length){var b=u.exec(m);if(b)return this.path=m,this.href=m,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search=\"\",this.query={}),this}var x=a.exec(m);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,m=m.substr(x.length)}if(n||x||m.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var T=\"//\"===m.substr(0,2);!T||x&&g[x]||(m=m.substr(2),this.slashes=!0)}if(!g[x]&&(T||x&&!y[x])){for(var E,M,S=-1,O=0;O<f.length;O++)-1!==(C=m.indexOf(f[O]))&&(-1===S||C<S)&&(S=C);for(-1!==(M=-1===S?m.lastIndexOf(\"@\"):m.lastIndexOf(\"@\",S))&&(E=m.slice(0,M),m=m.slice(M+1),this.auth=decodeURIComponent(E)),S=-1,O=0;O<h.length;O++){var C;-1!==(C=m.indexOf(h[O]))&&(-1===S||C<S)&&(S=C)}-1===S&&(S=m.length),this.host=m.slice(0,S),m=m.slice(S),this.parseHost(),this.hostname=this.hostname||\"\";var A=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!A)for(var P=this.hostname.split(/\\./),R=(O=0,P.length);O<R;O++){var I=P[O];if(I&&!I.match(d)){for(var D=\"\",k=0,N=I.length;k<N;k++)I.charCodeAt(k)>127?D+=\"x\":D+=I[k];if(!D.match(d)){var L=P.slice(0,O),j=P.slice(O+1),F=I.match(p);F&&(L.push(F[1]),j.unshift(F[2])),j.length&&(m=\"/\"+j.join(\".\")+m),this.hostname=L.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var U=this.port?\":\"+this.port:\"\",B=this.hostname||\"\";this.host=B+U,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==m[0]&&(m=\"/\"+m))}if(!v[w])for(O=0,R=c.length;O<R;O++){var H=c[O];if(-1!==m.indexOf(H)){var X=encodeURIComponent(H);X===H&&(X=escape(H)),m=m.split(H).join(X)}}var z=m.indexOf(\"#\");-1!==z&&(this.hash=m.substr(z),m=m.slice(0,z));var G=m.indexOf(\"?\");if(-1!==G?(this.search=m.substr(G),this.query=m.substr(G+1),e&&(this.query=_.parse(this.query)),m=m.slice(0,G)):e&&(this.search=\"\",this.query={}),m&&(this.pathname=m),y[w]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){U=this.pathname||\"\";var Y=this.search||\"\";this.path=U+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||\"\";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,\":\"),t+=\"@\");var e=this.protocol||\"\",n=this.pathname||\"\",r=this.hash||\"\",o=!1,a=\"\";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(o+=\":\"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=_.stringify(this.query));var s=this.search||a&&\"?\"+a||\"\";return e&&\":\"!==e.substr(-1)&&(e+=\":\"),this.slashes||(!e||y[e])&&!1!==o?(o=\"//\"+(o||\"\"),n&&\"/\"!==n.charAt(0)&&(n=\"/\"+n)):o||(o=\"\"),r&&\"#\"!==r.charAt(0)&&(r=\"#\"+r),s&&\"?\"!==s.charAt(0)&&(s=\"?\"+s),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace(\"#\",\"%23\"))+r},o.prototype.resolve=function(t){return this.resolveObject(m(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,\"\"===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];\"protocol\"!==c&&(n[c]=t[c])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname=\"/\"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var d=h[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||g[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||\"\").split(\"/\");p.length&&!(t.host=p.shift()););t.host||(t.host=\"\"),t.hostname||(t.hostname=\"\"),\"\"!==p[0]&&p.unshift(\"\"),p.length<2&&p.unshift(\"\"),n.pathname=p.join(\"/\")}if(n.search=t.search,n.query=t.query,n.host=t.host||\"\",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||\"\",_=n.search||\"\";n.path=v+_}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&\"/\"===n.pathname.charAt(0),b=t.host||t.pathname&&\"/\"===t.pathname.charAt(0),x=b||m||n.host&&t.pathname,w=x,T=n.pathname&&n.pathname.split(\"/\")||[],E=(p=t.pathname&&t.pathname.split(\"/\")||[],n.protocol&&!y[n.protocol]);if(E&&(n.hostname=\"\",n.port=null,n.host&&(\"\"===T[0]?T[0]=n.host:T.unshift(n.host)),n.host=\"\",t.protocol&&(t.hostname=null,t.port=null,t.host&&(\"\"===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(\"\"===p[0]||\"\"===T[0])),b)n.host=t.host||\"\"===t.host?t.host:n.host,n.hostname=t.hostname||\"\"===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search))return E&&(n.hostname=n.host=T.shift(),(A=!!(n.host&&n.host.indexOf(\"@\")>0)&&n.host.split(\"@\"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift())),n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:\"\")+(n.search?n.search:\"\")),n.href=n.format(),n;if(!T.length)return n.pathname=null,n.search?n.path=\"/\"+n.search:n.path=null,n.href=n.format(),n;for(var M=T.slice(-1)[0],S=(n.host||t.host||T.length>1)&&(\".\"===M||\"..\"===M)||\"\"===M,O=0,C=T.length;C>=0;C--)\".\"===(M=T[C])?T.splice(C,1):\"..\"===M?(T.splice(C,1),O++):O&&(T.splice(C,1),O--);if(!x&&!w)for(;O--;O)T.unshift(\"..\");!x||\"\"===T[0]||T[0]&&\"/\"===T[0].charAt(0)||T.unshift(\"\"),S&&\"/\"!==T.join(\"/\").substr(-1)&&T.push(\"\");var A,P=\"\"===T[0]||T[0]&&\"/\"===T[0].charAt(0);return E&&(n.hostname=n.host=P?\"\":T.length?T.shift():\"\",(A=!!(n.host&&n.host.indexOf(\"@\")>0)&&n.host.split(\"@\"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift())),(x=x||n.host&&T.length)&&!P&&T.unshift(\"\"),T.length?n.pathname=T.join(\"/\"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:\"\")+(n.search?n.search:\"\")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(\":\"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(10)),o=n(2),a=n(33),s=n(0),u=l(n(53));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),!n)throw new Error(\"No video source element specified.\");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var o=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,r));return o.width=n.videoWidth,o.height=n.videoHeight,o._autoUpdate=!0,o._isAutoUpdating=!1,o.autoPlay=i,o.update=o.update.bind(o),o._onCanPlay=o._onCanPlay.bind(o),n.addEventListener(\"play\",o._onPlayStart.bind(o)),n.addEventListener(\"pause\",o._onPlayStop.bind(o)),o.hasLoaded=!1,o.__loaded=!1,o._isSourceReady()?o._onCanPlay():(n.addEventListener(\"canplay\",o._onCanPlay),n.addEventListener(\"canplaythrough\",o._onCanPlay)),o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener(\"canplay\",this._onCanPlay),this.source.removeEventListener(\"canplaythrough\",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit(\"loaded\",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&a.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src=\"\",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,n,r){t._pixiId||(t._pixiId=\"video_\"+(0,o.uid)());var a=o.BaseTextureCache[t._pixiId];return a||(a=new e(t,n,r),i.default.addToCache(a,t._pixiId)),a},e.fromUrl=function(t,n,r,i){var o=document.createElement(\"video\");o.setAttribute(\"webkit-playsinline\",\"\"),o.setAttribute(\"playsinline\",\"\");var a=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===r&&0!==a.indexOf(\"data:\")?o.crossOrigin=(0,u.default)(a):r&&(o.crossOrigin=\"string\"==typeof r?r:\"anonymous\"),Array.isArray(t))for(var s=0;s<t.length;++s)o.appendChild(h(t[s].src||t[s],t[s].mime));else o.appendChild(h(a,t.mime));return o.load(),e.fromVideo(o,n,i)},r(e,[{key:\"autoUpdate\",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(i.default);function h(t,e){if(!e){var n=t.split(\"?\").shift().toLowerCase();e=\"video/\"+n.substr(n.lastIndexOf(\".\")+1)}var r=document.createElement(\"source\");return r.src=t,r.type=e,r}e.default=c,c.fromUrls=c.fromUrl},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=(r=n(40))&&r.__esModule?r:{default:r},o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,n){var r=e.width,o=e.height;if(n){var a=t.width/2/r,s=t.height/2/o,u=t.x/r+a,l=t.y/o+s;n=i.default.add(n,i.default.NW),this.x0=u+a*i.default.uX(n),this.y0=l+s*i.default.uY(n),n=i.default.add(n,2),this.x1=u+a*i.default.uX(n),this.y1=l+s*i.default.uY(n),n=i.default.add(n,2),this.x2=u+a*i.default.uX(n),this.y2=l+s*i.default.uY(n),n=i.default.add(n,2),this.x3=u+a*i.default.uX(n),this.y3=l+s*i.default.uY(n)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},t}();e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=n(4),a=n(0),s=h(n(3)),u=h(n(11)),l=h(n(34)),c=h(n(9));function h(t){return t&&t.__esModule?t:{default:t}}var f=new o.Matrix,d=function(t){function e(n,r,l,c){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return(0,i.sayHello)(n),\"number\"==typeof r&&(r=Object.assign({width:r,height:l||s.default.RENDER_OPTIONS.height},c)),r=Object.assign({},s.default.RENDER_OPTIONS,r),h.options=r,h.type=a.RENDERER_TYPE.UNKNOWN,h.screen=new o.Rectangle(0,0,r.width,r.height),h.view=r.view||document.createElement(\"canvas\"),h.resolution=r.resolution||s.default.RESOLUTION,h.transparent=r.transparent,h.autoResize=r.autoResize||!1,h.blendModes=null,h.preserveDrawingBuffer=r.preserveDrawingBuffer,h.clearBeforeRender=r.clearBeforeRender,h.roundPixels=r.roundPixels,h._backgroundColor=0,h._backgroundColorRgba=[0,0,0,0],h._backgroundColorString=\"#000000\",h.backgroundColor=r.backgroundColor||h._backgroundColor,h._tempDisplayObjectParent=new u.default,h._lastObjectRendered=h._tempDisplayObjectParent,h}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+\"px\",this.view.style.height=e+\"px\")},e.prototype.generateTexture=function(t,e,n,r){r=r||t.getLocalBounds();var i=l.default.create(0|r.width,0|r.height,e,n);return f.tx=-r.x,f.ty=-r.y,this.render(t,i,!1,f,!!t.parent),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},r(e,[{key:\"width\",get:function(){return this.view.width}},{key:\"height\",get:function(){return this.view.height}},{key:\"backgroundColor\",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,i.hex2string)(t),(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(c.default);e.default=d},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(10)),i=o(n(3));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],a=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,null,o));return s.resolution=a||i.default.RESOLUTION,s.width=Math.ceil(n),s.height=Math.ceil(r),s.realWidth=s.width*s.resolution,s.realHeight=s.height*s.resolution,s.scaleMode=void 0!==o?o:i.default.SCALE_MODE,s.hasLoaded=!0,s._glRenderTargets={},s._canvasRenderTarget=null,s.valid=!1,s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit(\"update\",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(r.default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n(3))&&r.__esModule?r:{default:r},a=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.canvas=document.createElement(\"canvas\"),this.context=this.canvas.getContext(\"2d\"),this.resolution=r||o.default.RESOLUTION,this.resize(e,n)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:\"width\",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:\"height\",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=a},function(t,e,n){\"use strict\";function r(t){var e=document.createElement(\"canvas\");e.width=6,e.height=1;var n=e.getContext(\"2d\");return n.fillStyle=t,n.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if(\"undefined\"==typeof document)return!1;var t=r(\"#ff00ff\"),e=r(\"#ffff00\"),n=document.createElement(\"canvas\");n.width=6,n.height=1;var i=n.getContext(\"2d\");i.globalCompositeOperation=\"multiply\",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var a=o.data;return 255===a[0]&&0===a[1]&&0===a[2]}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=a(n(62)),i=n(4),o=(n(7),a(n(64)));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=new i.Matrix,o=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 otherMatrix;\\n\\nvarying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\n}\\n\",\"varying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform sampler2D mask;\\nuniform float alpha;\\nuniform vec4 maskClamp;\\n\\nvoid main(void)\\n{\\n    float clip = step(3.5,\\n        step(maskClamp.x, vMaskCoord.x) +\\n        step(maskClamp.y, vMaskCoord.y) +\\n        step(vMaskCoord.x, maskClamp.z) +\\n        step(vMaskCoord.y, maskClamp.w));\\n\\n    vec4 original = texture2D(uSampler, vTextureCoord);\\n    vec4 masky = texture2D(mask, vMaskCoord);\\n\\n    original *= (masky.r * masky.a * alpha * clip);\\n\\n    gl_FragColor = original;\\n}\\n\"));return n.renderable=!1,o.maskSprite=n,o.maskMatrix=r,o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){var i=this.maskSprite,a=this.maskSprite.texture;a.valid&&(a.transform||(a.transform=new o.default(a,0)),a.transform.update(),this.uniforms.mask=a,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(a.transform.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=a.transform.uClampFrame,t.applyFilter(this,e,n,r))},e}(r.default);e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(126)),o=n(2),a=n(0),s=u(n(3));function u(t){return t&&t.__esModule?t:{default:t}}var l={},c=function(){function t(e,n,r){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this._blendMode=a.BLEND_MODES.NORMAL,this.uniformData=r||(0,i.default)(this.vertexSrc,this.fragmentSrc,\"projectionMatrix|uSampler\"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},l[this.vertexSrc+this.fragmentSrc]||(l[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=l[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=s.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,n,r,i){t.applyFilter(this,e,n,r)},r(t,[{key:\"blendMode\",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:\"defaultVertexSrc\",get:function(){return[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"uniform mat3 projectionMatrix;\",\"uniform mat3 filterMatrix;\",\"varying vec2 vTextureCoord;\",\"varying vec2 vFilterCoord;\",\"void main(void){\",\"   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\",\"   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\",\"   vTextureCoord = aTextureCoord ;\",\"}\"].join(\"\\n\")}},{key:\"defaultFragmentSrc\",get:function(){return[\"varying vec2 vTextureCoord;\",\"varying vec2 vFilterCoord;\",\"uniform sampler2D uSampler;\",\"uniform sampler2D filterSampler;\",\"void main(void){\",\"   vec4 masky = texture2D(filterSampler, vFilterCoord);\",\"   vec4 sample = texture2D(uSampler, vTextureCoord);\",\"   vec4 color;\",\"   if(mod(vFilterCoord.x, 1.0) > 0.5)\",\"   {\",\"     color = vec4(1.0, 0.0, 0.0, 1.0);\",\"   }\",\"   else\",\"   {\",\"     color = vec4(0.0, 1.0, 0.0, 1.0);\",\"   }\",\"   gl_FragColor = mix(sample, masky, 0.5);\",\"   gl_FragColor *= sample.a;\",\"}\"].join(\"\\n\")}}]),t}();e.default=c},function(t,e){var n,r,i=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(t){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n(24))&&r.__esModule?r:{default:r},a=new o.default,s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._texture=e,this.mapCoord=new o.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===n?.5:n}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,r=0;r<t.length;r+=2){var i=t[r],o=t[r+1];e[r]=i*n.a+o*n.c+n.tx,e[r+1]=i*n.b+o*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=e.orig,i=e.trim;i&&(a.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(e._frame.x+u+l)/o.width,s[1]=(e._frame.y+u+l)/o.height,s[2]=(e._frame.x+e._frame.width-u+l)/o.width,s[3]=(e._frame.y+e._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0},i(t,[{key:\"texture\",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(5)),i=o(n(35));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=r.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(e,n)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(2),a={align:\"left\",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:\"black\",dropShadowDistance:5,fill:\"black\",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:\"Arial\",fontSize:26,fontStyle:\"normal\",fontVariant:\"normal\",fontWeight:\"normal\",letterSpacing:0,lineHeight:0,lineJoin:\"miter\",miterLimit:10,padding:0,stroke:\"black\",strokeThickness:0,textBaseline:\"alphabetic\",trim:!1,whiteSpace:\"pre\",wordWrap:!1,wordWrapWidth:100,leading:0},s=[\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\"],u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.styleID=0,this.reset(),h(this,e,e)}return t.prototype.clone=function(){var e={};return h(e,this,a),new t(e)},t.prototype.reset=function(){h(this,a,a)},t.prototype.toFontString=function(){var t=\"number\"==typeof this.fontSize?this.fontSize+\"px\":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(\",\"));for(var n=e.length-1;n>=0;n--){var r=e[n].trim();!/([\\\"\\'])[^\\'\\\"]+\\1/.test(r)&&s.indexOf(r)<0&&(r='\"'+r+'\"'),e[n]=r}return this.fontStyle+\" \"+this.fontVariant+\" \"+this.fontWeight+\" \"+t+\" \"+e.join(\",\")},r(t,[{key:\"align\",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:\"breakWords\",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:\"dropShadow\",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:\"dropShadowAlpha\",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:\"dropShadowAngle\",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:\"dropShadowBlur\",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:\"dropShadowColor\",get:function(){return this._dropShadowColor},set:function(t){var e=c(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:\"dropShadowDistance\",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:\"fill\",get:function(){return this._fill},set:function(t){var e=c(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:\"fillGradientType\",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:\"fillGradientStops\",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:\"fontFamily\",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:\"fontSize\",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:\"fontStyle\",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:\"fontVariant\",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:\"fontWeight\",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:\"letterSpacing\",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:\"lineHeight\",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:\"leading\",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:\"lineJoin\",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:\"miterLimit\",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:\"padding\",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:\"stroke\",get:function(){return this._stroke},set:function(t){var e=c(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:\"strokeThickness\",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:\"textBaseline\",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:\"trim\",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:\"whiteSpace\",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:\"wordWrap\",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:\"wordWrapWidth\",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function l(t){return\"number\"==typeof t?(0,o.hex2string)(t):(\"string\"==typeof t&&0===t.indexOf(\"0x\")&&(t=t.replace(\"0x\",\"#\")),t)}function c(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=l(t[e]);return t}return l(t)}function h(t,e,n){for(var r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e,n,r,i,o,a,s,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.text=e,this.style=n,this.width=r,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=l}return t.measureText=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;r=null==r?n.wordWrap:r;var o=n.toFontString(),a=t.measureFont(o),s=i.getContext(\"2d\");s.font=o;for(var u=(r?t.wordWrap(e,n,i):e).split(/(?:\\r\\n|\\r|\\n)/),l=new Array(u.length),c=0,h=0;h<u.length;h++){var f=s.measureText(u[h]).width+(u[h].length-1)*n.letterSpacing;l[h]=f,c=Math.max(c,f)}var d=c+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||a.fontSize+n.strokeThickness,v=Math.max(p,a.fontSize+n.strokeThickness)+(u.length-1)*(p+n.leading);return n.dropShadow&&(v+=n.dropShadowDistance),new t(e,n,d,v,u,l,p+n.leading,c,a)},t.wordWrap=function(e,n){for(var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext(\"2d\"),i=0,o=\"\",a=\"\",s={},u=n.letterSpacing,l=n.whiteSpace,c=t.collapseSpaces(l),h=t.collapseNewlines(l),f=!c,d=n.wordWrapWidth+u,p=t.tokenize(e),v=0;v<p.length;v++){var g=p[v];if(t.isNewline(g)){if(!h){a+=t.addLine(o),f=!c,o=\"\",i=0;continue}g=\" \"}if(c){var y=t.isBreakingSpace(g),_=t.isBreakingSpace(o[o.length-1]);if(y&&_)continue}var m=t.getFromCache(g,u,s,r);if(m>d)if(\"\"!==o&&(a+=t.addLine(o),o=\"\",i=0),t.canBreakWords(g,n.breakWords))for(var b=g.split(\"\"),x=0;x<b.length;x++){for(var w=b[x],T=1;b[x+T];){var E=b[x+T],M=w[w.length-1];if(t.canBreakChars(M,E,g,x,n.breakWords))break;w+=E,T++}x+=w.length-1;var S=t.getFromCache(w,u,s,r);S+i>d&&(a+=t.addLine(o),f=!1,o=\"\",i=0),o+=w,i+=S}else{o.length>0&&(a+=t.addLine(o),o=\"\",i=0);var O=v===p.length-1;a+=t.addLine(g,!O),f=!1,o=\"\",i=0}else m+i>d&&(f=!1,a+=t.addLine(o),o=\"\",i=0),(o.length>0||!t.isBreakingSpace(g)||f)&&(o+=g,i+=m)}return a+t.addLine(o,!1)},t.addLine=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),n?e+\"\\n\":e},t.getFromCache=function(t,e,n,r){var i=n[t];if(void 0===i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t.collapseSpaces=function(t){return\"normal\"===t||\"pre-line\"===t},t.collapseNewlines=function(t){return\"normal\"===t},t.trimRight=function(e){if(\"string\"!=typeof e)return\"\";for(var n=e.length-1;n>=0;n--){var r=e[n];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return\"string\"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return\"string\"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],r=\"\";if(\"string\"!=typeof e)return n;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(\"\"!==r&&(n.push(r),r=\"\"),n.push(o)):r+=o}return\"\"!==r&&n.push(r),n},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,r,i){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={},r=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*s;s=s*t.BASELINE_MULTIPLIER|0,r.width=a,r.height=u,i.fillStyle=\"#f00\",i.fillRect(0,0,a,u),i.font=e,i.textBaseline=\"alphabetic\",i.fillStyle=\"#000\",i.fillText(o,0,s);var l=i.getImageData(0,0,a,u).data,c=l.length,h=4*a,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var v=0;v<h;v+=4)if(255!==l[d+v]){p=!0;break}if(p)break;d+=h}for(n.ascent=s-f,d=c-h,p=!1,f=u;f>s;--f){for(var g=0;g<h;g+=4)if(255!==l[d+g]){p=!0;break}if(p)break;d-=h}return n.descent=f-s,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";e?delete t._fonts[e]:t._fonts={}},t}();e.default=r;var i=document.createElement(\"canvas\");i.width=i.height=10,r._canvas=i,r._context=i.getContext(\"2d\"),r._fonts={},r.METRICS_STRING=\"|Éq\",r.BASELINE_SYMBOL=\"M\",r.BASELINE_MULTIPLIER=1.4,r._newlines=[10,13],r._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e,n,r,i,o,a,s,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.lineWidth=e,this.lineAlignment=l,this.nativeLines=s,this.lineColor=n,this.lineAlpha=r,this._lineTint=n,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=a,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(70),o=l(n(11)),a=n(33),s=l(n(3)),u=n(0);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,n,r,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),\"number\"==typeof e&&(e=Object.assign({width:e,height:n||s.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!l},r)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?a.shared:new a.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},r(t,[{key:\"ticker\",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:\"view\",get:function(){return this.renderer.view}},{key:\"screen\",get:function(){return this.renderer.screen}}]),t}();e.default=c},function(t,e,n){\"use strict\";e.__esModule=!0,e.autoDetectRenderer=function(t,e,n,a){var s=t&&t.forceCanvas;return void 0!==a&&(s=a),!s&&r.isWebGLSupported()?new o.default(t,e,n):new i.default(t,e,n)};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(2)),i=a(n(12)),o=a(n(19));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,n){\"use strict\";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var r=n(158);Object.defineProperty(e,\"AnimatedSprite\",{enumerable:!0,get:function(){return s(r).default}});var i=n(159);Object.defineProperty(e,\"TilingSprite\",{enumerable:!0,get:function(){return s(i).default}});var o=n(160);Object.defineProperty(e,\"TilingSpriteRenderer\",{enumerable:!0,get:function(){return s(o).default}});var a=n(161);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"BitmapText\",{enumerable:!0,get:function(){return s(a).default}}),n(162),n(163),n(164)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=u(n(74)),a=u(n(75)),s=u(n(76));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),u=u||5;var l=(0,o.default)(u,!0),c=(0,a.default)(u),h=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,l,c));return h.resolution=s||i.settings.RESOLUTION,h._quality=0,h.quality=r||4,h.strength=n||8,h.firstRun=!0,h}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,u=(0,s.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,a.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var l=t.getRenderTarget(!0),c=e,h=l,f=0;f<this.passes-1;f++){t.applyFilter(this,c,h,!0);var d=h;h=c,c=d}t.applyFilter(this,c,n,r),t.returnRenderTarget(l)}},r(e,[{key:\"blur\",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:\"quality\",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n=Math.ceil(t/2),i=r,o=\"\",a=void 0;a=e?\"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);\":\"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);\";for(var s=0;s<t;s++){var u=a.replace(\"%index%\",s);o+=u=u.replace(\"%sampleIndex%\",s-(n-1)+\".0\"),o+=\"\\n\"}return(i=i.replace(\"%blur%\",o)).replace(\"%size%\",t)};var r=[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"uniform float strength;\",\"uniform mat3 projectionMatrix;\",\"varying vec2 vBlurTexCoords[%size%];\",\"void main(void)\",\"{\",\"gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\",\"%blur%\",\"}\"].join(\"\\n\")},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){for(var e=r[t],n=e.length,o=i,a=\"\",s=void 0,u=0;u<t;u++){var l=\"gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;\".replace(\"%index%\",u);s=u,u>=n&&(s=t-u-1),a+=l=l.replace(\"%value%\",e[s]),a+=\"\\n\"}return(o=o.replace(\"%blur%\",a)).replace(\"%size%\",t)};var r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=[\"varying vec2 vBlurTexCoords[%size%];\",\"uniform sampler2D uSampler;\",\"void main(void)\",\"{\",\"    gl_FragColor = vec4(0.0);\",\"    %blur%\",\"}\"].join(\"\\n\")},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),n=15;n>e;)n-=2;return n}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=u(n(74)),a=u(n(75)),s=u(n(76));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),u=u||5;var l=(0,o.default)(u,!1),c=(0,a.default)(u),h=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,l,c));return h.resolution=s||i.settings.RESOLUTION,h._quality=0,h.quality=r||4,h.strength=n||8,h.firstRun=!0,h}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,u=(0,s.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,a.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var l=t.getRenderTarget(!0),c=e,h=l,f=0;f<this.passes-1;f++){t.applyFilter(this,c,h,!0);var d=h;h=c,c=d}t.applyFilter(this,c,n,r),t.returnRenderTarget(l)}},r(e,[{key:\"blur\",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:\"quality\",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},r(t,[{key:\"pointerId\",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},r(t,[{key:\"pointerId\",get:function(){return this._pointerId}},{key:\"flags\",get:function(){return this._flags},set:function(t){this._flags=t}},{key:\"none\",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:\"over\",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:\"rightDown\",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:\"leftDown\",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,n){\"use strict\";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return\"pointer\"===this.cursor},set buttonMode(t){t?this.cursor=\"pointer\":\"pointer\"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,n){\"use strict\";e.__esModule=!0,e.parse=a,e.default=function(){return function(t,e){if(t.data&&t.type===i.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName(\"page\").length&&0!==t.data.getElementsByTagName(\"info\").length&&null!==t.data.getElementsByTagName(\"info\")[0].getAttribute(\"face\")){var n=t.isDataUrl?\"\":r.dirname(t.url);t.isDataUrl&&(\".\"===n&&(n=\"\"),this.baseUrl&&n&&\"/\"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+=\"/\")),(n=n.replace(this.baseUrl,\"\"))&&\"/\"!==n.charAt(n.length-1)&&(n+=\"/\");for(var o=t.data.getElementsByTagName(\"page\"),s={},u=function(n){s[n.metadata.pageFile]=n.texture,Object.keys(s).length===o.length&&(a(t,s),e())},l=0;l<o.length;++l){var c=o[l].getAttribute(\"file\"),h=n+c,f=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===h){p.metadata.pageFile=c,p.texture?u(p):p.onAfterMiddleware.add(u),f=!0;break}}if(!f){var v={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(h,v,u)}}}else e();else e()}};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),i=n(15),o=n(72);function a(t,e){t.bitmapFont=o.BitmapText.registerFont(t.data,e)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var o=function(){function t(e,n,r){void 0===n&&(n=!1),i(this,t),this._fn=e,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return r(t,[{key:\"detach\",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function a(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:\"handlers\",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n}},{key:\"has\",value:function(t){if(!(t instanceof o))throw new Error(\"MiniSignal#has(): First arg must be a MiniSignalBinding object.\");return t._owner===this}},{key:\"dispatch\",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:\"add\",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(\"function\"!=typeof t)throw new Error(\"MiniSignal#add(): First arg must be a Function.\");return a(this,new o(t,!1,e))}},{key:\"once\",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(\"function\"!=typeof t)throw new Error(\"MiniSignal#once(): First arg must be a Function.\");return a(this,new o(t,!0,e))}},{key:\"detach\",value:function(t){if(!(t instanceof o))throw new Error(\"MiniSignal#detach(): First arg must be a MiniSignalBinding object.\");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:\"detachAll\",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=o,e.default=s,t.exports=e.default},function(t,e,n){\"use strict\";t.exports=function(t,e){e=e||{};for(var n={key:[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],q:{name:\"queryKey\",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?\"strict\":\"loose\"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||\"\";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(t,e,r){e&&(i[n.q.name][e]=r)}),i}},function(t,e,n){\"use strict\";function r(){}function i(t){return function(){if(null===t)throw new Error(\"Callback was already called.\");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,n,r){var i=0,o=t.length;!function a(s){s||i===o?n&&n(s):r?setTimeout(function(){e(t[i++],a)},1):e(t[i++],a)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error(\"Concurrency must not be zero\");var n=0,o={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(t,e){a(t,!1,e)},kill:function(){n=0,o.drain=r,o.started=!1,o._tasks=[]},unshift:function(t,e){a(t,!0,e)},process:function(){for(;!o.paused&&n<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(n+=1)===o.concurrency&&o.saturated(),t(e.data,i(s(e)))}},length:function(){return o._tasks.length},running:function(){return n},idle:function(){return o._tasks.length+n===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function a(t,e,n){if(null!=n&&\"function\"!=typeof n)throw new Error(\"task callback must be a function\");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var i={data:t,callback:\"function\"==typeof n?n:r};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout(function(){return o.process()},1)}}function s(t){return function(){n-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),n<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,n){\"use strict\";e.__esModule=!0,e.encodeBinary=i;var r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";function i(t){for(var e=\"\",n=0;n<t.length;){for(var i=[0,0,0],o=[0,0,0,0],a=0;a<i.length;++a)n<t.length?i[a]=255&t.charCodeAt(n++):i[a]=0;switch(o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2],n-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var s=0;s<o.length;++s)e+=r.charAt(o[s])}return e}t.exports.default=i},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){return function(t,e){var n=t.name+\"_image\";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[n]){var r={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=s(t,this.baseUrl);this.add(n,o,r,function(n){if(n.error)e(n.error);else{var r=new a.Spritesheet(n.texture.baseTexture,t.data,t.url);r.parse(function(){t.spritesheet=r,t.textures=r.textures,e()})}})}else e()}},e.getResourcePath=s;var r,i=n(15),o=(r=n(54))&&r.__esModule?r:{default:r},a=n(1);function s(t,e){return t.isDataUrl?t.data.meta.image:o.default.resolve(t.url.replace(e,\"\"),t.data.meta.image)}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=o.default.fromLoader(t.data,t.url,t.name)),e()}};var r,i=n(15),o=(r=n(8))&&r.__esModule?r:{default:r}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=(r=n(16))&&r.__esModule?r:{default:r},o=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return a._ready=!0,a.verticesX=r||10,a.verticesY=o||10,a.drawMode=i.default.DRAW_MODES.TRIANGLES,a.refresh(),a}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,n=[],r=[],i=[],o=this.verticesX-1,a=this.verticesY-1,s=t.width/o,u=t.height/a,l=0;l<e;l++){var c=l%this.verticesX,h=l/this.verticesX|0;n.push(c*s,h*u),r.push(c/o,h/a)}for(var f=o*a,d=0;d<f;d++){var p=d%o,v=d/o|0,g=v*this.verticesX+p,y=v*this.verticesX+p+1,_=(v+1)*this.verticesX+p,m=(v+1)*this.verticesX+p+1;i.push(g,y,_),i.push(y,m,_)}this.vertices=new Float32Array(n),this.uvs=new Float32Array(r),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){i.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(i.default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=r},function(t,e,n){\"use strict\";n(92),n(94),n(95),n(96),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,n){\"use strict\";var r,i=(r=n(93))&&r.__esModule?r:{default:r};Object.assign||(Object.assign=i.default)},function(t,e,n){\"use strict\";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String(\"abc\");if(t[5]=\"de\",\"5\"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e[\"_\"+String.fromCharCode(n)]=n;if(\"0123456789\"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(\"\"))return!1;var r={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(t){r[t]=t}),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},r)).join(\"\")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null==t)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(t,e,n){\"use strict\";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var n=Date.now(),r=[\"ms\",\"moz\",\"webkit\",\"o\"],i=0;i<r.length&&!t.requestAnimationFrame;++i){var o=r[i];t.requestAnimationFrame=t[o+\"RequestAnimationFrame\"],t.cancelAnimationFrame=t[o+\"CancelAnimationFrame\"]||t[o+\"CancelRequestAnimationFrame\"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if(\"function\"!=typeof t)throw new TypeError(t+\"is not a function\");var e=Date.now(),r=16+n-e;return r<0&&(r=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,n(22))},function(t,e,n){\"use strict\";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,n){\"use strict\";Number.isInteger||(Number.isInteger=function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=(r=n(25))&&r.__esModule?r:{default:r},o=n(0),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n,this.radius=r,this.type=o.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-t,i=this.y-e;return(r*=r)+(i*=i)<=n},t.prototype.getBounds=function(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=(r=n(25))&&r.__esModule?r:{default:r},o=n(0),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n,this.width=r,this.height=i,this.type=o.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return(n*=n)+(r*=r)<=1},t.prototype.getBounds=function(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=(r=n(23))&&r.__esModule?r:{default:r},o=n(0),a=function(){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),Array.isArray(n[0])&&(n=n[0]),n[0]instanceof i.default){for(var a=[],s=0,u=n.length;s<u;s++)a.push(n[s].x,n[s].y);n=a}this.closed=!0,this.points=n,this.type=o.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];s>e!=l>e&&t<(e-s)/(l-s)*(u-a)+a&&(n=!n)}return n},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(0),i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n,this.width=i,this.height=o,this.radius=a,this.type=r.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),r=e-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=t-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=e-(this.y+this.height-this.radius))*r<=i)return!0;if((n=t-(this.x+this.radius))*n+r*r<=i)return!0}return!1},t}();e.default=i},function(t,e){t.exports=function(t,e){var n=t.getContext(\"webgl\",e)||t.getContext(\"experimental-webgl\",e);if(!n)throw new Error(\"This browser does not support webGL. Try using the canvas renderer\");return n}},function(t,e){var n=new ArrayBuffer(0),r=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r),this._updateID=0};r.prototype.upload=function(t,e,n){n||this.bind();var r=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?r.bufferSubData(this.type,e,t):r.bufferData(this.type,t,this.drawType),this.data=t},r.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(t,e,n){return new r(t,t.ARRAY_BUFFER,e,n)},r.createIndexBuffer=function(t,e,n){return new r(t,t.ELEMENT_ARRAY_BUFFER,e,n)},r.create=function(t,e,n,i){return new r(t,e,n,i)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=r},function(t,e,n){var r=n(42),i=function(t,e,n){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=n||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new r(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,n,r){this.bind();var i=this.gl;i.clearColor(t,e,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var n=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,n,o){var a=r.fromData(t,null,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},i.createFloat32=function(t,e,n,o){var a=new r.fromData(t,o,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},t.exports=i},function(t,e,n){var r=n(43),i=n(44),o=n(46),a=n(48),s=n(49),u=function(t,e,n,u,l){this.gl=t,u&&(e=a(e,u),n=a(n,u)),this.program=r(t,e,n,l),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=s(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,n){var r=n(41);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension(\"OES_vertex_array_object\")||t.getExtension(\"MOZ_OES_vertex_array_object\")||t.getExtension(\"WEBKIT_OES_vertex_array_object\")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,n=0;n<this.attributes.length;n++){var i=this.attributes[n];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return r(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,n,r,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,n){var r=this.gl;return this.indexBuffer?r.drawElements(t,e||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(n||0)):r.drawArrays(t,n,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,n){t.exports={compileProgram:n(43),defaultValue:n(47),extractAttributes:n(44),extractUniforms:n(46),generateUniformAccessObject:n(49),setPrecision:n(48),mapSize:n(45),mapType:n(26)}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){return i.default.tablet||i.default.phone?4:t};var r,i=(r=n(28))&&r.__esModule?r:{default:r}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,n){\"use strict\";function r(t,e){if(t&&e)for(var n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=r,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)r(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,n){\"use strict\";t.exports=function(t,e,n){var r,i=t.length;if(!(e>=i||0===n)){var o=i-(n=e+n>i?i-e:n);for(r=e;r<o;++r)t[r]=t[r+n];t.length=o}}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[r.BLEND_MODES.NORMAL_NPM]=r.BLEND_MODES.NORMAL,t[r.BLEND_MODES.ADD_NPM]=r.BLEND_MODES.ADD,t[r.BLEND_MODES.SCREEN_NPM]=r.BLEND_MODES.SCREEN,e[r.BLEND_MODES.NORMAL]=r.BLEND_MODES.NORMAL_NPM,e[r.BLEND_MODES.ADD]=r.BLEND_MODES.ADD_NPM,e[r.BLEND_MODES.SCREEN]=r.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var r=n(0)},function(t,e,n){(function(t,r){var i;!function(o){e&&e.nodeType,t&&t.nodeType;var a=\"object\"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,c=1,h=26,f=38,d=700,p=72,v=128,g=\"-\",y=/^xn--/,_=/[^\\x20-\\x7E]/,m=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,b={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},x=l-c,w=Math.floor,T=String.fromCharCode;function E(t){throw new RangeError(b[t])}function M(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function S(t,e){var n=t.split(\"@\"),r=\"\";return n.length>1&&(r=n[0]+\"@\",t=n[1]),r+M((t=t.replace(m,\".\")).split(\".\"),e).join(\".\")}function O(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function C(t){return M(t,function(t){var e=\"\";return t>65535&&(e+=T((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+T(t)}).join(\"\")}function A(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,n){var r=0;for(t=n?w(t/d):t>>1,t+=w(t/e);t>x*h>>1;r+=l)t=w(t/x);return w(r+(x+1)*t/(t+f))}function R(t){var e,n,r,i,o,a,s,f,d,y,_,m=[],b=t.length,x=0,T=v,M=p;for((n=t.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&E(\"not-basic\"),m.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=x,a=1,s=l;i>=b&&E(\"invalid-input\"),((f=(_=t.charCodeAt(i++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:l)>=l||f>w((u-x)/a))&&E(\"overflow\"),x+=f*a,!(f<(d=s<=M?c:s>=M+h?h:s-M));s+=l)a>w(u/(y=l-d))&&E(\"overflow\"),a*=y;M=P(x-o,e=m.length+1,0==o),w(x/e)>u-T&&E(\"overflow\"),T+=w(x/e),x%=e,m.splice(x++,0,T)}return C(m)}function I(t){var e,n,r,i,o,a,s,f,d,y,_,m,b,x,M,S=[];for(m=(t=O(t)).length,e=v,n=0,o=p,a=0;a<m;++a)(_=t[a])<128&&S.push(T(_));for(r=i=S.length,i&&S.push(g);r<m;){for(s=u,a=0;a<m;++a)(_=t[a])>=e&&_<s&&(s=_);for(s-e>w((u-n)/(b=r+1))&&E(\"overflow\"),n+=(s-e)*b,e=s,a=0;a<m;++a)if((_=t[a])<e&&++n>u&&E(\"overflow\"),_==e){for(f=n,d=l;!(f<(y=d<=o?c:d>=o+h?h:d-o));d+=l)M=f-y,x=l-y,S.push(T(A(y+M%x,0))),f=w(M/x);S.push(T(A(f,0))),o=P(n,b,r==i),n=0,++r}++n,++e}return S.join(\"\")}s={version:\"1.4.1\",ucs2:{decode:O,encode:C},decode:R,encode:I,toASCII:function(t){return S(t,function(t){return _.test(t)?\"xn--\"+I(t):t})},toUnicode:function(t){return S(t,function(t){return y.test(t)?R(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(114)(t),n(22))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){\"use strict\";t.exports={isString:function(t){return\"string\"==typeof t},isObject:function(t){return\"object\"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){\"use strict\";e.decode=e.parse=n(117),e.encode=e.stringify=n(118)},function(t,e,n){\"use strict\";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||\"&\",n=n||\"=\";var a={};if(\"string\"!=typeof t||0===t.length)return a;var s=/\\+/g;t=t.split(e);var u=1e3;o&&\"number\"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,f,d,p,v=t[c].replace(s,\"%20\"),g=v.indexOf(n);g>=0?(h=v.substr(0,g),f=v.substr(g+1)):(h=v,f=\"\"),d=decodeURIComponent(h),p=decodeURIComponent(f),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}},function(t,e,n){\"use strict\";var r=function(t){switch(typeof t){case\"string\":return t;case\"boolean\":return t?\"true\":\"false\";case\"number\":return isFinite(t)?t:\"\";default:return\"\"}};t.exports=function(t,e,n,s){return e=e||\"&\",n=n||\"=\",null===t&&(t=void 0),\"object\"==typeof t?o(a(t),function(a){var s=encodeURIComponent(r(a))+n;return i(t[a])?o(t[a],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[a]))}).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):\"\"};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(3)),o=n(0),a=s(n(120));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,n))},t.prototype.addOnce=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},r(t,[{key:\"FPS\",get:function(){return 1e3/this.elapsedMS}},{key:\"minFPS\",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.fn=e,this.context=n,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=s(n(12)),i=n(0),o=n(4),a=s(n(17));function s(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,n=this.renderer,r=e._frame.width,s=e._frame.height,l=t.transform.worldTransform,c=0,h=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(n.setBlendMode(t.blendMode),e.valid)){n.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==f&&(n.context[n.smoothProperty]=f),e.trim?(c=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,h=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(c=(.5-t.anchor.x)*e.orig.width,h=(.5-t.anchor.y)*e.orig.height),e.rotate&&(l.copy(u),l=u,o.GroupD8.matrixAppendRotationInv(l,e.rotate,c,h),c=0,h=0),c-=r/2,h-=s/2,n.roundPixels?(n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution|0,l.ty*n.resolution|0),c|=0,h|=0):n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution,l.ty*n.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=a.default.getTintedTexture(t,t.tint)),n.context.drawImage(t.tintedTexture,0,0,r*d,s*d,c*n.resolution,h*n.resolution,r*n.resolution,s*n.resolution)):n.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,r*d,s*d,c*n.resolution,h*n.resolution,r*n.resolution,s*n.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=l,r.default.registerPlugin(\"sprite\",l)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(0),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var n=t.alpha,r=t.transform.worldTransform,i=e.resolution;e.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=n},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,n=t.graphicsData.length;if(0!==n){e.beginPath();for(var i=0;i<n;i++){var o=t.graphicsData[i],a=o.shape;if(o.type===r.SHAPES.POLY){var s=a.points,u=o.holes,l=void 0,c=void 0;e.moveTo(s[0],s[1]);for(var h=2;h<s.length;h+=2)e.lineTo(s[h],s[h+1]);if(s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath(),u.length>0){l=0;for(var f=0;f<s.length;f+=2)l+=s[f]*s[f+3]-s[f+1]*s[f+2];for(var d=0;d<u.length;d++){s=u[d].points,c=0;for(var p=0;p<s.length;p+=2)c+=s[p]*s[p+3]-s[p+1]*s[p+2];if(e.moveTo(s[0],s[1]),c*l<0)for(var v=2;v<s.length;v+=2)e.lineTo(s[v],s[v+1]);else for(var g=s.length-2;g>=2;g-=2)e.lineTo(s[g],s[g+1])}}}else if(o.type===r.SHAPES.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(o.type===r.SHAPES.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(o.type===r.SHAPES.ELIP){var y=2*a.width,_=2*a.height,m=a.x-y/2,b=a.y-_/2,x=y/2*.5522848,w=_/2*.5522848,T=m+y,E=b+_,M=m+y/2,S=b+_/2;e.moveTo(m,S),e.bezierCurveTo(m,S-w,M-x,b,M,b),e.bezierCurveTo(M+x,b,T,S-w,T,S),e.bezierCurveTo(T,S+w,M+x,E,M,E),e.bezierCurveTo(M-x,E,m,S+w,m,S),e.closePath()}else if(o.type===r.SHAPES.RREC){var O=a.x,C=a.y,A=a.width,P=a.height,R=a.radius,I=Math.min(A,P)/2|0;R=R>I?I:R,e.moveTo(O,C+R),e.lineTo(O,C+P-R),e.quadraticCurveTo(O,C+P,O+R,C+P),e.lineTo(O+A-R,C+P),e.quadraticCurveTo(O+A,C+P,O+A,C+P-R),e.lineTo(O+A,C+R),e.quadraticCurveTo(O+A,C,O+A-R,C),e.lineTo(O+R,C),e.quadraticCurveTo(O,C,O,C+R),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,o.default)()?(t[i.BLEND_MODES.NORMAL]=\"source-over\",t[i.BLEND_MODES.ADD]=\"lighter\",t[i.BLEND_MODES.MULTIPLY]=\"multiply\",t[i.BLEND_MODES.SCREEN]=\"screen\",t[i.BLEND_MODES.OVERLAY]=\"overlay\",t[i.BLEND_MODES.DARKEN]=\"darken\",t[i.BLEND_MODES.LIGHTEN]=\"lighten\",t[i.BLEND_MODES.COLOR_DODGE]=\"color-dodge\",t[i.BLEND_MODES.COLOR_BURN]=\"color-burn\",t[i.BLEND_MODES.HARD_LIGHT]=\"hard-light\",t[i.BLEND_MODES.SOFT_LIGHT]=\"soft-light\",t[i.BLEND_MODES.DIFFERENCE]=\"difference\",t[i.BLEND_MODES.EXCLUSION]=\"exclusion\",t[i.BLEND_MODES.HUE]=\"hue\",t[i.BLEND_MODES.SATURATION]=\"saturate\",t[i.BLEND_MODES.COLOR]=\"color\",t[i.BLEND_MODES.LUMINOSITY]=\"luminosity\"):(t[i.BLEND_MODES.NORMAL]=\"source-over\",t[i.BLEND_MODES.ADD]=\"lighter\",t[i.BLEND_MODES.MULTIPLY]=\"source-over\",t[i.BLEND_MODES.SCREEN]=\"source-over\",t[i.BLEND_MODES.OVERLAY]=\"source-over\",t[i.BLEND_MODES.DARKEN]=\"source-over\",t[i.BLEND_MODES.LIGHTEN]=\"source-over\",t[i.BLEND_MODES.COLOR_DODGE]=\"source-over\",t[i.BLEND_MODES.COLOR_BURN]=\"source-over\",t[i.BLEND_MODES.HARD_LIGHT]=\"source-over\",t[i.BLEND_MODES.SOFT_LIGHT]=\"source-over\",t[i.BLEND_MODES.DIFFERENCE]=\"source-over\",t[i.BLEND_MODES.EXCLUSION]=\"source-over\",t[i.BLEND_MODES.HUE]=\"source-over\",t[i.BLEND_MODES.SATURATION]=\"source-over\",t[i.BLEND_MODES.COLOR]=\"source-over\",t[i.BLEND_MODES.LUMINOSITY]=\"source-over\"),t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var r,i=n(0),o=(r=n(60))&&r.__esModule?r:{default:r}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=d(n(18)),i=d(n(19)),o=d(n(35)),a=d(n(136)),s=d(n(137)),u=d(n(138)),l=d(n(3)),c=n(2),h=d(n(5)),f=d(n(32));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=0,g=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));r.vertSize=5,r.vertByteSize=4*r.vertSize,r.size=l.default.SPRITE_BATCH_SIZE,r.buffers=[];for(var i=1;i<=f.default.nextPow2(r.size);i*=2)r.buffers.push(new u.default(4*i*r.vertByteSize));r.indices=(0,o.default)(r.size),r.shader=null,r.currentIndex=0,r.groups=[];for(var a=0;a<r.size;a++)r.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return r.sprites=[],r.vertexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.on(\"prerender\",r.onPrerender,r),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,s.default)(this.MAX_TEXTURES,t)),this.shader=(0,a.default)(t,this.MAX_TEXTURES),this.indexBuffer=h.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,n=0;n<this.vaoMax;n++){var r=this.vertexBuffers[n]=h.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(r,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(r,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,n=f.default.nextPow2(this.currentIndex),r=f.default.log2(n),i=this.buffers[r],o=this.sprites,a=this.groups,s=i.float32View,u=i.uint32View,d=this.boundTextures,g=this.renderer.boundTextures,y=this.renderer.textureGC.count,_=0,m=void 0,b=void 0,x=1,w=0,T=a[0],E=void 0,M=void 0,S=c.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];T.textureCount=0,T.start=0,T.blend=S,p++;var O=void 0;for(O=0;O<e;++O){var C=g[O];C._enabled!==p?(d[O]=C,C._virtalBoundId=O,C._enabled=p):d[O]=this.renderer.emptyTextures[O]}for(p++,O=0;O<this.currentIndex;++O){var A=o[O];o[O]=null,m=A._texture.baseTexture;var P=c.premultiplyBlendMode[Number(m.premultipliedAlpha)][A.blendMode];if(S!==P&&(S=P,b=null,w=e,p++),b!==m&&(b=m,m._enabled!==p)){if(w===e&&(p++,T.size=O-T.start,w=0,(T=a[x++]).blend=S,T.textureCount=0,T.start=O),m.touched=y,-1===m._virtalBoundId)for(var R=0;R<e;++R){var I=(R+v)%e,D=d[I];if(D._enabled!==p){v++,D._virtalBoundId=-1,m._virtalBoundId=I,d[I]=m;break}}m._enabled=p,T.textureCount++,T.ids[w]=m._virtalBoundId,T.textures[w++]=m}if(E=A.vertexData,M=A._texture._uvs.uvsUint32,this.renderer.roundPixels){var k=this.renderer.resolution;s[_]=(E[0]*k|0)/k,s[_+1]=(E[1]*k|0)/k,s[_+5]=(E[2]*k|0)/k,s[_+6]=(E[3]*k|0)/k,s[_+10]=(E[4]*k|0)/k,s[_+11]=(E[5]*k|0)/k,s[_+15]=(E[6]*k|0)/k,s[_+16]=(E[7]*k|0)/k}else s[_]=E[0],s[_+1]=E[1],s[_+5]=E[2],s[_+6]=E[3],s[_+10]=E[4],s[_+11]=E[5],s[_+15]=E[6],s[_+16]=E[7];u[_+2]=M[0],u[_+7]=M[1],u[_+12]=M[2],u[_+17]=M[3];var N=Math.min(A.worldAlpha,1),L=N<1&&m.premultipliedAlpha?(0,c.premultiplyTint)(A._tintRGB,N):A._tintRGB+(255*N<<24);u[_+3]=u[_+8]=u[_+13]=u[_+18]=L,s[_+4]=s[_+9]=s[_+14]=s[_+19]=m._virtalBoundId,_+=20}if(T.size=O-T.start,l.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var j=this.shader.attributes,F=this.vertexBuffers[this.vertexCount]=h.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),U=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F,j.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(F,j.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(F,j.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);j.aTextureId&&U.addAttribute(F,j.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=U}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(O=0;O<e;++O)g[O]._virtalBoundId=-1;for(O=0;O<x;++O){for(var B=a[O],H=B.textureCount,X=0;X<H;X++)b=B.textures[X],g[B.ids[X]]!==b&&this.renderer.bindTexture(b,B.ids[X],!0),b._virtalBoundId=-1;this.renderer.state.setBlendMode(B.blend),t.drawElements(t.TRIANGLES,6*B.size,t.UNSIGNED_SHORT,6*B.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),l.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off(\"prerender\",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},e}(r.default);e.default=g,i.default.registerPlugin(\"sprite\",g)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(13)),i=o(n(61));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.scissor=!1,r.scissorData=null,r.scissorRenderTarget=null,r.enableScissor=!0,r.alphaMaskPool=[],r.alphaMaskIndex=0,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var n=e.worldTransform,r=Math.atan2(n.b,n.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e;var r=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,n),t.filterArea=r,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var n=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(n.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(r.x*i,(n.root?n.size.height-r.y-r.height:r.y)*i,r.width*i,r.height*i),this.scissorRenderTarget=n,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(r.default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var r=o(t),i=o(e);return Object.assign(r,i)};var r,i=((r=n(5))&&r.__esModule?r:{default:r}).default.shader.defaultValue;function o(t){for(var e=new RegExp(\"^(projectionMatrix|uSampler|filterArea|filterClamp)$\"),n={},r=void 0,o=t.replace(/\\s+/g,\" \").split(/\\s*;\\s*/),a=0;a<o.length;a++){var s=o[a].trim();if(s.indexOf(\"uniform\")>-1){var u=s.split(\" \"),l=u[1],c=u[2],h=1;c.indexOf(\"[\")>-1&&(c=(r=c.split(/\\[|]/))[0],h*=Number(r[1])),c.match(e)||(n[c]={value:i(l,h),name:c,type:l})}}return n}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=(r=n(13))&&r.__esModule?r:{default:r},o=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.stencilMaskStack=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,n,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){i.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(i.default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=c(n(13)),i=c(n(20)),o=c(n(65)),a=n(4),s=c(n(14)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(129)),l=c(n(32));function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var f=function(){function t(){h(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new a.Rectangle,this.destinationFrame=new a.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),d=function(t){function e(n){h(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.gl=r.renderer.gl,r.quad=new o.default(r.gl,n.state.attribState),r.shaderCache={},r.pool={},r.filterData=null,r.managedFilters=[],r.renderer.on(\"prerender\",r.onPrerender,r),r._screenWidth=n.view.width,r._screenHeight=n.view.height,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var n=this.renderer,r=this.filterData;if(!r){r=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=r={index:0,stack:[i]},this.filterData=r}var o=r.stack[++r.index],a=r.stack[0].destinationFrame;o||(o=r.stack[r.index]=new f);var s=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===n.screen.width&&t.filterArea.height===n.screen.height,u=e[0].resolution,l=0|e[0].padding,c=s?n.screen:t.filterArea||t.getBounds(!0),h=o.sourceFrame,d=o.destinationFrame;h.x=(c.x*u|0)/u,h.y=(c.y*u|0)/u,h.width=(c.width*u|0)/u,h.height=(c.height*u|0)/u,s||(r.stack[0].renderTarget.transform||e[0].autoFit&&h.fit(a),h.pad(l)),d.width=h.width,d.height=h.height;var p=this.getPotRenderTarget(n.gl,h.width,h.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=p,p.setFrame(d,h),n.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],n=t.stack[t.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var r=n.filters;if(1===r.length)r[0].apply(this,n.renderTarget,e.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var i=n.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);o.setFrame(n.destinationFrame,n.sourceFrame),o.clear();var a=0;for(a=0;a<r.length-1;++a){r[a].apply(this,i,o,!0,n);var s=i;i=o,o=s}r[a].apply(this,i,e.renderTarget,!1,n),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}n.clear(),t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,n,r){var i=this.renderer,o=i.gl,a=t.glShaders[i.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new s.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[i.CONTEXT_UID]=new s.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(n),r&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),n===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(a,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var n=e.uniformData,r=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=s}for(var u in n)if(t.uniforms.data[u]){var l=n[u].type;if(\"sampler2d\"===l&&0!==r[u]){if(r[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(r[u].baseTexture,i);else{t.uniforms[u]=i;var c=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],c.activeTexture(c.TEXTURE0+i),r[u].texture.bind()}i++}else if(\"mat3\"===l)void 0!==r[u].a?t.uniforms[u]=r[u].toArray(!0):t.uniforms[u]=r[u];else if(\"vec2\"===l)if(void 0!==r[u].x){var h=t.uniforms[u]||new Float32Array(2);h[0]=r[u].x,h[1]=r[u].y,t.uniforms[u]=h}else t.uniforms[u]=r[u];else\"float\"===l?t.uniforms.data[u].value!==n[u]&&(t.uniforms[u]=r[u]):t.uniforms[u]=r[u]}},e.prototype.getRenderTarget=function(t,e){var n=this.filterData.stack[this.filterData.index],r=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,e||n.resolution);return r.setFrame(n.destinationFrame,n.sourceFrame),r},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var n=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,n.sourceFrame,n.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,n=this.managedFilters;e.off(\"prerender\",this.onPrerender,this);for(var r=0;r<n.length;r++)t||n[r].glShaders[e.CONTEXT_UID].destroy(),delete n[r].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,n,r){var o=\"screen\";n*=r,(e*=r)===this._screenWidth&&n===this._screenHeight||(o=(65535&(e=l.default.nextPow2(e)))<<16|65535&(n=l.default.nextPow2(n))),this.pool[o]||(this.pool[o]=[]);var a=this.pool[o].pop();if(!a){var s=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),a=new i.default(t,e,n,null,1),t.bindTexture(t.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return a.resolution=r,a.defaultFrame.width=a.size.width=e/r,a.defaultFrame.height=a.size.height=n/r,a.filterPoolKey=o,a},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var n=0;n<e.length;n++)e[n].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(r.default);e.default=d},function(t,e,n){\"use strict\";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,n){var r=t.identity();return r.translate(e.x/n.width,e.y/n.height),r.scale(n.width,n.height),r},e.calculateNormalizedScreenSpaceMatrix=function(t,e,n){var r=t.identity();r.translate(e.x/n.width,e.y/n.height);var i=n.width/e.width,o=n.height/e.height;return r.scale(i,o),r},e.calculateSpriteMatrix=function(t,e,n,i){var o=i._texture.orig,a=t.set(n.width,0,0,n.height,e.x,e.y),s=i.worldTransform.copy(r.Matrix.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(i.anchor.x,i.anchor.y),a};var r=n(4)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(5),o=n(0),a=(r=n(20))&&r.__esModule?r:{default:r},s=n(2),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var n=this.gl,r=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,n.activeTexture(n.TEXTURE0+e);var l=t._glTextures[this.renderer.CONTEXT_UID];if(l)r?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):l.upload(t.source);else{if(r){var c=new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);c.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=c,l=c.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(l=new i.GLTexture(this.gl,null,null,null,null)).bind(e),l.premultiplyAlpha=!0,l.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=l,t.on(\"update\",this.updateTexture,this),t.on(\"dispose\",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&l.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?l.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?l.enableWrapRepeat():l.enableWrapMirrorRepeat()):l.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?l.enableNearestScaling():l.enableLinearScaling()}return l},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var n=this.renderer,r=n.CONTEXT_UID,i=t._glTextures,o=t._glRenderTargets;if(i[r]&&(n.unbindTexture(t),i[r].destroy(),t.off(\"update\",this.updateTexture,this),t.off(\"dispose\",this.destroyTexture,this),delete i[r],!e)){var a=this._managedTextures.indexOf(t);-1!==a&&(0,s.removeItems)(this._managedTextures,a,1)}o&&o[r]&&(n._activeRenderTarget===o[r]&&n.bindRenderTarget(n.rootRenderTarget),o[r].destroy(),delete o[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off(\"update\",this.updateTexture,this),e.off(\"dispose\",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(0),o=(r=n(3))&&r.__esModule?r:{default:r},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=o.default.GC_MAX_IDLE,this.checkCountMax=o.default.GC_MAX_CHECK_COUNT,this.mode=o.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,n=!1,r=0;r<e.length;r++){var i=e[r];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=(r=n(133))&&r.__esModule?r:{default:r},o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,i.default)(e),this.nativeVaoExtension=e.getExtension(\"OES_vertex_array_object\")||e.getExtension(\"MOZ_OES_vertex_array_object\")||e.getExtension(\"WEBKIT_OES_vertex_array_object\")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?\"enable\":\"disable\"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?\"enable\":\"disable\"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?\"enable\":\"disable\"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?\"CW\":\"CCW\"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[r.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[r.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var r=n(0)},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[r.DRAW_MODES.POINTS]=t.POINTS,e[r.DRAW_MODES.LINES]=t.LINES,e[r.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[r.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[r.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[r.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[r.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var r=n(0)},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn(\"Provided WebGL context does not have a stencil buffer, masks may not render correctly\")}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n=o;n=(n=n.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e=\"\";e+=\"\\n\",e+=\"\\n\";for(var n=0;n<t;n++)n>0&&(e+=\"\\nelse \"),n<t-1&&(e+=\"if(textureId == \"+n+\".0)\"),e+=\"\\n{\",e+=\"\\n\\tcolor = texture2D(uSamplers[\"+n+\"], vTextureCoord);\",e+=\"\\n}\";return(e+=\"\\n\")+\"\\n\"}(e));for(var r=new i.default(t,\"precision highp float;\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec4 aColor;\\nattribute float aTextureId;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\nvarying float vTextureId;\\n\\nvoid main(void){\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vTextureId = aTextureId;\\n    vColor = aColor;\\n}\\n\",n),a=[],s=0;s<e;s++)a[s]=s;return r.bind(),r.uniforms.uSamplers=a,r};var r,i=(r=n(14))&&r.__esModule?r:{default:r};n(7);var o=[\"varying vec2 vTextureCoord;\",\"varying vec4 vColor;\",\"varying float vTextureId;\",\"uniform sampler2D uSamplers[%count%];\",\"void main(void){\",\"vec4 color;\",\"float textureId = floor(vTextureId+0.5);\",\"%forloop%\",\"gl_FragColor = color * vColor;\",\"}\"].join(\"\\n\")},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n=!e;if(0===t)throw new Error(\"Invalid value of `0` passed to `checkMaxIfStatementsInShader`\");if(n){var r=document.createElement(\"canvas\");r.width=1,r.height=1,e=i.default.createContext(r)}for(var s=e.createShader(e.FRAGMENT_SHADER);;){var u=o.replace(/%forloop%/gi,a(t));if(e.shaderSource(s,u),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS))break;t=t/2|0}return n&&e.getExtension(\"WEBGL_lose_context\")&&e.getExtension(\"WEBGL_lose_context\").loseContext(),t};var r,i=(r=n(5))&&r.__esModule?r:{default:r},o=[\"precision mediump float;\",\"void main(void){\",\"float test = 0.1;\",\"%forloop%\",\"gl_FragColor = vec4(0.0);\",\"}\"].join(\"\\n\");function a(t){for(var e=\"\",n=0;n<t;++n)n>0&&(e+=\"\\nelse \"),n<t-1&&(e+=\"if(test == \"+n+\".0){}\");return e}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=d(n(31)),o=d(n(8)),a=n(4),s=n(2),u=n(0),l=d(n(3)),c=d(n(66)),h=d(n(67)),f=d(n(140));function d(t){return t&&t.__esModule?t:{default:t}}var p={texture:!0,children:!1,baseTexture:!0},v=function(t){function e(n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(i=i||document.createElement(\"canvas\")).width=3,i.height=3;var s=o.default.fromCanvas(i,l.default.SCALE_MODE,\"text\");s.orig=new a.Rectangle,s.trim=new a.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,s));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=i,u.context=u.canvas.getContext(\"2d\"),u.resolution=l.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font=\"\",u.text=n,u.style=r,u.localStyleID=-1,u}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var n=this.context,r=h.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=r.width,o=r.height,a=r.lines,s=r.lineHeight,u=r.lineWidths,l=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=e.stroke,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;var f=void 0,d=void 0;if(e.dropShadow){n.fillStyle=e.dropShadowColor,n.globalAlpha=e.dropShadowAlpha,n.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(n.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,g=0;g<a.length;g++)f=e.strokeThickness/2,d=e.strokeThickness/2+g*s+c.ascent,\"right\"===e.align?f+=l-u[g]:\"center\"===e.align&&(f+=(l-u[g])/2),e.fill&&(this.drawLetterSpacing(a[g],f+p+e.padding,d+v+e.padding),e.stroke&&e.strokeThickness&&(n.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(a[g],f+p+e.padding,d+v+e.padding,!0),n.strokeStyle=e.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(e,a);for(var y=0;y<a.length;y++)f=e.strokeThickness/2,d=e.strokeThickness/2+y*s+c.ascent,\"right\"===e.align?f+=l-u[y]:\"center\"===e.align&&(f+=(l-u[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[y],f+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(a[y],f+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(t,\"\"),a=e,s=0,u=\"\";s<t.length;)u=o[s++],r?this.context.strokeText(u,a,n):this.context.fillText(u,a,n),a+=this.context.measureText(u).width+i;else r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,n.trim.width=n._frame.width=t.width/this.resolution,n.trim.height=n._frame.height=t.height/this.resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.emit(\"update\",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var n=void 0,r=void 0,i=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,l=t.fill.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var h=l.length+1,f=1;f<h;++f)c.push(f/h);if(l.unshift(t.fill[0]),c.unshift(0),l.push(t.fill[t.fill.length-1]),c.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,0,a/2,s),r=(l.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<l.length;p++)o=\"number\"==typeof c[p]?c[p]/e.length+d/e.length:i/r,n.addColorStop(o,l[p]),i++}}else{n=this.context.createLinearGradient(0,s/2,a,s/2),r=l.length+1,i=1;for(var v=0;v<l.length;v++)o=\"number\"==typeof c[v]?c[v]:i/r,n.addColorStop(o,l[v]),i++}return n},e.prototype.destroy=function(e){\"boolean\"==typeof e&&(e={children:e}),e=Object.assign({},p,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},r(e,[{key:\"width\",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,s.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:\"height\",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,s.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:\"style\",get:function(){return this._style},set:function(t){(t=t||{})instanceof c.default?this._style=t:this._style=new c.default(t),this.localStyleID=-1,this.dirty=!0}},{key:\"text\",get:function(){return this._text},set:function(t){t=String(\"\"===t||null==t?\" \":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(i.default);e.default=v},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=t.width,n=t.height,r=t.getContext(\"2d\"),i=r.getImageData(0,0,e,n).data,o=i.length,a={top:null,left:null,right:null,bottom:null},s=null,u=void 0,l=void 0,c=void 0;for(u=0;u<o;u+=4)0!==i[u+3]&&(l=u/4%e,c=~~(u/4/e),null===a.top&&(a.top=c),null===a.left?a.left=l:l<a.left&&(a.left=l),null===a.right?a.right=l+1:a.right<l&&(a.right=l+1),null===a.bottom?a.bottom=c:a.bottom<c&&(a.bottom=c));return null!==a.top&&(e=a.right-a.left,n=a.bottom-a.top+1,s=r.getImageData(a.left,a.top,e,n)),{height:n,width:e,data:s}}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=p(n(11)),i=p(n(34)),o=p(n(8)),a=p(n(68)),s=p(n(31)),u=n(4),l=n(2),c=n(0),h=p(n(27)),f=p(n(142)),d=p(n(12));function p(t){return t&&t.__esModule?t:{default:t}}var v=void 0,g=new u.Matrix,y=new u.Point,_=new Float32Array(4),m=new Float32Array(4),b=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r.fillAlpha=1,r.lineWidth=0,r.nativeLines=n,r.lineColor=0,r.lineAlignment=.5,r.graphicsData=[],r.tint=16777215,r._prevTint=16777215,r.blendMode=c.BLEND_MODES.NORMAL,r.currentPath=null,r._webGL={},r.isMask=!1,r.boundsPadding=0,r._localBounds=new h.default,r.dirty=0,r.fastRectDirty=-1,r.clearDirty=0,r.boundsDirty=-1,r.cachedSpriteDirty=!1,r._spriteRect=null,r._fastRect=!1,r._prevRectTint=null,r._prevRectFillColor=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var n=0;n<this.graphicsData.length;++n)t.graphicsData.push(this.graphicsData[n].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,n,r,i,o){var a=t-2*n+i,s=e-2*r+o,u=2*n-2*t,l=2*r-2*e,c=4*(a*a+s*s),h=4*(a*u+s*l),f=u*u+l*l,d=2*Math.sqrt(c+h+f),p=Math.sqrt(c),v=2*c*p,g=2*Math.sqrt(f),y=h/p;return(v*d+p*h*(d-g)+(4*f*c-h*h)*Math.log((2*p+y+d)/(y+g)))/(4*v)},e.prototype._bezierCurveLength=function(t,e,n,r,i,o,a,s){for(var u=0,l=0,c=0,h=0,f=0,d=0,p=0,v=0,g=0,y=0,_=0,m=t,b=e,x=1;x<=10;++x)y=m-(v=(p=(d=(f=1-(l=x/10))*f)*f)*t+3*d*l*n+3*f*(c=l*l)*i+(h=c*l)*a),_=b-(g=p*e+3*d*l*r+3*f*c*o+h*s),m=v,b=g,u+=Math.sqrt(y*y+_*_);return u},e.prototype._segmentsCount=function(t){var n=Math.ceil(t/e.CURVES.maxLength);return n<e.CURVES.minSegments?n=e.CURVES.minSegments:n>e.CURVES.maxSegments&&(n=e.CURVES.maxSegments),n},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this.lineAlignment=r,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var n=new u.Polygon([t,e]);return n.closed=!1,this.drawShape(n),this},e.prototype.lineTo=function(t,e){var n=this.currentPath.shape.points,r=n[n.length-2],i=n[n.length-1];return r===t&&i===e||(n.push(t,e),this.dirty++),this},e.prototype.quadraticCurveTo=function(t,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,a=0,s=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],l=o[o.length-1],c=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(u,l,t,n,r,i)):20,h=1;h<=c;++h){var f=h/c;a=u+(t-u)*f,s=l+(n-l)*f,o.push(a+(t+(r-t)*f-a)*f,s+(n+(i-n)*f-s)*f)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,n,r,i,o,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,u=s[s.length-2],l=s[s.length-1];s.length-=2;var c=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(u,l,t,n,r,i,o,a)):20;return(0,f.default)(u,l,t,n,r,i,o,a,c,s),this.dirty++,this},e.prototype.arcTo=function(t,e,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1]-e,u=a-t,l=r-e,c=n-t,h=Math.abs(s*c-u*l);if(h<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=s*s+u*u,d=l*l+c*c,p=s*l+u*c,v=i*Math.sqrt(f)/h,g=i*Math.sqrt(d)/h,y=v*p/f,_=g*p/d,m=v*c+g*u,b=v*l+g*s,x=u*(g+y),w=s*(g+y),T=c*(v+_),E=l*(v+_),M=Math.atan2(w-b,x-m),S=Math.atan2(E-b,T-m);this.arc(m+t,b+e,i,M,S,u*l>c*s)}return this.dirty++,this},e.prototype.arc=function(t,n,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===o)return this;!a&&o<=i?o+=c.PI_2:a&&i<=o&&(i+=c.PI_2);var s=o-i,u=e.CURVES.adaptive?this._segmentsCount(Math.abs(s)*r):40*Math.ceil(Math.abs(s)/c.PI_2);if(0===s)return this;var l=t+Math.cos(i)*r,h=n+Math.sin(i)*r,f=this.currentPath?this.currentPath.shape.points:null;if(f){var d=Math.abs(f[f.length-2]-l),p=Math.abs(f[f.length-1]-h);d<.001&&p<.001||f.push(l,h)}else this.moveTo(l,h),f=this.currentPath.shape.points;for(var v=s/(2*u),g=2*v,y=Math.cos(v),_=Math.sin(v),m=u-1,b=m%1/m,x=0;x<=m;++x){var w=v+i+g*(x+b*x),T=Math.cos(w),E=-Math.sin(w);f.push((y*T+_*E)*r+t,(y*-E+_*T)*r+n)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,n,r){return this.drawShape(new u.Rectangle(t,e,n,r)),this},e.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new u.RoundedRectangle(t,e,n,r,i)),this},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new u.Circle(t,e,n)),this},e.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new u.Ellipse(t,e,n,r)),this},e.prototype.drawPolygon=function(t){var e=t,n=!0;if(e instanceof u.Polygon&&(n=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}var i=new u.Polygon(e);return i.closed=n,this.drawShape(i),this},e.prototype.drawStar=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||r/2;for(var a=-1*Math.PI/2+o,s=2*n,u=c.PI_2/s,l=[],h=0;h<s;h++){var f=h%2?i:r,d=h*u+a;l.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(l)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===c.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new s.default(new o.default(o.default.WHITE)));var n=this._spriteRect,r=this.graphicsData[0].fillColor;if(16777215===this.tint)n.tint=r;else if(this.tint!==this._prevRectTint||r!==this._prevRectFillColor){var i=_,a=m;(0,l.hex2rgb)(r,i),(0,l.hex2rgb)(this.tint,a),i[0]*=a[0],i[1]*=a[1],i[2]*=a[2],n.tint=(0,l.rgb2hex)(i),this._prevRectTint=this.tint,this._prevRectFillColor=r}n.alpha=this.graphicsData[0].fillAlpha,n.worldAlpha=this.worldAlpha*n.alpha,n.blendMode=this.blendMode,n._texture._frame.width=e.width,n._texture._frame.height=e.height,n.transform.worldTransform=this.transform.worldTransform,n.anchor.set(-e.x/e.width,-e.y/e.height),n._onAnchorUpdate(),n._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,y);for(var e=this.graphicsData,n=0;n<e.length;++n){var r=e[n];if(r.fill&&r.shape&&r.shape.contains(y.x,y.y)){if(r.holes)for(var i=0;i<r.holes.length;i++)if(r.holes[i].contains(y.x,y.y))return!1;return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0;if(this.graphicsData.length)for(var i=0,o=0,a=0,s=0,u=0,l=0;l<this.graphicsData.length;l++){var h=this.graphicsData[l],f=h.type,d=h.lineWidth*h.lineAlignment;if(i=h.shape,f===c.SHAPES.RECT||f===c.SHAPES.RREC)o=i.x-d,a=i.y-d,t=o<t?o:t,e=o+(s=i.width+2*d)>e?o+s:e,n=a<n?a:n,r=a+(u=i.height+2*d)>r?a+u:r;else if(f===c.SHAPES.CIRC)o=i.x,a=i.y,t=o-(s=i.radius+d)<t?o-s:t,e=o+s>e?o+s:e,n=a-(u=i.radius+d)<n?a-u:n,r=a+u>r?a+u:r;else if(f===c.SHAPES.ELIP)o=i.x,a=i.y,t=o-(s=i.width+d)<t?o-s:t,e=o+s>e?o+s:e,n=a-(u=i.height+d)<n?a-u:n,r=a+u>r?a+u:r;else for(var p=i.points,v=0,g=0,y=0,_=0,m=0,b=0,x=0,w=0,T=0;T+2<p.length;T+=2)o=p[T],a=p[T+1],v=p[T+2],g=p[T+3],y=Math.abs(v-o),_=Math.abs(g-a),u=2*d,(s=Math.sqrt(y*y+_*_))<1e-9||(t=(x=(v+o)/2)-(m=(u/s*_+y)/2)<t?x-m:t,e=x+m>e?x+m:e,n=(w=(g+a)/2)-(b=(u/s*y+_)/2)<n?w-b:n,r=w+b>r?w+b:r)}else t=0,e=0,n=0,r=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=n-E,this._localBounds.maxY=r+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===c.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),r=i.default.create(n.width,n.height,t,e);v||(v=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(g),g.invert(),g.tx-=n.x,g.ty-=n.y,v.render(this,r,!0,g);var a=o.default.fromCanvas(r.baseTexture._canvasRenderTarget.canvas,t,\"graphics\");return a.baseTexture.resolution=e,a.baseTexture.update(),a},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(var r in this._webGL)for(var i=0;i<this._webGL[r].data.length;++i)this._webGL[r].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(r.default);e.default=b,b._SPRITE_TEXTURE=null,b.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n,r,i,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],c=0,h=0,f=0,d=0,p=0;l.push(t,e);for(var v=1,g=0;v<=u;++v)f=(h=(c=1-(g=v/u))*c)*c,p=(d=g*g)*g,l.push(f*t+3*h*g*n+3*c*d*i+p*a,f*e+3*h*g*r+3*c*d*o+p*s);return l}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(2),i=n(0),o=d(n(18)),a=d(n(19)),s=d(n(144)),u=d(n(145)),l=d(n(146)),c=d(n(147)),h=d(n(148)),f=d(n(149));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.graphicsDataPool=[],r.primitiveShader=null,r.gl=n.gl,r.CONTEXT_UID=0,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,n=e.gl,i=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var a=this.primitiveShader;e.bindShader(a),e.state.setBlendMode(t.blendMode);for(var s=0,u=o.data.length;s<u;s++){var l=(i=o.data[s]).shader;e.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,r.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?n.drawArrays(n.LINES,0,i.points.length/6):i.vao.draw(n.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,n=t._webGL[this.CONTEXT_UID];if(n||(n=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),n.dirty=t.dirty,t.clearDirty!==n.clearDirty){n.clearDirty=t.clearDirty;for(var r=0;r<n.data.length;r++)this.graphicsDataPool.push(n.data[r]);n.data.length=0,n.lastIndex=0}for(var o=void 0,a=void 0,s=n.lastIndex;s<t.graphicsData.length;s++){var u=t.graphicsData[s];o=this.getWebGLData(n,0),u.nativeLines&&u.lineWidth&&(a=this.getWebGLData(n,0,!0),n.lastIndex++),u.type===i.SHAPES.POLY&&(0,l.default)(u,o,a),u.type===i.SHAPES.RECT?(0,c.default)(u,o,a):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,f.default)(u,o,a):u.type===i.SHAPES.RREC&&(0,h.default)(u,o,a),n.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<n.data.length;d++)(o=n.data[d]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,n){var r=t.data[t.data.length-1];return(!r||r.nativeLines!==n||r.points.length>32e4)&&((r=this.graphicsDataPool.pop()||new s.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=n,r.reset(e),t.data.push(r)),r.dirty=!0,r},e}(o.default);e.default=p,a.default.registerPlugin(\"graphics\",p)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=(r=n(5))&&r.__esModule?r:{default:r},o=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=i.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new i.default.VertexArrayObject(e,r).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,[\"attribute vec2 aVertexPosition;\",\"attribute vec4 aColor;\",\"uniform mat3 translationMatrix;\",\"uniform mat3 projectionMatrix;\",\"uniform float alpha;\",\"uniform vec3 tint;\",\"varying vec4 vColor;\",\"void main(void){\",\"   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\",\"   vColor = aColor * vec4(tint * alpha, alpha);\",\"}\"].join(\"\\n\"),[\"varying vec4 vColor;\",\"void main(void){\",\"   gl_FragColor = vColor;\",\"}\"].join(\"\\n\")))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=n(14))&&r.__esModule?r:{default:r}).default);e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){t.points=t.shape.points.slice();var a=t.points;if(t.fill&&a.length>=6){for(var s=[],u=t.holes,l=0;l<u.length;l++){var c=u[l];s.push(a.length/2),a=a.concat(c.points)}var h=e.points,f=e.indices,d=a.length/2,p=(0,i.hex2rgb)(t.fillColor),v=t.fillAlpha,g=p[0]*v,y=p[1]*v,_=p[2]*v,m=(0,o.default)(a,s,2);if(!m)return;for(var b=h.length/6,x=0;x<m.length;x+=3)f.push(m[x]+b),f.push(m[x]+b),f.push(m[x+1]+b),f.push(m[x+2]+b),f.push(m[x+2]+b);for(var w=0;w<d;w++)h.push(a[2*w],a[2*w+1],g,y,_,v)}t.lineWidth>0&&(0,r.default)(t,e,n)};var r=a(n(21)),i=n(2),o=a(n(30));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var r=t.shape,a=r.x,s=r.y,u=r.width,l=r.height;if(t.fill){var c=(0,o.hex2rgb)(t.fillColor),h=t.fillAlpha,f=c[0]*h,d=c[1]*h,p=c[2]*h,v=e.points,g=e.indices,y=v.length/6;v.push(a,s),v.push(f,d,p,h),v.push(a+u,s),v.push(f,d,p,h),v.push(a,s+l),v.push(f,d,p,h),v.push(a+u,s+l),v.push(f,d,p,h),g.push(y,y,y+1,y+2,y+3,y+3)}if(t.lineWidth){var _=t.points;t.points=[a,s,a+u,s,a+u,s+l,a,s+l,a,s],(0,i.default)(t,e,n),t.points=_}};var r,i=(r=n(21))&&r.__esModule?r:{default:r},o=n(2)},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var a=t.shape,s=a.x,l=a.y,c=a.width,h=a.height,f=a.radius,d=[];if(d.push(s+f,l),u(s+c-f,l,s+c,l,s+c,l+f,d),u(s+c,l+h-f,s+c,l+h,s+c-f,l+h,d),u(s+f,l+h,s,l+h,s,l+h-f,d),u(s,l+f,s,l,s+f+1e-10,l,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,g=p[0]*v,y=p[1]*v,_=p[2]*v,m=e.points,b=e.indices,x=m.length/6,w=(0,r.default)(d,null,2),T=0,E=w.length;T<E;T+=3)b.push(w[T]+x),b.push(w[T]+x),b.push(w[T+1]+x),b.push(w[T+2]+x),b.push(w[T+2]+x);for(var M=0,S=d.length;M<S;M++)m.push(d[M],d[++M],g,y,_,v)}if(t.lineWidth){var O=t.points;t.points=d,(0,i.default)(t,e,n),t.points=O}};var r=a(n(30)),i=a(n(21)),o=n(2);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){return t+(e-t)*n}function u(t,e,n,r,i,o){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,l=0,c=0,h=0,f=0,d=0,p=0,v=0;p<=20;++p)u=s(t,n,v=p/20),l=s(e,r,v),c=s(n,i,v),h=s(r,o,v),f=s(u,c,v),d=s(l,h,v),a.push(f,d);return a}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var r=t.shape,s=r.x,u=r.y,l=void 0,c=void 0;if(t.type===o.SHAPES.CIRC?(l=r.radius,c=r.radius):(l=r.width,c=r.height),0!==l&&0!==c){var h=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),f=2*Math.PI/h;if(t.fill){var d=(0,a.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,g=d[1]*p,y=d[2]*p,_=e.points,m=e.indices,b=_.length/6;m.push(b);for(var x=0;x<h+1;x++)_.push(s,u,v,g,y,p),_.push(s+Math.sin(f*x)*l,u+Math.cos(f*x)*c,v,g,y,p),m.push(b++,b++);m.push(b-1)}if(t.lineWidth){var w=t.points;t.points=[];for(var T=0;T<h;T++)t.points.push(s+Math.sin(f*-T)*l,u+Math.cos(f*-T)*c);t.points.push(t.points[0],t.points[1]),(0,i.default)(t,e,n),t.points=w}}};var r,i=(r=n(21))&&r.__esModule?r:{default:r},o=n(0),a=n(2)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=(r=n(12))&&r.__esModule?r:{default:r},o=n(0),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldAlpha,i=t.transform.worldTransform,a=e.resolution;n.setTransform(i.a*a,i.b*a,i.c*a,i.d*a,i.tx*a,i.ty*a),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var s=0;s<t.graphicsData.length;s++){var u=t.graphicsData[s],l=u.shape,c=u._fillTint,h=u._lineTint;if(n.lineWidth=u.lineWidth,u.type===o.SHAPES.POLY){n.beginPath();var f=l.points,d=u.holes,p=void 0,v=void 0;n.moveTo(f[0],f[1]);for(var g=2;g<f.length;g+=2)n.lineTo(f[g],f[g+1]);if(l.closed&&n.closePath(),d.length>0){p=0;for(var y=0;y<f.length;y+=2)p+=f[y]*f[y+3]-f[y+1]*f[y+2];for(var _=0;_<d.length;_++){f=d[_].points,v=0;for(var m=0;m<f.length;m+=2)v+=f[m]*f[m+3]-f[m+1]*f[m+2];if(n.moveTo(f[0],f[1]),v*p<0)for(var b=2;b<f.length;b+=2)n.lineTo(f[b],f[b+1]);else for(var x=f.length-2;x>=2;x-=2)n.lineTo(f[x],f[x+1]);d[_].closed&&n.closePath()}}u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.stroke())}else if(u.type===o.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.fillRect(l.x,l.y,l.width,l.height)),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.strokeRect(l.x,l.y,l.width,l.height));else if(u.type===o.SHAPES.CIRC)n.beginPath(),n.arc(l.x,l.y,l.radius,0,2*Math.PI),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.stroke());else if(u.type===o.SHAPES.ELIP){var w=2*l.width,T=2*l.height,E=l.x-w/2,M=l.y-T/2;n.beginPath();var S=w/2*.5522848,O=T/2*.5522848,C=E+w,A=M+T,P=E+w/2,R=M+T/2;n.moveTo(E,R),n.bezierCurveTo(E,R-O,P-S,M,P,M),n.bezierCurveTo(P+S,M,C,R-O,C,R),n.bezierCurveTo(C,R+O,P+S,A,P,A),n.bezierCurveTo(P-S,A,E,R+O,E,R),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.stroke())}else if(u.type===o.SHAPES.RREC){var I=l.x,D=l.y,k=l.width,N=l.height,L=l.radius,j=Math.min(k,N)/2|0;L=L>j?j:L,n.beginPath(),n.moveTo(I,D+L),n.lineTo(I,D+N-L),n.quadraticCurveTo(I,D+N,I+L,D+N),n.lineTo(I+k-L,D+N),n.quadraticCurveTo(I+k,D+N,I+k,D+N-L),n.lineTo(I+k,D+L),n.quadraticCurveTo(I+k,D,I+k-L,D),n.lineTo(I+L,D),n.quadraticCurveTo(I,D,I,D+L),n.closePath(),(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,r=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*r*255,o._lineTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*r*255}},t.prototype.renderPolygon=function(t,e,n){n.moveTo(t[0],t[1]);for(var r=1;r<t.length/2;++r)n.lineTo(t[2*r],t[2*r+1]);e&&n.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,i.default.registerPlugin(\"graphics\",a)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o=n(2),a=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=n,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r(t,null,[{key:\"BATCH_SIZE\",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,n=(0,o.getResolutionOfUrl)(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,r=t.BATCH_SIZE,o=this.baseTexture.sourceScale;n-e<r&&n<this._frameKeys.length;){var a=this._frameKeys[n],s=this._frames[a],u=s.frame;if(u){var l,c=null,h=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,f=new i.Rectangle(0,0,Math.floor(h.w*o)/this.resolution,Math.floor(h.h*o)/this.resolution);l=s.rotated?new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(c=new i.Rectangle(Math.floor(s.spriteSourceSize.x*o)/this.resolution,Math.floor(s.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[a]=new i.Texture(this.baseTexture,l,f,c,s.rotated?2:0,s.anchor),i.Texture.addToCache(this.textures[a],a)}n++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];var n=t[e],r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;this.animations[e].push(this.textures[a])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=t.mesh,n=t.particles,r=t.extras,o=t.filters,a=t.prepare,s=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError(\"SpriteBatch does not exist any more, please use the new ParticleContainer instead.\")}},AssetLoader:{get:function(){throw new ReferenceError(\"The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.\")}},Stage:{get:function(){return i(\"You do not need to use a PIXI Stage any more, you can simply render any container.\"),t.Container}},DisplayObjectContainer:{get:function(){return i(\"DisplayObjectContainer has been shortened to Container, please use Container from now on.\"),t.Container}},Strip:{get:function(){return i(\"The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.\"),e.Mesh}},Rope:{get:function(){return i(\"The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.\"),e.Rope}},ParticleContainer:{get:function(){return i(\"The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.\"),n.ParticleContainer}},MovieClip:{get:function(){return i(\"The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.\"),r.AnimatedSprite}},TilingSprite:{get:function(){return i(\"The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.\"),r.TilingSprite}},BitmapText:{get:function(){return i(\"The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.\"),r.BitmapText}},blendModes:{get:function(){return i(\"The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.\"),t.BLEND_MODES}},scaleModes:{get:function(){return i(\"The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.\"),t.SCALE_MODES}},BaseTextureCache:{get:function(){return i(\"The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.\"),t.utils.BaseTextureCache}},TextureCache:{get:function(){return i(\"The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.\"),t.utils.TextureCache}},math:{get:function(){return i(\"The math namespace is deprecated, please access members already accessible on PIXI.\"),t}},AbstractFilter:{get:function(){return i(\"AstractFilter has been renamed to Filter, please use PIXI.Filter\"),t.Filter}},TransformManual:{get:function(){return i(\"TransformManual has been renamed to TransformBase, please update your pixi-spine\"),t.TransformBase}},TARGET_FPMS:{get:function(){return i(\"PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS\"),t.settings.TARGET_FPMS},set:function(e){i(\"PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS\"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return i(\"PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION\"),t.settings.FILTER_RESOLUTION},set:function(e){i(\"PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION\"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return i(\"PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION\"),t.settings.RESOLUTION},set:function(e){i(\"PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION\"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return i(\"PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES\"),t.settings.MIPMAP_TEXTURES},set:function(e){i(\"PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES\"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return i(\"PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE\"),t.settings.SPRITE_BATCH_SIZE},set:function(e){i(\"PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE\"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return i(\"PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES\"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){i(\"PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES\"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return i(\"PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX\"),t.settings.RETINA_PREFIX},set:function(e){i(\"PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX\"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return i(\"PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS\"),t.settings.RENDER_OPTIONS}}});for(var l=[{parent:\"TRANSFORM_MODE\",target:\"TRANSFORM_MODE\"},{parent:\"GC_MODES\",target:\"GC_MODE\"},{parent:\"WRAP_MODES\",target:\"WRAP_MODE\"},{parent:\"SCALE_MODES\",target:\"SCALE_MODE\"},{parent:\"PRECISION\",target:\"PRECISION_FRAGMENT\"}],c=function(e){var n=l[e];Object.defineProperty(t[n.parent],\"DEFAULT\",{get:function(){return i(\"PIXI.\"+n.parent+\".DEFAULT has been deprecated, please use PIXI.settings.\"+n.target),t.settings[n.target]},set:function(e){i(\"PIXI.\"+n.parent+\".DEFAULT has been deprecated, please use PIXI.settings.\"+n.target),t.settings[n.target]=e}})},h=0;h<l.length;h++)c(h);Object.defineProperties(t.settings,{PRECISION:{get:function(){return i(\"PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT\"),t.settings.PRECISION_FRAGMENT},set:function(e){i(\"PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT\"),t.settings.PRECISION_FRAGMENT=e}}}),r.AnimatedSprite&&Object.defineProperties(r,{MovieClip:{get:function(){return i(\"The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.\"),r.AnimatedSprite}}}),r&&Object.defineProperties(r,{TextureTransform:{get:function(){return i(\"The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on.\"),t.TextureMatrix}}}),t.DisplayObject.prototype.generateTexture=function(t,e,n){return i(\"generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)\"),t.generateTexture(this,e,n)},t.Graphics.prototype.generateTexture=function(t,e){return i(\"graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture\"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return i(\"GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical\"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,n,r){this.legacyRenderer.render(t,this,n,e,!r),i(\"RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)\")},t.RenderTexture.prototype.getImage=function(t){return i(\"RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)\"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return i(\"RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)\"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return i(\"RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)\"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return i(\"RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)\"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,i(\"setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;\")},r.BitmapText&&(r.BitmapText.prototype.setText=function(t){this.text=t,i(\"setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';\")}),t.Text.prototype.setText=function(t){this.text=t,i(\"setText is now deprecated, please use the text property, e.g : myText.text = 'my text';\")},t.Text.calculateFontProperties=function(e){return i(\"Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont\"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return i(\"Text.fontPropertiesCache is deprecated\"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i(\"Text.fontPropertiesCanvas is deprecated\"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i(\"Text.fontPropertiesContext is deprecated\"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,i(\"setStyle is now deprecated, please use the style property, e.g : myText.style = style;\")},t.Text.prototype.determineFontProperties=function(e){return i(\"determineFontProperties is now deprecated, please use TextMetrics.measureFont method\"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return i(\"getFontStyle is now deprecated, please use TextStyle.toFontString() instead\"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){i(\"text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on\");var t=\"number\"==typeof this._fontSize?this._fontSize+\"px\":this._fontSize;return this._fontStyle+\" \"+this._fontVariant+\" \"+this._fontWeight+\" \"+t+\" \"+this._fontFamily},set:function(t){i(\"text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on\"),t.indexOf(\"italic\")>1?this._fontStyle=\"italic\":t.indexOf(\"oblique\")>-1?this._fontStyle=\"oblique\":this._fontStyle=\"normal\",t.indexOf(\"small-caps\")>-1?this._fontVariant=\"small-caps\":this._fontVariant=\"normal\";var e=t.split(\" \"),n=-1;this._fontSize=26;for(var r=0;r<e.length;++r)if(e[r].match(/(px|pt|em|%)/)){n=r,this._fontSize=e[r];break}this._fontWeight=\"normal\";for(var o=0;o<n;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(n>-1&&n<e.length-1){this._fontFamily=\"\";for(var a=n+1;a<e.length;++a)this._fontFamily+=e[a]+\" \";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily=\"Arial\";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,i(\"setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;\")},t.Texture.addTextureToCache=function(e,n){t.Texture.addToCache(e,n),i(\"Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.\")},t.Texture.removeTextureFromCache=function(e){return i(\"Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache\"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return i(\"AstractFilter has been renamed to Filter, please use PIXI.Filter\"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return i(\"filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.\"),t.SpriteMaskFilter}},VoidFilter:{get:function(){return i(\"VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter\"),o.AlphaFilter}}}),t.utils.uuid=function(){return i(\"utils.uuid() is deprecated, please use utils.uid() from now on.\"),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i(\"utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on\"),t.CanvasTinter.canUseMultiply};var f=!0;if(Object.defineProperty(t.utils,\"_saidHello\",{set:function(t){t&&(i(\"PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()\"),this.skipHello()),f=t},get:function(){return f}}),a.BasePrepare&&(a.BasePrepare.prototype.register=function(t,e){return i(\"renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook\"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),a.canvas&&Object.defineProperty(a.canvas,\"UPLOADS_PER_FRAME\",{set:function(){i(\"PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer\")},get:function(){return i(\"PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter\"),NaN}}),a.webgl&&Object.defineProperty(a.webgl,\"UPLOADS_PER_FRAME\",{set:function(){i(\"PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer\")},get:function(){return i(\"PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter\"),NaN}}),s.Loader){var d=s.Resource,p=s.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return i(\"The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.\"),this.type===d.TYPE.JSON}},isXml:{get:function(){return i(\"The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.\"),this.type===d.TYPE.XML}},isImage:{get:function(){return i(\"The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.\"),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return i(\"The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.\"),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return i(\"The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.\"),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return i(\"The before() method is deprecated, please use pre().\"),this.pre}},after:{get:function(){return i(\"The after() method is deprecated, please use use().\"),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,\"defaultCursor\",{set:function(t){i(\"Property defaultCursor has been replaced with 'cursor'. \"),this.cursor=t},get:function(){return i(\"Property defaultCursor has been replaced with 'cursor'. \"),this.cursor}}),u.InteractionManager&&(Object.defineProperty(u.InteractionManager,\"defaultCursorStyle\",{set:function(t){i(\"Property defaultCursorStyle has been replaced with 'cursorStyles.default'. \"),this.cursorStyles.default=t},get:function(){return i(\"Property defaultCursorStyle has been replaced with 'cursorStyles.default'. \"),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,\"currentCursorStyle\",{set:function(t){i(\"Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.\"),this.currentCursorMode=t},get:function(){return i(\"Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.\"),this.currentCursorMode}}))};var r={};function i(t){if(!r[t]){var e=(new Error).stack;void 0===e?console.warn(\"Deprecation Warning: \",t):(e=e.split(\"\\n\").splice(3).join(\"\\n\"),console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):(console.warn(\"Deprecation Warning: \",t),console.warn(e))),r[t]=!0}}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(71);Object.defineProperty(e,\"accessibleTarget\",{enumerable:!0,get:function(){return o(r).default}});var i=n(154);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"AccessibilityManager\",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=a(n(28)),o=a(n(71));function a(t){return t&&t.__esModule?t:{default:t}}r.utils.mixins.delayMixin(r.DisplayObject.prototype,o.default);var s=100,u=0,l=0,c=2,h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var n=document.createElement(\"div\");n.style.width=s+\"px\",n.style.height=s+\"px\",n.style.position=\"absolute\",n.style.top=u+\"px\",n.style.left=l+\"px\",n.style.zIndex=c,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener(\"keydown\",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement(\"button\");e.style.width=\"1px\",e.style.height=\"1px\",e.style.position=\"absolute\",e.style.top=\"-1000px\",e.style.left=\"-1000px\",e.style.zIndex=2,e.style.backgroundColor=\"#FF0000\",e.title=\"HOOK DIV\",e.addEventListener(\"focus\",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener(\"mousemove\",this._onMouseMove,!0),window.removeEventListener(\"keydown\",this._onKeyDown,!1),this.renderer.on(\"postrender\",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener(\"mousemove\",this._onMouseMove,!0),window.addEventListener(\"keydown\",this._onKeyDown,!1),this.renderer.off(\"postrender\",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,n=t.height/this.renderer.height,i=this.div;i.style.left=t.left+\"px\",i.style.top=t.top+\"px\",i.style.width=this.renderer.width+\"px\",i.style.height=this.renderer.height+\"px\";for(var o=0;o<this.children.length;o++){var a=this.children[o];if(a.renderId!==this.renderId)a._accessibleActive=!1,r.utils.removeItems(this.children,o,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=a._accessibleDiv;var s=a.hitArea,u=a.worldTransform;a.hitArea?(i.style.left=(u.tx+s.x*u.a)*e+\"px\",i.style.top=(u.ty+s.y*u.d)*n+\"px\",i.style.width=s.width*u.a*e+\"px\",i.style.height=s.height*u.d*n+\"px\"):(s=a.getBounds(),this.capHitArea(s),i.style.left=s.x*e+\"px\",i.style.top=s.y*n+\"px\",i.style.width=s.width*e+\"px\",i.style.height=s.height*n+\"px\",i.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(i.title=a.accessibleTitle),i.getAttribute(\"aria-label\")!==a.accessibleHint&&null!==a.accessibleHint&&i.setAttribute(\"aria-label\",a.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement(\"button\")).style.width=s+\"px\",e.style.height=s+\"px\",e.style.backgroundColor=this.debug?\"rgba(255,0,0,0.5)\":\"transparent\",e.style.position=\"absolute\",e.style.zIndex=c,e.style.borderStyle=\"none\",navigator.userAgent.toLowerCase().indexOf(\"chrome\")>-1?e.setAttribute(\"aria-live\",\"off\"):e.setAttribute(\"aria-live\",\"polite\"),navigator.userAgent.match(/rv:.*Gecko\\//)?e.setAttribute(\"aria-relevant\",\"additions\"):e.setAttribute(\"aria-relevant\",\"text\"),e.addEventListener(\"click\",this._onClick.bind(this)),e.addEventListener(\"focus\",this._onFocus.bind(this)),e.addEventListener(\"focusout\",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title=\"displayObject \"+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute(\"aria-label\",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,\"click\",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute(\"aria-live\",\"off\")||t.target.setAttribute(\"aria-live\",\"assertive\");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,\"mouseover\",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute(\"aria-live\",\"off\")||t.target.setAttribute(\"aria-live\",\"polite\");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,\"mouseout\",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener(\"mousemove\",this._onMouseMove,!0),window.removeEventListener(\"keydown\",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=h,r.WebGLRenderer.registerPlugin(\"accessibility\",h),r.CanvasRenderer.registerPlugin(\"accessibility\",h)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(156);Object.defineProperty(e,\"webgl\",{enumerable:!0,get:function(){return o(r).default}});var i=n(157);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"canvas\",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=new r.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=!1,u=void 0,l=!1;t&&(t instanceof r.RenderTexture?u=t:(u=this.renderer.generateTexture(t),l=!0)),u?(o=(n=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=u.frame,s=!1):(o=(n=this.renderer.rootRenderTarget).resolution,s=!0,(a=i).width=n.size.width,a.height=n.size.height);var c=a.width*o,h=a.height*o,f=new r.CanvasRenderTarget(c,h,1);if(n){e.bindRenderTarget(n);var d=new Uint8Array(4*c*h),p=e.gl;p.readPixels(a.x*o,a.y*o,c,h,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,c,h);v.data.set(d),f.context.putImageData(v,0,0),s&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-h))}return l&&u.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0,u=!1;t&&(t instanceof r.RenderTexture?s=t:(s=this.renderer.generateTexture(t),u=!0)),s?(o=(n=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=s.frame):(o=(n=this.renderer.rootRenderTarget).resolution,(a=i).width=n.size.width,a.height=n.size.height);var l=a.width*o,c=a.height*o,h=new Uint8Array(4*l*c);if(n){e.bindRenderTarget(n);var f=e.gl;f.readPixels(a.x*o,a.y*o,l,c,f.RGBA,f.UNSIGNED_BYTE,h)}return u&&s.destroy(!0),h},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,r.WebGLRenderer.registerPlugin(\"extract\",o)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=new r.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0;t&&(s=t instanceof r.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,o=e.resolution,(a=i).width=this.renderer.width,a.height=this.renderer.height);var u=a.width*o,l=a.height*o,c=new r.CanvasRenderTarget(u,l,1),h=n.getImageData(a.x*o,a.y*o,u,l);return c.context.putImageData(h,0,0),c.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0;return t&&(s=t instanceof r.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,(a=i).width=e.width,a.height=e.height),n.getImageData(0,0,a.width*o,a.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,r.CanvasRenderer.registerPlugin(\"extract\",o)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n[0]instanceof i.Texture?n[0]:n[0].texture));return o._textures=null,o._durations=null,o.textures=n,o._autoUpdate=!1!==r,o.animationSpeed=1,o.loop=!0,o.updateAnchor=!1,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.Texture.fromFrame(t[r]));return new e(n)},e.fromImages=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.Texture.fromImage(t[r]));return new e(n)},r(e,[{key:\"totalFrames\",get:function(){return this._textures.length}},{key:\"textures\",get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:\"currentFrame\",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(i.Sprite);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),a=(r=n(17))&&r.__esModule?r:{default:r},s=new o.Point,u=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return a.tileTransform=new o.TransformStatic,a._width=r,a._height=i,a._canvasPattern=null,a.uvTransform=n.transform||new o.TextureMatrix(n),a.pluginName=\"tilingSprite\",a.uvRespectAnchor=!1,a}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var n=t.context,r=this.worldTransform,i=t.resolution,s=2===e.rotate,u=e.baseTexture,l=u.resolution,c=this.tilePosition.x/this.tileScale.x%e.orig.width*l,h=this.tilePosition.y/this.tileScale.y%e.orig.height*l;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var f=new o.CanvasRenderTarget(e.orig.width,e.orig.height,l);if(16777215!==this.tint)this.tintedTexture=a.default.getTintedTexture(this,this.tint),f.context.drawImage(this.tintedTexture,0,0);else{var d=e._frame.x*l,p=e._frame.y*l,v=e._frame.width*l,g=e._frame.height*l,y=(e.trim?e.trim.width:e.orig.width)*l,_=(e.trim?e.trim.height:e.orig.height)*l,m=(e.trim?e.trim.x:0)*l,b=(e.trim?e.trim.y:0)*l;s?(f.context.rotate(-Math.PI/2),f.context.translate(-_,0),f.context.drawImage(u.source,d,p,v,g,-b,m,_,y)):f.context.drawImage(u.source,d,p,v,g,m,b,y,_)}this.cachedTint=this.tint,this._canvasPattern=f.context.createPattern(f.canvas,\"repeat\")}n.globalAlpha=this.worldAlpha,n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.scale(this.tileScale.x/l,this.tileScale.y/l);var x=this.anchor.x*-this._width*l,w=this.anchor.y*-this._height*l;this.uvRespectAnchor?(n.translate(c,h),n.fillRect(-c+x,-h+w,this._width/this.tileScale.x*l,this._height/this.tileScale.y*l)):(n.translate(c+x,h+w),n.fillRect(-c,-h,this._width/this.tileScale.x*l,this._height/this.tileScale.y*l))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,s);var e=this._width,n=this._height,r=-e*this.anchor._x;if(s.x>=r&&s.x<r+e){var i=-n*this.anchor._y;if(s.y>=i&&s.y<i+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,n,r){return new e(o.Texture.from(t),n,r)},e.fromFrame=function(t,n,r){var i=o.utils.TextureCache[t];if(!i)throw new Error('The frameId \"'+t+'\" does not exist in the texture cache '+this);return new e(i,n,r)},e.fromImage=function(t,n,r,i,a){return new e(o.Texture.fromImage(t,i,a),n,r)},i(e,[{key:\"clampMargin\",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:\"tileScale\",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:\"tilePosition\",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:\"width\",get:function(){return this._width},set:function(t){this._width=t}},{key:\"height\",get:function(){return this._height},set:function(t){this._height=t}}]),e}(o.Sprite);e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=n(0);n(7);var o=new r.Matrix,a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.shader=null,r.simpleShader=null,r.quad=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r.Shader(t,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\",\"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 uColor;\\nuniform mat3 uMapCoord;\\nuniform vec4 uClampFrame;\\nuniform vec2 uClampOffset;\\n\\nvoid main(void)\\n{\\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\\n\\n    vec4 sample = texture2D(uSampler, coord);\\n    gl_FragColor = sample * uColor;\\n}\\n\"),this.simpleShader=new r.Shader(t,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\",\"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 uColor;\\n\\nvoid main(void)\\n{\\n    vec4 sample = texture2D(uSampler, vTextureCoord);\\n    gl_FragColor = sample * uColor;\\n}\\n\"),this.renderer.bindVao(null),this.quad=new r.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,n=this.quad;e.bindVao(n.vao);var a=n.vertices;a[0]=a[6]=t._width*-t.anchor.x,a[1]=a[3]=t._height*-t.anchor.y,a[2]=a[4]=t._width*(1-t.anchor.x),a[5]=a[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((a=n.uvs)[0]=a[6]=-t.anchor.x,a[1]=a[3]=-t.anchor.y,a[2]=a[4]=1-t.anchor.x,a[5]=a[7]=1-t.anchor.y),n.upload();var s=t._texture,u=s.baseTexture,l=t.tileTransform.localTransform,c=t.uvTransform,h=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;h&&(u._glTextures[e.CONTEXT_UID]?h=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));var f=h?this.simpleShader:this.shader;e.bindShader(f);var d=s.width,p=s.height,v=t._width,g=t._height;o.set(l.a*d/v,l.b*d/g,l.c*p/v,l.d*p/g,l.tx/v,l.ty/g),o.invert(),h?o.prepend(c.mapCoord):(f.uniforms.uMapCoord=c.mapCoord.toArray(!0),f.uniforms.uClampFrame=c.uClampFrame,f.uniforms.uClampOffset=c.uClampOffset),f.uniforms.uTransform=o.toArray(!0),f.uniforms.uColor=r.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(s),e.setBlendMode(r.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(r.ObjectRenderer);e.default=a,r.WebGLRenderer.registerPlugin(\"tilingSprite\",a)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=u(n(39)),a=n(2),s=u(n(3));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||\"left\",name:null,size:0},i.font=r.font,i._text=n,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],n=this._font.size/t.size,r=new i.Point,o=[],a=[],s=this.text.replace(/(?:\\r\\n|\\r)/g,\"\\n\"),u=s.length,l=this._maxWidth*t.size/this._font.size,c=null,h=0,f=0,d=0,p=-1,v=0,g=0,y=0,_=0;_<u;_++){var m=s.charCodeAt(_),b=s.charAt(_);if(/(?:\\s)/.test(b)&&(p=_,v=h),\"\\r\"!==b&&\"\\n\"!==b){var x=t.chars[m];x&&(c&&x.kerning[c]&&(r.x+=x.kerning[c]),o.push({texture:x.texture,line:d,charCode:m,position:new i.Point(r.x+x.xOffset+this._letterSpacing/2,r.y+x.yOffset)}),r.x+=x.xAdvance+this._letterSpacing,h=r.x,y=Math.max(y,x.yOffset+x.texture.height),c=m,-1!==p&&l>0&&r.x>l&&(++g,i.utils.removeItems(o,1+p-g,1+_-p),_=p,p=-1,a.push(v),f=Math.max(f,v),d++,r.x=0,r.y+=t.lineHeight,c=null))}else a.push(h),f=Math.max(f,h),++d,++g,r.x=0,r.y+=t.lineHeight,c=null}var w=s.charAt(s.length-1);\"\\r\"!==w&&\"\\n\"!==w&&(/(?:\\s)/.test(w)&&(h=v),a.push(h),f=Math.max(f,h));for(var T=[],E=0;E<=d;E++){var M=0;\"right\"===this._font.align?M=f-a[E]:\"center\"===this._font.align&&(M=(f-a[E])/2),T.push(M)}for(var S=o.length,O=this.tint,C=0;C<S;C++){var A=this._glyphs[C];A?A.texture=o[C].texture:(A=new i.Sprite(o[C].texture),this._glyphs.push(A)),A.position.x=(o[C].position.x+T[o[C].line])*n,A.position.y=o[C].position.y*n,A.scale.x=A.scale.y=n,A.tint=O,A.parent||this.addChild(A)}for(var P=S;P<this._glyphs.length;++P)this.removeChild(this._glyphs[P]);if(this._textWidth=f*n,this._textHeight=(r.y+t.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var R=0;R<S;R++)this._glyphs[R].x-=this._textWidth*this.anchor.x,this._glyphs[R].y-=this._textHeight*this.anchor.y;this._maxLineHeight=y*n},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,n){var r={},o=t.getElementsByTagName(\"info\")[0],u=t.getElementsByTagName(\"common\")[0],l=t.getElementsByTagName(\"page\"),c=(0,a.getResolutionOfUrl)(l[0].getAttribute(\"file\"),s.default.RESOLUTION),h={};r.font=o.getAttribute(\"face\"),r.size=parseInt(o.getAttribute(\"size\"),10),r.lineHeight=parseInt(u.getAttribute(\"lineHeight\"),10)/c,r.chars={},n instanceof i.Texture&&(n=[n]);for(var f=0;f<l.length;f++){var d=l[f].getAttribute(\"id\"),p=l[f].getAttribute(\"file\");h[d]=n instanceof Array?n[f]:n[p]}for(var v=t.getElementsByTagName(\"char\"),g=0;g<v.length;g++){var y=v[g],_=parseInt(y.getAttribute(\"id\"),10),m=y.getAttribute(\"page\")||0,b=new i.Rectangle(parseInt(y.getAttribute(\"x\"),10)/c+h[m].frame.x/c,parseInt(y.getAttribute(\"y\"),10)/c+h[m].frame.y/c,parseInt(y.getAttribute(\"width\"),10)/c,parseInt(y.getAttribute(\"height\"),10)/c);r.chars[_]={xOffset:parseInt(y.getAttribute(\"xoffset\"),10)/c,yOffset:parseInt(y.getAttribute(\"yoffset\"),10)/c,xAdvance:parseInt(y.getAttribute(\"xadvance\"),10)/c,kerning:{},texture:new i.Texture(h[m].baseTexture,b),page:m}}for(var x=t.getElementsByTagName(\"kerning\"),w=0;w<x.length;w++){var T=x[w],E=parseInt(T.getAttribute(\"first\"),10)/c,M=parseInt(T.getAttribute(\"second\"),10)/c,S=parseInt(T.getAttribute(\"amount\"),10)/c;r.chars[M]&&(r.chars[M].kerning[E]=S)}return e.fonts[r.font]=r,r},r(e,[{key:\"tint\",get:function(){return this._font.tint},set:function(t){this._font.tint=\"number\"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:\"align\",get:function(){return this._font.align},set:function(t){this._font.align=t||\"left\",this.dirty=!0}},{key:\"anchor\",get:function(){return this._anchor},set:function(t){\"number\"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:\"font\",get:function(){return this._font},set:function(t){t&&(\"string\"==typeof t?(t=t.split(\" \"),this._font.name=1===t.length?t[0]:t.slice(1).join(\" \"),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size=\"number\"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:\"text\",get:function(){return this._text},set:function(t){t=t.toString()||\" \",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:\"maxWidth\",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:\"maxLineHeight\",get:function(){return this.validate(),this._maxLineHeight}},{key:\"textWidth\",get:function(){return this.validate(),this._textWidth}},{key:\"letterSpacing\",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:\"textHeight\",get:function(){return this.validate(),this._textHeight}}]),e}(i.Container);e.default=l,l.fonts={}},function(t,e,n){\"use strict\";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=s(n(8)),o=s(n(10)),a=n(2);function s(t){return t&&t.__esModule?t:{default:t}}var u=r.DisplayObject,l=new r.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null}),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var n=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var s=this._filters[0].padding;n.pad(s)}n.ceil(r.settings.RESOLUTION);var u=t._activeRenderTarget,c=t.filterManager.filterStack,h=r.RenderTexture.create(n.width,n.height),f=\"cacheAsBitmap_\"+(0,a.uid)();this._cacheData.textureCacheId=f,o.default.addToCache(h.baseTexture,f),i.default.addToCache(h,f);var d=l;d.tx=-n.x,d.ty=-n.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,h,!0,d,!0),t.bindRenderTarget(u),t.filterManager.filterStack=c,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var p=new r.Sprite(h);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-n.x/n.width,p.anchor.y=-n.y/n.height,p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),n=this.alpha;this.alpha=1;var s=t.context;e.ceil(r.settings.RESOLUTION);var u=r.RenderTexture.create(e.width,e.height),c=\"cacheAsBitmap_\"+(0,a.uid)();this._cacheData.textureCacheId=c,o.default.addToCache(u.baseTexture,c),i.default.addToCache(u,c);var h=l;this.transform.localTransform.copy(h),h.invert(),h.tx-=e.x,h.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,h,!1),t.context=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var f=new r.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}},u.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,n){\"use strict\";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,n){\"use strict\";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));r.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new r.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(166);Object.defineProperty(e,\"FXAAFilter\",{enumerable:!0,get:function(){return h(r).default}});var i=n(167);Object.defineProperty(e,\"NoiseFilter\",{enumerable:!0,get:function(){return h(i).default}});var o=n(168);Object.defineProperty(e,\"DisplacementFilter\",{enumerable:!0,get:function(){return h(o).default}});var a=n(169);Object.defineProperty(e,\"BlurFilter\",{enumerable:!0,get:function(){return h(a).default}});var s=n(73);Object.defineProperty(e,\"BlurXFilter\",{enumerable:!0,get:function(){return h(s).default}});var u=n(77);Object.defineProperty(e,\"BlurYFilter\",{enumerable:!0,get:function(){return h(u).default}});var l=n(170);Object.defineProperty(e,\"ColorMatrixFilter\",{enumerable:!0,get:function(){return h(l).default}});var c=n(171);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"AlphaFilter\",{enumerable:!0,get:function(){return h(c).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nuniform vec4 filterArea;\\n\\nvarying vec2 vTextureCoord;\\n\\nvec2 mapCoord( vec2 coord )\\n{\\n    coord *= filterArea.xy;\\n    coord += filterArea.zw;\\n\\n    return coord;\\n}\\n\\nvec2 unmapCoord( vec2 coord )\\n{\\n    coord -= filterArea.zw;\\n    coord /= filterArea.xy;\\n\\n    return coord;\\n}\\n\\nvoid texcoords(vec2 fragCoord, vec2 resolution,\\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\\n               out vec2 v_rgbM) {\\n    vec2 inverseVP = 1.0 / resolution.xy;\\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\\n    v_rgbM = vec2(fragCoord * inverseVP);\\n}\\n\\nvoid main(void) {\\n\\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n   vTextureCoord = aTextureCoord;\\n\\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\\n\\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n}\",'varying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nvarying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform vec4 filterArea;\\n\\n/**\\n Basic FXAA implementation based on the code on geeks3d.com with the\\n modification that the texture2DLod stuff was removed since it\\'s\\n unsupported by WebGL.\\n \\n --\\n \\n From:\\n https://github.com/mitsuhiko/webgl-meincraft\\n \\n Copyright (c) 2011 by Armin Ronacher.\\n \\n Some rights reserved.\\n \\n Redistribution and use in source and binary forms, with or without\\n modification, are permitted provided that the following conditions are\\n met:\\n \\n * Redistributions of source code must retain the above copyright\\n notice, this list of conditions and the following disclaimer.\\n \\n * Redistributions in binary form must reproduce the above\\n copyright notice, this list of conditions and the following\\n disclaimer in the documentation and/or other materials provided\\n with the distribution.\\n \\n * The names of the contributors may not be used to endorse or\\n promote products derived from this software without specific\\n prior written permission.\\n \\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\\n \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\\n */\\n\\n#ifndef FXAA_REDUCE_MIN\\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\\n#endif\\n#ifndef FXAA_REDUCE_MUL\\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\\n#endif\\n#ifndef FXAA_SPAN_MAX\\n#define FXAA_SPAN_MAX     8.0\\n#endif\\n\\n//optimized version for mobile, where dependent\\n//texture reads can be a bottleneck\\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\\n          vec2 v_rgbNW, vec2 v_rgbNE,\\n          vec2 v_rgbSW, vec2 v_rgbSE,\\n          vec2 v_rgbM) {\\n    vec4 color;\\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\\n    vec4 texColor = texture2D(tex, v_rgbM);\\n    vec3 rgbM  = texColor.xyz;\\n    vec3 luma = vec3(0.299, 0.587, 0.114);\\n    float lumaNW = dot(rgbNW, luma);\\n    float lumaNE = dot(rgbNE, luma);\\n    float lumaSW = dot(rgbSW, luma);\\n    float lumaSE = dot(rgbSE, luma);\\n    float lumaM  = dot(rgbM,  luma);\\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\\n    \\n    mediump vec2 dir;\\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n    \\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\\n    \\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n                  dir * rcpDirMin)) * inverseVP;\\n    \\n    vec3 rgbA = 0.5 * (\\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\\n    \\n    float lumaB = dot(rgbB, luma);\\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\\n        color = vec4(rgbA, texColor.a);\\n    else\\n        color = vec4(rgbB, texColor.a);\\n    return color;\\n}\\n\\nvoid main() {\\n\\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\\n\\n      vec4 color;\\n\\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n\\n      gl_FragColor = color;\\n}\\n'))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.Filter);e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"precision highp float;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\n\\nuniform float uNoise;\\nuniform float uSeed;\\nuniform sampler2D uSampler;\\n\\nfloat rand(vec2 co)\\n{\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\n}\\n\\nvoid main()\\n{\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\\n    float diff = (randomValue - 0.5) * uNoise;\\n\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (color.a > 0.0) {\\n        color.rgb /= color.a;\\n    }\\n\\n    color.r += diff;\\n    color.g += diff;\\n    color.b += diff;\\n\\n    // Premultiply alpha again.\\n    color.rgb *= color.a;\\n\\n    gl_FragColor = color;\\n}\\n\"));return i.noise=n,i.seed=r,i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:\"noise\",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:\"seed\",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(i.Filter);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o=new i.Matrix;n.renderable=!1;var a=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 filterMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec2 vFilterCoord;\\n\\nvoid main(void)\\n{\\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\n   vTextureCoord = aTextureCoord;\\n}\",\"varying vec2 vFilterCoord;\\nvarying vec2 vTextureCoord;\\n\\nuniform vec2 scale;\\n\\nuniform sampler2D uSampler;\\nuniform sampler2D mapSampler;\\n\\nuniform vec4 filterArea;\\nuniform vec4 filterClamp;\\n\\nvoid main(void)\\n{\\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\\n\\n  map -= 0.5;\\n  map.xy *= scale / filterArea.xy;\\n\\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\\n}\\n\"));return a.maskSprite=n,a.maskMatrix=o,a.uniforms.mapSampler=n._texture,a.uniforms.filterMatrix=o,a.uniforms.scale={x:1,y:1},null==r&&(r=20),a.scale=new i.Point(r,r),a}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,n)},r(e,[{key:\"map\",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(i.Filter);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=s(n(73)),a=s(n(77));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return l.blurXFilter=new o.default(n,r,s,u),l.blurYFilter=new a.default(n,r,s,u),l.padding=0,l.resolution=s||i.settings.RESOLUTION,l.quality=r||4,l.blur=n||8,l}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){var r=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,r,!0),this.blurYFilter.apply(t,r,n,!1),t.returnRenderTarget(r)},r(e,[{key:\"blur\",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:\"quality\",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:\"blurX\",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:\"blurY\",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:\"blendMode\",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(i.Filter);e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"varying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform float m[20];\\nuniform float uAlpha;\\n\\nvoid main(void)\\n{\\n    vec4 c = texture2D(uSampler, vTextureCoord);\\n\\n    if (uAlpha == 0.0) {\\n        gl_FragColor = c;\\n        return;\\n    }\\n\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (c.a > 0.0) {\\n      c.rgb /= c.a;\\n    }\\n\\n    vec4 result;\\n\\n    result.r = (m[0] * c.r);\\n        result.r += (m[1] * c.g);\\n        result.r += (m[2] * c.b);\\n        result.r += (m[3] * c.a);\\n        result.r += m[4];\\n\\n    result.g = (m[5] * c.r);\\n        result.g += (m[6] * c.g);\\n        result.g += (m[7] * c.b);\\n        result.g += (m[8] * c.a);\\n        result.g += m[9];\\n\\n    result.b = (m[10] * c.r);\\n       result.b += (m[11] * c.g);\\n       result.b += (m[12] * c.b);\\n       result.b += (m[13] * c.a);\\n       result.b += m[14];\\n\\n    result.a = (m[15] * c.r);\\n       result.a += (m[16] * c.g);\\n       result.a += (m[17] * c.b);\\n       result.a += (m[18] * c.a);\\n       result.a += m[19];\\n\\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\\n\\n    // Premultiply alpha again.\\n    rgb *= result.a;\\n\\n    gl_FragColor = vec4(rgb, result.a);\\n}\\n\"));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n.alpha=1,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=2*t/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,u=((r=r||3375104)>>16&255)/255,l=(r>>8&255)/255,c=(255&r)/255,h=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,u,l,c,e=e||.15,0,o-u,a-l,s-c,0,0];this._loadMatrix(h,i)},e.prototype.night=function(t,e){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},r(e,[{key:\"matrix\",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:\"alpha\",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform float uAlpha;\\n\\nvoid main(void)\\n{\\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\\n}\\n\"));return r.alpha=n,r.glShaderKey=\"alpha\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:\"alpha\",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(78);Object.defineProperty(e,\"InteractionData\",{enumerable:!0,get:function(){return u(r).default}});var i=n(173);Object.defineProperty(e,\"InteractionManager\",{enumerable:!0,get:function(){return u(i).default}});var o=n(81);Object.defineProperty(e,\"interactiveTarget\",{enumerable:!0,get:function(){return u(o).default}});var a=n(80);Object.defineProperty(e,\"InteractionTrackingData\",{enumerable:!0,get:function(){return u(a).default}});var s=n(79);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"InteractionEvent\",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=c(n(78)),a=c(n(79)),s=c(n(80)),u=c(n(9)),l=c(n(81));function c(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,l.default);var h=1,f={target:null,data:{global:null}},d=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r=r||{},s.renderer=n,s.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,s.interactionFrequency=r.interactionFrequency||10,s.mouse=new o.default,s.mouse.identifier=h,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[h]=s.mouse,s.interactionDataPool=[],s.eventData=new a.default,s.interactionDOMElement=null,s.moveWhenInside=!1,s.eventsAdded=!1,s.mouseOverRenderer=!1,s.supportsTouchEvents=\"ontouchstart\"in window,s.supportsPointerEvents=!!window.PointerEvent,s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={default:\"inherit\",pointer:\"pointer\"},s.currentCursorMode=null,s.cursor=null,s._tempPoint=new i.Point,s.resolution=1,s.setTargetElement(s.renderer.view,s.renderer.resolution),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style[\"-ms-content-zooming\"]=\"none\",this.interactionDOMElement.style[\"-ms-touch-action\"]=\"none\"):this.supportsPointerEvents&&(this.interactionDOMElement.style[\"touch-action\"]=\"none\"),this.supportsPointerEvents?(window.document.addEventListener(\"pointermove\",this.onPointerMove,!0),this.interactionDOMElement.addEventListener(\"pointerdown\",this.onPointerDown,!0),this.interactionDOMElement.addEventListener(\"pointerleave\",this.onPointerOut,!0),this.interactionDOMElement.addEventListener(\"pointerover\",this.onPointerOver,!0),window.addEventListener(\"pointercancel\",this.onPointerCancel,!0),window.addEventListener(\"pointerup\",this.onPointerUp,!0)):(window.document.addEventListener(\"mousemove\",this.onPointerMove,!0),this.interactionDOMElement.addEventListener(\"mousedown\",this.onPointerDown,!0),this.interactionDOMElement.addEventListener(\"mouseout\",this.onPointerOut,!0),this.interactionDOMElement.addEventListener(\"mouseover\",this.onPointerOver,!0),window.addEventListener(\"mouseup\",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener(\"touchstart\",this.onPointerDown,!0),this.interactionDOMElement.addEventListener(\"touchcancel\",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener(\"touchend\",this.onPointerUp,!0),this.interactionDOMElement.addEventListener(\"touchmove\",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style[\"-ms-content-zooming\"]=\"\",this.interactionDOMElement.style[\"-ms-touch-action\"]=\"\"):this.supportsPointerEvents&&(this.interactionDOMElement.style[\"touch-action\"]=\"\"),this.supportsPointerEvents?(window.document.removeEventListener(\"pointermove\",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener(\"pointerdown\",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener(\"pointerleave\",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener(\"pointerover\",this.onPointerOver,!0),window.removeEventListener(\"pointercancel\",this.onPointerCancel,!0),window.removeEventListener(\"pointerup\",this.onPointerUp,!0)):(window.document.removeEventListener(\"mousemove\",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener(\"mousedown\",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener(\"mouseout\",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener(\"mouseover\",this.onPointerOver,!0),window.removeEventListener(\"mouseup\",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener(\"touchstart\",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener(\"touchcancel\",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener(\"touchend\",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener(\"touchmove\",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&\"touch\"!==n.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||\"default\",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?\"undefined\":r(e)){case\"string\":this.interactionDOMElement.style.cursor=e;break;case\"function\":e(t);break;case\"object\":Object.assign(this.interactionDOMElement.style,e)}else\"string\"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.mapPositionToPoint=function(t,e,n){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*i,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},e.prototype.processInteractive=function(t,e,n,r,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i,u=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,u=!1)),s=!1):e._mask&&r&&(e._mask.containsPoint(o)||(r=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,c=l.length-1;c>=0;c--){var h=l[c],f=this.processInteractive(t,h,n,r,s);if(f){if(!h.parent)continue;s=!1,f&&(t.target&&(r=!1),a=!0)}}return i&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),n&&n(t,e,!!a))),a},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||\"touch\"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit(\"pointerdown\",a),\"touch\"===i.pointerType)this.emit(\"touchstart\",a);else if(\"mouse\"===i.pointerType||\"pen\"===i.pointerType){var s=2===i.button;this.emit(s?\"rightdown\":\"mousedown\",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var r=t.data,i=t.data.identifier;if(n)if(e.trackedPointers[i]||(e.trackedPointers[i]=new s.default(i)),this.dispatchEvent(e,\"pointerdown\",t),\"touch\"===r.pointerType)this.dispatchEvent(e,\"touchstart\",t);else if(\"mouse\"===r.pointerType||\"pen\"===r.pointerType){var o=2===r.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?\"rightdown\":\"mousedown\",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var r=this.normalizeToPointerData(t),i=r.length,o=t.target!==this.interactionDOMElement?\"outside\":\"\",a=0;a<i;a++){var s=r[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=t,this.processInteractive(l,this.renderer._lastObjectRendered,n,e||!o),this.emit(e?\"pointercancel\":\"pointerup\"+o,l),\"mouse\"===s.pointerType||\"pen\"===s.pointerType){var c=2===s.button;this.emit(c?\"rightup\"+o:\"mouseup\"+o,l)}else\"touch\"===s.pointerType&&(this.emit(e?\"touchcancel\":\"touchend\"+o,l),this.releaseInteractionDataForPointerId(s.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&\"touch\"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,\"pointercancel\",t),\"touch\"===n.pointerType&&this.dispatchEvent(e,\"touchcancel\",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&\"touch\"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var r=t.data,i=t.data.identifier,o=e.trackedPointers[i],a=\"touch\"===r.pointerType,u=\"mouse\"===r.pointerType||\"pen\"===r.pointerType,l=!1;if(u){var c=2===r.button,h=s.default.FLAGS,f=c?h.RIGHT_DOWN:h.LEFT_DOWN,d=void 0!==o&&o.flags&f;n?(this.dispatchEvent(e,c?\"rightup\":\"mouseup\",t),d&&(this.dispatchEvent(e,c?\"rightclick\":\"click\",t),l=!0)):d&&this.dispatchEvent(e,c?\"rightupoutside\":\"mouseupoutside\",t),o&&(c?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(e,\"pointerup\",t),a&&this.dispatchEvent(e,\"touchend\",t),o&&(u&&!l||this.dispatchEvent(e,\"pointertap\",t),a&&(this.dispatchEvent(e,\"tap\",t),o.over=!1))):o&&(this.dispatchEvent(e,\"pointerupoutside\",t),a&&this.dispatchEvent(e,\"touchendoutside\",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||\"touch\"!==t.pointerType){var e=this.normalizeToPointerData(t);\"mouse\"!==e[0].pointerType&&\"pen\"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t;var s=\"touch\"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit(\"pointermove\",a),\"touch\"===i.pointerType&&this.emit(\"touchmove\",a),\"mouse\"!==i.pointerType&&\"pen\"!==i.pointerType||this.emit(\"mousemove\",a)}\"mouse\"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var r=t.data,i=\"touch\"===r.pointerType,o=\"mouse\"===r.pointerType||\"pen\"===r.pointerType;o&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,\"pointermove\",t),i&&this.dispatchEvent(e,\"touchmove\",t),o&&this.dispatchEvent(e,\"mousemove\",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||\"touch\"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];\"mouse\"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit(\"pointerout\",r),\"mouse\"===e.pointerType||\"pen\"===e.pointerType?this.emit(\"mouseout\",r):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var r=t.data,i=t.data.identifier,o=\"mouse\"===r.pointerType||\"pen\"===r.pointerType,a=e.trackedPointers[i];n&&!a&&(a=e.trackedPointers[i]=new s.default(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(e,\"pointerover\",t),o&&this.dispatchEvent(e,\"mouseover\",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,\"pointerout\",this.eventData),o&&this.dispatchEvent(e,\"mouseout\",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,\"mouse\"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit(\"pointerover\",r),\"mouse\"!==e.pointerType&&\"pen\"!==e.pointerType||this.emit(\"mouseover\",r)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,n=void 0;return e===h||\"mouse\"===t.pointerType?n=this.mouse:this.activeInteractionData[e]?n=this.activeInteractionData[e]:((n=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=n),n.copyEvent(t),n},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),navigator.isCocoonJS&&\"touch\"===e.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),\"touch\"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,r=t.changedTouches.length;n<r;n++){var i=t.changedTouches[n];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&\"touchstart\"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType=\"touch\"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType=\"mouse\"),void 0===t.pointerId&&(t.pointerId=h),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=d,i.WebGLRenderer.registerPlugin(\"interaction\",d),i.CanvasRenderer.registerPlugin(\"interaction\",d)},function(t,e,n){\"use strict\";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var r=n(82);Object.defineProperty(e,\"bitmapFontParser\",{enumerable:!0,get:function(){return l(r).default}}),Object.defineProperty(e,\"parseBitmapFontData\",{enumerable:!0,get:function(){return r.parse}});var i=n(87);Object.defineProperty(e,\"spritesheetParser\",{enumerable:!0,get:function(){return l(i).default}}),Object.defineProperty(e,\"getResourcePath\",{enumerable:!0,get:function(){return i.getResourcePath}});var o=n(88);Object.defineProperty(e,\"textureParser\",{enumerable:!0,get:function(){return l(o).default}});var a=n(15);Object.defineProperty(e,\"Resource\",{enumerable:!0,get:function(){return a.Resource}});var s=l(n(69)),u=l(n(176));function l(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var c=new u.default;c.destroy=function(){},e.shared=c;var h=s.default.prototype;h._loader=null,Object.defineProperty(h,\"loader\",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?c:new u.default}return this._loader}}),h._parentDestroy=h.destroy,h.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},function(t,e,n){\"use strict\";e.__esModule=!0,e.Loader=void 0;var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(n(83)),a=l(n(84)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(85)),u=n(36);function l(t){return t&&t.__esModule?t:{default:t}}var c=/(#[\\w-]+)?$/,h=e.Loader=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString=\"\",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,n){return e._loadResource(t,n)},this._queue=s.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default;for(var i=0;i<t._defaultBeforeMiddleware.length;++i)this.pre(t._defaultBeforeMiddleware[i]);for(var a=0;a<t._defaultAfterMiddleware.length;++a)this.use(t._defaultAfterMiddleware[a])}return t.prototype.add=function(t,e,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if(\"object\"===(void 0===t?\"undefined\":r(t))&&(i=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),\"string\"!=typeof e&&(i=n,n=e,e=t),\"string\"!=typeof e)throw new Error(\"No url passed to add resource to loader.\");if(\"function\"==typeof n&&(i=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error(\"Cannot add resources while the loader is running.\");if(this.resources[t])throw new Error('Resource named \"'+t+'\" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.Resource(t,e,n),\"function\"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,s=[],l=0;l<a.children.length;++l)a.children[l].isComplete||s.push(a.children[l]);var c=a.progressChunk*(s.length+1)/(s.length+2);a.children.push(this.resources[t]),a.progressChunk=c;for(var h=0;h<s.length;++h)s[h].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if(\"function\"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,a.default)(t,{strictMode:!0}),n=void 0;if(n=e.protocol||!e.path||0===t.indexOf(\"//\")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf(\"/\")!==this.baseUrl.length-1&&\"/\"!==t.charAt(0)?this.baseUrl+\"/\"+t:this.baseUrl+t,this.defaultQueryString){var r=c.exec(n)[0];-1!==(n=n.substr(0,n.length-r.length)).indexOf(\"?\")?n+=\"&\"+this.defaultQueryString:n+=\"?\"+this.defaultQueryString,n+=r}return n},t.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,s.eachSeries(this._beforeMiddleware,function(e,r){e.call(n,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),s.eachSeries(this._afterMiddleware,function(n,r){n.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},i(t,[{key:\"concurrency\",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();h._defaultBeforeMiddleware=[],h._defaultAfterMiddleware=[],h.pre=function(t){return h._defaultBeforeMiddleware.push(t),h},h.use=function(t){return h._defaultAfterMiddleware.push(t),h}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=l(n(15)),i=n(177),o=l(n(9)),a=l(n(88)),s=l(n(87)),u=l(n(82));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,r));o.default.call(i);for(var a=0;a<e._pixiMiddleware.length;++a)i.use(e._pixiMiddleware[a]());return i.onStart.add(function(t){return i.emit(\"start\",t)}),i.onProgress.add(function(t,e){return i.emit(\"progress\",t,e)}),i.onError.add(function(t,e,n){return i.emit(\"error\",t,e,n)}),i.onLoad.add(function(t,e){return i.emit(\"load\",t,e)}),i.onComplete.add(function(t,e){return i.emit(\"complete\",t,e)}),i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(r.default);for(var h in e.default=c,o.default.prototype)c.prototype[h]=o.default.prototype[h];c._pixiMiddleware=[i.blobMiddlewareFactory,a.default,s.default,u.default];var f=r.default.Resource;f.setExtensionXhrType(\"fnt\",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,n){\"use strict\";e.__esModule=!0,e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===r.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&\"string\"!=typeof t.data){if(0===t.data.type.indexOf(\"image\")){var n=o.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=r.Resource.TYPE.IMAGE,void(t.data.onload=function(){o.revokeObjectURL(n),t.data.onload=null,e()})}}else{var a=t.xhr.getResponseHeader(\"content-type\");if(a&&0===a.indexOf(\"image\"))return t.data=new Image,t.data.src=\"data:\"+a+\";base64,\"+(0,i.encodeBinary)(t.xhr.responseText),t.type=r.Resource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}};var r=n(36),i=n(86),o=window.URL||window.webkitURL},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(16);Object.defineProperty(e,\"Mesh\",{enumerable:!0,get:function(){return l(r).default}});var i=n(179);Object.defineProperty(e,\"MeshRenderer\",{enumerable:!0,get:function(){return l(i).default}});var o=n(180);Object.defineProperty(e,\"CanvasMeshRenderer\",{enumerable:!0,get:function(){return l(o).default}});var a=n(89);Object.defineProperty(e,\"Plane\",{enumerable:!0,get:function(){return l(a).default}});var s=n(181);Object.defineProperty(e,\"NineSlicePlane\",{enumerable:!0,get:function(){return l(s).default}});var u=n(182);function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"Rope\",{enumerable:!0,get:function(){return l(u).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=a(n(5)),o=a(n(16));function a(t){return t&&t.__esModule?t:{default:t}}n(7);var s=r.Matrix.IDENTITY,u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.shader=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r.Shader(t,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\",\"varying vec2 vTextureCoord;\\nuniform vec4 uColor;\\n\\nuniform sampler2D uSampler;\\n\\nvoid main(void)\\n{\\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\\n}\\n\")},e.prototype.render=function(t){var e=this.renderer,n=e.gl,a=t._texture;if(a.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(n,t.vertices,n.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(n,t.uvs,n.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(n,t.indices,n.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty}).vao=new i.default.VertexArrayObject(n).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),t.vertexDirty!==u.vertexDirty&&(u.vertexDirty=t.vertexDirty,u.vertexBuffer.upload(t.vertices)),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(a),e.state.setBlendMode(r.utils.correctBlendMode(t.blendMode,a.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=s.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,a.baseTexture.premultipliedAlpha);var l=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;u.vao.draw(l,t.indices.length,0)}},e}(r.ObjectRenderer);e.default=u,r.WebGLRenderer.registerPlugin(\"mesh\",u)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=(r=n(16))&&r.__esModule?r:{default:r},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldTransform,i=e.resolution;e.roundPixels?n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i|0,r.ty*i|0):n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,n=0;n<e-2;n++){var r=2*n;this._renderDrawTriangle(t,r,r+2,r+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,n=e.length,r=0;r<n;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2];this._renderDrawTriangle(t,i,o,a)}},t.prototype._renderDrawTriangle=function(t,e,n,r){var i=this.renderer.context,o=t.uvs,a=t.vertices,s=t._texture;if(s.valid){var u=s.baseTexture,l=u.source,c=u.width,h=u.height,f=void 0,d=void 0,p=void 0,v=void 0,g=void 0,y=void 0;if(t.uploadUvTransform){var _=t._uvTransform.mapCoord;f=(o[e]*_.a+o[e+1]*_.c+_.tx)*u.width,d=(o[n]*_.a+o[n+1]*_.c+_.tx)*u.width,p=(o[r]*_.a+o[r+1]*_.c+_.tx)*u.width,v=(o[e]*_.b+o[e+1]*_.d+_.ty)*u.height,g=(o[n]*_.b+o[n+1]*_.d+_.ty)*u.height,y=(o[r]*_.b+o[r+1]*_.d+_.ty)*u.height}else f=o[e]*u.width,d=o[n]*u.width,p=o[r]*u.width,v=o[e+1]*u.height,g=o[n+1]*u.height,y=o[r+1]*u.height;var m=a[e],b=a[n],x=a[r],w=a[e+1],T=a[n+1],E=a[r+1],M=t.canvasPadding/this.renderer.resolution;if(M>0){var S=M/Math.abs(t.worldTransform.a),O=M/Math.abs(t.worldTransform.d),C=(m+b+x)/3,A=(w+T+E)/3,P=m-C,R=w-A,I=Math.sqrt(P*P+R*R);m=C+P/I*(I+S),w=A+R/I*(I+O),R=T-A,b=C+(P=b-C)/(I=Math.sqrt(P*P+R*R))*(I+S),T=A+R/I*(I+O),R=E-A,x=C+(P=x-C)/(I=Math.sqrt(P*P+R*R))*(I+S),E=A+R/I*(I+O)}i.save(),i.beginPath(),i.moveTo(m,w),i.lineTo(b,T),i.lineTo(x,E),i.closePath(),i.clip();var D=f*g+v*p+d*y-g*p-v*d-f*y,k=m*g+v*x+b*y-g*x-v*b-m*y,N=f*b+m*p+d*x-b*p-m*d-f*x,L=f*g*x+v*b*p+m*d*y-m*g*p-v*d*x-f*b*y,j=w*g+v*E+T*y-g*E-v*T-w*y,F=f*T+w*p+d*E-T*p-w*d-f*E,U=f*g*E+v*T*p+w*d*y-w*g*p-v*d*E-f*T*y;i.transform(k/D,j/D,N/D,F/D,L/D,U/D),i.drawImage(l,0,0,c*u.resolution,h*u.resolution,0,0,c,h),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,n=t.vertices,r=n.length/2;e.beginPath();for(var i=1;i<r-2;++i){var o=2*i,a=n[o],s=n[o+1],u=n[o+2],l=n[o+3],c=n[o+4],h=n[o+5];e.moveTo(a,s),e.lineTo(u,l),e.lineTo(c,h)}e.fillStyle=\"#FF0000\",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,i.CanvasRenderer.registerPlugin(\"mesh\",a)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(89)),o=a(n(17));function a(t){return t&&t.__esModule?t:{default:t}}var s=10,u=function(t){function e(n,r,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,4,4));return u._origWidth=n.orig.width,u._origHeight=n.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth=void 0!==r?r:s,u._rightWidth=void 0!==o?o:s,u._topHeight=void 0!==i?i:s,u._bottomHeight=void 0!==a?a:s,u._cachedTint=16777215,u._tintedTexture=null,u._canvasUvs=null,u.refresh(!0),u}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,n=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*n,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*n,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*n,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*n,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context,n=this.worldTransform,r=t.resolution,i=16777215!==this.tint,a=this._texture;i&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=o.default.getTintedTexture(this,this.tint));var s=i?this._tintedTexture:a.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var u=this.vertices,l=this._canvasUvs,c=i?0:a.frame.x,h=i?0:a.frame.y,f=c+a.frame.width,d=h+a.frame.height;l[0]=c,l[1]=c+this._leftWidth,l[2]=f-this._rightWidth,l[3]=f,l[4]=h,l[5]=h+this._topHeight,l[6]=d-this._bottomHeight,l[7]=d;for(var p=0;p<8;p++)l[p]*=a.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.roundPixels?e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r|0,n.ty*r|0):e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r);for(var v=0;v<3;v++)for(var g=0;g<3;g++){var y=2*g+8*v,_=Math.max(1,l[g+1]-l[g]),m=Math.max(1,l[v+5]-l[v+4]),b=Math.max(1,u[y+10]-u[y]),x=Math.max(1,u[y+11]-u[y+1]);e.drawImage(s,l[g],l[v+4],_,m,u[y],u[y+1],b,x)}},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,n=this._texture;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},r(e,[{key:\"width\",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:\"height\",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:\"leftWidth\",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:\"rightWidth\",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:\"topHeight\",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:\"bottomHeight\",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(i.default);e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return i.points=r,i.vertices=new Float32Array(4*r.length),i.uvs=new Float32Array(4*r.length),i.colors=new Float32Array(2*r.length),i.indices=new Uint16Array(2*r.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,n=this.indices,r=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,r[0]=1,r[1]=1,n[0]=0,n[1]=1;for(var i=t.length,o=1;o<i;o++){var a=4*o,s=o/(i-1);e[a]=s,e[a+1]=0,e[a+2]=s,e[a+3]=1,r[a=2*o]=1,r[a+1]=1,n[a=2*o]=a,n[a+1]=a+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],n=void 0,r=0,i=0,o=this.vertices,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s;i=-((n=s<t.length-1?t[s+1]:u).x-e.x),r=n.y-e.y;var c=10*(1-s/(a-1));c>1&&(c=1);var h=Math.sqrt(r*r+i*i),f=this._texture.height/2;r/=h,i/=h,r*=f,i*=f,o[l]=u.x+r,o[l+1]=u.y+i,o[l+2]=u.x-r,o[l+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(((r=n(16))&&r.__esModule?r:{default:r}).default);e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(184);Object.defineProperty(e,\"ParticleContainer\",{enumerable:!0,get:function(){return o(r).default}});var i=n(185);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"ParticleRenderer\",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(2),a=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,r=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>n&&(o=n),s._properties=[!1,!0,!1,!1,!1],s._maxSize=n,s._batchSize=o,s._glBuffers={},s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=i.BLEND_MODES.NORMAL,s.autoResize=a,s.roundPixels=!0,s.baseTexture=null,s.setProperties(r),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]=\"vertices\"in t||\"scale\"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]=\"position\"in t?!!t.position:this._properties[1],this._properties[2]=\"rotation\"in t?!!t.rotation:this._properties[2],this._properties[3]=\"uvs\"in t?!!t.uvs:this._properties[3],this._properties[4]=\"tint\"in t||\"alpha\"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once(\"update\",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,n=this.worldTransform,r=!0,i=0,o=0,a=0,s=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var l=this.children[u];if(l.visible){var c=l._texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)==0)r&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx*t.resolution,n.ty*t.resolution),r=!1),i=l.anchor.x*(-c.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-c.height*l.scale.y)+l.position.y+.5,a=c.width*l.scale.x,s=c.height*l.scale.y;else{r||(r=!0),l.displayObjectUpdateTransform();var h=l.worldTransform;t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution|0,h.ty*t.resolution|0):e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution,h.ty*t.resolution),i=l.anchor.x*-c.width+.5,o=l.anchor.y*-c.height+.5,a=c.width,s=c.height}var f=l._texture.baseTexture.resolution;e.drawImage(l._texture.baseTexture.source,c.x*f,c.y*f,c.width*f,c.height*f,i*t.resolution,o*t.resolution,a*t.resolution,s*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r(e,[{key:\"tint\",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(i.Container);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=s(n(186)),o=s(n(187)),a=n(2);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new r.Matrix,i.CONTEXT_UID=0,i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,n=t._maxSize,i=t._batchSize,o=this.renderer,a=e.length;if(0!==a){a>n&&(a=n);var s=t._glBuffers[o.CONTEXT_UID];s||(s=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(r.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var l=o.gl,c=t.worldTransform.copy(this.tempMatrix);c.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=c.toArray(!0),this.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var h=!1,f=0,d=0;f<a;f+=i,d+=1){var p=a-f;if(p>i&&(p=i),d>=s.length){if(!t.autoResize)break;s.push(this._generateOneMoreBuffer(t))}var v=s[d];v.uploadDynamic(e,f,p);var g=t._bufferUpdateIDs[d]||0;(h=h||v._updateID<g)&&(v._updateID=t._updateID,v.uploadStatic(e,f,p)),o.bindVao(v.vao),v.vao.draw(l.TRIANGLES,6*p)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,n=[],r=t._maxSize,i=t._batchSize,a=t._properties,s=0;s<r;s+=i)n.push(new o.default(e,this.properties,a,i));return n},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,n=t._batchSize,r=t._properties;return new o.default(e,this.properties,r,n)},e.prototype.uploadVertices=function(t,e,n,r,i,o){for(var a=0,s=0,u=0,l=0,c=0;c<n;++c){var h=t[e+c],f=h._texture,d=h.scale.x,p=h.scale.y,v=f.trim,g=f.orig;v?(a=(s=v.x-h.anchor.x*g.width)+v.width,u=(l=v.y-h.anchor.y*g.height)+v.height):(a=g.width*(1-h.anchor.x),s=g.width*-h.anchor.x,u=g.height*(1-h.anchor.y),l=g.height*-h.anchor.y),r[o]=s*d,r[o+1]=l*p,r[o+i]=a*d,r[o+i+1]=l*p,r[o+2*i]=a*d,r[o+2*i+1]=u*p,r[o+3*i]=s*d,r[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,n,r,i,o){for(var a=0;a<n;++a){var s=t[e+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,n,r,i,o){for(var s=0;s<n;++s){var u=t[e+s],l=u._texture.baseTexture.premultipliedAlpha,c=u.alpha,h=c<1&&l?(0,a.premultiplyTint)(u._tintRGB,c):u._tintRGB+(255*c<<24);r[o]=h,r[o+i]=h,r[o+2*i]=h,r[o+3*i]=h,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(r.ObjectRenderer);e.default=u,r.WebGLRenderer.registerPlugin(\"particle\",u)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"attribute vec4 aColor;\",\"attribute vec2 aPositionCoord;\",\"attribute float aRotation;\",\"uniform mat3 projectionMatrix;\",\"uniform vec4 uColor;\",\"varying vec2 vTextureCoord;\",\"varying vec4 vColor;\",\"void main(void){\",\"   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\",\"   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\",\"   vec2 v = vec2(x, y);\",\"   v = v + aPositionCoord;\",\"   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\",\"   vTextureCoord = aTextureCoord;\",\"   vColor = aColor * uColor;\",\"}\"].join(\"\\n\"),[\"varying vec2 vTextureCoord;\",\"varying vec4 vColor;\",\"uniform sampler2D uSampler;\",\"void main(void){\",\"  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\",\"  gl_FragColor = color;\",\"}\"].join(\"\\n\")))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=n(14))&&r.__esModule?r:{default:r}).default);e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(5)),i=o(n(35));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<n.length;++o){var a=n[o];a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,unsignedByte:a.unsignedByte,offset:a.offset},r[o]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,i.default)(this.size),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var o=this.dynamicProperties[n];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=r.default.GLBuffer.createVertexBuffer(t,a,t.STREAM_DRAW);var s=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var l=this.staticProperties[u];l.offset=s,s+=l.size,this.staticStride+=l.size}var c=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(c),this.staticDataUint32=new Uint32Array(c),this.staticBuffer=r.default.GLBuffer.createVertexBuffer(t,c,t.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var h=0;h<this.dynamicProperties.length;++h){var f=this.dynamicProperties[h];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(t,e,n,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(t,e,n,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(189);Object.defineProperty(e,\"webgl\",{enumerable:!0,get:function(){return u(r).default}});var i=n(190);Object.defineProperty(e,\"canvas\",{enumerable:!0,get:function(){return u(i).default}});var o=n(37);Object.defineProperty(e,\"BasePrepare\",{enumerable:!0,get:function(){return u(o).default}});var a=n(90);Object.defineProperty(e,\"CountLimiter\",{enumerable:!0,get:function(){return u(a).default}});var s=n(191);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"TimeLimiter\",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.uploadHookHelper=r.renderer,r.registerFindHook(u),r.registerUploadHook(a),r.registerUploadHook(s),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=n(37))&&r.__esModule?r:{default:r}).default);function a(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function s(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function u(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}e.default=o,i.WebGLRenderer.registerPlugin(\"prepare\",o)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=16,a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.uploadHookHelper=r,r.canvas=document.createElement(\"canvas\"),r.canvas.width=o,r.canvas.height=o,r.ctx=r.canvas.getContext(\"2d\"),r.registerUploadHook(s),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(((r=n(37))&&r.__esModule?r:{default:r}).default);function s(t,e){if(e instanceof i.BaseTexture){var n=e.source,r=0===n.width?t.canvas.width:Math.min(t.canvas.width,n.width),o=0===n.height?t.canvas.height:Math.min(t.canvas.height,n.height);return t.ctx.drawImage(n,0,0,r,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=a,i.CanvasRenderer.registerPlugin(\"prepare\",a)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=r},function(t,e,n){(function(n){var r,i=function(){this._tweens={},this._tweensAddedDuringUpdate={}};i.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:a.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]];i&&!1===i.update(t)&&(i._isPlaying=!1,e||delete this._tweens[n[r]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var o,a=new i;a.Group=i,a._nextId=0,a.nextId=function(){return a._nextId++},\"undefined\"==typeof window&&void 0!==n&&n.hrtime?a.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e6}:\"undefined\"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?a.now=window.performance.now.bind(window.performance):void 0!==Date.now?a.now=Date.now:a.now=function(){return(new Date).getTime()},a.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=a.Easing.Linear.None,this._interpolationFunction=a.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||a,this._id=a.nextId()},a.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=t,void 0!==e&&(this._duration=e),this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?\"string\"==typeof t?a.now()+parseFloat(t):t:a.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,n,r;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n,r=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[e]){var i=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,r):(\"string\"==typeof o&&(o=\"+\"===o.charAt(0)||\"-\"===o.charAt(0)?i+parseFloat(o):parseFloat(o)),\"number\"==typeof o&&(this._object[e]=i+(o-i)*r))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1===n){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if(\"string\"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var a=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=a}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,u=this._chainedTweens.length;s<u;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}return!0}},a.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-a.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*a.Easing.Bounce.In(2*t):.5*a.Easing.Bounce.Out(2*t-1)+.5}}},a.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=a.Interpolation.Utils.Bernstein,s=0;s<=r;s++)n+=i(1-e,r-s)*i(e,s)*t[s]*o(r,s);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=a.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(o=[1],function(t){var e=1;if(o[t])return o[t];for(var n=t;n>1;n--)e*=n;return o[t]=e,e}),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i;return(2*e-2*n+o+a)*(i*s)+(-3*e+3*n-2*o-a)*s+o*i+e}}},void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}).call(this,n(63))},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"/\",e(e.s=26)}([function(t,e,n){\"use strict\";var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};t.exports=new function(){var t=this;this.noop=function(){},this.get=function(e,n,r){var i=Array.isArray(n)?n:n.split(\".\");if(!i.length)return e;var o=i.shift();return e&&e.hasOwnProperty(o)?t.get(e[o],i,r):r},this.has=function(e,n){var r=Array.isArray(n)?n:n.split(\".\");if(!r.length)return!0;var i=r.shift();return!(!e||!e.hasOwnProperty(i))&&t.has(e[i],r)},this.set=function(e,n,r){var i=Array.isArray(n)?n:n.split(\".\"),o=i.shift();if(i.length){if(!e.hasOwnProperty(o)){var a=i[0];e[o]=t.isNumeric(a)?[]:{}}t.set(e[o],i,r)}else e[o]=r},this.clone=function(t){return JSON.parse(JSON.stringify(t))},this.includes=function(t,e){if(Array.isArray(t))return t.indexOf(e)>-1;var n=!0,r=!1,o=void 0;try{for(var a,s=Object.entries(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=i(a.value,2);if(u[0],e===u[1])return!0}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!1},this.isObject=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":r(t))&&!Array.isArray(t)},this.isNumber=function(t){return\"number\"==typeof t&&!isNaN(t)},this.isNumeric=function(t){return!isNaN(parseInt(t))};var e=function(e){var n=e,r=Array.isArray(e)&&1===e.length||\"string\"==typeof e,i=Array.isArray(e)&&e.length>1;if(r){var o=Array.isArray(e)?e[0]:e;n=function(e,n){return t.has(e,o)}}else i&&(n=function(n,r){return t.get(n,e[0])===e[1]});return n};this.findIndex=function(t,n,r){r=r||0;var i=e(n);r<0&&(r=t.length+r);for(var o=r;o<t.length;o++)if(i(t[o],o))return o;return-1},this.findLastIndex=function(n,r,i){i=t.isNumber(i)?i:n.length-1;var o=e(r);i<0&&(i=n.length+i);for(var a=i;a>-1;a--)if(o(n[a],a))return a;return-1},this.find=function(e,n,r){return e[t.findIndex(e,n,r)]},this.findLast=function(e,n,r){return e[t.findLastIndex(e,n,r)]},this.findPropertyIndex=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.findIndex(e,function(e){return t.has(e,n)},r)},this.findLastPropertyIndex=function(e,n,r){return r=r||e.length-1,t.findLastIndex(e,function(e){return t.has(e,n)},r)},this.pull=function(t,e){var n=void 0;if(t)for(;t.indexOf(e)>-1;)(n=t.indexOf(e))>-1&&t.splice(n,1)},this.lowerFirst=function(t){return t?t.charAt(0).toLowerCase()+t.substring(1):t},this.forEach=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},this.map=function(e,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];\"string\"==typeof n?r.push(t.get(o,n)):r.push(n(o,i))}return r},this.keys=function(t){return t?Object.keys(t):[]},this.sortBy=function(t,e){return Array.isArray(t)?t.sort(function(t,n){var r=t[e],i=n[e];return void 0===r?1:void 0===i?-1:r<i?-1:r>i?1:0}):t}}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=r(n(2)),a=r(n(3)),s=n(7),u={r:0,g:0,b:0,a:255},l=new function(){var t=this;this.name=\"rgb\",this.className=\"Rgb\",this.parent=null,this.test=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":i(t))&&t.hasOwnProperty(\"r\")&&t.hasOwnProperty(\"g\")&&t.hasOwnProperty(\"b\")&&t.r>=0&&t.r<=255&&t.g>=0&&t.g<=255&&t.b>=0&&t.b<=255&&(!t.hasOwnProperty(\"a\")||t.a>=0&&t.a<=255)},this.gradient=function(e){return o.default.createGradient(e,{mixColors:t.mix,defaultColor:u})},this.gradientData=function(t,e){return e=e||u,new a.default(t,e)},this.draw=function(e,n){var r=(0,s.getCanvasGradient)(t,n),i=(0,s.getCanvasTarget)(e);if(i&&r){for(var o=i.width,a=i.height,u=i.getContext(\"2d\"),l=u.createImageData(o,a),c=l.data.buffer,h=new Uint32Array(c),f=new Uint8ClampedArray(c),d=0;d<o;d++)for(var p=0;p<a;p++)h[p*o+d]=t.to.intabgr(r(d,p));l.data.set(f),u.putImageData(l,0,0)}},this.hueColors=function(){return[{a:255,b:0,g:0,r:255},{a:255,b:0,g:255,r:255},{a:255,b:0,g:255,r:0},{a:255,b:255,g:255,r:0},{a:255,b:255,g:0,r:0},{a:255,b:255,g:0,r:255},{a:255,b:0,g:0,r:255}]},this.hue=function(e){var n=o.default.partialGradient(l.hueColors(),l.to.hsv(e).h);return t.mix(n.item1,n.item2,n.position)},this.mix=function(t,e,n){return{r:t.r-n*(t.r-e.r),g:t.g-n*(t.g-e.g),b:t.b-n*(t.b-e.b),a:t.a-n*(t.a-e.a)}},this.to={int:function(t){return t.r<<16|t.g<<8|t.b},hex:function(t){return\"#\"+(1<<24|t.r<<16|t.g<<8|t.b).toString(16).slice(1)},cssrgb:function(t){return\"rgb(\"+Math.round(t.r)+\",\"+Math.round(t.g)+\",\"+Math.round(t.b)+\")\"},cssrgba:function(t){return\"rgba(\"+Math.round(t.r)+\",\"+Math.round(t.g)+\",\"+Math.round(t.b)+\",\"+t.a/255+\")\"},uintabgr:function(t){return(t.a<<24|t.b<<16|t.g<<8|t.r)>>>0},uintabgrOpaque:function(t){return(4278190080|t.b<<16|t.g<<8|t.r)>>>0},uintrgba:function(t){return(t.r<<24|t.g<<16|t.b<<8|t.a)>>>0},intabgr:function(t){return t.a<<24|t.b<<16|t.g<<8|t.r},intabgrOpaque:function(t){return 4278190080|t.b<<16|t.g<<8|t.r},intrgba:function(t){return t.r<<24|t.g<<16|t.b<<8|t.a},hsl:function(t){var e=t.r,n=t.g,r=t.b,i=t.a;e/=255,n/=255,r/=255,i=isNaN(parseInt(i))?1:i/255;var o=Math.max(e,n,r),a=Math.min(e,n,r),s=o-a,u=(o+a)/2,l=0,c=0;return s>0&&(l=s/(1-Math.abs(2*u-1)),r===o?c=(e-n)/s+4:n===o?c=(r-e)/s+2:e===o&&(c=(n-r)/s+(n<r?6:0))<0&&(c+=360),c/=6),{h:c,s:l,l:u,a:i}},hsv:function(t){var e=t.r,n=t.g,r=t.b,i=t.a;e/=255,n/=255,r/=255,i=isNaN(parseInt(i))?1:i/255;var o=Math.max(e,n,r),a=o-Math.min(e,n,r),s=0,u=0;return a>0&&(s=a/o,r===o?u=(e-n)/a+4:n===o?u=(r-e)/a+2:e===o&&(u=(n-r)/a+(n<r?6:0))<0&&(u+=360),u/=6),{h:u,s:s,v:o,a:i}}}};e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=r(n(0)),o=r(n(9)),a=r(n(3));e.default=new function(){var t=this,e=2*Math.PI;this.createGradient=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};var r=i.default.includes([\"linear\",\"circular\"],e.type)?e.type:\"linear\",s=i.default.get(e,\"verify\",!1),u=(i.default.get(e,\"validate\",!0),e.onValidationComplete||i.default.noop),l=null,c=null;if(e.colors instanceof a.default)c=e.colors;else{var h=e.defaultColor||n.defaultColor;c=new a.default(e.colors,h)}s&&c.verify();var f=c.matrix?c.object2d:c.flat1d;u(f);var d=0,p=0;\"circular\"===r?l=c.matrix?t.circularMatrixGradient:t.circularGradient:(d=e.centerX||0,p=e.centerY||0,l=c.matrix?t.linearMatrixGradient:t.linearGradient);var v=e.width||100,g=e.height||100,y=e.scaleX||e.scale||1,_=e.scaleY||e.scale||1,m=v*y,b=g*_,x=e.translateX||0,w=e.translateY||0;\"circular\"===r&&(m=v*(y/=2),b=g*(_/=2),x*=2,w*=2),e.centralize?(\"linear\"===r&&(d=.5,p=.5),x=.5/y+x-d,w=.5/_+w-p):(x-=d,w-=p);var T={colors:f,centerX:d||0,centerY:p||0,translateX:x,translateY:w,rotation:e.rotation||0,repeatX:e.repeatX||o.default.repeat,repeatY:e.repeatY||o.default.repeat,mixColors:n.mixColors};return function(t,e){return l(t/m,e/b,T)}},this.partialGradient=function(t,e){var n=t.length-1,r=e*n|0,i=1/n*1e3,o=1e3*e%i/i,a=t[r];return{item1:a,item2:void 0!==t[r+1]?t[r+1]:a,position:o}},this.partialGradientWithStops=function(t,e,n){for(var r=0;t[r][n]<e;)r++;var i=void 0!==t[r-1]?t[r-1]:t[r],o=t[r],a=o[n]-i[n];return{item1:i,item2:o,position:(e-i[n])/a||0}},this.linearGradient=function(n,r,i){var o=i.rotation*e,a=Math.cos(o),s=Math.sin(o),u=n-i.centerX-i.translateX,l=r-i.centerY-i.translateY;n=i.repeatX(i.centerX+u*a-l*s);var c=t.partialGradientWithStops(i.colors,n,\"x\");return i.mixColors(c.item1,c.item2,c.position)},this.linearMatrixGradient=function(n,r,i){var o=i.rotation*e,a=Math.cos(o),s=Math.sin(o),u=n-i.centerX-i.translateX,l=r-i.centerY-i.translateY;n=i.repeatX(i.centerX+u*a-l*s),r=i.repeatY(i.centerY+u*s+l*a);var c=t.partialGradientWithStops(i.colors,r,\"y\"),h=t.partialGradientWithStops(c.item1.colors,n,\"x\"),f=t.partialGradientWithStops(c.item2.colors,n,\"x\"),d=i.mixColors(h.item1,h.item2,h.position),p=i.mixColors(f.item1,f.item2,f.position);return i.mixColors(d,p,c.position)},this.circularGradient=function(n,r,i){var o=i.translateX,a=i.translateY,s=i.repeatX((Math.atan2(a-r,o-n)+Math.PI)/e-i.rotation),u=t.partialGradientWithStops(i.colors,s,\"x\");return i.mixColors(u.item1,u.item2,u.position)},this.circularMatrixGradient=function(n,r,i){var o=i.translateX-n,a=i.translateY-r,s=i.repeatY(Math.sqrt(o*o+a*a)),u=i.repeatX((Math.atan2(a,o)+Math.PI)/e-i.rotation),l=t.partialGradientWithStops(i.colors,s,\"y\"),c=t.partialGradientWithStops(l.item1.colors,u,\"x\"),h=t.partialGradientWithStops(l.item2.colors,u,\"x\"),f=i.mixColors(c.item1,c.item2,c.position),d=i.mixColors(h.item1,h.item2,h.position);return i.mixColors(f,d,l.position)}},t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(0)),a=r(n(13)),s=r(n(15)),u=r(n(12)),l=r(n(14)),c=[a.default,s.default,u.default,l.default],h=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!Array.isArray(e)||!e.length)throw new Error(\"GradientData: Argument should be and array with at least one item.\");if(this.dataType=this._getDataTypeFromFirstSample(e),!this.dataType)throw new Error(\"GradientData: One sample was tested and it did not match any supported data structures.\");this.data=e,this.defaultColor=n}return i(t,[{key:\"typeName\",get:function(){return this.dataType.name}},{key:\"matrix\",get:function(){return this.dataType.matrix}},{key:\"flat1d\",get:function(){return o.default.has(this.dataType,\"toFlat1d\")?this.dataType.toFlat1d(this.data,this.defaultColor):new t(this.dataType.toObject2d(this.data,this.defaultColor),this.defaultColor).flat1d}},{key:\"flat2d\",get:function(){return o.default.has(this.dataType,\"toFlat2d\")?this.dataType.toFlat2d(this.data,this.defaultColor):new t(this.dataType.toObject2d(this.data,this.defaultColor),this.defaultColor).flat2d}},{key:\"array2d\",get:function(){return o.default.has(this.dataType,\"toArray2d\")?this.dataType.toArray2d(this.data,this.defaultColor):new t(this.dataType.toObject2d(this.data,this.defaultColor),this.defaultColor).array2d}},{key:\"object2d\",get:function(){return this.dataType.toObject2d(this.data,this.defaultColor)}}],[{key:\"types\",get:function(){return c}}]),i(t,[{key:\"verify\",value:function(){return this.dataType.verify(this.data)}},{key:\"_getDataTypeFromFirstSample\",value:function(t){return o.default.find(c,function(e){return e.testStructure(t)})}}]),t}();e.default=h,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return r(t,null,[{key:\"addDefaultColorsForMatrix\",value:function(t,e){var n=i.default.keys(e);i.default.forEach(t,function(t){i.default.forEach(t.colors,function(t){i.default.forEach(n,function(n){i.default.has(t,n)||(t[n]=e[n])})})})}},{key:\"addDefaultColors\",value:function(t,e){var n=i.default.keys(e);i.default.forEach(t,function(t){i.default.forEach(n,function(n){i.default.has(t,n)||(t[n]=e[n])})})}},{key:\"verify\",value:function(t,e){if(!this._verifyExpectedDataStructureInAllSamples(t,e))throw new Error(\"Color data structure is not consistent / valid\");return!0}},{key:\"_verifyExpectedDataStructureInAllSamples\",value:function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(!e.testStructureSingleSample(r))return!1}return!0}},{key:\"addMissingStopsXY\",value:function(t){var e=this;return t=this.addMissingStops(t,\"y\"),i.default.forEach(t,function(t){t.colors=e.addMissingStops(t.colors,\"x\")}),t}},{key:\"addMissingStops\",value:function(t,e){1===(t=i.default.clone(t)).length&&(delete t[0][e],t.push(i.default.clone(t[0])));var n=i.default.findPropertyIndex(t,e),r=t[0],o=void 0;n>0||-1===n?r[e]=0:0!==r[e]&&((o=i.default.clone(r))[e]=0,t.unshift(o));var a=i.default.findLastPropertyIndex(t,e),s=t[t.length-1];a<t.length-1?s[e]=1:1!==s[e]&&((o=i.default.clone(s))[e]=1,t.push(o));for(var u=0,l=0;l>-1;)u=i.default.findPropertyIndex(t,e,u),(l=i.default.findPropertyIndex(t,e,u+1))>-1&&this._addStopsBetweenIndexes(t,e,u,l),u=l;return t}},{key:\"_addStopsBetweenIndexes\",value:function(t,e,n,r){for(var i=t[n][e],o=r-n,a=(t[r][e]-i)/o,s=1;s<o;s++)t[n+s][e]=i+s*a}}]),t}();e.default=o,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return r(t,null,[{key:\"convert\",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Array.isArray(t)?t.map(function(t){return e.convert.apply(e,[t].concat(r))}):r.reduce(function(t,e){return e(t)},t)}},{key:\"convertAny\",value:function(t,e,n){var r=this.getColorType(t,n);if(!r||r===e)return t;if(\"function\"==typeof r.to[e.name])return r.to[e.name](t);var i=this._getConversionPathThroughParentType(r,e,n);return this.convert.apply(this,[t].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(i)))}},{key:\"getColorType\",value:function(t,e){return i.default.find(e,function(e){return e.test(t)})}},{key:\"_getConversionPathThroughParentType\",value:function(t,e,n){var r=this._getPathToRoot(t),o=this._getPathToRoot(e).reverse(),a=r[r.length-1],s=o[0],u=a===s,l=\"function\"==typeof a.to[s.name];if(u)o.shift();else if(!l)throw new Error(\"Path should be implemented from \"+a.name+\" to \"+s.name);var c=r.concat(o),h=[],f=void 0;return i.default.forEach(c,function(t,e){(f=c[e+1])&&h.push(t.to[f.name])}),h}},{key:\"_getPathToRoot\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.push(t),t.parent?this._getPathToRoot(t.parent,e):e}}]),t}();e.default=o,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return{h:t.h-n*(t.h-e.h),s:t.s-n*(t.s-e.s),l:t.l-n*(t.l-e.l),a:t.a-n*(t.a-e.a)}}Object.defineProperty(e,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},a=r(n(1)),s=r(n(2)),u=r(n(3)),l=n(7),c={h:0,s:0,l:0,a:1},h=new function(){var t=this;this.name=\"hsl\",this.className=\"Hsl\",this.parent=null,this.test=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":o(t))&&t.hasOwnProperty(\"h\")&&t.hasOwnProperty(\"s\")&&t.hasOwnProperty(\"l\")&&t.h>=0&&t.h<=1&&t.s>=0&&t.s<=1&&t.l>=0&&t.l<=1&&(!t.hasOwnProperty(\"a\")||t.a>=0&&t.a<=1)},this.gradient=function(t){return s.default.createGradient(t,{mixColors:i,defaultColor:c})},this.gradientData=function(t,e){return e=e||c,new u.default(t,e)},this.draw=function(e,n){var r=(0,l.getCanvasGradient)(t,n),i=(0,l.getCanvasTarget)(e);if(i&&r){for(var o=i.width,s=i.height,u=i.getContext(\"2d\"),c=u.createImageData(o,s),h=c.data.buffer,f=new Uint32Array(h),d=new Uint8ClampedArray(h),p=0;p<o;p++)for(var v=0;v<s;v++){var g=r(p,v),y=t.to.rgb(g);f[v*o+p]=a.default.to.intabgr(y)}c.data.set(d),u.putImageData(c,0,0)}},this.to={rgb:function(t){var e=t.h,n=t.s,r=t.l,i=t.a,o=(1-Math.abs(2*r-1))*n,a=o*(1-Math.abs(6*e%2-1)),s=r-o/2,u=void 0,l=void 0,c=void 0;return e<1/6?(u=o,l=a,c=0):e<2/6?(u=a,l=o,c=0):e<.5?(u=0,l=o,c=a):e<4/6?(u=0,l=a,c=o):e<5/6?(u=a,l=0,c=o):(u=o,l=0,c=a),{r:255*(u+s),g:255*(l+s),b:255*(c+s),a:void 0===i?255:255*i}},hsv:function(t){var e=t.h,n=t.s,r=t.l,i=t.a,o=(2*r+n*(1-Math.abs(2*r-1)))/2;return{h:e,s:n=2*(o-r)/o,v:o,a:void 0===i?1:i}},csshsl:function(t){return\"hsl(\"+Math.round(360*t.h)+\",\"+Math.round(100*t.s)+\"%,\"+Math.round(100*t.l)+\"%)\"},csshsla:function(t){return\"hsla(\"+Math.round(360*t.h)+\",\"+Math.round(100*t.s)+\"%,\"+Math.round(100*t.l)+\"%,\"+t.a+\")\"}}};e.default=h,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getCanvasTarget=e.getCanvasGradient=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(0));e.getCanvasGradient=function(t,e){return r.default.isObject(e)?t.gradient(e):\"function\"==typeof e?e:null},e.getCanvasTarget=function t(e){return e instanceof HTMLCanvasElement?e:\"string\"==typeof e?t(document.querySelector(e)):null}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.TYPES_ALL=e.TYPES=void 0;var i=r(n(1)),o=r(n(23)),a=r(n(21)),s=r(n(19)),u=r(n(20)),l=r(n(6)),c=r(n(17)),h=r(n(18)),f=r(n(22)),d=r(n(24)),p=r(n(25)),v=[i.default,o.default,a.default,l.default,f.default,u.default,s.default,h.default,c.default],g=v.concat([d.default,p.default]);e.TYPES=v,e.TYPES_ALL=g},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={none:function(t){return t},stop:function(t){return t<0?0:t>1?1:t},repeat:function(t){return t<0?1+t%1:t>1?t%1:t}},t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=r(n(5)),o=r((r(n(2)),n(9))),a=r(n(11)),s=r(n(0)),u=r(n(16)),l=n(8),c=function(){var t=new ArrayBuffer(2),e=new Uint8Array(t),n=new Uint16Array(t);return e[0]=170,e[1]=187,48042===n[0]?0:43707===n[0]?1:UNKNOW_ENDIAN}(),h={any:u.default,endian:c,convert:i.default.convert,colorType:function(t){return i.default.getColorType(t,l.TYPES)},repeat:o.default,color:function(t){return new a.default(t)}};s.default.forEach(l.TYPES_ALL,function(t){h[t.name]=t}),e.default=h,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(8),a=r(n(1)),s=r(n(2)),u=r(n(5)),l=r(n(0)),c=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e instanceof t)this._primaryColor=l.default.clone(e._primaryColor),this._cache=this._cloneCache(e);else{var n=u.default.getColorType(e,o.TYPES);n||(n=\"Rgb\",e={r:0,g:0,b:0,a:255}),this._primaryColor=e,this._cache={},this._cache[n.name]=e}}return i(t,[{key:\"clone\",value:function(){return new t(this)}},{key:\"hueFromColor\",value:function(e){var n=this.hsv;return n.h=new t(e).hsv.h,new t(n)}},{key:\"hueFromValue\",value:function(e){var n=this.hsv;return n.h=e>1?1:e<0?0:e,new t(n)}},{key:\"hue\",value:function(){var e=this;return this._cacheValue(\"hue\",function(){var n=s.default.partialGradient(a.default.hueColors(),e.hsv.h);return new t(a.default.mix(n.item1,n.item2,n.position))}),this._cache.hue}}]),t}();c.prototype._cacheValue=function(t,e){if(!l.default.has(this._cache,t)){var n=e();this._cache[t]=n}},c.prototype._cloneCache=function(t){var e=t._cache.hue,n=l.default.clone(t._cache);return e&&(n.hue=e.clone()),n},l.default.forEach(o.TYPES,function(t){var e=t.name;Object.defineProperty(c.prototype,e,{get:function(){var n=this;return this._cacheValue(e,function(){return u.default.convertAny(n._primaryColor,t,o.TYPES)}),this._cache[e]}})}),e.default=c,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(0)),a=r(n(4)),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=o.default.get(t,\"0\");return this.testStructureSingleSample(e)}},{key:\"verify\",value:function(t){return a.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){var e=t,n=Array.isArray(t)&&e.length>0;if(!n)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(!(n=o.default.isObject(i)))return!1}return!0}},{key:\"toObject2d\",value:function(t,e){var n=t.map(function(t){var e={};return o.default.isNumber(t.y)&&(e.y=t.y),e.colors=t,e});return n=a.default.addMissingStopsXY(n),a.default.addDefaultColorsForMatrix(n,e),n}},{key:\"name\",get:function(){return\"array2d\"}},{key:\"matrix\",get:function(){return!0}}]),t}();e.default=s,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(0)),a=r(n(4)),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=o.default.get(t,\"0\");return this.testStructureSingleSample(e)&&this._testStructureAllSamples(t)}},{key:\"verify\",value:function(t){return a.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){return o.default.isObject(t)&&!o.default.has(t,\"colors\")}},{key:\"_testStructureAllSamples\",value:function(t){return-1===o.default.findPropertyIndex(t,\"y\")}},{key:\"toFlat1d\",value:function(t,e){var n=a.default.addMissingStops(t,\"x\");return a.default.addDefaultColors(n,e),n}},{key:\"toObject2d\",value:function(t,e){var n=this.toFlat1d(t,e);return[{y:0,colors:n},{y:1,colors:n}]}},{key:\"name\",get:function(){return\"flat1d\"}},{key:\"matrix\",get:function(){return!1}}]),t}();e.default=s,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(0)),a=r(n(4)),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=o.default.get(t,\"0\");return this.testStructureSingleSample(e)&&this._testStructureAllSamples(t)}},{key:\"verify\",value:function(t){return a.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){return o.default.isObject(t)&&!o.default.has(t,\"colors\")}},{key:\"_testStructureAllSamples\",value:function(t){return o.default.findPropertyIndex(t,\"y\")>-1}},{key:\"toObject2d\",value:function(t,e){t=o.default.clone(t);var n=[],r=0,i=void 0;return o.default.forEach(t,function(t){i=o.default.isNumber(t.y)?t.y:r;var e=o.default.find(n,[\"y\",i]);e?e.colors.push(t):n.push({y:i,colors:[t]}),r=i,delete t.y}),n=a.default.addMissingStopsXY(n),a.default.addDefaultColorsForMatrix(n,e),n}},{key:\"name\",get:function(){return\"flat2d\"}},{key:\"matrix\",get:function(){return!0}}]),t}();e.default=s,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(0)),a=r(n(4)),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=o.default.get(t,\"0\");return this.testStructureSingleSample(e)}},{key:\"verify\",value:function(t){return a.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){var e=o.default.get(t,\"colors\"),n=o.default.isObject(t)&&Array.isArray(e);if(!n)return!1;if(e.length<1)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(!(n=o.default.isObject(i)))return!1}return!0}},{key:\"toObject2d\",value:function(t,e){var n=a.default.addMissingStopsXY(t);return a.default.addDefaultColorsForMatrix(n,e),n}},{key:\"toFlat1d\",value:function(t,e){var n=this.toObject2d(t,e),r=[];return o.default.forEach(n,function(t){o.default.forEach(t.colors,function(t){delete t.x,r.push(t)})}),r}},{key:\"toArray2d\",value:function(t,e){var n=this.toObject2d(t,e);return o.default.map(n,\"colors\")}},{key:\"toFlat2d\",value:function(t,e){var n=this.toObject2d(t,e),r=[];return o.default.forEach(n,function(t){var e=t.y;o.default.forEach(t.colors,function(t){t.y=e,r.push(t)})}),r}},{key:\"name\",get:function(){return\"object2d\"}},{key:\"matrix\",get:function(){return!0}}]),t}();e.default=s,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=r(n(0)),o=r(n(5)),a=n(8),s={to:{}};i.default.forEach(a.TYPES,function(t){var e=i.default.lowerFirst(t.name);s.to[e]=function(e){return o.default.convertAny(e,t,a.TYPES)}}),e.default=s,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(6)),i=/^hsla?\\s*\\(\\s*(\\d{1,3}\\s*)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*\\)$/;e.default={name:\"csshsl\",className:\"Csshsl\",parent:r.default,test:function(t){return\"string\"==typeof t&&!!i.exec(t)},to:{hsl:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}(i.exec(t)||[],5),r=n[0],o=n[1],a=n[2],s=(n[3],n[4]);return r?{h:parseInt(o)/360,s:parseInt(a)/100,l:parseInt(s)/100,a:e}:null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(6)),i=/^hsla?\\s*\\(\\s*(\\d{1,3}\\s*)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*,\\s*(\\d*\\.?\\d*)\\s*\\)$/;e.default={name:\"csshsla\",className:\"Csshsla\",parent:r.default,test:function(t){return\"string\"==typeof t&&!!i.exec(t)},to:{hsl:function(t){var e=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}(i.exec(t)||[],7),n=e[0],r=e[1],o=e[2],a=(e[3],e[4]),s=(e[5],e[6]);return n?{h:parseInt(r)/360,s:parseInt(o)/100,l:parseInt(a)/100,a:s?parseFloat(s):1}:null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=/^rgba?\\s*\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;e.default={name:\"cssrgb\",className:\"Cssrgb\",parent:i.default,test:function(t){return\"string\"==typeof t&&!!o.exec(t)},to:{rgb:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255,n=o.exec(t)||[],i=r(n,4),a=i[0],s=i[1],u=i[2],l=i[3];return a?{r:parseInt(s),g:parseInt(u),b:parseInt(l),a:e}:null},int:function(t){var e=o.exec(t)||[],n=r(e,4),i=n[0],a=n[1],s=n[2],u=n[3];return i?(parseInt(a)<<16)+(parseInt(s)<<8)+parseInt(u):null},hex:function(t){var e=o.exec(t)||[],n=r(e,4),i=n[0],a=n[1],s=n[2],u=n[3];return i?\"#\"+((1<<24)+(parseInt(a)<<16)+(parseInt(s)<<8)+parseInt(u)).toString(16).slice(1):null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=/^rgba?\\s*\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d*\\.?\\d*)\\s*\\)$/;e.default={name:\"cssrgba\",className:\"Cssrgba\",parent:i.default,test:function(t){return\"string\"==typeof t&&!!o.exec(t)},to:{rgb:function(t){var e=o.exec(t)||[],n=r(e,5),i=n[0],a=n[1],s=n[2],u=n[3],l=n[4];return i?{r:parseInt(a),g:parseInt(s),b:parseInt(u),a:l?255*parseFloat(l)|0:255}:null},int:function(t){var e=o.exec(t)||[],n=r(e,4),i=n[0],a=n[1],s=n[2],u=n[3];return i?(parseInt(a)<<16)+(parseInt(s)<<8)+parseInt(u):null},hex:function(t){var e=o.exec(t)||[],n=r(e,4),i=n[0],a=n[1],s=n[2],u=n[3];return i?\"#\"+((1<<24)+(parseInt(a)<<16)+(parseInt(s)<<8)+parseInt(u)).toString(16).slice(1):null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,a=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;e.default={name:\"hex\",className:\"Hex\",parent:i.default,test:function(t){return\"string\"==typeof t&&!(!a.exec(t)&&!o.exec(t))},to:{rgb:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;t=t.replace(o,function(t,e,n,r){return e+e+n+n+r+r});var n=a.exec(t)||[],i=r(n,4),s=i[0],u=i[1],l=i[2],c=i[3];return s?{r:parseInt(u,16),g:parseInt(l,16),b:parseInt(c,16),a:e}:null},int:function(t){return parseInt(t.replace(o,function(t,e,n,r){return e+e+n+n+r+r}).replace(\"#\",\"\"),16)},cssrgb:function(t){t=t.replace(o,function(t,e,n,r){return e+e+n+n+r+r});var e=a.exec(t)||[],n=r(e,4),i=n[0],s=n[1],u=n[2],l=n[3];return i?\"rgb(\"+parseInt(s,16)+\",\"+parseInt(u,16)+\",\"+parseInt(l,16)+\")\":null},cssrgba:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=t.replace(o,function(t,e,n,r){return e+e+n+n+r+r});var n=a.exec(t)||[],i=r(n,4),s=i[0],u=i[1],l=i[2],c=i[3];return s?\"rgba(\"+parseInt(u,16)+\",\"+parseInt(l,16)+\",\"+parseInt(c,16)+\",\"+e+\")\":null}}},t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return{h:t.h-n*(t.h-e.h),s:t.s-n*(t.s-e.s),v:t.v-n*(t.v-e.v),a:t.a-n*(t.a-e.a)}}Object.defineProperty(e,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},a=r(n(1)),s=r(n(2)),u=r(n(3)),l=n(7),c={h:0,s:0,v:0,a:1},h=new function(){var t=this;this.name=\"hsv\",this.className=\"Hsv\",this.parent=null,this.test=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":o(t))&&t.hasOwnProperty(\"h\")&&t.hasOwnProperty(\"s\")&&t.hasOwnProperty(\"v\")&&t.h>=0&&t.h<=1&&t.s>=0&&t.s<=1&&t.v>=0&&t.v<=1&&(!t.hasOwnProperty(\"a\")||t.a>=0&&t.a<=1)},this.gradient=function(t){return s.default.createGradient(t,{mixColors:i,defaultColor:c})},this.gradientData=function(t,e){return e=e||c,new u.default(t,e)},this.draw=function(e,n){var r=(0,l.getCanvasGradient)(t,n),i=(0,l.getCanvasTarget)(e);if(i&&r){for(var o=i.width,s=i.height,u=i.getContext(\"2d\"),c=u.createImageData(o,s),h=c.data.buffer,f=new Uint32Array(h),d=new Uint8ClampedArray(h),p=0;p<o;p++)for(var v=0;v<s;v++){var g=r(p,v),y=t.to.rgb(g);f[v*o+p]=a.default.to.intabgr(y)}c.data.set(d),u.putImageData(c,0,0)}},this.to={rgb:function(t){var e=t.h,n=t.s,r=t.v,i=t.a,o=r*n,a=o*(1-Math.abs(6*e%2-1)),s=r-o,u=void 0,l=void 0,c=void 0;return e<1/6?(u=o,l=a,c=0):e<2/6?(u=a,l=o,c=0):e<.5?(u=0,l=o,c=a):e<4/6?(u=0,l=a,c=o):e<5/6?(u=a,l=0,c=o):(u=o,l=0,c=a),{r:255*(u+s),g:255*(l+s),b:255*(c+s),a:isNaN(parseFloat(i))?255:255*i}},hsl:function(t){var e=t.h,n=t.s,r=t.v,i=t.a,o=.5*r*(2-n);return{h:e,s:n=r*n/(1-Math.abs(2*o-1)),l:o,a:void 0===i?1:i}}}};e.default=h,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(1));e.default={name:\"int\",className:\"Int\",parent:r.default,test:function(t){return\"number\"==typeof t&&t<=16777215&&t>=0},to:{rgb:function(t){return{r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t,a:arguments.length>1&&void 0!==arguments[1]?arguments[1]:255}},hex:function(t){return\"#\"+((1<<24)+t).toString(16).slice(1)},cssrgb:function(t){return\"rgb(\"+((16711680&t)>>16)+\",\"+((65280&t)>>8)+\",\"+(255&t)+\")\"},cssrgba:function(t){return\"rgba(\"+((16711680&t)>>16)+\",\"+((65280&t)>>8)+\",\"+(255&t)+\",\"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+\")\"}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(1));e.default={name:\"intabgr\",className:\"Intabgr\",parent:r.default,to:{rgb:function(t){return{a:t>>24&255,b:t>>16&255,g:t>>8&255,r:255&t}}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(1));e.default={name:\"intrgba\",className:\"Intrgba\",parent:r.default,to:{rgb:function(t){return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t}}}},t.exports=e.default},function(t,e,n){t.exports=n(10)}])},function(t,e,n){var r=n(38);\"string\"==typeof r&&(r=[[t.i,r,\"\"]]);var i=n(196)(r,{hmr:!0,transform:void 0,insertInto:void 0});r.locals&&(t.exports=r.locals),t.hot.accept(38,function(){var e=n(38);if(\"string\"==typeof e&&(e=[[t.i,e,\"\"]]),!function(t,e){var n,r=0;for(n in t){if(!e||t[n]!==e[n])return!1;r++}for(n in e)r--;return 0===r}(r.locals,e.locals))throw new Error(\"Aborting CSS HMR due to changed css-modules locals.\");i(e)}),t.hot.dispose(function(){i()})},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n,r=t[1]||\"\",i=t[3];if(!i)return r;if(e&&\"function\"==typeof btoa){var o=(n=i,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+\" */\"),a=i.sources.map(function(t){return\"/*# sourceURL=\"+i.sourceRoot+t+\" */\"});return[r].concat(a).concat([o]).join(\"\\n\")}return[r].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n}).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];\"number\"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];\"number\"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t){var e={};return function(t){if(\"function\"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=null,l=0,c=[],h=n(197);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(_(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(_(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(t,e){var n=s(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var r=c[c.length-1];if(\"top\"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var i=s(t.insertInto+\" \"+t.insertAt.before);n.insertBefore(e,i)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function g(t){var e=document.createElement(\"style\");return t.attrs.type=\"text/css\",y(e,t.attrs),p(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function _(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var a=l++;n=u||(u=g(e)),r=x.bind(null,n,a,!1),i=x.bind(null,n,a,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return t.attrs.type=\"text/css\",t.attrs.rel=\"stylesheet\",y(e,t.attrs),p(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=h(r)),i&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+\" */\");var a=new Blob([r],{type:\"text/css\"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=function(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute(\"media\",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=d(t,e);return f(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}for(t&&f(d(t,e),e),i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var m,b=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join(\"\\n\")});function x(t,e,n,r){var i=n?\"\":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,r=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var i,o=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(o)?t:(i=0===o.indexOf(\"//\")?o:0===o.indexOf(\"/\")?n+o:r+o.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(i)+\")\")})}},function(t,e){Array.prototype.keySort=function(t){var e=function(t,e){var n,r=0;for(n in t)if(t.hasOwnProperty(n)){if(r==e)return n;r++}return!1},n=function(t,e,n){return n=null!==n?n:1,t==e?0:t>e?1*n:-1*n},r=function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(t=t||{});if(!r)return this.sort(n);for(var i in t)t[i]=\"desc\"==t[i]||-1==t[i]?-1:\"skip\"==t[i]||0===t[i]?0:1;return this.sort(function(i,o){for(var a=0,s=0;0===a&&s<r;){var u=e(t,s);if(u){var l=t[u];a=n(i[u],o[u],l),s++}}return a}),this}},function(t,e,n){\"use strict\";n.r(e);var r=n(6),i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},o=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return i(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}(i),a=o.right,s=(o.left,a),u=Array.prototype,l=(u.slice,u.map,Math.sqrt(50)),c=Math.sqrt(10),h=Math.sqrt(2),f=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=d(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function d(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=l?10:o>=c?5:o>=h?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=l?10:o>=c?5:o>=h?2:1)}Array.prototype.slice;var p={value:function(){}};function v(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+\"\")||t in r)throw new Error(\"illegal type: \"+t);r[t]=[]}return new g(r)}function g(t){this._=t}function y(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function _(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=p,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}g.prototype=v.prototype={constructor:g,on:function(t,e){var n,r,i=this._,o=(r=i,(t+\"\").trim().split(/^|\\s+/).map(function(t){var e=\"\",n=t.indexOf(\".\");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&\"function\"!=typeof e)throw new Error(\"invalid callback: \"+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=_(i[n],t.name,e);else if(null==e)for(n in i)i[n]=_(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=y(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new g(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var m=v,b=\"http://www.w3.org/1999/xhtml\",x={svg:\"http://www.w3.org/2000/svg\",xhtml:b,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},w=function(t){var e=t+=\"\",n=e.indexOf(\":\");return n>=0&&\"xmlns\"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),x.hasOwnProperty(e)?{space:x[e],local:t}:t},T=function(t){var e=w(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===b&&e.documentElement.namespaceURI===b?e.createElement(t):e.createElementNS(n,t)}})(e)};function E(){}var M=function(t){return null==t?E:function(){return this.querySelector(t)}};function S(){return[]}var O=function(t){return null==t?S:function(){return this.querySelectorAll(t)}},C=function(t){return function(){return this.matches(t)}},A=function(t){return new Array(t.length)};function P(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}P.prototype={constructor:P,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var R=\"$\";function I(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new P(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function D(t,e,n,r,i,o,a){var s,u,l,c={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=l=R+a.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<f;++s)(u=c[l=R+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new P(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c[d[s]]===u&&(i[s]=u)}function k(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var N=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function L(t,e){return t.style.getPropertyValue(e)||N(t).getComputedStyle(t,null).getPropertyValue(e)}function j(t){return t.trim().split(/^|\\s+/)}function F(t){return t.classList||new U(t)}function U(t){this._node=t,this._names=j(t.getAttribute(\"class\")||\"\")}function B(t,e){for(var n=F(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function H(t,e){for(var n=F(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function X(){this.textContent=\"\"}function z(){this.innerHTML=\"\"}function G(){this.nextSibling&&this.parentNode.appendChild(this)}function Y(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function W(){return null}function V(){var t=this.parentNode;t&&t.removeChild(this)}function q(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Z(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}U.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(t){return this._names.indexOf(t)>=0}};var K={},J=null;function Q(t,e,n){return t=$(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function $(t,e,n){return function(r){var i=J;J=r;try{t.call(this,this.__data__,e,n)}finally{J=i}}}function tt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function et(t,e,n){var r=K.hasOwnProperty(t.type)?Q:$;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function nt(t,e,n){var r=N(t),i=r.CustomEvent;\"function\"==typeof i?i=new i(e,n):(i=r.document.createEvent(\"Event\"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}\"undefined\"!=typeof document&&(\"onmouseenter\"in document.documentElement||(K={mouseenter:\"mouseover\",mouseleave:\"mouseout\"}));var rt=[null];function it(t,e){this._groups=t,this._parents=e}function ot(){return new it([[document.documentElement]],rt)}it.prototype=ot.prototype={constructor:it,select:function(t){\"function\"!=typeof t&&(t=M(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&(\"__data__\"in o&&(a.__data__=o.__data__),l[c]=a);return new it(r,this._parents)},selectAll:function(t){\"function\"!=typeof t&&(t=O(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new it(r,i)},filter:function(t){\"function\"!=typeof t&&(t=C(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new it(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n,r=e?D:I,i=this._parents,o=this._groups;\"function\"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var h=i[c],f=o[c],d=f.length,p=t.call(h,h&&h.__data__,c,i),v=p.length,g=u[c]=new Array(v),y=s[c]=new Array(v);r(h,f,g,y,l[c]=new Array(d),p,e);for(var _,m,b=0,x=0;b<v;++b)if(_=g[b]){for(b>=x&&(x=b+1);!(m=y[x])&&++x<v;);_._next=m||null}}return(s=new it(s,i))._enter=u,s._exit=l,s},enter:function(){return new it(this._enter||this._groups.map(A),this._parents)},exit:function(){return new it(this._exit||this._groups.map(A),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r=\"function\"==typeof t?t(r):r.append(t+\"\"),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new it(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=k);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new it(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=w(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:\"function\"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:\"function\"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?\"\":n)):L(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:\"function\"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=j(t+\"\");if(arguments.length<2){for(var r=F(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((\"function\"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?B:H)(this,t)}}:e?function(t){return function(){B(this,t)}}:function(t){return function(){H(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?X:(\"function\"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?\"\":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?z:(\"function\"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?\"\":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(G)},lower:function(){return this.each(Y)},append:function(t){var e=\"function\"==typeof t?t:T(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n=\"function\"==typeof t?t:T(t),r=null==e?W:\"function\"==typeof e?e:M(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(V)},clone:function(t){return this.select(t?Z:q)},datum:function(t){return arguments.length?this.property(\"__data__\",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\\s+/).map(function(t){var e=\"\",n=t.indexOf(\".\");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+\"\"),a=o.length;if(!(arguments.length<2)){for(s=e?et:tt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each((\"function\"==typeof e?function(t,e){return function(){return nt(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return nt(this,t,e)}})(t,e))}};var at=ot,st=0;function ut(){this._=\"@\"+(++st).toString(36)}ut.prototype=function(){return new ut}.prototype={constructor:ut,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var lt=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function ct(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ht(){}var ft=\"\\\\s*([+-]?\\\\d+)\\\\s*\",dt=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",pt=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",vt=/^#([0-9a-f]{3})$/,gt=/^#([0-9a-f]{6})$/,yt=new RegExp(\"^rgb\\\\(\"+[ft,ft,ft]+\"\\\\)$\"),_t=new RegExp(\"^rgb\\\\(\"+[pt,pt,pt]+\"\\\\)$\"),mt=new RegExp(\"^rgba\\\\(\"+[ft,ft,ft,dt]+\"\\\\)$\"),bt=new RegExp(\"^rgba\\\\(\"+[pt,pt,pt,dt]+\"\\\\)$\"),xt=new RegExp(\"^hsl\\\\(\"+[dt,pt,pt]+\"\\\\)$\"),wt=new RegExp(\"^hsla\\\\(\"+[dt,pt,pt,dt]+\"\\\\)$\"),Tt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Et(t){var e;return t=(t+\"\").trim().toLowerCase(),(e=vt.exec(t))?new At((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=gt.exec(t))?Mt(parseInt(e[1],16)):(e=yt.exec(t))?new At(e[1],e[2],e[3],1):(e=_t.exec(t))?new At(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=mt.exec(t))?St(e[1],e[2],e[3],e[4]):(e=bt.exec(t))?St(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=xt.exec(t))?Rt(e[1],e[2]/100,e[3]/100,1):(e=wt.exec(t))?Rt(e[1],e[2]/100,e[3]/100,e[4]):Tt.hasOwnProperty(t)?Mt(Tt[t]):\"transparent\"===t?new At(NaN,NaN,NaN,0):null}function Mt(t){return new At(t>>16&255,t>>8&255,255&t,1)}function St(t,e,n,r){return r<=0&&(t=e=n=NaN),new At(t,e,n,r)}function Ot(t){return t instanceof ht||(t=Et(t)),t?new At((t=t.rgb()).r,t.g,t.b,t.opacity):new At}function Ct(t,e,n,r){return 1===arguments.length?Ot(t):new At(t,e,n,null==r?1:r)}function At(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Pt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?\"0\":\"\")+t.toString(16)}function Rt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dt(t,e,n,r)}function It(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof ht||(t=Et(t)),!t)return new Dt;if(t instanceof Dt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Dt(a,s,u,t.opacity)}(t):new Dt(t,e,n,null==r?1:r)}function Dt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function kt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}lt(ht,Et,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+\"\"}}),lt(At,Ct,ct(ht,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return\"#\"+Pt(this.r)+Pt(this.g)+Pt(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?\")\":\", \"+t+\")\")}})),lt(Dt,It,ct(ht,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new At(kt(t>=240?t-240:t+120,i,r),kt(t,i,r),kt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Nt=Math.PI/180,Lt=180/Math.PI,jt=.96422,Ft=1,Ut=.82521,Bt=4/29,Ht=6/29,Xt=3*Ht*Ht,zt=Ht*Ht*Ht;function Gt(t){if(t instanceof Yt)return new Yt(t.l,t.a,t.b,t.opacity);if(t instanceof Jt){if(isNaN(t.h))return new Yt(t.l,0,0,t.opacity);var e=t.h*Nt;return new Yt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof At||(t=Ot(t));var n,r,i=Zt(t.r),o=Zt(t.g),a=Zt(t.b),s=Wt((.2225045*i+.7168786*o+.0606169*a)/Ft);return i===o&&o===a?n=r=s:(n=Wt((.4360747*i+.3850649*o+.1430804*a)/jt),r=Wt((.0139322*i+.0971045*o+.7141733*a)/Ut)),new Yt(116*s-16,500*(n-s),200*(s-r),t.opacity)}function Yt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Wt(t){return t>zt?Math.pow(t,1/3):t/Xt+Bt}function Vt(t){return t>Ht?t*t*t:Xt*(t-Bt)}function qt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Zt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Kt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Jt)return new Jt(t.h,t.c,t.l,t.opacity);if(t instanceof Yt||(t=Gt(t)),0===t.a&&0===t.b)return new Jt(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Lt;return new Jt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Jt(t,e,n,null==r?1:r)}function Jt(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}lt(Yt,function(t,e,n,r){return 1===arguments.length?Gt(t):new Yt(t,e,n,null==r?1:r)},ct(ht,{brighter:function(t){return new Yt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Yt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new At(qt(3.1338561*(e=jt*Vt(e))-1.6168667*(t=Ft*Vt(t))-.4906146*(n=Ut*Vt(n))),qt(-.9787684*e+1.9161415*t+.033454*n),qt(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),lt(Jt,Kt,ct(ht,{brighter:function(t){return new Jt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Jt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Gt(this).rgb()}}));var Qt=-.29227,$t=-.90649,te=1.97294,ee=te*$t,ne=1.78277*te,re=1.78277*Qt- -.14861*$t;function ie(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof oe)return new oe(t.h,t.s,t.l,t.opacity);t instanceof At||(t=Ot(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(re*r+ee*e-ne*n)/(re+ee-ne),o=r-i,a=(te*(n-i)-Qt*o)/$t,s=Math.sqrt(a*a+o*o)/(te*i*(1-i)),u=s?Math.atan2(a,o)*Lt-120:NaN;return new oe(u<0?u+360:u,s,i,t.opacity)}(t):new oe(t,e,n,null==r?1:r)}function oe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ae(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}lt(oe,ie,ct(ht,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new oe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new oe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Nt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new At(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(Qt*r+$t*i)),255*(e+n*(te*r)),this.opacity)}}));var se=function(t){return function(){return t}};function ue(t,e){return function(n){return t+n*e}}function le(t,e){var n=e-t;return n?ue(t,n>180||n<-180?n-360*Math.round(n/360):n):se(isNaN(t)?e:t)}function ce(t,e){var n=e-t;return n?ue(t,n):se(isNaN(t)?e:t)}var he=function t(e){var n=function(t){return 1==(t=+t)?ce:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):se(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Ct(t)).r,(e=Ct(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=ce(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+\"\"}}return r.gamma=t,r}(1);function fe(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ct(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+\"\"}}}var de,pe,ve,ge,ye=fe(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return ae((n-r/e)*e,a,i,o,s)}}),_e=(fe(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return ae((n-r/e)*e,i,o,a,s)}}),function(t,e){return e-=t=+t,function(n){return t+e*n}}),me=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,be=new RegExp(me.source,\"g\"),xe=function(t,e){var n,r,i,o=me.lastIndex=be.lastIndex=0,a=-1,s=[],u=[];for(t+=\"\",e+=\"\";(n=me.exec(t))&&(r=be.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:_e(n,r)})),o=be.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+\"\"}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join(\"\")})},we=function(t,e){var n,r=typeof e;return null==e||\"boolean\"===r?se(e):(\"number\"===r?_e:\"string\"===r?(n=Et(e))?(e=n,he):xe:e instanceof Et?he:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=we(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}:\"function\"!=typeof e.valueOf&&\"function\"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&\"object\"==typeof t||(t={}),null!==e&&\"object\"==typeof e||(e={}),e)n in t?r[n]=we(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:_e)(t,e)},Te=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},Ee=180/Math.PI,Me={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Se=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Ee,skewX:Math.atan(u)*Ee,scaleX:a,scaleY:s}};function Oe(t,e,n,r){function i(t){return t.length?t.pop()+\" \":\"\"}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push(\"translate(\",null,e,null,n);s.push({i:u-4,x:_e(t,i)},{i:u-2,x:_e(r,o)})}else(i||o)&&a.push(\"translate(\"+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),u.push({i:n.push(i(n)+\"rotate(\",null,r)-2,x:_e(t,e)})):e&&n.push(i(n)+\"rotate(\"+e+r)}(o.rotate,a.rotate,s),function(t,e,n,o){t!==e?u.push({i:n.push(i(n)+\"skewX(\",null,r)-2,x:_e(t,e)}):e&&n.push(i(n)+\"skewX(\"+e+r)}(o.skewX,a.skewX,s),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+\"scale(\",null,\",\",null,\")\");a.push({i:s-4,x:_e(t,n)},{i:s-2,x:_e(e,r)})}else 1===n&&1===r||o.push(i(o)+\"scale(\"+n+\",\"+r+\")\")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join(\"\")}}}var Ce=Oe(function(t){return\"none\"===t?Me:(de||(de=document.createElement(\"DIV\"),pe=document.documentElement,ve=document.defaultView),de.style.transform=t,t=ve.getComputedStyle(pe.appendChild(de),null).getPropertyValue(\"transform\"),pe.removeChild(de),t=t.slice(7,-1).split(\",\"),Se(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},\"px, \",\"px)\",\"deg)\"),Ae=Oe(function(t){return null==t?Me:(ge||(ge=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),ge.setAttribute(\"transform\",t),(t=ge.transform.baseVal.consolidate())?(t=t.matrix,Se(t.a,t.b,t.c,t.d,t.e,t.f)):Me)},\", \",\")\",\")\");function Pe(t){return function(e,n){var r=t((e=It(e)).h,(n=It(n)).h),i=ce(e.s,n.s),o=ce(e.l,n.l),a=ce(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+\"\"}}}function Re(t){return function(e,n){var r=t((e=Kt(e)).h,(n=Kt(n)).h),i=ce(e.c,n.c),o=ce(e.l,n.l),a=ce(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+\"\"}}}function Ie(t){return function e(n){function r(e,r){var i=t((e=ie(e)).h,(r=ie(r)).h),o=ce(e.s,r.s),a=ce(e.l,r.l),s=ce(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+\"\"}}return n=+n,r.gamma=e,r}(1)}Math.SQRT2,Pe(le),Pe(ce),Re(le),Re(ce),Ie(le);var De,ke,Ne=Ie(ce),Le=0,je=0,Fe=0,Ue=1e3,Be=0,He=0,Xe=0,ze=\"object\"==typeof performance&&performance.now?performance:Date,Ge=\"object\"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ye(){return He||(Ge(We),He=ze.now()+Xe)}function We(){He=0}function Ve(){this._call=this._time=this._next=null}function qe(t,e,n){var r=new Ve;return r.restart(t,e,n),r}function Ze(){He=(Be=ze.now())+Xe,Le=je=0;try{!function(){Ye(),++Le;for(var t,e=De;e;)(t=He-e._time)>=0&&e._call.call(null,t),e=e._next;--Le}()}finally{Le=0,function(){for(var t,e,n=De,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:De=e);ke=t,Je(r)}(),He=0}}function Ke(){var t=ze.now(),e=t-Be;e>Ue&&(Xe-=e,Be=t)}function Je(t){Le||(je&&(je=clearTimeout(je)),t-He>24?(t<1/0&&(je=setTimeout(Ze,t-ze.now()-Xe)),Fe&&(Fe=clearInterval(Fe))):(Fe||(Be=ze.now(),Fe=setInterval(Ke,Ue)),Le=1,Ge(Ze)))}Ve.prototype=qe.prototype={constructor:Ve,restart:function(t,e,n){if(\"function\"!=typeof t)throw new TypeError(\"callback is not a function\");n=(null==n?Ye():+n)+(null==e?0:+e),this._next||ke===this||(ke?ke._next=this:De=this,ke=this),this._call=t,this._time=n,Je()},stop:function(){this._call&&(this._call=null,this._time=1/0,Je())}};var Qe=function(t,e,n){var r=new Ve;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},$e=m(\"start\",\"end\",\"cancel\",\"interrupt\"),tn=[],en=0,nn=1,rn=2,on=3,an=4,sn=5,un=6,ln=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var l,c,h,f;if(n.state!==nn)return s();for(l in i)if((f=i[l]).name===n.name){if(f.state===on)return Qe(o);f.state===an?(f.state=un,f.timer.stop(),f.on.call(\"interrupt\",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=un,f.timer.stop(),f.on.call(\"cancel\",t,t.__data__,f.index,f.group),delete i[l])}if(Qe(function(){n.state===on&&(n.state=an,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=rn,n.on.call(\"start\",t,t.__data__,n.index,n.group),n.state===rn){for(n.state=on,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=sn,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===sn&&(n.on.call(\"end\",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=un,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=qe(function(t){n.state=nn,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:$e,tween:tn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:en})};function cn(t,e){var n=fn(t,e);if(n.state>en)throw new Error(\"too late; already scheduled\");return n}function hn(t,e){var n=fn(t,e);if(n.state>on)throw new Error(\"too late; already running\");return n}function fn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error(\"transition not found\");return n}function dn(t,e,n){var r=t._id;return t.each(function(){var t=hn(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return fn(t,r).value[e]}}var pn=function(t,e){var n;return(\"number\"==typeof e?_e:e instanceof Et?he:(n=Et(e))?(e=n,he):xe)(t,e)},vn=at.prototype.constructor;function gn(t){return function(){this.style.removeProperty(t)}}var yn=0;function _n(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function mn(){return++yn}var bn=at.prototype;_n.prototype=function(t){return at().transition(t)}.prototype={constructor:_n,select:function(t){var e=this._name,n=this._id;\"function\"!=typeof t&&(t=M(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&(\"__data__\"in s&&(u.__data__=s.__data__),h[f]=u,ln(h[f],e,n,f,h,fn(s,n)));return new _n(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;\"function\"!=typeof t&&(t=O(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=fn(u,n),v=0,g=d.length;v<g;++v)(f=d[v])&&ln(f,e,n,v,d,p);o.push(d),a.push(u)}return new _n(o,a,e,n)},filter:function(t){\"function\"!=typeof t&&(t=C(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new _n(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new _n(a,this._parents,this._name,this._id)},selection:function(){return new vn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=mn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=fn(a,e);ln(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new _n(r,this._parents,t,n)},call:bn.call,nodes:bn.nodes,node:bn.node,size:bn.size,empty:bn.empty,each:bn.each,on:function(t,e){var n=this._id;return arguments.length<2?fn(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=(e+\"\").trim().split(/^|\\s+/).every(function(t){var e=t.indexOf(\".\");return e>=0&&(t=t.slice(0,e)),!t||\"start\"===t})?cn:hn;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=w(t),r=\"transform\"===n?Ae:pn;return this.attrTween(t,\"function\"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+\"\")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+\"\")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}})(n,r,dn(this,\"attr.\"+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,o=n+\"\";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}:function(t,e,n){var r,i,o=n+\"\";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}})(n,r,e))},attrTween:function(t,e){var n=\"attr.\"+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if(\"function\"!=typeof e)throw new Error;var r=w(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,i)),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,i)),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r=\"transform\"==(t+=\"\")?Ce:pn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=L(this,t),a=(this.style.removeProperty(t),L(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on(\"end.style.\"+t,gn(t)):\"function\"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=L(this,t),s=n(this),u=s+\"\";return null==s&&(this.style.removeProperty(t),u=s=L(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,dn(this,\"style.\"+t,e))).each(function(t,e){var n,r,i,o,a=\"style.\"+e,s=\"end.\"+a;return function(){var u=hn(this,t),l=u.on,c=null==u.value[a]?o||(o=gn(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+\"\";return function(){var a=L(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on(\"end.style.\"+t,null)},styleTween:function(t,e,n){var r=\"style.\"+(t+=\"\");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if(\"function\"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?\"\":n))},text:function(t){return this.tween(\"text\",\"function\"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?\"\":e}}(dn(this,\"text\",t)):function(t){return function(){this.textContent=t}}(null==t?\"\":t+\"\"))},remove:function(){return this.on(\"end.remove\",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+=\"\",arguments.length<2){for(var r,i=fn(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=hn(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if(\"function\"!=typeof n)throw new Error;return function(){var o=hn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each((\"function\"==typeof t?function(t,e){return function(){cn(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){cn(this,t).delay=e}})(e,t)):fn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each((\"function\"==typeof t?function(t,e){return function(){hn(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){hn(this,t).duration=e}})(e,t)):fn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if(\"function\"!=typeof e)throw new Error;return function(){hn(this,t).ease=e}}(e,t)):fn(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each(function(){var n=hn(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})})}},function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Math.PI,function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158);var xn=2*Math.PI,wn=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=xn);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*xn)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=xn);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*xn)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=xn);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*xn)},i.period=function(n){return t(e,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function Tn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return wn.time=Ye(),wn;return n}function En(t){return{type:t}}at.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+\"\",o)(n=o[i]).name===e?(r=n.state>rn&&n.state<sn,n.state=un,n.timer.stop(),n.on.call(r?\"interrupt\":\"cancel\",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},at.prototype.transition=function(t){var e,n;t instanceof _n?(e=t._id,t=t._name):(e=mn(),(n=wn).time=Ye(),t=null==t?null:t+\"\");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&ln(a,t,e,l,s,n||Tn(a,e));return new _n(r,this._parents,t,e)},[\"e\",\"w\"].map(En),[\"n\",\"s\"].map(En),[\"n\",\"e\",\"s\",\"w\",\"nw\",\"ne\",\"se\",\"sw\"].map(En),Math.cos,Math.sin,Math.PI,Math.max,Array.prototype.slice;var Mn=Math.PI,Sn=2*Mn,On=Sn-1e-6;function Cn(){this._x0=this._y0=this._x1=this._y1=null,this._=\"\"}function An(){}function Pn(t,e){var n=new An;if(t instanceof An)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Cn.prototype=function(){return new Cn}.prototype={constructor:Cn,moveTo:function(t,e){this._+=\"M\"+(this._x0=this._x1=+t)+\",\"+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+=\"Z\")},lineTo:function(t,e){this._+=\"L\"+(this._x1=+t)+\",\"+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+=\"Q\"+ +t+\",\"+ +e+\",\"+(this._x1=+n)+\",\"+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+=\"C\"+ +t+\",\"+ +e+\",\"+ +n+\",\"+ +r+\",\"+(this._x1=+i)+\",\"+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,h=l*l+c*c;if(i<0)throw new Error(\"negative radius: \"+i);if(null===this._x1)this._+=\"M\"+(this._x1=t)+\",\"+(this._y1=e);else if(h>1e-6)if(Math.abs(c*s-u*l)>1e-6&&i){var f=n-o,d=r-a,p=s*s+u*u,v=f*f+d*d,g=Math.sqrt(p),y=Math.sqrt(h),_=i*Math.tan((Mn-Math.acos((p+h-v)/(2*g*y)))/2),m=_/y,b=_/g;Math.abs(m-1)>1e-6&&(this._+=\"L\"+(t+m*l)+\",\"+(e+m*c)),this._+=\"A\"+i+\",\"+i+\",0,0,\"+ +(c*f>l*d)+\",\"+(this._x1=t+b*s)+\",\"+(this._y1=e+b*u)}else this._+=\"L\"+(this._x1=t)+\",\"+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error(\"negative radius: \"+n);null===this._x1?this._+=\"M\"+u+\",\"+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+=\"L\"+u+\",\"+l),n&&(h<0&&(h=h%Sn+Sn),h>On?this._+=\"A\"+n+\",\"+n+\",0,1,\"+c+\",\"+(t-a)+\",\"+(e-s)+\"A\"+n+\",\"+n+\",0,1,\"+c+\",\"+(this._x1=u)+\",\"+(this._y1=l):h>1e-6&&(this._+=\"A\"+n+\",\"+n+\",0,\"+ +(h>=Mn)+\",\"+c+\",\"+(this._x1=t+n*Math.cos(i))+\",\"+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+=\"M\"+(this._x0=this._x1=+t)+\",\"+(this._y0=this._y1=+e)+\"h\"+ +n+\"v\"+ +r+\"h\"+-n+\"Z\"},toString:function(){return this._}},An.prototype=Pn.prototype={constructor:An,has:function(t){return\"$\"+t in this},get:function(t){return this[\"$\"+t]},set:function(t,e){return this[\"$\"+t]=e,this},remove:function(t){var e=\"$\"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)\"$\"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)\"$\"===e[0]&&++t;return t},empty:function(){for(var t in this)if(\"$\"===t[0])return!1;return!0},each:function(t){for(var e in this)\"$\"===e[0]&&t(this[e],e.slice(1),this)}};var Rn=Pn,In=function(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,l,c,h=-1,f=n.length,d=r[i++],p=Rn(),v=a();++h<f;)(c=p.get(u=d(l=n[h])+\"\"))?c.push(l):p.set(u,[l]);return p.each(function(t,e){s(v,e,o(t,i,a,s))}),v}return n={object:function(t){return o(t,0,Dn,kn)},map:function(t){return o(t,0,Nn,Ln)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(o(t,0,Nn,Ln),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function Dn(){return{}}function kn(t,e,n){t[e]=n}function Nn(){return Rn()}function Ln(t,e,n){t.set(e,n)}function jn(){}var Fn=Rn.prototype;jn.prototype=function(t,e){var n=new jn;if(t instanceof jn)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:jn,has:Fn.has,add:function(t){return this[\"$\"+(t+=\"\")]=t,this},remove:Fn.remove,clear:Fn.clear,values:Fn.keys,size:Fn.size,empty:Fn.empty,each:Fn.each};var Un=function(t){var e=[];for(var n in t)e.push(n);return e};Array.prototype.slice;var Bn={},Hn={},Xn=34,zn=10,Gn=13;function Yn(t){return new Function(\"d\",\"return {\"+t.map(function(t,e){return JSON.stringify(t)+\": d[\"+e+\"]\"}).join(\",\")+\"}\")}function Wn(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function Vn(t,e){var n=t+\"\",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}var qn=function(t){var e=new RegExp('[\"'+t+\"\\n\\r]\"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,l=!1;function c(){if(u)return Hn;if(l)return l=!1,Bn;var e,r,i=a;if(t.charCodeAt(i)===Xn){for(;a++<o&&t.charCodeAt(a)!==Xn||t.charCodeAt(++a)===Xn;);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===zn?l=!0:r===Gn&&(l=!0,t.charCodeAt(a)===zn&&++a),t.slice(i+1,e-1).replace(/\"\"/g,'\"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===zn)l=!0;else if(r===Gn)l=!0,t.charCodeAt(a)===zn&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===zn&&--o,t.charCodeAt(o-1)===Gn&&--o;(r=c())!==Hn;){for(var h=[];r!==Bn&&r!==Hn;)h.push(r),r=c();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})}function o(e){return e.map(a).join(t)}function a(t){return null==t?\"\":t instanceof Date?function(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?\"Invalid Date\":((e=t.getUTCFullYear())<0?\"-\"+Vn(-e,6):e>9999?\"+\"+Vn(e,6):Vn(e,4))+\"-\"+Vn(t.getUTCMonth()+1,2)+\"-\"+Vn(t.getUTCDate(),2)+(o?\"T\"+Vn(n,2)+\":\"+Vn(r,2)+\":\"+Vn(i,2)+\".\"+Vn(o,3)+\"Z\":i?\"T\"+Vn(n,2)+\":\"+Vn(r,2)+\":\"+Vn(i,2)+\"Z\":r||n?\"T\"+Vn(n,2)+\":\"+Vn(r,2)+\"Z\":\"\")}(t):e.test(t+=\"\")?'\"'+t.replace(/\"/g,'\"\"')+'\"':t}return{parse:function(t,e){var n,i,o=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Yn(t);return function(r,i){return e(n(r),i,t)}}(t,e):Yn(t)});return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=Wn(e)),[n.map(a).join(t)].concat(i(e,n)).join(\"\\n\")},formatBody:function(t,e){return null==e&&(e=Wn(t)),i(t,e).join(\"\\n\")},formatRows:function(t){return t.map(o).join(\"\\n\")}}},Zn=qn(\",\"),Kn=Zn.parse,Jn=(Zn.parseRows,Zn.format,Zn.formatBody,Zn.formatRows,qn(\"\\t\")),Qn=Jn.parse;function $n(t){if(!t.ok)throw new Error(t.status+\" \"+t.statusText);return t.text()}Jn.parseRows,Jn.format,Jn.formatBody,Jn.formatRows;var tr=function(t,e){return fetch(t,e).then($n)};function er(t){return function(e,n,r){return 2===arguments.length&&\"function\"==typeof n&&(r=n,n=void 0),tr(e,n).then(function(e){return t(e,r)})}}function nr(t){return function(e,n){return tr(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}function rr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,h,f,d=t._root,p={data:r},v=t._x0,g=t._y0,y=t._x1,_=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(v+y)/2))?v=o:y=o,(c=n>=(a=(g+_)/2))?g=a:_=a,i=d,!(d=d[h=c<<1|l]))return i[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(v+y)/2))?v=o:y=o,(c=n>=(a=(g+_)/2))?g=a:_=a}while((h=c<<1|l)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}er(Kn),er(Qn),nr(\"application/xml\"),nr(\"text/html\"),nr(\"image/svg+xml\");var ir=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function or(t){return t[0]}function ar(t){return t[1]}function sr(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ur(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var lr=function(t,e,n){var r=new sr(null==e?or:e,null==n?ar:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}.prototype=sr.prototype;lr.copy=function(){var t,e,n=new sr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ur(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=ur(e));return n},lr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return rr(this.cover(e,n),e,n,t)},lr.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<o;++n)rr(this,a[n],s[n],t[n]);return this},lr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},lr.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},lr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},lr.find=function(t,e,n){var r,i,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new ir(v,c,h,f,d)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>f||(o=u.y0)>d||(a=u.x1)<c||(s=u.y1)<h))if(v.length){var g=(i+a)/2,y=(o+s)/2;p.push(new ir(v[3],g,y,a,s),new ir(v[2],i,y,g,s),new ir(v[1],g,o,a,y),new ir(v[0],i,o,g,y)),(l=(e>=y)<<1|t>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var _=t-+this._x.call(null,v.data),m=e-+this._y.call(null,v.data),b=_*_+m*m;if(b<n){var x=Math.sqrt(n=b);c=t-x,h=e-x,f=t+x,d=e+x,r=v.data}}return r},lr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,h,f,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+g)/2))?p=s:g=s,(c=a>=(u=(v+y)/2))?v=u:y=u,e=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},lr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},lr.root=function(){return this._root},lr.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},lr.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new ir(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new ir(n,l,c,o,a)),(n=u[2])&&s.push(new ir(n,r,c,l,a)),(n=u[1])&&s.push(new ir(n,l,i,o,c)),(n=u[0])&&s.push(new ir(n,r,i,l,c))}return this},lr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new ir(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,h=(s+l)/2;(o=i[0])&&n.push(new ir(o,a,s,c,h)),(o=i[1])&&n.push(new ir(o,c,s,u,h)),(o=i[2])&&n.push(new ir(o,a,h,c,l)),(o=i[3])&&n.push(new ir(o,c,h,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},lr.x=function(t){return arguments.length?(this._x=t,this):this._x},lr.y=function(t){return arguments.length?(this._y=t,this):this._y},Math.PI,Math.sqrt(5);var cr=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf(\"e\"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},hr=function(t){return(t=cr(Math.abs(t)))?t[1]:NaN},fr=/^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function dr(t){return new pr(t)}function pr(t){if(!(e=fr.exec(t)))throw new Error(\"invalid format: \"+t);var e;this.fill=e[1]||\" \",this.align=e[2]||\">\",this.sign=e[3]||\"-\",this.symbol=e[4]||\"\",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||\"\"}dr.prototype=pr.prototype,pr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(null==this.width?\"\":Math.max(1,0|this.width))+(this.comma?\",\":\"\")+(null==this.precision?\"\":\".\"+Math.max(0,0|this.precision))+(this.trim?\"~\":\"\")+this.type};var vr,gr,yr,_r,mr=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case\".\":i=e=r;break;case\"0\":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},br=function(t,e){var n=cr(t,e);if(!n)return t+\"\";var r=n[0],i=n[1];return i<0?\"0.\"+new Array(-i).join(\"0\")+r:r.length>i+1?r.slice(0,i+1)+\".\"+r.slice(i+1):r+new Array(i-r.length+2).join(\"0\")},xr={\"%\":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+\"\"},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return br(100*t,e)},r:br,s:function(t,e){var n=cr(t,e);if(!n)return t+\"\";var r=n[0],i=n[1],o=i-(vr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join(\"0\"):o>0?r.slice(0,o)+\".\"+r.slice(o):\"0.\"+new Array(1-o).join(\"0\")+cr(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},wr=function(t){return t},Tr=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];gr=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}):wr,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):wr,s=t.percent||\"%\";function u(t){var e=(t=dr(t)).fill,n=t.align,u=t.sign,l=t.symbol,c=t.zero,h=t.width,f=t.comma,d=t.precision,p=t.trim,v=t.type;\"n\"===v?(f=!0,v=\"g\"):xr[v]||(null==d&&(d=12),p=!0,v=\"g\"),(c||\"0\"===e&&\"=\"===n)&&(c=!0,e=\"0\",n=\"=\");var g=\"$\"===l?i[0]:\"#\"===l&&/[boxX]/.test(v)?\"0\"+v.toLowerCase():\"\",y=\"$\"===l?i[1]:/[%p]/.test(v)?s:\"\",_=xr[v],m=/[defgprs%]/.test(v);function b(t){var i,s,l,b=g,x=y;if(\"c\"===v)x=_(t)+x,t=\"\";else{var w=(t=+t)<0;if(t=_(Math.abs(t),d),p&&(t=mr(t)),w&&0==+t&&(w=!1),b=(w?\"(\"===u?u:\"-\":\"-\"===u||\"(\"===u?\"\":u)+b,x=(\"s\"===v?Tr[8+vr/3]:\"\")+x+(w&&\"(\"===u?\")\":\"\"),m)for(i=-1,s=t.length;++i<s;)if(48>(l=t.charCodeAt(i))||l>57){x=(46===l?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}f&&!c&&(t=r(t,1/0));var T=b.length+t.length+x.length,E=T<h?new Array(h-T+1).join(e):\"\";switch(f&&c&&(t=r(E+t,E.length?h-x.length:1/0),E=\"\"),n){case\"<\":t=b+t+x+E;break;case\"=\":t=b+E+t+x;break;case\"^\":t=E.slice(0,T=E.length>>1)+b+t+x+E.slice(T);break;default:t=E+b+t+x}return a(t)}return d=null==d?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),b.toString=function(){return t+\"\"},b}return{format:u,formatPrefix:function(t,e){var n=u(((t=dr(t)).type=\"f\",t)),r=3*Math.max(-8,Math.min(8,Math.floor(hr(e)/3))),i=Math.pow(10,-r),o=Tr[8+r/3];return function(t){return n(i*t)+o}}}}({decimal:\".\",thousands:\",\",grouping:[3],currency:[\"$\",\"\"]}),yr=gr.format,_r=gr.formatPrefix;var Er=function(){return new Mr};function Mr(){this.reset()}Mr.prototype={constructor:Mr,reset:function(){this.s=this.t=0},add:function(t){Or(Sr,t,this.t),Or(this,Sr.s,this.s),this.s?this.t+=Sr.t:this.s=Sr.t},valueOf:function(){return this.s}};var Sr=new Mr;function Or(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var Cr=Math.PI,Ar=Cr/2,Pr=2*Cr,Rr=Cr/180,Ir=Math.abs,Dr=Math.atan,kr=Math.atan2,Nr=Math.cos,Lr=(Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin),jr=(Math.sign,Math.sqrt);Math.tan;function Fr(t){return t>1?Ar:t<-1?-Ar:Math.asin(t)}function Ur(t,e){return[Ir(t)>Cr?t+Math.round(-t/Pr)*Pr:t,e]}Er(),Er(),Er(),Ur.invert=Ur;Er();function Br(t){return\"m0,\"+t+\"a\"+t+\",\"+t+\" 0 1,1 0,\"+-2*t+\"a\"+t+\",\"+t+\" 0 1,1 0,\"+2*t+\"z\"}function Hr(){}function Xr(t){return function(e,n){var r=Nr(e),i=Nr(n),o=t(r*i);return[o*i*Lr(e),o*Lr(n)]}}function zr(t){return function(e,n){var r=jr(e*e+n*n),i=t(r),o=Lr(i),a=Nr(i);return[kr(e*o,r*a),Fr(r&&n*o/r)]}}function Gr(t,e){return[t,e]}Er(),Er(),Er(),Er(),Br(4.5),Hr.prototype={constructor:Hr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Nr(30*Rr),Xr(function(t){return jr(2/(1+t))}).invert=zr(function(t){return 2*Fr(t/2)}),Xr(function(t){return(t=function(t){return t>1?0:t<-1?Cr:Math.acos(t)}(t))&&t/Lr(t)}).invert=zr(function(t){return t}),Gr.invert=Gr;jr(3);function Yr(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Wr(t,e){var n,r,i,o,a,s=new Kr(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=Vr);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new Kr(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Zr)}function Vr(t){return t.children}function qr(t){t.data=t.data.data}function Zr(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Kr(t){this.data=t,this.depth=this.height=0,this.parent=null}zr(Dr),zr(Fr),zr(function(t){return 2*Dr(t)}),Kr.prototype=Wr.prototype={constructor:Kr,count:function(){return this.eachAfter(Yr)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Wr(this).eachBefore(qr)}},Array.prototype.slice;var Jr=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l};Object.create(Kr.prototype);var Qr=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l},$r=(1+Math.sqrt(5))/2;function ti(t,e,n,r,i,o){for(var a,s,u,l,c,h,f,d,p,v,g,y=[],_=e.children,m=0,b=0,x=_.length,w=e.value;m<x;){u=i-n,l=o-r;do{c=_[b++].value}while(!c&&b<x);for(h=f=c,g=c*c*(v=Math.max(l/u,u/l)/(w*t)),p=Math.max(f/g,g/h);b<x;++b){if(c+=s=_[b].value,s<h&&(h=s),s>f&&(f=s),g=c*c*v,(d=Math.max(f/g,g/h))>p){c-=s;break}p=d}y.push(a={value:c,dice:u<l,children:_.slice(m,b)}),a.dice?Jr(a,n,r,i,w?r+=l*c/w:o):Qr(a,n,r,w?n+=u*c/w:i,o),w-=c,m=b}return y}(function t(e){function n(t,n,r,i,o){ti(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n})($r),function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,l,c,h=-1,f=a.length,d=t.value;++h<f;){for(u=(s=a[h]).children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?Jr(s,n,r,i,r+=(o-r)*s.value/d):Qr(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else t._squarify=a=ti(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}($r);var ei=function(){return Math.random()},ni=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(ei),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(ei)),ri=(function t(e){function n(){var t=ni.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(ei),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(ei));(function t(e){function n(t){var n=ri.source(e)(t);return function(){return n()/t}}return n.source=t,n})(ei),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(ei);var ii=Array.prototype,oi=ii.map,ai=ii.slice,si=function(t){return function(){return t}},ui=function(t){return+t},li=[0,1];function ci(t){return t}function hi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:si(isNaN(e)?NaN:.5)}function fi(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function di(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=hi(i,r),o=n(a,o)):(r=hi(r,i),o=n(o,a)),function(t){return o(r(t))}}function pi(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=hi(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=s(t,e,1,r)-1;return o[n](i[n](e))}}function vi(t,e){return function(){var t,e,n,r,i,o,a=li,s=li,u=we,l=ci;function c(){return r=Math.min(a.length,s.length)>2?pi:di,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(s,a.map(t),_e)))(n)))},h.domain=function(t){return arguments.length?(a=oi.call(t,ui),l===ci||(l=fi(a)),c()):a.slice()},h.range=function(t){return arguments.length?(s=ai.call(t),c()):s.slice()},h.rangeRound=function(t){return s=ai.call(t),u=Te,c()},h.clamp=function(t){return arguments.length?(l=t?fi(a):ci,h):l!==ci},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}()(t,e)}var gi=function(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=l?i*=10:o>=c?i*=5:o>=h&&(i*=2),e<t?-i:i}(t,e,n);switch((r=dr(null==r?\",f\":r)).type){case\"s\":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hr(e)/3)))-hr(Math.abs(t)))}(o,a))||(r.precision=i),_r(r,a);case\"\":case\"e\":case\"g\":case\"p\":case\"r\":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hr(e)-hr(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-(\"e\"===r.type));break;case\"f\":case\"%\":null!=r.precision||isNaN(i=function(t){return Math.max(0,-hr(Math.abs(t)))}(o))||(r.precision=i-2*(\"%\"===r.type))}return yr(r)};function yi(){var t=vi(ci,ci);return t.copy=function(){return function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}(t,yi())},function(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}.apply(t,arguments),function(t){var e=t.domain;return t.ticks=function(t){var n=e();return f(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return gi(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=d(s,u,n))>0?r=d(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=d(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}(t)}var _i=new Date,mi=new Date;function bi(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return bi(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return _i.setTime(+e),mi.setTime(+r),t(_i),t(mi),Math.floor(n(_i,mi))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var xi=bi(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});xi.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?bi(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):xi:null},xi.range;var wi=6e4,Ti=6048e5,Ei=(((bi(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}).range,bi(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*wi)},function(t,e){return(e-t)/wi},function(t){return t.getMinutes()})).range,bi(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*wi)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})).range,bi(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wi)/864e5},function(t){return t.getDate()-1})),Mi=Ei;function Si(t){return bi(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wi)/Ti})}Ei.range;var Oi=Si(0),Ci=Si(1),Ai=Si(2),Pi=Si(3),Ri=Si(4),Ii=Si(5),Di=Si(6),ki=((Oi.range,Ci.range,Ai.range,Pi.range,Ri.range,Ii.range,Di.range,bi(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})).range,bi(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));ki.every=function(t){return isFinite(t=Math.floor(t))&&t>0?bi(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Ni=ki,Li=(((ki.range,bi(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*wi)},function(t,e){return(e-t)/wi},function(t){return t.getUTCMinutes()})).range,bi(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()})).range,bi(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),ji=Li;function Fi(t){return bi(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Ti})}Li.range;var Ui=Fi(0),Bi=Fi(1),Hi=Fi(2),Xi=Fi(3),zi=Fi(4),Gi=Fi(5),Yi=Fi(6),Wi=((Ui.range,Bi.range,Hi.range,Xi.range,zi.range,Gi.range,Yi.range,bi(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})).range,bi(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Wi.every=function(t){return isFinite(t=Math.floor(t))&&t>0?bi(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Vi=Wi;function qi(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zi(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ki(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}Wi.range;var Ji,Qi,$i,to={\"-\":\"\",_:\" \",0:\"0\"},eo=/^\\s*\\d+/,no=/^%/,ro=/[\\\\^$*+?|[\\]().{}]/g;function io(t,e,n){var r=t<0?\"-\":\"\",i=(r?-t:t)+\"\",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function oo(t){return t.replace(ro,\"\\\\$&\")}function ao(t){return new RegExp(\"^(?:\"+t.map(oo).join(\"|\")+\")\",\"i\")}function so(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function uo(t,e,n){var r=eo.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lo(t,e,n){var r=eo.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function co(t,e,n){var r=eo.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ho(t,e,n){var r=eo.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fo(t,e,n){var r=eo.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function po(t,e,n){var r=eo.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function vo(t,e,n){var r=eo.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function go(t,e,n){var r=/^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||\"00\")),n+r[0].length):-1}function yo(t,e,n){var r=eo.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _o(t,e,n){var r=eo.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mo(t,e,n){var r=eo.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function bo(t,e,n){var r=eo.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xo(t,e,n){var r=eo.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function wo(t,e,n){var r=eo.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function To(t,e,n){var r=eo.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Eo(t,e,n){var r=eo.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Mo(t,e,n){var r=no.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function So(t,e,n){var r=eo.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Oo(t,e,n){var r=eo.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Co(t,e){return io(t.getDate(),e,2)}function Ao(t,e){return io(t.getHours(),e,2)}function Po(t,e){return io(t.getHours()%12||12,e,2)}function Ro(t,e){return io(1+Mi.count(Ni(t),t),e,3)}function Io(t,e){return io(t.getMilliseconds(),e,3)}function Do(t,e){return Io(t,e)+\"000\"}function ko(t,e){return io(t.getMonth()+1,e,2)}function No(t,e){return io(t.getMinutes(),e,2)}function Lo(t,e){return io(t.getSeconds(),e,2)}function jo(t){var e=t.getDay();return 0===e?7:e}function Fo(t,e){return io(Oi.count(Ni(t),t),e,2)}function Uo(t,e){var n=t.getDay();return t=n>=4||0===n?Ri(t):Ri.ceil(t),io(Ri.count(Ni(t),t)+(4===Ni(t).getDay()),e,2)}function Bo(t){return t.getDay()}function Ho(t,e){return io(Ci.count(Ni(t),t),e,2)}function Xo(t,e){return io(t.getFullYear()%100,e,2)}function zo(t,e){return io(t.getFullYear()%1e4,e,4)}function Go(t){var e=t.getTimezoneOffset();return(e>0?\"-\":(e*=-1,\"+\"))+io(e/60|0,\"0\",2)+io(e%60,\"0\",2)}function Yo(t,e){return io(t.getUTCDate(),e,2)}function Wo(t,e){return io(t.getUTCHours(),e,2)}function Vo(t,e){return io(t.getUTCHours()%12||12,e,2)}function qo(t,e){return io(1+ji.count(Vi(t),t),e,3)}function Zo(t,e){return io(t.getUTCMilliseconds(),e,3)}function Ko(t,e){return Zo(t,e)+\"000\"}function Jo(t,e){return io(t.getUTCMonth()+1,e,2)}function Qo(t,e){return io(t.getUTCMinutes(),e,2)}function $o(t,e){return io(t.getUTCSeconds(),e,2)}function ta(t){var e=t.getUTCDay();return 0===e?7:e}function ea(t,e){return io(Ui.count(Vi(t),t),e,2)}function na(t,e){var n=t.getUTCDay();return t=n>=4||0===n?zi(t):zi.ceil(t),io(zi.count(Vi(t),t)+(4===Vi(t).getUTCDay()),e,2)}function ra(t){return t.getUTCDay()}function ia(t,e){return io(Bi.count(Vi(t),t),e,2)}function oa(t,e){return io(t.getUTCFullYear()%100,e,2)}function aa(t,e){return io(t.getUTCFullYear()%1e4,e,4)}function sa(){return\"+0000\"}function ua(){return\"%\"}function la(t){return+t}function ca(t){return Math.floor(+t/1e3)}(Ji=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=ao(i),c=so(i),h=ao(o),f=so(o),d=ao(a),p=so(a),v=ao(s),g=so(s),y=ao(u),_=so(u),m={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Co,e:Co,f:Do,H:Ao,I:Po,j:Ro,L:Io,m:ko,M:No,p:function(t){return i[+(t.getHours()>=12)]},Q:la,s:ca,S:Lo,u:jo,U:Fo,V:Uo,w:Bo,W:Ho,x:null,X:null,y:Xo,Y:zo,Z:Go,\"%\":ua},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Yo,e:Yo,f:Ko,H:Wo,I:Vo,j:qo,L:Zo,m:Jo,M:Qo,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:la,s:ca,S:$o,u:ta,U:ea,V:na,w:ra,W:ia,x:null,X:null,y:oa,Y:aa,Z:sa,\"%\":ua},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:_o,e:_o,f:Eo,H:bo,I:bo,j:mo,L:To,m:yo,M:xo,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:So,s:Oo,S:wo,u:lo,U:co,V:ho,w:uo,W:fo,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:vo,Y:po,Z:go,\"%\":Mo};function w(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=to[r=t.charAt(++s)])?r=t.charAt(++s):i=\"e\"===r?\" \":\"0\",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join(\"\")}}function T(t,e){return function(n){var r,i,o=Ki(1900);if(E(o,t,n+=\"\",0)!=n.length)return null;if(\"Q\"in o)return new Date(o.Q);if(\"p\"in o&&(o.H=o.H%12+12*o.p),\"V\"in o){if(o.V<1||o.V>53)return null;\"w\"in o||(o.w=1),\"Z\"in o?(i=(r=Zi(Ki(o.y))).getUTCDay(),r=i>4||0===i?Bi.ceil(r):Bi(r),r=ji.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=e(Ki(o.y))).getDay(),r=i>4||0===i?Ci.ceil(r):Ci(r),r=Mi.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else(\"W\"in o||\"U\"in o)&&(\"w\"in o||(o.w=\"u\"in o?o.u%7:\"W\"in o?1:0),i=\"Z\"in o?Zi(Ki(o.y)).getUTCDay():e(Ki(o.y)).getDay(),o.m=0,o.d=\"W\"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return\"Z\"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Zi(o)):e(o)}}function E(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in to?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return m.x=w(n,m),m.X=w(r,m),m.c=w(e,m),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+=\"\",m);return e.toString=function(){return t},e},parse:function(t){var e=T(t+=\"\",qi);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+=\"\",b);return e.toString=function(){return t},e},utcParse:function(t){var e=T(t,Zi);return e.toString=function(){return t},e}}}({dateTime:\"%x, %X\",date:\"%-m/%-d/%Y\",time:\"%-I:%M:%S %p\",periods:[\"AM\",\"PM\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],shortDays:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortMonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]})).format,Ji.parse,Qi=Ji.utcFormat,$i=Ji.utcParse,Date.prototype.toISOString||Qi(\"%Y-%m-%dT%H:%M:%S.%LZ\"),+new Date(\"2000-01-01T00:00:00.000Z\")||$i(\"%Y-%m-%dT%H:%M:%S.%LZ\");var ha=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]=\"#\"+t.slice(6*r,6*++r);return n},fa=(ha(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\"),ha(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\"),ha(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\"),ha(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\"),ha(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\"),ha(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\"),ha(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\"),ha(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\"),ha(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\"),function(t){return ye(t[t.length-1])});function da(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}fa(new Array(3).concat(\"d8b365f5f5f55ab4ac\",\"a6611adfc27d80cdc1018571\",\"a6611adfc27df5f5f580cdc1018571\",\"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\").map(ha)),fa(new Array(3).concat(\"af8dc3f7f7f77fbf7b\",\"7b3294c2a5cfa6dba0008837\",\"7b3294c2a5cff7f7f7a6dba0008837\",\"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\").map(ha)),fa(new Array(3).concat(\"e9a3c9f7f7f7a1d76a\",\"d01c8bf1b6dab8e1864dac26\",\"d01c8bf1b6daf7f7f7b8e1864dac26\",\"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\").map(ha)),fa(new Array(3).concat(\"998ec3f7f7f7f1a340\",\"5e3c99b2abd2fdb863e66101\",\"5e3c99b2abd2f7f7f7fdb863e66101\",\"542788998ec3d8daebfee0b6f1a340b35806\",\"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\").map(ha)),fa(new Array(3).concat(\"ef8a62f7f7f767a9cf\",\"ca0020f4a58292c5de0571b0\",\"ca0020f4a582f7f7f792c5de0571b0\",\"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\").map(ha)),fa(new Array(3).concat(\"ef8a62ffffff999999\",\"ca0020f4a582bababa404040\",\"ca0020f4a582ffffffbababa404040\",\"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\").map(ha)),fa(new Array(3).concat(\"fc8d59ffffbf91bfdb\",\"d7191cfdae61abd9e92c7bb6\",\"d7191cfdae61ffffbfabd9e92c7bb6\",\"d73027fc8d59fee090e0f3f891bfdb4575b4\",\"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\").map(ha)),fa(new Array(3).concat(\"fc8d59ffffbf91cf60\",\"d7191cfdae61a6d96a1a9641\",\"d7191cfdae61ffffbfa6d96a1a9641\",\"d73027fc8d59fee08bd9ef8b91cf601a9850\",\"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\").map(ha)),fa(new Array(3).concat(\"fc8d59ffffbf99d594\",\"d7191cfdae61abdda42b83ba\",\"d7191cfdae61ffffbfabdda42b83ba\",\"d53e4ffc8d59fee08be6f59899d5943288bd\",\"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\").map(ha)),fa(new Array(3).concat(\"e5f5f999d8c92ca25f\",\"edf8fbb2e2e266c2a4238b45\",\"edf8fbb2e2e266c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\").map(ha)),fa(new Array(3).concat(\"e0ecf49ebcda8856a7\",\"edf8fbb3cde38c96c688419d\",\"edf8fbb3cde38c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\").map(ha)),fa(new Array(3).concat(\"e0f3dba8ddb543a2ca\",\"f0f9e8bae4bc7bccc42b8cbe\",\"f0f9e8bae4bc7bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\").map(ha)),fa(new Array(3).concat(\"fee8c8fdbb84e34a33\",\"fef0d9fdcc8afc8d59d7301f\",\"fef0d9fdcc8afc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\").map(ha)),fa(new Array(3).concat(\"ece2f0a6bddb1c9099\",\"f6eff7bdc9e167a9cf02818a\",\"f6eff7bdc9e167a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\").map(ha)),fa(new Array(3).concat(\"ece7f2a6bddb2b8cbe\",\"f1eef6bdc9e174a9cf0570b0\",\"f1eef6bdc9e174a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\").map(ha)),fa(new Array(3).concat(\"e7e1efc994c7dd1c77\",\"f1eef6d7b5d8df65b0ce1256\",\"f1eef6d7b5d8df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\").map(ha)),fa(new Array(3).concat(\"fde0ddfa9fb5c51b8a\",\"feebe2fbb4b9f768a1ae017e\",\"feebe2fbb4b9f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\").map(ha)),fa(new Array(3).concat(\"edf8b17fcdbb2c7fb8\",\"ffffcca1dab441b6c4225ea8\",\"ffffcca1dab441b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\").map(ha)),fa(new Array(3).concat(\"f7fcb9addd8e31a354\",\"ffffccc2e69978c679238443\",\"ffffccc2e69978c67931a354006837\",\"ffffccd9f0a3addd8e78c67931a354006837\",\"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\").map(ha)),fa(new Array(3).concat(\"fff7bcfec44fd95f0e\",\"ffffd4fed98efe9929cc4c02\",\"ffffd4fed98efe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\").map(ha)),fa(new Array(3).concat(\"ffeda0feb24cf03b20\",\"ffffb2fecc5cfd8d3ce31a1c\",\"ffffb2fecc5cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\").map(ha)),fa(new Array(3).concat(\"deebf79ecae13182bd\",\"eff3ffbdd7e76baed62171b5\",\"eff3ffbdd7e76baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\").map(ha)),fa(new Array(3).concat(\"e5f5e0a1d99b31a354\",\"edf8e9bae4b374c476238b45\",\"edf8e9bae4b374c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\").map(ha)),fa(new Array(3).concat(\"f0f0f0bdbdbd636363\",\"f7f7f7cccccc969696525252\",\"f7f7f7cccccc969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\").map(ha)),fa(new Array(3).concat(\"efedf5bcbddc756bb1\",\"f2f0f7cbc9e29e9ac86a51a3\",\"f2f0f7cbc9e29e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\").map(ha)),fa(new Array(3).concat(\"fee0d2fc9272de2d26\",\"fee5d9fcae91fb6a4acb181d\",\"fee5d9fcae91fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\").map(ha)),fa(new Array(3).concat(\"fee6cefdae6be6550d\",\"feeddefdbe85fd8d3cd94701\",\"feeddefdbe85fd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\").map(ha)),Ne(ie(300,.5,0),ie(-240,.5,1)),Ne(ie(-100,.75,.35),ie(80,1.5,.8)),Ne(ie(260,.75,.35),ie(80,1.5,.8)),ie(),Ct(),Math.PI,Math.PI,da(ha(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\")),da(ha(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\")),da(ha(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\")),da(ha(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\")),Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var pa=1e-12,va=Math.PI,ga=2*va;function ya(t){this._context=t}ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};function _a(t){this._curve=t}!function(t){function e(e){return new _a(t(e))}e._curve=t}(function(t){return new ya(t)}),_a.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}},Array.prototype.slice,Math.sqrt(1/3);Math.sin(va/10),Math.sin(7*va/10);var ma=(Math.sin(ga/10),Math.cos(ga/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function ba(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function xa(t){this._context=t}function wa(t,e){this._basis=new xa(t),this._beta=e}function Ta(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ea(t,e){this._context=t,this._k=(1-e)/6}function Ma(t,e){this._context=t,this._k=(1-e)/6}function Sa(t,e){this._context=t,this._k=(1-e)/6}function Oa(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>pa){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>pa){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Ca(t,e){this._context=t,this._alpha=e}function Aa(t,e){this._context=t,this._alpha=e}function Pa(t,e){this._context=t,this._alpha=e}function Ra(t){return t<0?-1:1}function Ia(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ra(o)+Ra(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Da(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ka(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Na(t){this._context=t}function La(t){this._context=t}function ja(){this._=null}function Fa(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ua(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ba(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ha(t){for(;t.L;)t=t.L;return t}xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ba(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ba(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},wa.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},function t(e){function n(t){return 1===e?new xa(t):new wa(t,e)}return n.beta=function(e){return t(+e)},n}(.85),Ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ta(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ta(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new Ea(t,e)}return n.tension=function(e){return t(+e)},n}(0),Ma.prototype={areaStart:ma,areaEnd:ma,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ta(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new Ma(t,e)}return n.tension=function(e){return t(+e)},n}(0),Sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ta(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new Sa(t,e)}return n.tension=function(e){return t(+e)},n}(0),Ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Oa(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new Ca(t,e):new Ea(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),Aa.prototype={areaStart:ma,areaEnd:ma,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Oa(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new Aa(t,e):new Ma(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),Pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Oa(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new Pa(t,e):new Sa(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),Na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ka(this,this._t0,Da(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ka(this,Da(this,n=Ia(this,t,e)),n);break;default:ka(this,this._t0,n=Ia(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new La(t)}.prototype=Object.create(Na.prototype)).point=function(t,e){Na.prototype.point.call(this,e,t)},La.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},ja.prototype={constructor:ja,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ha(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ua(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ba(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Ba(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ua(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Ha(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ua(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ba(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ua(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Ba(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ua(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ba(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Xa=ja;function za(t,e,n,r){var i=[null,null],o=hs.push(i)-1;return i.left=t,i.right=e,n&&Ya(i,t,e,n),r&&Ya(i,e,t,r),ls[t.index].halfedges.push(o),ls[e.index].halfedges.push(o),i}function Ga(t,e,n){var r=[e,n];return r.left=t,r}function Ya(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Wa(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,d=s[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*d]),h<1&&(t[1]=[u+h*f,l+h*d]),!0)}}}}}function Va(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],v=(h+d)/2,g=(f+p)/2;if(p===f){if(v<e||v>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[v,n];o=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];o=[v,n]}}else if(s=g-(a=(h-d)/(p-f))*v,a<-1||a>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function qa(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Za(t,e){return e[+(e.left!==t.site)]}function Ka(t,e){return e[+(e.left===t.site)]}var Ja,Qa=[];function $a(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(f>=-ds)){var d=u*u+l*l,p=c*c+h*h,v=(h*d-l*p)/f,g=(u*p-c*d)/f,y=Qa.pop()||new function(){Fa(this),this.x=this.y=this.arc=this.site=this.cy=null};y.arc=t,y.site=i,y.x=v+a,y.y=(y.cy=g+s)+Math.sqrt(v*v+g*g),t.circle=y;for(var _=null,m=cs._;m;)if(y.y<m.y||y.y===m.y&&y.x<=m.x){if(!m.L){_=m.P;break}m=m.L}else{if(!m.R){_=m;break}m=m.R}cs.insert(_,y),_||(Ja=y)}}}}function ts(t){var e=t.circle;e&&(e.P||(Ja=e.N),cs.remove(e),Qa.push(e),Fa(e),t.circle=null)}var es=[];function ns(t){var e=es.pop()||new function(){Fa(this),this.edge=this.site=this.circle=null};return e.site=t,e}function rs(t){ts(t),us.remove(t),es.push(t),Fa(t)}function is(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];rs(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<fs&&Math.abs(r-u.circle.cy)<fs;)o=u.P,s.unshift(u),rs(u),u=o;s.unshift(u),ts(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<fs&&Math.abs(r-l.circle.cy)<fs;)a=l.N,s.push(l),rs(l),l=a;s.push(l),ts(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],Ya(l.edge,u.site,l.site,i);u=s[0],(l=s[h-1]).edge=za(u.site,l.site,null,i),$a(u),$a(l)}function os(t){for(var e,n,r,i,o=t[0],a=t[1],s=us._;s;)if((r=as(s,a)-o)>fs)s=s.L;else{if(!((i=o-ss(s,a))>fs)){r>-fs?(e=s.P,n=s):i>-fs?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){ls[t.index]={site:t,halfedges:[]}}(t);var u=ns(t);if(us.insert(e,u),e||n){if(e===n)return ts(e),n=ns(e.site),us.insert(u,n),u.edge=n.edge=za(e.site,u.site),$a(e),void $a(n);if(n){ts(e),ts(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,d=t[1]-h,p=n.site,v=p[0]-c,g=p[1]-h,y=2*(f*g-d*v),_=f*f+d*d,m=v*v+g*g,b=[(g*_-d*m)/y+c,(f*m-v*_)/y+h];Ya(n.edge,l,p,b),u.edge=za(l,t,null,b),n.edge=za(t,p,null,b),$a(e),$a(n)}else u.edge=za(e.site,u.site)}}function as(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function ss(t,e){var n=t.N;if(n)return as(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var us,ls,cs,hs,fs=1e-6,ds=1e-12;function ps(t,e){return e[1]-t[1]||e[0]-t[0]}function vs(t,e){var n,r,i,o=t.sort(ps).pop();for(hs=[],ls=new Array(t.length),us=new Xa,cs=new Xa;;)if(i=Ja,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(os(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;is(i.arc)}if(function(){for(var t,e,n,r,i=0,o=ls.length;i<o;++i)if((t=ls[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=qa(t,hs[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=hs.length;o--;)Va(i=hs[o],t,e,n,r)&&Wa(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>fs||Math.abs(i[0][1]-i[1][1])>fs)||delete hs[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,c,h,f,d,p,v,g=ls.length,y=!0;for(i=0;i<g;++i)if(o=ls[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)hs[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(d=Ka(o,hs[u[s]]))[0],v=d[1],h=(c=Za(o,hs[u[++s%l]]))[0],f=c[1],(Math.abs(p-h)>fs||Math.abs(v-f)>fs)&&(u.splice(s,0,hs.push(Ga(a,d,Math.abs(p-t)<fs&&r-v>fs?[t,Math.abs(h-t)<fs?f:r]:Math.abs(v-r)<fs&&n-p>fs?[Math.abs(f-r)<fs?h:n,r]:Math.abs(p-n)<fs&&v-e>fs?[n,Math.abs(h-n)<fs?f:e]:Math.abs(v-e)<fs&&p-t>fs?[Math.abs(f-e)<fs?h:t,e]:null))-1),++l);l&&(y=!1)}if(y){var _,m,b,x=1/0;for(i=0,y=null;i<g;++i)(o=ls[i])&&(b=(_=(a=o.site)[0]-t)*_+(m=a[1]-e)*m)<x&&(x=b,y=o);if(y){var w=[t,e],T=[t,r],E=[n,r],M=[n,e];y.halfedges.push(hs.push(Ga(a=y.site,w,T))-1,hs.push(Ga(a,T,E))-1,hs.push(Ga(a,E,M))-1,hs.push(Ga(a,M,w))-1)}}for(i=0;i<g;++i)(o=ls[i])&&(o.halfedges.length||delete ls[i])}(a,s,u,l)}this.edges=hs,this.cells=ls,us=cs=hs=ls=null}function gs(t,e,n){this.k=t,this.x=e,this.y=n}function ys(t,e){var n=t.__state.conversionName.toString(),r=Math.round(t.r),i=Math.round(t.g),o=Math.round(t.b),a=t.a,s=Math.round(t.h),u=t.s.toFixed(1),l=t.v.toFixed(1);if(e||\"THREE_CHAR_HEX\"===n||\"SIX_CHAR_HEX\"===n){for(var c=t.hex.toString(16);c.length<6;)c=\"0\"+c;return\"#\"+c}return\"CSS_RGB\"===n?\"rgb(\"+r+\",\"+i+\",\"+o+\")\":\"CSS_RGBA\"===n?\"rgba(\"+r+\",\"+i+\",\"+o+\",\"+a+\")\":\"HEX\"===n?\"0x\"+t.hex.toString(16):\"RGB_ARRAY\"===n?\"[\"+r+\",\"+i+\",\"+o+\"]\":\"RGBA_ARRAY\"===n?\"[\"+r+\",\"+i+\",\"+o+\",\"+a+\"]\":\"RGB_OBJ\"===n?\"{r:\"+r+\",g:\"+i+\",b:\"+o+\"}\":\"RGBA_OBJ\"===n?\"{r:\"+r+\",g:\"+i+\",b:\"+o+\",a:\"+a+\"}\":\"HSV_OBJ\"===n?\"{h:\"+s+\",s:\"+u+\",v:\"+l+\"}\":\"HSVA_OBJ\"===n?\"{h:\"+s+\",s:\"+u+\",v:\"+l+\",a:\"+a+\"}\":\"unknown format\"}vs.prototype={constructor:vs,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Za(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,l,c=n.site,h=-1,f=e[i[o-1]],d=f.left===c?f.right:f.left;++h<o;)a=d,d=(f=e[i[h]]).left===c?f.right:f.left,a&&d&&r<a.index&&r<d.index&&(u=a,l=d,((s=c)[0]-l[0])*(u[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0)&&t.push([c.data,a.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}})}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}},gs.prototype={constructor:gs,scale:function(t){return 1===t?this:new gs(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new gs(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return\"translate(\"+this.x+\",\"+this.y+\") scale(\"+this.k+\")\"}},new gs(1,0,0),gs.prototype;var _s=Array.prototype.forEach,ms=Array.prototype.slice,bs={BREAK:{},extend:function(t){return this.each(ms.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))},this),t},defaults:function(t){return this.each(ms.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))},this),t},compose:function(){var t=ms.call(arguments);return function(){for(var e=ms.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(_s&&t.forEach&&t.forEach===_s)t.forEach(e,n);else if(t.length===t.length+0){var r,i=void 0;for(i=0,r=t.length;i<r;i++)if(i in t&&e.call(n,t[i],i)===this.BREAK)return}else for(var o in t)if(e.call(n,t[o],o)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r=void 0;return function(){var i=this,o=arguments,a=n||!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,o)},e),a&&t.apply(i,o)}},toArray:function(t){return t.toArray?t.toArray():ms.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+\"\"},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return\"[object Function]\"===Object.prototype.toString.call(t)}},xs=[{litmus:bs.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:\"HEX\",hex:parseInt(\"0x\"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:ys},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:\"HEX\",hex:parseInt(\"0x\"+e[1].toString(),0)}},write:ys},CSS_RGB:{read:function(t){var e=t.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);return null!==e&&{space:\"RGB\",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:ys},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);return null!==e&&{space:\"RGB\",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:ys}}},{litmus:bs.isNumber,conversions:{HEX:{read:function(t){return{space:\"HEX\",hex:t,conversionName:\"HEX\"}},write:function(t){return t.hex}}}},{litmus:bs.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:\"RGB\",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:\"RGB\",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:bs.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(bs.isNumber(t.r)&&bs.isNumber(t.g)&&bs.isNumber(t.b)&&bs.isNumber(t.a))&&{space:\"RGB\",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(bs.isNumber(t.r)&&bs.isNumber(t.g)&&bs.isNumber(t.b))&&{space:\"RGB\",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(bs.isNumber(t.h)&&bs.isNumber(t.s)&&bs.isNumber(t.v)&&bs.isNumber(t.a))&&{space:\"HSV\",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(bs.isNumber(t.h)&&bs.isNumber(t.s)&&bs.isNumber(t.v))&&{space:\"HSV\",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],ws=void 0,Ts=void 0,Es=function(){Ts=!1;var t=arguments.length>1?bs.toArray(arguments):arguments[0];return bs.each(xs,function(e){if(e.litmus(t))return bs.each(e.conversions,function(e,n){if(ws=e.read(t),!1===Ts&&!1!==ws)return Ts=ws,ws.conversionName=n,ws.conversion=e,bs.BREAK}),bs.BREAK}),Ts},Ms=void 0,Ss={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][r];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=i-r,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=t===i?(e-n)/o:e===i?2+(n-t)/o:4+(t-e)/o,(a/=6)<0&&(a+=1),{h:360*a,s:o/i,v:i/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(Ms=8*e)|t&~(255<<Ms)}},Os=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Cs=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},As=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ps=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if(\"value\"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Rs=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Is=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e},Ds=function(){function t(){if(Cs(this,t),this.__state=Es.apply(this,arguments),!1===this.__state)throw new Error(\"Failed to interpret color arguments\");this.__state.a=this.__state.a||1}return As(t,[{key:\"toString\",value:function(){return ys(this)}},{key:\"toHexString\",value:function(){return ys(this,!0)}},{key:\"toOriginal\",value:function(){return this.__state.conversion.write(this)}}]),t}();function ks(t,e,n){Object.defineProperty(t,e,{get:function(){return\"RGB\"===this.__state.space?this.__state[e]:(Ds.recalculateRGB(this,e,n),this.__state[e])},set:function(t){\"RGB\"!==this.__state.space&&(Ds.recalculateRGB(this,e,n),this.__state.space=\"RGB\"),this.__state[e]=t}})}function Ns(t,e){Object.defineProperty(t,e,{get:function(){return\"HSV\"===this.__state.space?this.__state[e]:(Ds.recalculateHSV(this),this.__state[e])},set:function(t){\"HSV\"!==this.__state.space&&(Ds.recalculateHSV(this),this.__state.space=\"HSV\"),this.__state[e]=t}})}Ds.recalculateRGB=function(t,e,n){if(\"HEX\"===t.__state.space)t.__state[e]=Ss.component_from_hex(t.__state.hex,n);else{if(\"HSV\"!==t.__state.space)throw new Error(\"Corrupted color state\");bs.extend(t.__state,Ss.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},Ds.recalculateHSV=function(t){var e=Ss.rgb_to_hsv(t.r,t.g,t.b);bs.extend(t.__state,{s:e.s,v:e.v}),bs.isNaN(e.h)?bs.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},Ds.COMPONENTS=[\"r\",\"g\",\"b\",\"h\",\"s\",\"v\",\"hex\",\"a\"],ks(Ds.prototype,\"r\",2),ks(Ds.prototype,\"g\",1),ks(Ds.prototype,\"b\",0),Ns(Ds.prototype,\"h\"),Ns(Ds.prototype,\"s\"),Ns(Ds.prototype,\"v\"),Object.defineProperty(Ds.prototype,\"a\",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(Ds.prototype,\"hex\",{get:function(){return\"HEX\"!==!this.__state.space&&(this.__state.hex=Ss.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space=\"HEX\",this.__state.hex=t}});var Ls=function(){function t(e,n){Cs(this,t),this.initialValue=e[n],this.domElement=document.createElement(\"div\"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return As(t,[{key:\"onChange\",value:function(t){return this.__onChange=t,this}},{key:\"onFinishChange\",value:function(t){return this.__onFinishChange=t,this}},{key:\"setValue\",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:\"getValue\",value:function(){return this.object[this.property]}},{key:\"updateDisplay\",value:function(){return this}},{key:\"isModified\",value:function(){return this.initialValue!==this.getValue()}}]),t}(),js={};bs.each({HTMLEvents:[\"change\"],MouseEvents:[\"click\",\"mousemove\",\"mousedown\",\"mouseup\",\"mouseover\"],KeyboardEvents:[\"keydown\"]},function(t,e){bs.each(t,function(t){js[t]=e})});var Fs=/(\\d+(\\.\\d+)?)px/;function Us(t){if(\"0\"===t||bs.isUndefined(t))return 0;var e=t.match(Fs);return bs.isNull(e)?0:parseFloat(e[1])}var Bs={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?\"auto\":\"none\",t.style.KhtmlUserSelect=e?\"auto\":\"none\",t.unselectable=e?\"on\":\"off\")},makeFullscreen:function(t,e,n){var r=n,i=e;bs.isUndefined(i)&&(i=!0),bs.isUndefined(r)&&(r=!0),t.style.position=\"absolute\",i&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,r){var i=n||{},o=js[e];if(!o)throw new Error(\"Event type \"+e+\" not supported.\");var a=document.createEvent(o);switch(o){case\"MouseEvents\":var s=i.x||i.clientX||0,u=i.y||i.clientY||0;a.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,s,u,!1,!1,!1,!1,0,null);break;case\"KeyboardEvents\":var l=a.initKeyboardEvent||a.initKeyEvent;bs.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),l(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:a.initEvent(e,i.bubbles||!1,i.cancelable||!0)}bs.defaults(a,r),t.dispatchEvent(a)},bind:function(t,e,n,r){var i=r||!1;return t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent(\"on\"+e,n),Bs},unbind:function(t,e,n,r){var i=r||!1;return t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent(\"on\"+e,n),Bs},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(\" \").replace(/^\\s+/,\"\").replace(/\\s+$/,\"\"))}return Bs},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute(\"class\");else{var n=t.className.split(/ +/),r=n.indexOf(e);-1!==r&&(n.splice(r,1),t.className=n.join(\" \"))}else t.className=void 0;return Bs},hasClass:function(t,e){return new RegExp(\"(?:^|\\\\s+)\"+e+\"(?:\\\\s+|$)\").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return Us(e[\"border-left-width\"])+Us(e[\"border-right-width\"])+Us(e[\"padding-left\"])+Us(e[\"padding-right\"])+Us(e.width)},getHeight:function(t){var e=getComputedStyle(t);return Us(e[\"border-top-width\"])+Us(e[\"border-bottom-width\"])+Us(e[\"padding-top\"])+Us(e[\"padding-bottom\"])+Us(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},Hs=function(t){function e(t,n){Cs(this,e);var r=Is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement(\"input\"),r.__checkbox.setAttribute(\"type\",\"checkbox\"),Bs.bind(r.__checkbox,\"change\",function(){i.setValue(!i.__prev)},!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return Rs(e,Ls),As(e,[{key:\"setValue\",value:function(t){var n=Ps(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"setValue\",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:\"updateDisplay\",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute(\"checked\",\"checked\"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Ps(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}(),Xs=function(t){function e(t,n,r){Cs(this,e);var i=Is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r,a=i;if(i.__select=document.createElement(\"select\"),bs.isArray(o)){var s={};bs.each(o,function(t){s[t]=t}),o=s}return bs.each(o,function(t,e){var n=document.createElement(\"option\");n.innerHTML=e,n.setAttribute(\"value\",t),a.__select.appendChild(n)}),i.updateDisplay(),Bs.bind(i.__select,\"change\",function(){var t=this.options[this.selectedIndex].value;a.setValue(t)}),i.domElement.appendChild(i.__select),i}return Rs(e,Ls),As(e,[{key:\"setValue\",value:function(t){var n=Ps(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"setValue\",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:\"updateDisplay\",value:function(){return Bs.isActive(this.__select)?this:(this.__select.value=this.getValue(),Ps(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this))}}]),e}(),zs=function(t){function e(t,n){Cs(this,e);var r=Is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;function o(){i.setValue(i.__input.value)}return r.__input=document.createElement(\"input\"),r.__input.setAttribute(\"type\",\"text\"),Bs.bind(r.__input,\"keyup\",o),Bs.bind(r.__input,\"change\",o),Bs.bind(r.__input,\"blur\",function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),Bs.bind(r.__input,\"keydown\",function(t){13===t.keyCode&&this.blur()}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return Rs(e,Ls),As(e,[{key:\"updateDisplay\",value:function(){return Bs.isActive(this.__input)||(this.__input.value=this.getValue()),Ps(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}();function Gs(t){var e=t.toString();return e.indexOf(\".\")>-1?e.length-e.indexOf(\".\")-1:0}var Ys=function(t){function e(t,n,r){Cs(this,e);var i=Is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r||{};return i.__min=o.min,i.__max=o.max,i.__step=o.step,bs.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=Gs(i.__impliedStep),i}return Rs(e,Ls),As(e,[{key:\"setValue\",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),Ps(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"setValue\",this).call(this,n)}},{key:\"min\",value:function(t){return this.__min=t,this}},{key:\"max\",value:function(t){return this.__max=t,this}},{key:\"step\",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=Gs(t),this}}]),e}(),Ws=function(t){function e(t,n,r){Cs(this,e);var i=Is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));i.__truncationSuspended=!1;var o=i,a=void 0;function s(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function u(t){var e=a-t.clientY;o.setValue(o.getValue()+e*o.__impliedStep),a=t.clientY}function l(){Bs.unbind(window,\"mousemove\",u),Bs.unbind(window,\"mouseup\",l),s()}return i.__input=document.createElement(\"input\"),i.__input.setAttribute(\"type\",\"text\"),Bs.bind(i.__input,\"change\",function(){var t=parseFloat(o.__input.value);bs.isNaN(t)||o.setValue(t)}),Bs.bind(i.__input,\"blur\",function(){s()}),Bs.bind(i.__input,\"mousedown\",function(t){Bs.bind(window,\"mousemove\",u),Bs.bind(window,\"mouseup\",l),a=t.clientY}),Bs.bind(i.__input,\"keydown\",function(t){13===t.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,s())}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return Rs(e,Ys),As(e,[{key:\"updateDisplay\",value:function(){var t,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(t*r)/r),Ps(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}();function Vs(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}var qs=function(t){function e(t,n,r,i,o){Cs(this,e);var a=Is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:r,max:i,step:o})),s=a;function u(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(Vs(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function l(){Bs.unbind(window,\"mousemove\",u),Bs.unbind(window,\"mouseup\",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function c(t){var e=t.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(Vs(e,n.left,n.right,s.__min,s.__max))}function h(){Bs.unbind(window,\"touchmove\",c),Bs.unbind(window,\"touchend\",h),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement(\"div\"),a.__foreground=document.createElement(\"div\"),Bs.bind(a.__background,\"mousedown\",function(t){document.activeElement.blur(),Bs.bind(window,\"mousemove\",u),Bs.bind(window,\"mouseup\",l),u(t)}),Bs.bind(a.__background,\"touchstart\",function(t){1===t.touches.length&&(Bs.bind(window,\"touchmove\",c),Bs.bind(window,\"touchend\",h),c(t))}),Bs.addClass(a.__background,\"slider\"),Bs.addClass(a.__foreground,\"slider-fg\"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return Rs(e,Ys),As(e,[{key:\"updateDisplay\",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+\"%\",Ps(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}(),Zs=function(t){function e(t,n,r){Cs(this,e);var i=Is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=i;return i.__button=document.createElement(\"div\"),i.__button.innerHTML=void 0===r?\"Fire\":r,Bs.bind(i.__button,\"click\",function(t){return t.preventDefault(),o.fire(),!1}),Bs.addClass(i.__button,\"button\"),i.domElement.appendChild(i.__button),i}return Rs(e,Ls),As(e,[{key:\"fire\",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(),Ks=function(t){function e(t,n){Cs(this,e);var r=Is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.__color=new Ds(r.getValue()),r.__temp=new Ds(0);var i=r;r.domElement=document.createElement(\"div\"),Bs.makeSelectable(r.domElement,!1),r.__selector=document.createElement(\"div\"),r.__selector.className=\"selector\",r.__saturation_field=document.createElement(\"div\"),r.__saturation_field.className=\"saturation-field\",r.__field_knob=document.createElement(\"div\"),r.__field_knob.className=\"field-knob\",r.__field_knob_border=\"2px solid \",r.__hue_knob=document.createElement(\"div\"),r.__hue_knob.className=\"hue-knob\",r.__hue_field=document.createElement(\"div\"),r.__hue_field.className=\"hue-field\",r.__input=document.createElement(\"input\"),r.__input.type=\"text\",r.__input_textShadow=\"0 1px 1px \",Bs.bind(r.__input,\"keydown\",function(t){13===t.keyCode&&h.call(this)}),Bs.bind(r.__input,\"blur\",h),Bs.bind(r.__selector,\"mousedown\",function(){Bs.addClass(this,\"drag\").bind(window,\"mouseup\",function(){Bs.removeClass(i.__selector,\"drag\")})}),Bs.bind(r.__selector,\"touchstart\",function(){Bs.addClass(this,\"drag\").bind(window,\"touchend\",function(){Bs.removeClass(i.__selector,\"drag\")})});var o,a=document.createElement(\"div\");function s(t){d(t),Bs.bind(window,\"mousemove\",d),Bs.bind(window,\"touchmove\",d),Bs.bind(window,\"mouseup\",l),Bs.bind(window,\"touchend\",l)}function u(t){p(t),Bs.bind(window,\"mousemove\",p),Bs.bind(window,\"touchmove\",p),Bs.bind(window,\"mouseup\",c),Bs.bind(window,\"touchend\",c)}function l(){Bs.unbind(window,\"mousemove\",d),Bs.unbind(window,\"touchmove\",d),Bs.unbind(window,\"mouseup\",l),Bs.unbind(window,\"touchend\",l),f()}function c(){Bs.unbind(window,\"mousemove\",p),Bs.unbind(window,\"touchmove\",p),Bs.unbind(window,\"mouseup\",c),Bs.unbind(window,\"touchend\",c),f()}function h(){var t=Es(this.value);!1!==t?(i.__color.__state=t,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function f(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function d(t){-1===t.type.indexOf(\"touch\")&&t.preventDefault();var e=i.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,r=n.clientX,o=n.clientY,a=(r-e.left)/(e.right-e.left),s=1-(o-e.top)/(e.bottom-e.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),i.__color.v=s,i.__color.s=a,i.setValue(i.__color.toOriginal()),!1}function p(t){-1===t.type.indexOf(\"touch\")&&t.preventDefault();var e=i.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return bs.extend(r.__selector.style,{width:\"122px\",height:\"102px\",padding:\"3px\",backgroundColor:\"#222\",boxShadow:\"0px 1px 3px rgba(0,0,0,0.3)\"}),bs.extend(r.__field_knob.style,{position:\"absolute\",width:\"12px\",height:\"12px\",border:r.__field_knob_border+(r.__color.v<.5?\"#fff\":\"#000\"),boxShadow:\"0px 1px 3px rgba(0,0,0,0.5)\",borderRadius:\"12px\",zIndex:1}),bs.extend(r.__hue_knob.style,{position:\"absolute\",width:\"15px\",height:\"2px\",borderRight:\"4px solid #fff\",zIndex:1}),bs.extend(r.__saturation_field.style,{width:\"100px\",height:\"100px\",border:\"1px solid #555\",marginRight:\"3px\",display:\"inline-block\",cursor:\"pointer\"}),bs.extend(a.style,{width:\"100%\",height:\"100%\",background:\"none\"}),Qs(a,\"top\",\"rgba(0,0,0,0)\",\"#000\"),bs.extend(r.__hue_field.style,{width:\"15px\",height:\"100px\",border:\"1px solid #555\",cursor:\"ns-resize\",position:\"absolute\",top:\"3px\",right:\"3px\"}),(o=r.__hue_field).style.background=\"\",o.style.cssText+=\"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);\",o.style.cssText+=\"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",o.style.cssText+=\"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",o.style.cssText+=\"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",o.style.cssText+=\"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",bs.extend(r.__input.style,{outline:\"none\",textAlign:\"center\",color:\"#fff\",border:0,fontWeight:\"bold\",textShadow:r.__input_textShadow+\"rgba(0,0,0,0.7)\"}),Bs.bind(r.__saturation_field,\"mousedown\",s),Bs.bind(r.__saturation_field,\"touchstart\",s),Bs.bind(r.__field_knob,\"mousedown\",s),Bs.bind(r.__field_knob,\"touchstart\",s),Bs.bind(r.__hue_field,\"mousedown\",u),Bs.bind(r.__hue_field,\"touchstart\",u),r.__saturation_field.appendChild(a),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return Rs(e,Ls),As(e,[{key:\"updateDisplay\",value:function(){var t=Es(this.getValue());if(!1!==t){var e=!1;bs.each(Ds.COMPONENTS,function(n){if(!bs.isUndefined(t[n])&&!bs.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}},this),e&&bs.extend(this.__color.__state,t)}bs.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;bs.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+\"px\",marginTop:100*(1-this.__color.v)-7+\"px\",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+\"rgb(\"+n+\",\"+n+\",\"+n+\")\"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+\"px\",this.__temp.s=1,this.__temp.v=1,Qs(this.__saturation_field,\"left\",\"#fff\",this.__temp.toHexString()),this.__input.value=this.__color.toString(),bs.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:\"rgb(\"+n+\",\"+n+\",\"+n+\")\",textShadow:this.__input_textShadow+\"rgba(\"+r+\",\"+r+\",\"+r+\",.7)\"})}}]),e}(),Js=[\"-moz-\",\"-o-\",\"-webkit-\",\"-ms-\",\"\"];function Qs(t,e,n,r){t.style.background=\"\",bs.each(Js,function(i){t.style.cssText+=\"background: \"+i+\"linear-gradient(\"+e+\", \"+n+\" 0%, \"+r+\" 100%); \"})}var $s=function(t,e){var n=t[e];return bs.isArray(arguments[2])||bs.isObject(arguments[2])?new Xs(t,e,arguments[2]):bs.isNumber(n)?bs.isNumber(arguments[2])&&bs.isNumber(arguments[3])?bs.isNumber(arguments[4])?new qs(t,e,arguments[2],arguments[3],arguments[4]):new qs(t,e,arguments[2],arguments[3]):bs.isNumber(arguments[4])?new Ws(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Ws(t,e,{min:arguments[2],max:arguments[3]}):bs.isString(n)?new zs(t,e):bs.isFunction(n)?new Zs(t,e,\"\"):bs.isBoolean(n)?new Hs(t,e):null},tu=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},eu=function(){function t(){Cs(this,t),this.backgroundElement=document.createElement(\"div\"),bs.extend(this.backgroundElement.style,{backgroundColor:\"rgba(0,0,0,0.8)\",top:0,left:0,display:\"none\",zIndex:\"1000\",opacity:0,WebkitTransition:\"opacity 0.2s linear\",transition:\"opacity 0.2s linear\"}),Bs.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position=\"fixed\",this.domElement=document.createElement(\"div\"),bs.extend(this.domElement.style,{position:\"fixed\",display:\"none\",zIndex:\"1001\",opacity:0,WebkitTransition:\"-webkit-transform 0.2s ease-out, opacity 0.2s linear\",transition:\"transform 0.2s ease-out, opacity 0.2s linear\"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;Bs.bind(this.backgroundElement,\"click\",function(){e.hide()})}return As(t,[{key:\"show\",value:function(){var t=this;this.backgroundElement.style.display=\"block\",this.domElement.style.display=\"block\",this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\",this.layout(),bs.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform=\"scale(1)\"})}},{key:\"hide\",value:function(){var t=this,e=function e(){t.domElement.style.display=\"none\",t.backgroundElement.style.display=\"none\",Bs.unbind(t.domElement,\"webkitTransitionEnd\",e),Bs.unbind(t.domElement,\"transitionend\",e),Bs.unbind(t.domElement,\"oTransitionEnd\",e)};Bs.bind(this.domElement,\"webkitTransitionEnd\",e),Bs.bind(this.domElement,\"transitionend\",e),Bs.bind(this.domElement,\"oTransitionEnd\",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\"}},{key:\"layout\",value:function(){this.domElement.style.left=window.innerWidth/2-Bs.getWidth(this.domElement)/2+\"px\",this.domElement.style.top=window.innerHeight/2-Bs.getHeight(this.domElement)/2+\"px\"}}]),t}();!function(t,e){var n=e||document,r=document.createElement(\"style\");r.type=\"text/css\",r.innerHTML=t;var i=n.getElementsByTagName(\"head\")[0];try{i.appendChild(r)}catch(t){}}(function(t){if(\"undefined\"!=typeof window){var e=document.createElement(\"style\");return e.setAttribute(\"type\",\"text/css\"),e.innerHTML=t,document.head.appendChild(e),t}}(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\"));var nu=\"Default\",ru=function(){try{return!!window.localStorage}catch(t){return!1}}(),iu=void 0,ou=!0,au=void 0,su=!1,uu=[],lu=function t(e){var n=this,r=e||{};this.domElement=document.createElement(\"div\"),this.__ul=document.createElement(\"ul\"),this.domElement.appendChild(this.__ul),Bs.addClass(this.domElement,\"dg\"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=bs.defaults(r,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),r=bs.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),bs.isUndefined(r.load)?r.load={preset:nu}:r.preset&&(r.load.preset=r.preset),bs.isUndefined(r.parent)&&r.hideable&&uu.push(this),r.resizable=bs.isUndefined(r.parent)&&r.resizable,r.autoPlace&&bs.isUndefined(r.scrollable)&&(r.scrollable=!0);var i,o=ru&&\"true\"===localStorage.getItem(vu(this,\"isLocal\")),a=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(t){n.parent?n.getRoot().preset=t:r.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return r.width},set:function(t){r.width=t,_u(n,t)}},name:{get:function(){return r.name},set:function(t){r.name=t,s&&(s.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(e){r.closed=e,r.closed?Bs.addClass(n.__ul,t.CLASS_CLOSED):Bs.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return o},set:function(t){ru&&(o=t,t?Bs.bind(window,\"unload\",a):Bs.unbind(window,\"unload\",a),localStorage.setItem(vu(n,\"isLocal\"),t))}}}),bs.isUndefined(r.parent)){if(this.closed=r.closed||!1,Bs.addClass(this.domElement,t.CLASS_MAIN),Bs.makeSelectable(this.domElement,!1),ru&&o){n.useLocalStorage=!0;var u=localStorage.getItem(vu(this,\"gui\"));u&&(r.load=JSON.parse(u))}this.__closeButton=document.createElement(\"div\"),this.__closeButton.innerHTML=t.TEXT_CLOSED,Bs.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),r.closeOnTop?(Bs.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(Bs.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),Bs.bind(this.__closeButton,\"click\",function(){n.closed=!n.closed})}else{void 0===r.closed&&(r.closed=!0);var l=document.createTextNode(r.name);Bs.addClass(l,\"controller-name\"),s=cu(n,l),Bs.addClass(this.__ul,t.CLASS_CLOSED),Bs.addClass(s,\"title\"),Bs.bind(s,\"click\",function(t){return t.preventDefault(),n.closed=!n.closed,!1}),r.closed||(this.closed=!1)}r.autoPlace&&(bs.isUndefined(r.parent)&&(ou&&(au=document.createElement(\"div\"),Bs.addClass(au,\"dg\"),Bs.addClass(au,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(au),ou=!1),au.appendChild(this.domElement),Bs.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||_u(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},Bs.bind(window,\"resize\",this.__resizeHandler),Bs.bind(this.__ul,\"webkitTransitionEnd\",this.__resizeHandler),Bs.bind(this.__ul,\"transitionend\",this.__resizeHandler),Bs.bind(this.__ul,\"oTransitionEnd\",this.__resizeHandler),this.onResize(),r.resizable&&function(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function r(){Bs.removeClass(t.__closeButton,lu.CLASS_DRAG),Bs.unbind(window,\"mousemove\",n),Bs.unbind(window,\"mouseup\",r)}function i(i){return i.preventDefault(),e=i.clientX,Bs.addClass(t.__closeButton,lu.CLASS_DRAG),Bs.bind(window,\"mousemove\",n),Bs.bind(window,\"mouseup\",r),!1}t.__resize_handle=document.createElement(\"div\"),bs.extend(t.__resize_handle.style,{width:\"6px\",marginLeft:\"-3px\",height:\"200px\",cursor:\"ew-resize\",position:\"absolute\"}),Bs.bind(t.__resize_handle,\"mousedown\",i),Bs.bind(t.__closeButton,\"mousedown\",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}(this),a=function(){ru&&\"true\"===localStorage.getItem(vu(n,\"isLocal\"))&&localStorage.setItem(vu(n,\"gui\"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,r.parent||((i=n.getRoot()).width+=1,bs.defer(function(){i.width-=1}))};function cu(t,e,n){var r=document.createElement(\"li\");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,n):t.__ul.appendChild(r),t.onResize(),r}function hu(t){Bs.unbind(window,\"resize\",t.__resizeHandler),t.saveToLocalStorageIfPossible&&Bs.unbind(window,\"unload\",t.saveToLocalStorageIfPossible)}function fu(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+\"*\":n.value}function du(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!==r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[e.property]=e,n.load&&n.load.remembered){var o=n.load.remembered,a=void 0;if(o[t.preset])a=o[t.preset];else{if(!o[nu])return;a=o[nu]}if(a[r]&&void 0!==a[r][e.property]){var s=a[r][e.property];e.initialValue=s,e.setValue(s)}}}}function pu(t,e,n,r){if(void 0===e[n])throw new Error('Object \"'+e+'\" has no property \"'+n+'\"');var i=void 0;if(r.color)i=new Ks(e,n);else{var o=[e,n].concat(r.factoryArgs);i=$s.apply(t,o)}r.before instanceof Ls&&(r.before=r.before.__li),du(t,i),Bs.addClass(i.domElement,\"c\");var a=document.createElement(\"span\");Bs.addClass(a,\"property-name\"),a.innerHTML=i.property;var s=document.createElement(\"div\");s.appendChild(a),s.appendChild(i.domElement);var u=cu(t,s,r.before);return Bs.addClass(u,lu.CLASS_CONTROLLER_ROW),i instanceof Ks?Bs.addClass(u,\"color\"):Bs.addClass(u,Os(i.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,bs.extend(n,{options:function(e){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),pu(t,n.object,n.property,{before:r,factoryArgs:[bs.toArray(arguments)]})}if(bs.isArray(e)||bs.isObject(e)){var i=n.__li.nextElementSibling;return n.remove(),pu(t,n.object,n.property,{before:i,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof qs){var r=new Ws(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});bs.each([\"updateDisplay\",\"onChange\",\"onFinishChange\",\"step\",\"min\",\"max\"],function(t){var e=n[t],i=r[t];n[t]=r[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(r,t),e.apply(n,t)}}),Bs.addClass(e,\"has-slider\"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof Ws){var i=function(e){if(bs.isNumber(n.__min)&&bs.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var o=pu(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return o.name(r),i&&o.listen(),o}return e};n.min=bs.compose(i,n.min),n.max=bs.compose(i,n.max)}else n instanceof Hs?(Bs.bind(e,\"click\",function(){Bs.fakeEvent(n.__checkbox,\"click\")}),Bs.bind(n.__checkbox,\"click\",function(t){t.stopPropagation()})):n instanceof Zs?(Bs.bind(e,\"click\",function(){Bs.fakeEvent(n.__button,\"click\")}),Bs.bind(e,\"mouseover\",function(){Bs.addClass(n.__button,\"hover\")}),Bs.bind(e,\"mouseout\",function(){Bs.removeClass(n.__button,\"hover\")})):n instanceof Ks&&(Bs.addClass(e,\"color\"),n.updateDisplay=bs.compose(function(t){return e.style.borderLeftColor=n.__color.toString(),t},n.updateDisplay),n.updateDisplay());n.setValue=bs.compose(function(e){return t.getRoot().__preset_select&&n.isModified()&&fu(t.getRoot(),!0),e},n.setValue)}(t,u,i),t.__controllers.push(i),i}function vu(t,e){return document.location.href+\".\"+e}function gu(t,e,n){var r=document.createElement(\"option\");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function yu(t,e){e.style.display=t.useLocalStorage?\"block\":\"none\"}function _u(t,e){t.domElement.style.width=e+\"px\",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+\"px\"),t.__closeButton&&(t.__closeButton.style.width=e+\"px\")}function mu(t,e){var n={};return bs.each(t.__rememberedObjects,function(r,i){var o={},a=t.__rememberedObjectIndecesToControllers[i];bs.each(a,function(t,n){o[n]=e?t.initialValue:t.getValue()}),n[i]=o}),n}lu.toggleHide=function(){su=!su,bs.each(uu,function(t){t.domElement.style.display=su?\"none\":\"\"})},lu.CLASS_AUTO_PLACE=\"a\",lu.CLASS_AUTO_PLACE_CONTAINER=\"ac\",lu.CLASS_MAIN=\"main\",lu.CLASS_CONTROLLER_ROW=\"cr\",lu.CLASS_TOO_TALL=\"taller-than-window\",lu.CLASS_CLOSED=\"closed\",lu.CLASS_CLOSE_BUTTON=\"close-button\",lu.CLASS_CLOSE_TOP=\"close-top\",lu.CLASS_CLOSE_BOTTOM=\"close-bottom\",lu.CLASS_DRAG=\"drag\",lu.DEFAULT_WIDTH=245,lu.TEXT_CLOSED=\"Close Controls\",lu.TEXT_OPEN=\"Open Controls\",lu._keydownHandler=function(t){\"text\"===document.activeElement.type||72!==t.which&&72!==t.keyCode||lu.toggleHide()},Bs.bind(window,\"keydown\",lu._keydownHandler,!1),bs.extend(lu.prototype,{add:function(t,e){return pu(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return pu(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;bs.defer(function(){e.onResize()})},destroy:function(){if(this.parent)throw new Error(\"Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.\");this.autoPlace&&au.removeChild(this.domElement);var t=this;bs.each(this.__folders,function(e){t.removeFolder(e)}),Bs.unbind(window,\"keydown\",lu._keydownHandler,!1),hu(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name \"'+t+'\"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new lu(e);this.__folders[t]=n;var r=cu(this,n.domElement);return Bs.addClass(r,\"folder\"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],hu(t);var e=this;bs.each(t.__folders,function(e){t.removeFolder(e)}),bs.defer(function(){e.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=Bs.getOffset(t.__ul).top,n=0;bs.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(n+=Bs.getHeight(e))}),window.innerHeight-e-20<n?(Bs.addClass(t.domElement,lu.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+\"px\"):(Bs.removeClass(t.domElement,lu.CLASS_TOO_TALL),t.__ul.style.height=\"auto\")}t.__resize_handle&&bs.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+\"px\"}),t.__closeButton&&(t.__closeButton.style.width=t.width+\"px\")},onResizeDebounced:bs.debounce(function(){this.onResize()},50),remember:function(){if(bs.isUndefined(iu)&&((iu=new eu).domElement.innerHTML='<div id=\"dg-save\" class=\"dg dialogue\">\\n\\n  Here\\'s the new load parameter for your <code>GUI</code>\\'s constructor:\\n\\n  <textarea id=\"dg-new-constructor\"></textarea>\\n\\n  <div id=\"dg-save-locally\">\\n\\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>\\'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>'),this.parent)throw new Error(\"You can only call remember on a top level GUI.\");var t=this;bs.each(Array.prototype.slice.call(arguments),function(e){0===t.__rememberedObjects.length&&function(t){var e=t.__save_row=document.createElement(\"li\");Bs.addClass(t.domElement,\"has-save\"),t.__ul.insertBefore(e,t.__ul.firstChild),Bs.addClass(e,\"save-row\");var n=document.createElement(\"span\");n.innerHTML=\"&nbsp;\",Bs.addClass(n,\"button gears\");var r=document.createElement(\"span\");r.innerHTML=\"Save\",Bs.addClass(r,\"button\"),Bs.addClass(r,\"save\");var i=document.createElement(\"span\");i.innerHTML=\"New\",Bs.addClass(i,\"button\"),Bs.addClass(i,\"save-as\");var o=document.createElement(\"span\");o.innerHTML=\"Revert\",Bs.addClass(o,\"button\"),Bs.addClass(o,\"revert\");var a=t.__preset_select=document.createElement(\"select\");if(t.load&&t.load.remembered?bs.each(t.load.remembered,function(e,n){gu(t,n,n===t.preset)}):gu(t,nu,!1),Bs.bind(a,\"change\",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),e.appendChild(a),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(o),ru){var s=document.getElementById(\"dg-local-explain\"),u=document.getElementById(\"dg-local-storage\");document.getElementById(\"dg-save-locally\").style.display=\"block\",\"true\"===localStorage.getItem(vu(0,\"isLocal\"))&&u.setAttribute(\"checked\",\"checked\"),yu(t,s),Bs.bind(u,\"change\",function(){t.useLocalStorage=!t.useLocalStorage,yu(t,s)})}var l=document.getElementById(\"dg-new-constructor\");Bs.bind(l,\"keydown\",function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||iu.hide()}),Bs.bind(n,\"click\",function(){l.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),iu.show(),l.focus(),l.select()}),Bs.bind(r,\"click\",function(){t.save()}),Bs.bind(i,\"click\",function(){var e=prompt(\"Enter a new preset name.\");e&&t.saveAs(e)}),Bs.bind(o,\"click\",function(){t.revert()})}(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&_u(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=mu(this)),t.folders={},bs.each(this.__folders,function(e,n){t.folders[n]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=mu(this),fu(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[nu]=mu(this,!0)),this.load.remembered[t]=mu(this),this.preset=t,gu(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){bs.each(this.__controllers,function(e){this.getRoot().load.remembered?du(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())},this),bs.each(this.__folders,function(t){t.revert(t)}),t||fu(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&function t(e){0!==e.length&&tu.call(window,function(){t(e)}),bs.each(e,function(t){t.updateDisplay()})}(this.__listening)},updateDisplay:function(){bs.each(this.__controllers,function(t){t.updateDisplay()}),bs.each(this.__folders,function(t){t.updateDisplay()})}});var bu,xu,wu,Tu,Eu=lu,Mu=(n(194),n(192)),Su=n(193),Ou=(n(198),function(){return r.Texture.fromImage(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAr8AAABiCAYAAABZJrs2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACRISURBVHgB7Z0JsGZFdcf/b2ZYxAgBEdFovAriILgRRFCDE0OiEcUNN6QqcYsmMXEpE5OKFUyZilqaIJVYuFQiRi1JiLuCGwKCUZFNQUBB5oEICgijwIwyM+9L/+nv8u67873bfbfur/ucX9UpmOF7zLzz+pw+5/Tp04CiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIoSjgXMJ+uM7GZkjZGdjdxlZJuRzUaWoCjKPED7pJ2uq/webfVXUDudBfW0K3bU12YoijIvqJ0Ow66Vf982lblh3oJfbqZ7GimMPMnIg408zMitRq41cp6Ry6a/1s11JWXCsBY2YSj5NdRwm6CB3gsrdUaoN+rsLih1Sjvdx8hhRtbD6pBcZ+R8I1dC7bSEtrkHrF97nJH9sFJfZxnZaGQTlDpca78Ba6fV/Yp2WdqosiPUG9cc/Vq51rbD6m0LrN7mKhiZA9RO+8P1dh/KunXrHjGZTH6Tv7mwsHDLtm3bFs2//szIHZgD5in4pdIKIy8z8idG9p3xGRrs6UY+YOQbUMdH6gnDI4wcALthEAYhlxo508hVUJ2VlHo71MhTjRyCZZ0R6o3OjoHcImw1U7EJ1m8b+WOonfrANfVwI8cZOR7N+jrRyAXQhKukXGu/Z2SDkQdiuRrHYORCI1+BBiR1Sr29wMiRsD6OQQjX2TVGvm7ky7C2eQsU0tZOuS9o8rASrrFHrVmz5nnmny/GjjrkWjt17dq1/7l161bGJKo/2MCXgdsZsFnpxCE3G3mTkb0gG+qNVbe3G7kRbp29EzZIlg4DX2b1vno7wciDoHCDeK6RbxvZCrVTF9TXS2GDNB998XTrdVC/RnzX2p1GTjPyBFi7lk4bG/2gkYOgdLHTVxnZHUrJfU3Q+3ojG41MHHKtCYCpv9+AcOiwGPieA7+FV3V6b4bcBUi9PRHt9UaHV0A2hZGPGbkdqjdfWHF7iZEr4K8zyXbKY3puqF30xYRB8sbAymVb3fGzR2Nln6Y0uujtXNjKsFTUTvuzmwlo32bkRo/AtxTq79VY2RcsjsLIl9AugKsuwBdBpsPjEeCn4Fcpr8tbYY8oJEJn9S+wVUnVmz+sELF1pqud8jhRkp0eZeRitNcV5drp10uESf2zYVu12uqN+8gjIZM+ens/5J5sbYDaaS9MFfcYE8xe2iLwvVsWFhaYcDwZQuGxfddApBS2SuwPebwWtteti8646KRm++xFapvlV/V2GOTBoPVkI7ehu53yhGI9ZMAKHI/iuySmpfDrC8iDfYJdiyGUN0BmNa6P3pic8q6NtCoc44++fk2qnZbsZoLY00wwu6UW2M6UGUHwSZjdXz06sXukDoRtyN8b3eHXF5AFf25PQfdFwyDkYMh0ds9H9/VCvTH4lba58vLMY9Gv6s1kS0p16QjYtdLHvjbA6l0aT4Od8NP1lOCZkFnF7KM3JmvHQp7eaKPlZcCubIBMO72bdevWHW6C2h183WQyWVVqn2Pl976IQOzgl7fs+0b9NNy+Czg1+L1Sb30214Mh7wifJwQF+umNx6rS9Mbe8j4JKpFkp49G/++T+uZak5Zo9d0TaOMSK7999cakfh/I4nD092tS7fRulpaWetmbCZw5Zel+iEDs4HcoR8XMQ1JAwkyzr95otNIqv6yM9NVb/VEHCfCEZgj7kmKnQ9gnYV+/JBulXfXV3VC6T42+3zf3AwbPknzbQ6B22he+xZCkvcUOfgvobUklHBID/iGQGPDPA9ICOVYe1T7jIW29DeXXpCZcJNmZ5LGDX/Zg6qaqKIqyI9KGwK+D7gcx0dcYuyFWbwsLCz9CvxfbogXPsYPfn2KYl7OkbRJD6EyiwQ5haBL1NpR9SbHTodbIUP4xFfhq2y/RD6kvMQ6x5vhKnqS9dKjvVZre7mH79u18CbWzzU4mk8sQ6bnj2MHvDRjGWUnbJLjg+j5LKdFgr0Z/Q5Oot6Hsayh7n3eGWiNS9FWlr+4ug8ynjvvqjYUBJh9RApFIDOXXhthXUuUiWJvrsva2mcox3yq4HhGIHfz+EMMsGipP2ibRd2McSvcpwXft+26MEh3dT9DfvliZkqK7q9D/++Rmsgh5a42JfZ/vWeJeQPr6c4n7wRB+Taqd3sPS0tJppoJ7dfX31qxZM1NMsHvPl5mvudx87Vdhk5DgxA5++bLKregHFy8dprRsv88mcRdk6ozVchppV4dHvS1CnqO7BP3tlF/P5EOC7obQ1/XT/4e0U4Zvot+p1nchs/LLvbTP930B5Onte+j/PbNaLtFOq3zaBLL/ZeQGz88z8L3GyDthq8ZRiB38smTOIKzPwuH/Q6Kz67NJSMzyS/oE/dTbTZDn6Ph9Mxjra6e3QQZcY0yy1K+1hwHJTegGk1OpbQ/fQvcKGtfpWYhUgYvIIvq3D543wP8jB04ywey7jTTGc+a/38EqsZETzC8/i4hxSOzgl3wN/RbPhZC3+Hgjmptr1+9b4sbKtc5RSn1G0kisjnAiC+dxs22hTzBHO/0FZECdca309WvcGObBR4eElTQGcl02RSZpEvukCfXGwL/L93799Oul6Y3fL09p+vh0Pnm/GTqlhDo40QS1rzL/PHVa2b3VyKap3GTkuoWFBVaJX2E+80lELsDF+IFxY+Cg+92mv+YmsYjur9PcC/ZZRmb9m5Dw3DkH/FntAas3BnEcLv2rqbSdjckNgkHgA4xsgb2tmfMUA665wshfGDkO3V/14bE9dc31didsMJez3rhGHmPkLbDPePaZwXpv2FcF1xq5EXnaKW1zLyMPhfVxfZKF+xh5EmxQwnV3M/Jda7RP6m4XIzvBJucMyNajHTdMv4b+jHvBHcg7Wd11KrtMf83Wh6PQ/vl26pp2TtvkeuNay11ve2LZRvsE/U+A9WWXwwbCP4bskXHnLS0tsRrO2cd80ZMPgDB24bq6YNoaIbJFhE6ODv39sAY2GVBYKXkN8nxBiovncUbeZYRz9bZiGJ1da+QjsA5zZ+QJA7jfNXIGbKA/hN64dj9j5GnIW28vhbWrodYbhRsEk5DdkRfcUJ8Le3w81Dor5VwjRyPPtVbaJxMs2igvCw6hP9rox2Gf5s4R6o3+5wRYvbENjv3Ot6Of3pjUn4Z89cYki3qj/+6rq1m+7VjkuycoPaBBnYNhN9O64b4S+b0SdJCRMzGe3hgEH4P8jm7KAI5OaSy9PRuqty52ygp8TnpjAsnK22QkydVGX4zx1lmpt6OQHy+B6q0LtKFLoXaqBIQZFzPKoasidWGVpO1x2TzDLPJk2MtCY+rtE2h/XDbvjL1BUFh12R95EUJvTIJzsVPaaAjflpuNMkBQvbWHevsCxiuG5Ko3tVPlHkJepjgCdrMbuyr7ZNh+k1ygztg7M3Y7x9ONPAz5wHV2PMYPTI9EXustlN7KfrAcOAB2sxvbt9FGc0q0eM+D/fOqt3ZQb+wtH7u6mJve1E77w5hx1xElWMtIyNL8oxGuH7eAPbrNYZwXk4auF7TawMo8DfZ85KE3rrey2X5MVG/dyElvj0QY30adMWnIZepIiMCXUG+HQPXWltz0pnbaD8ZUD1q7du1+6Dc1qYnN27dv5+XBH2FkQga/BcZTWB0uvlx6bnhDPlTSwD8nF72NaaB1VG/dyMVOQ/7810//vBw21fJ7CUEBu65Vb+3gaWAueuPEmVB2eiDysdO7MUHvsyaTyZuMsEAymh4XFhaunI5MOw8jErLtIeQGkdOFNx5xhfp+CoQLfMamdNohKKB660IudvoQhNPZTsiHXRAOjonMJUENOU2A4zBzsdOQMUhOBRGy69LSEtvhRg18iQl+169Zs+Y56D7+1otQwS//HPZFhtogQmbGY8JFxpaHUM4np4p5qKNBonrrRi52GvLnX8BWsHIgdOU3F72FTLZC7ttjE/J7yUlv2GmnndaboDREO1zJ6HGPZkHzTciqb06wMhJyY11AHoTWWy6EtFHOR86l+huygpmT3vQUtRshYxAR+/ZkMsEQmMAaoQlZrQiZBeUSjIQOfkMeQ45JyKN7kktyF1pvudhpyIQhp4S4QLj1pnrrRk7JcMg1IKKIkHLwG6rtIXRwkEswEtph52KwPJ4JqbdcjrhC6y0HOw399+dxYA5rjXoL2S6y9/TPS53QeiM5JA2MdUK2EAJ6ajvXhAp++dZ9SIedSzByf6gBdYEjtEL+/HNp6VE7bU+MimIOVcwY30MOyVYMveVQFInxs9cWsjkmVPAb2mBDTrEYk9B609v33cjlSFXttD37QIPfLsTQW4H0k63Q1UsgD98WI9HWwtUcE2rz0ePUboTWWy6ZaojXj6rkcqQactIDycFOY3wPOQS/MfSWw3qL8XMvZ9amjOpNWUGo4LeAHqd2oUD47yPkDewx4OYWI4hPfWOlLwittxzsNMb3kMPs1Rh6C93WMwbq27qhelNWECL4pZOOMQc19SCOf/8YeiuQ9gYRqyqWeiAXy1GnvjnEmJBSIP2ZtTH0lkPFPMa+FnoKzBio3pQVhAh+Q72nXadA2guvQJy/P+dhphyQhG4VKUl9U43lqFMPSGJUlNjWk/rM2hh6i+UbhiT0fQaSQ9KgelNWECL4jVVRSj2IC923WpK6wRaIE8Sl3i8d6+ee+nqLUVHiWtsbaRPDtxVIvxLHv3+M8Xq7I21ixAM56C1bQgS/sfqsUt9UD0KcYOp+SFtveyLOxpr6AyGxqmKabHUjdb3F+PuzjSz14DdWMSn1I/xY9qKtD3NKiOA31qJLfUZuLL2l3qQfqwKbeuU3xrEgSdlOYzw4UJLyEX6MBwdKYrXhDUWsuwUprzfaZ6z1lkOrTZaECH61otSNWHorkHamGutnnvoFS22zaU/Mv3uBdO00ZoKdcnIf005SnpQR005zmDCSJSGC3wJxfvihZ5YOTYE4etPKbzcKpO3kYukt5cpIrGoSidXeMwQxJ6Psh3TtNObpUspJakw71Utvc8rYwW+sMWeEjmIvpElMvXFjSrVJP6aT2Q3pOrmYf+8Cut66kPLxfUy9sQcz1TFxMfWWchCnelN2YOzgN3YfZKpVzNgbW6p6i73eUnV0MfXGpIGVGV1v7Uj5hCam3njScC+kiVZ+u6F6U3YgROU3JvsjzSOu2BtbgTT1Fnu9xTxe64PaaTfWIh48oUm18huzPz5lvcWcKJPy2K4FxEPHnc0pYwe/sd+2LpDmphq7SV4rv93Qykg3CqRpp7GrOqlWlWJNFinRE5puFNBiUhcK6KW3uWPs4Df2orsP0gziYjvn2JtTV2LP2k113Flsve2BNO00dqV/H6QZxMXeF1K9DB3775xqUST20/OpP7iVJWMHv7EXXaoZfuwb8Fr5lcU8VJRSvIQUYlpOE6naaYG4+0KsB4T6opXfNNG+3zlkbOcde/YpDTXFRVcgrpOJnbR0JfVZu7GIbSP8ue2E9Ig1kaUkVTuNrTcNRroR++eWKqneBcmasYNfOpmYzvkKI5uQHupkusHjzJjrbQlpcgDiVpR+auRXSI+7EJcUdTYPaDAii82IS6r7QtaMHfxebeQOxONWI9ugSOEmxPt5L0X+8/twC+L+vX+CNAO5yxHPv3FDvwRpJvdKN2IHUakmW+fC+uZYxPavygzGDn5jbg6synwPaW4OMRMGErui1ZUzjFyPOLB6+bXpP1Pj67AOOgbcFFIN4s40sojwMAj6Muymrv6tPb9EmsRMrhn4pmqn9G/8u8fQHdfa+YjnX5VVGPto/SzYAHhfhD/GvwRxg+8+fBb2csP+CA+dHJOGFPX2RSO/D3thcDeEgw7uNCM/RJoZPoO45yHOYxPUWaqb6pWwtsq2kZCvSTLBO9nID5Am1Bkf8nkYwkLb5Dr7DOIlyX34vJFDEX5fYDGEAeS3kKad8pTk40YeC2uroeBe+j+w/i3LFqWFhQXufQzsuxbMOGmI8WHwh2fGHtL+C9hsld8gezE58iPEwGn+QN4Fa7ApLjpuqnfCjjLiRaDt038OqTvqhY6MC/e26b9TLjBykpHvI71epa1GLoPt/eWs5DEvwNHYqTfq79NG3mPkGqQJvwdWrEs7pYSYZEA7PRE2SY7dl9eVi2A3VE4QCKEzBnD/CnvKkWoFk/6NvuX+01/Tlmi7Q/s4Qj9HPdFWrzLyfiMfQ9xj8K78CDZI2Gf6a+qM39uvYXU3xvrj/59r/K1GLkS6/atcc9wXGACPfTGavuxnsBXfVPfSFaxdu3bfyWTyHNhA9R5M8LuLkT2N7N1R+LWzLjt/1/x5ZyOTti5WMj8Ba7CTEeV2WAcXo2o6NKxeHmbkL418BdaBD6Gjn8Nunq+Frb7kdrmOFcwTYDc7Jg5Dri9uNDcaOcfI65Gf/minHzGyBWqnvlBntM9JAOFGejjygHbKYOSFRv4aVocsmAyhJ9o97ZR+7m+MPBH5jOmi3vj9vBL2xOY4I/+N4XRHof1Tf7TRRyMPH8fpKGPbKeMbxjkbkNelyoPXrFlzsZFJIDkFdupVNvCo62KMt/Buht241yM/GAi/2shG9NfRP8NmwbnzZNiqLL/nIYJgJh8Meo9H3vOE1U7bw7X2HYynMwoTrzfCBj85Qh/3Bth2jr66+jFscChl7jd193b0L5CUQS+ThhcjP/2xeskEciwbZXU+l+S0Cqu05wQMft+HzIJfOm1e0vBdSFvhXynmhvoW1MryGfI2dHdw/DoJOqrCTeFYWGfONdLVqfFr2dpQIH/a2mlbPea6Bl+B/slpk/DY+VDkzx8a+Sb66eodkJHgV6Gvey9sy1xbfeUe9FZ5HeyEGV/dUJ++xZPPIY/TrB0wAek7TAB888hB7/bpn/EaZLYG/8DIpXAvIPbLXAtbSWEm5TqClRTUHQU7v7itc2PVSErwNosyCO5S0ZSSWJW0sdONsLbqszlIsNO/g20r8l1XG1t8/t2QswZZSe+TgD0DMmel82j/U2jXXkjb5aXX3IPeEu4FvBPk2ybyBdi16FM8oS88EnnCtfU2E5xebGTjVLbMCmIr/31jy89+3/ze3yJDP/ePsNll0+JhLyCP9qhoLtIPT39vtc8zMJYU1PFIpUsA923IqBo1wZ4/9uluhL/eGJhIq5a3sVNWiXkB50to3nCl2Cl9Fls6fIKPf4JdV6x0ftfj8wxqsqwqrUKfVpINkAvXk0/yWgorm29G2IklsWmTJHDP4AQhFk98Ck+8xLsPBGAC1RON3FYPaDHD/tp8NgQh36bnpsDgy9WvdvpUrjPyCNj+w6aLChy/cgrizNuMAS8ftM3OeUP8Q7CPjkiFN3yfBds3XXh+DW+K88LHKUhzfm8XaGs+dsqxS7RTTopgkMLNpKnSJsVOedObm98lHp/lTXquMc7s/Sjcs0DZr8hRflJeJzvPyAeM3ID2SH7BjevpVPjflOfe/A9GXg47kUkCjC84LvBKj8/Sr9Gu/xf2YqFLr38KG9DpK61zTMjg90lwb5DcCHjEUM5gPAbNfVv8PBfjIuTAhKDtrWWO4JL8GhTX+SFG2EfUpnLGzZdzGlOcCdoVVo1cEyw4A5o3mhdhdUvbbgqWpdkpR0PRj7ns7UAs2zJ7BX1G5fGypaTqL8eSnY3287M5RULKZbdZMGm/oMXnGQBzqhCTKylBG5ME+jGXnT4Yy8kUkwpXEYm6fBFsvKPMKSGDX1aHXNUkBhvlAwus1B2MZgdG40518HYXaFQM4tre9ubxjqQArg6PlunYqTtfx841yA3EpzKQC9SNK5AlrPpynjKDWh6VHub4Gml2Snw2yadiObnnOqP/cz0uQz96BORUNllxY4Xuh+2+DI+C7OCXpwisVLY5sWKwxlamgyEHHzulzZVtDLRT+jPX+wFPR7v9RglMqODXp+WhHmxwcHyBZifPmX1SjqMJ+33bBr7l6zyS9FSFzodzRNvO+eSRfhngSaGA1ZPLTsuqL/Fpw5Fmp4R+jIl80/phsMFxb6WPY5K6CDdsf5A0yYBJAW2xTfWXpxf3hmxop5e3+5K7A73nQ07i4GOnDGIZj5SBLE8jfKq/R0PWXZGkCBX8+rQ8fBErgw3XsRWDOmZgkt7MfjjatzzQuGO+CR+b/WCPoIoWX0NdVdtvpMBqhctZ1+3UtSYl2mnJ/8H9fVcrlAzy+CqUK+FipV3apkrdtFlDvKAU/MnUOYP6+ira2x7bwyRdjvZZW9Ukn5/nSZbLTnmy80Aoc0mo4NfV8sANkqNWqtUh17EVMy9pQR2rRG0zck55kBh4EK5v9kgWaAeDXh6zuo6gc4JtRk9Bc1A1y05drUkS7bSEExxcrR7s360mD2fDba/0paxsSrrUxbm/bfwYiy25vOjWh7Z6I1xfz4WcBMtnj6wn+Zxu4zrN4hrkCY22PswhIYJfbqqulgcezbA6VN0o6NybnBcvh0gKTrrC4EOqntintQHtnTiPwaRdDmRiVaA5oJplp/s6vkaynVJftzo+Uw9++ciAz8W3+tfljo8u60ie+FDCU5q2eiPPhN2DJbAIO3mliXqSfzbsxAgXbJfQJGwOCRH88ofPIKQp+6n3BPKzDJabnBcHTkvqx+yK5OCDg+67VC/4sIo0nfESlaufvF71VTtthpe1WFFqqnoXWLk58vPlpd8mpFU2fXRZp8tJWW5QZ7TZticvXF+Ph4w15rO26km+r53qGpxTQgS/rmNRwj636rGDq5pEWH2SdpS6hHYw6LgFMoMPBmZ/hG4Xg5jRSwt+OU/bZaf1irjaqRvXWuLFmHphQOLJgw9t7bKtv8yVrv6MYw+ltD64dDQryVc7TZgQwe8D0LxBso+wHqC5qklEYoDStvLBy25SjbPst9KjTz8Y+DadznDd1W1O7dTNXWjPRmhL1xBIT7z6wouVUi5s+SRKO9d+rXaaMCGCX9fxHC8X6QLyo+3lBcmVD595tcoyrPA02Sn7BrXNqD2LaO/fpJ7WDMmsZE1pB/0npxxIaH3wSZQK7NiipHaaKCEfuVgNPqeotyH94OWFNsEvDXorZOKaV9vEzpDHIpoDBTp9tdP2bME41Uc90m+GTyJrYNKfx0BGzyrXiytRmtWi5ELtdE4JEfy6HBADlL3QHokbMQNfjuDydeo/NnIn5MHgtc9FgwLybui6Kh90/LujPdID5i6JlI/OJB7pt9El/eTtUEifZJ7z9vdA/vjcX6i3MPnoVVtv5pQQwe8VcPeddjmi9lmsOeIzOF86fcdA7Ql5QZvPSDy10/Y8BO3Xok+vusQRhgX8dckZy7+Awj2+QHd/yIuw90P++NxfWMRKm+MDSi69Sh41OteECH59Mh/XIxiz8FmsOXIx/C+x7QKZ+DilJnwmH+SGz3i36hv3vki105IuR6WPQ/P6oz9dhLxHWHx1Sf3oTXwL11Gf1kLqnPd29OKwHYlWxjKMnXi62LTPSLTTZAgR/Pq8lHUorIGVaK/W6lwEv+HaROqMwb6VX9fkgxxhhcI16J12yjVV6qbLJANpuI5G676O69b1KBAvCfMCoqTjVNejR1UkvtC4Gm30thoSHlRxBfd1W6N9Hg6102QJEfxy3NYNjs8wu+TTqntXvsaVta+FXHzfuZd4cYv0fVWHiZi0pOG6qbj6fqt2ugh3gLETZFOgeS3Wfd0zYQOWpuTrEsiranLklm/1kQUCrfpahmg7qj/tmxtlFbfJ5/OhkGqi+lTYfULtNFFCTXvw6VOt3853VZUk9xJ+A37BbwF5F7f6XnYrkbi+fJx1tfWBx4CuU5rCyL0hE64f11H9XbXPPx9WZ020aX3KhTbVx7YjIXPm/ujvxzjuLOdigM9JX3V6CPcYtdPECRX8+iwCvgRXDX4X0VxVkvyAwQXwa33gxist+PXZJH2OodpUmnLBx04PwcrWh3pFpA43FqnVX5/XLRex7Od+B3b9Nq076pr2Ly24eyj8fBkTssuhQUfJEEl8gbyDX5/WkEUs2+mBsDpp0ivXoUQ7TYZQwS+fL3a1PjDw5XF1uaBcvTLrIfcRAxrW2fAzLJ8NOCd8LrsxcfCpWEpLHHzslFRPaVzzVAvI02OJT+BxG5b9nM9zsjzSvwHy+gh9k1G2hF0L7bMs4SlN3+A390tvrldoSVs75Wm3rsM5JlTwyyCNTtvVH3gEljfV78OdvUuu/vq2PvgYdk74VH6/BrfuJI47o054S95lp9XB94uOz0s8fSj5Lbhtjw/XbJp+znXRjfjafU5wn3K9FEr4oMC5Rn4OpcTn2XKfC+Y59/367BmlnbLlgc8+u+z0Quiovbkm5AtvX4E9Im2iOlDbdZxKpFU1q/i2Pki4qVvFddmNa+pTsLfBm5A47oyw+tumRalaEVmN3HsGV8P1fTNYK/0cP8vqZlOgws/x5yMt+PWdvkK9nA33PiMFn6SBpwhnw23z3JtztWHXHlm1U+4vBdwtD1+HrsO5JmTw63OkyoDjAdN/55gQV/DrU1nJFd/WB0nBL9eC67IbL3VxHfKWfVPFUuK4M3KGkWscn2HgW8Dq22eeat+5yyni87gA9VZuqj46YsJ7NeSNgvSp+hIGHNpjuYyPD+N6+g+4iwG5JrDUTwF/O30U3HrQ1psECBn80ikx8HAdkT4ednExOLkJzUitKJXwiM+lowLdnqVNEZ8pD5fCOjMGeE1rUeK4M+LbolS2HC3CPR+47+i5FPF5XKD6+pPPpRuf0zOpMNA4E6qfKj5r6irYpIrFKZc/zPGODXt398KwdsrWJCmtN7MS8aUBPjs6IYNf4tOvVr1M4wpQCsgJ7GbBDJO9SK7ZrNSnxCrmLEpH9hO4K2hSx+n5BFllosETCNp00xpkm8RekIVPwF/1b66X8PT2eDPUpc5VXYmP/yonY/ic4PAUMbeCQNunxF06FWWnS0tL34EdTnAPk8mEp/bb+nw2BKGD32/BvalWq7mum+Qa2Pm1PvgeG6YOZ6YuOf57GXD4PKQi9WleVoFc/eRVPbte06IeuWlIstOD4A4UbsSyf3NVQCQfpfpUh9jHfz2UKj7+iz6Qa4oV4CYbpu/0uYeTGj6nx9Wn3/nZJp1Ks9MvGjnLBLE3Gdlk5KcLCwsfhE0Y+nx2dEJvRtxQGXSweX61BcRMrAzUSoNsOm4pAzupGf8XjByH5tEr0Y4WArMIW8Fg73h9fVEHF00/Qwfu8zSvFL3VYTL1VdiNYZbtUS9stykdfNlK0rSJlJVQKXbqU3WrJg0MLJo2TElHqXW4ZpoCM/43vWC0Iy7/RR/IPZn64wkig5D1Mz5Hf8mq+iLyC3595kdXK7+LsDpYzbal2elmU9H9K/PPT8K2hFxtgloWOTf1/OzoxKjE8Ejg6Vg9WKtuAuV4kSakBigldF6nwy6mB87479Rlmd3nDo+cToB1TlxjZTDGNcKA7t9gky+yiObNkv8PKXqbBfvJn4fZwS8rbBwXV+qvujmsRtkmISX4dVXduK6qpw+fM3IM7At6Vbh2eVQoueWBPu7LsEltvX2G/eafhz3R0QtGK+F6aUryub/eUfnsO2FPUw+Z/h7XHv0gCwonY9l35oRrfnQ1QSBfgrXTWYm+VDvlvnv6CJ8dlRjBLy8lvBA7Br80NDqy07B8fMXNdXPD/4sLU3KAUnISrJN6OWwfNH+uO09/j4GJ61g6J+io/gw22Docy32pPMqn8y4rF/y9T04/V1S+fmn63zik3Gfmba7w+O59Rl6LlY/P0EZ5VEXdlHbHwEN7LdtRn2bDtXkK7KME1Dd1y3VIH/gh2FMLyX7uw7DB7zOw7Ntom9xI34tIR6dzzvlT4V5bvxtDO663itDmX2bkSNjkjeuPAXLOfpDBb1Plt57YU0efhdUpbbU8RaQ+P4KVflGZY2IEv3Ty3FS5mR4w/T0uIGZNHLP077BVOcIMqmyIrv9dy2NsNuxLDVBK6KROhNXf0bAXjKhb6o6bxmWQx5VwVyo+BuvAjp3+k06sDJRZJZaotyocgcRjvBcYOQo2keBluI9iZdWcdkpdH4rVqyjSxnO52mrou+oJA/XN9ffnsHpkAvZx2CNnafqrw6T2zVhua2IfJiu+tFHpulkN2uXfw+6RPMVhwMZ7PlybrKSfih1Pv6jnj0IOZRK6mt+aVTh6O2y8wnbD8mEgJhJqp4oX7NU93sjrsfKIus6rYW/mTyqyHbYfmItP2gglZRykXAocC26uP8BKOy2FD2G8BrJGx70Uq+vjdiNvhNzn2ZU4cL1JHDvYxKtgE6lZdrrFyFvgfspYUUaBBsvqJTdQLkY2k18BDXwVZZ5gryArIrzpfNtUbp7++j1Y2VoiAerjDUYuhvVZVZ3weHQ9FEWJTZOd8iT1sVCyZAFpwAD4RbDHqgx8Pw294KAo8wY3kg2wly/ZpsQjQR7d8yhVqq3Sd3F2OU8WSp1wkoZOJlCU+UHtVFEURVEURVGUPPl/0azdzw2qp8UAAAAASUVORK5CYII=\")}),Cu=zu(),Au=0,Pu=[],Ru=[],Iu=[],Du=[],ku=[],Nu=0,Lu=new r.Application(Cu,Au,{backgroundColor:16777215,resolution:2}),ju=!1,Fu=new function(){this.values={},this.Save=function(){wu.set(Fu.values),Bu()},this.Reset=function(){Uu(),wu.set(Fu.values),Bu()}};function Uu(){Fu.values.format=\"Math.round(d) + '%'\",Fu.values.gapBetweenOptions=10,Fu.values.personScale=1,Fu.values.textXOffset=5,Fu.values.xMax=100,Fu.values.titleFontColor=\"#333\",Fu.values.titleFontFamily=\"'Segoe UI'\",Fu.values.titleFontSize=15,Fu.values.titleFontWeight=700,Fu.values.labelFontColor=\"#343741\",Fu.values.labelFontFamily=\"'Segoe UI'\",Fu.values.labelFontSize=12,Fu.values.labelFontWeight=400}function Bu(){var t=In().key(function(t){return t.option}).entries(xu),e={},n={};xu.forEach(function(t,r){e[t.option]=t.optionsorder||r,n[t.category]=t.categoriesorder||r}),t.forEach(function(t){t.sort=+e[t.key]||e[t.key];var r=JSON.parse(JSON.stringify(n));t.values.forEach(function(t,e){void 0===t.categoriesorder&&(t.categoriesorder=n[t.category]),delete r[t.category]}),Un(r).forEach(function(e){t.values.push({value:null,category:e,categoriesorder:n[e]})}),t.values=t.values.keySort({categoriesorder:\"asc\"})}),t=t.keySort({sort:\"asc\"}),bu=t,ju?Xu():(document.getElementById(\"app\").appendChild(Lu.view),Hu(Cu,Au),window.onresize=function(){Cu=zu(),Xu()},Pu=[],[624,312,390,468,546,0,78,156,234].forEach(function(t){var e=Ou(),n=new r.Texture(e,new r.Rectangle(t,0,78,98));Pu.push(n)}),Xu(),ju=!0),window.gui=Tu,window.chartConfig=Fu}function Hu(t,e){Cu=t,Au=e,Lu.renderer.resize(Cu,Au),Lu.view.style.width=Cu+\"px\",Lu.view.style.height=Au+\"px\"}function Xu(){var t=function(t){var e;try{(e=new Function(\"d\",\"return \"+t+\";\"))(1)}catch(t){console.log(t),e=new Function(\"d\",\"return d;\")}return e}(Fu.values.format),e=Fu.values.gapBetweenOptions,n=Fu.values.personScale,i=Fu.values.textXOffset,o=Fu.values.xMax,a=Fu.values.titleFontColor,s=Fu.values.titleFontFamily,u=Fu.values.titleFontSize,l=Fu.values.titleFontWeight,c=Fu.values.labelFontColor,h=Fu.values.labelFontFamily,f=Fu.values.labelFontSize,d=Fu.values.labelFontWeight,p=[];Vu(Ru),Vu(Iu),function(){for(var t;t=Du.pop();)ku.push(t)}(),Ru=[],Iu=[],Nu=0;var v=new r.Graphics;if(Iu.push(v),Lu.stage.addChild(v),bu.length){for(var g=0;g<bu.length;g++){var y=bu[g],_=qu(y.key,Nu,u,a,l,i,s);Ru.push(_.node),Nu+=_.height,Lu.stage.addChild(_.node);for(var m=0;m<y.values.length;m++){var b=[Su.color(y.values[m].color).rgb.r,Su.color(y.values[m].color).rgb.g,Su.color(y.values[m].color).rgb.b],x=y.values[m].value||0,w=20*n,T=1.8*w,E=(Cu-50)/w,M=yi().domain([0,o]).range([0,E])(x),S=T*Math.ceil(M/E)||T;_=qu(t(x),0,f,c,d,0,h),Iu.push(_.node),_.node.anchor.x=.5,_.node.anchor.y=.5,_.node.visible=!1,Lu.stage.addChild(_.node);for(var O=0,C=0,A=0,P=0;P<M;P++){var R=Math.ceil(P/E)-1;R<0&&(R=0),C!==R?(O=1,C+=1):O+=1;var I=O*w-w/2;A<I&&(A=I);var D=Nu+R*T+T/2,k=Wu(1,I,D,n);Gu(k,I,D),Ku(k,b)}_.node.x=A+w+10,_.node.y=Nu+S/2;var N=new r.Graphics;N.lineStyle(0,0,0),N.beginFill(16777215,.8),N.drawRoundedRect(0,Nu,A+w/2+50,S,0),N.endFill(),N.interactive=!0,N.buttonMode=!0,N.selectionId=y.values[m].selectionId,N.alpha=0,N.show=function(){this.alpha=0},N.hide=function(){this.alpha=1},N.on(\"click\",function(t){wu.customClickHandler(t,this)}),Iu.push(N),p.push(N),Lu.stage.addChild(N),Nu+=S}Nu+=e}v.lineStyle(0,0,0),v.beginFill(0,0),v.drawRoundedRect(0,0,Cu,Nu,0),v.endFill(),v.interactive=!0,v.buttonMode=!1,v.alpha=1,v.on(\"click\",function(t){wu.customClickHandler(t)}),wu.manageMySelections(p),setTimeout(function(){Iu.forEach(function(t){t.visible=!0})},2200),Yu(),Hu(Cu,Nu),Lu.ticker.add(function(t){Mu.update()})}else Yu()}function zu(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-8}function Gu(t,e,n){var r=t.x,i=t.y,o=Math.abs(r-e)/14*Ju(100,250);o>3e3&&(o=3e3),Zu(t),t.tween_walk&&Mu.remove(t.tween_walk);var a,s=new Mu.Tween({x:r,y:i}).to({x:e,y:n},o).onUpdate(function(){t.x=this._object.x,t.y=this._object.y}).interpolation(function(t){return Math.floor(10*t)/10});t.tween_walk=s,r<e?((a=t).state=\"right\",a.playSequence([1,4])):r>e&&function(t){t.state=\"left\",t.playSequence([5,8])}(t),s.start(),s.onComplete(function(){Zu(t)})}function Yu(){for(var t;t=ku.pop();)Lu.stage.removeChild(t)}function Wu(t,e,n,i){var o=function(t,e,n){var r,i=ku.filter(function(e,r){if(e.ind=r,e.question==t&&e.qY==n)return!0});return i.length?(r=i.pop(),ku.splice(r.ind,1)):r=ku.pop(),r}(t,0,n);return void 0===o?(function(t,e){t.x=Ju(0,-50),t.y=Ju(0,20),t.anchor.set(.5),t.width=28.08*e,t.height=35.1*e,function(t){if(!(t instanceof r.extras.AnimatedSprite))throw new Error(\"You can only animate PIXI.MovieClip sprites\");var e=0,n=0,i=0,o=0,a=void 0,s=!1;function u(){void 0!==a&&!0===s&&(s=!1,e=0,i=0,o=0,n=0,clearInterval(a))}t.show=function(e){u(),t.gotoAndStop(e)},t.playSequence=function(r){u(),i=r[0],o=r[1],n=o-i,t.fps||(t.fps=12);var l=1e3/t.fps;t.gotoAndStop(i),s||(a=setInterval(function(){e<n?(t.gotoAndStop(t.currentFrame+1),e+=1):t.loop&&(t.gotoAndStop(i),e=1)}.bind(this),l),s=!0)}}(t),t.fps=4;var n=new r.filters.ColorMatrixFilter;n.resolution=2,n.matrix[3]=1,n.matrix[8]=1,n.matrix[13]=1,t.filters=[n]}(o=new r.extras.AnimatedSprite(Pu),i),Du.push(o),Lu.stage.addChild(o),o.question=t,o.qX=e,o.qY=n,o.x=Ju(e-300,e+300),o.y=Ju(n-300,n+300)):(o.width=28.08*i,o.height=35.1*i,o.question==t?Du.push(o):(Du.push(o),o.question=t),o.qX=e,o.qY=n),o}function Vu(t){for(var e=0;e<t.length;e++){var n=t[e];Lu.stage.removeChild(n),n.destroy({children:!0,texture:!0,baseTexture:!0})}}function qu(t,e,n,i,o,a,s){var u=new r.Text(t,{fontSize:n||16,fontWeight:o||400,fontFamily:s,fill:i||\"#5f6369\",align:\"left\",wordWrapWidth:Cu-24,wordWrap:!0,strokeThickness:0});return u.x=a||0,u.y=e,u.resolution=2,{node:u,height:u.height}}function Zu(t){t.state=\"stop\",t.show(0)}function Ku(t,e){var n=t.filters[0].matrix,r=n[3],i=n[8],o=n[13],a=e[0]/255,s=e[1]/255,u=e[2]/255;t.tween_color&&Mu.remove(t.tween_color);var l=new Mu.Tween({r:r,g:i,b:o}).to({r:a,g:s,b:u},1500).onUpdate(function(){n[3]=this._object.r,n[8]=this._object.g,n[13]=this._object.b}).interpolation(Mu.Interpolation.Bezier).start();t.tween_color=l}function Ju(t,e){return Math.floor(Math.random()*(e-t)+t)}window.constructPage=function(t,e){xu=t,wu=e,function(){if(Tu&&Tu.destroy(),Fu.values=wu.get(),Un(Fu.values).length||Uu(),wu.edit){var t=(Tu=new Eu).addFolder(\"Chart Settings\");for(var e in Tu.add(Fu,\"Save\"),Tu.add(Fu,\"Reset\"),t.add(Fu.values,\"format\"),t.add(Fu.values,\"gapBetweenOptions\"),t.add(Fu.values,\"personScale\",0,3),t.add(Fu.values,\"textXOffset\"),t.add(Fu.values,\"xMax\"),t.addColor(Fu.values,\"titleFontColor\"),t.add(Fu.values,\"titleFontFamily\"),t.add(Fu.values,\"titleFontSize\"),t.add(Fu.values,\"titleFontWeight\"),t.addColor(Fu.values,\"labelFontColor\"),t.add(Fu.values,\"labelFontFamily\"),t.add(Fu.values,\"labelFontSize\"),t.add(Fu.values,\"labelFontWeight\"),Tu.__folders)for(var n in Tu.__folders[e].__controllers)Tu.__folders[e].__controllers[n].onChange&&Tu.__folders[e].__controllers[n].onChange(function(){Bu()})}}(),Bu()}}])}"
        },
        {
          "id": "I1BE",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\lib\\css-base.js",
          "name": "./node_modules/css-loader/lib/css-base.js",
          "index": 5,
          "index2": 0,
          "size": 2260,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "issuerId": "WrdW",
          "issuerName": "./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js??ref--7-2!./style/visual.less",
          "issuerPath": [
            {
              "id": 0,
              "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "multi ./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
              "name": "./src/visual.ts"
            },
            {
              "id": "aY+d",
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
              "name": "./style/visual.less"
            },
            {
              "id": "WrdW",
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
              "name": "./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js??ref--7-2!./style/visual.less"
            }
          ],
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "assets": [
          ],
          "reasons": [
            {
              "moduleId": "WrdW",
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
              "module": "./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js??ref--7-2!./style/visual.less",
              "moduleName": "./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js??ref--7-2!./style/visual.less",
              "type": "cjs require",
              "userRequest": "../node_modules/css-loader/lib/css-base.js",
              "loc": "1:27-80"
            }
          ],
          "usedExports": true,
          "providedExports": null,
          "optimizationBailout": [
            "ModuleConcatenation bailout: Module is not an ECMAScript module"
          ],
          "depth": 5,
          "source": "/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n",
          "parsedSrc": "function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||\"\",r=t[3];if(!r)return n;if(e&&\"function\"==typeof btoa){var i=function(t){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+\" */\"}(r),o=r.sources.map(function(t){return\"/*# sourceURL=\"+r.sourceRoot+t+\" */\"});return[n].concat(o).concat([i]).join(\"\\n\")}return[n].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n}).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];\"number\"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];\"number\"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}}"
        },
        {
          "id": "WrdW",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "name": "./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js??ref--7-2!./style/visual.less",
          "index": 4,
          "index2": 1,
          "size": 4139,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "issuerId": "aY+d",
          "issuerName": "./style/visual.less",
          "issuerPath": [
            {
              "id": 0,
              "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "multi ./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
              "name": "./src/visual.ts"
            },
            {
              "id": "aY+d",
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
              "name": "./style/visual.less"
            }
          ],
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "assets": [
          ],
          "reasons": [
            {
              "moduleId": "aY+d",
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
              "module": "./style/visual.less",
              "moduleName": "./style/visual.less",
              "type": "cjs require",
              "userRequest": "!!../node_modules/css-loader/index.js!../node_modules/less-loader/dist/cjs.js??ref--7-2!./visual.less",
              "loc": "2:14-126"
            }
          ],
          "usedExports": true,
          "providedExports": null,
          "optimizationBailout": [
            "ModuleConcatenation bailout: Module is not an ECMAScript module"
          ],
          "depth": 4,
          "source": "exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n *  Power BI Visualizations\\n *\\n *  Copyright (c) Microsoft Corporation\\n *  All rights reserved.\\n *  MIT License\\n *\\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\\n *  of this software and associated documentation files (the \\\"\\\"Software\\\"\\\"), to deal\\n *  in the Software without restriction, including without limitation the rights\\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n *  copies of the Software, and to permit persons to whom the Software is\\n *  furnished to do so, subject to the following conditions:\\n *\\n *  The above copyright notice and this permission notice shall be included in\\n *  all copies or substantial portions of the Software.\\n *\\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\n *  THE SOFTWARE.\\n */\\n/**\\n * Imports styles of tooltipmanager.\\n * We compile it as a less file in order to wrap the external CSS rules.\\n */\\n/*\\n *  Power BI Visualizations\\n *\\n *  Copyright (c) Microsoft Corporation\\n *  All rights reserved.\\n *  MIT License\\n *\\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\\n *  of this software and associated documentation files (the \\\"\\\"Software\\\"\\\"), to deal\\n *  in the Software without restriction, including without limitation the rights\\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n *  copies of the Software, and to permit persons to whom the Software is\\n *  furnished to do so, subject to the following conditions:\\n *\\n *  The above copyright notice and this permission notice shall be included in\\n *  all copies or substantial portions of the Software.\\n *\\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\n *  THE SOFTWARE.\\n */\\n.overflowingText {\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  display: block;\\n}\\n\", \"\"]);\n\n// exports\n",
          "parsedSrc": "function(t,e,n){(t.exports=n(\"I1BE\")(!1)).push([t.i,'/*\\n *  Power BI Visualizations\\n *\\n *  Copyright (c) Microsoft Corporation\\n *  All rights reserved.\\n *  MIT License\\n *\\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\\n *  in the Software without restriction, including without limitation the rights\\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n *  copies of the Software, and to permit persons to whom the Software is\\n *  furnished to do so, subject to the following conditions:\\n *\\n *  The above copyright notice and this permission notice shall be included in\\n *  all copies or substantial portions of the Software.\\n *\\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\n *  THE SOFTWARE.\\n */\\n/**\\n * Imports styles of tooltipmanager.\\n * We compile it as a less file in order to wrap the external CSS rules.\\n */\\n/*\\n *  Power BI Visualizations\\n *\\n *  Copyright (c) Microsoft Corporation\\n *  All rights reserved.\\n *  MIT License\\n *\\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\\n *  in the Software without restriction, including without limitation the rights\\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n *  copies of the Software, and to permit persons to whom the Software is\\n *  furnished to do so, subject to the following conditions:\\n *\\n *  The above copyright notice and this permission notice shall be included in\\n *  all copies or substantial portions of the Software.\\n *\\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\n *  THE SOFTWARE.\\n */\\n.overflowingText {\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  display: block;\\n}\\n',\"\"])}function(t,e,n){var r=n(\"WrdW\");\"string\"==typeof r&&(r=[[t.i,r,\"\"]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(\"wIuP\")(r,i);r.locals&&(t.exports=r.locals)}"
        },
        {
          "id": "aY+d",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "name": "./style/visual.less",
          "index": 3,
          "index2": 4,
          "size": 1263,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
          "issuerId": null,
          "issuerName": "./src/visual.ts",
          "issuerPath": [
            {
              "id": 0,
              "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "multi ./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
              "name": "./src/visual.ts"
            }
          ],
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "assets": [
          ],
          "reasons": [
            {
              "moduleId": "xlo+",
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
              "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "type": "harmony side effect evaluation",
              "userRequest": "./../style/visual.less",
              "loc": "62:0-32"
            }
          ],
          "usedExports": false,
          "providedExports": null,
          "optimizationBailout": [
            "ModuleConcatenation bailout: Module is not an ECMAScript module"
          ],
          "depth": 3,
          "source": "\nvar content = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/dist/cjs.js??ref--7-2!./visual.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/dist/cjs.js??ref--7-2!./visual.less\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/dist/cjs.js??ref--7-2!./visual.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}",
          "parsedSrc": "function(t,e,n){var r=n(\"WrdW\");\"string\"==typeof r&&(r=[[t.i,r,\"\"]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(\"wIuP\")(r,i);r.locals&&(t.exports=r.locals)}"
        },
        {
          "id": "bljh",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\d3\\d3.js",
          "name": "./node_modules/d3/d3.js",
          "index": 8,
          "index2": 5,
          "size": 336821,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
          "issuerId": null,
          "issuerName": "./src/visual.ts",
          "issuerPath": [
            {
              "id": 0,
              "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "multi ./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
              "name": "./src/visual.ts"
            }
          ],
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "assets": [
          ],
          "reasons": [
            {
              "moduleId": "xlo+",
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
              "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "type": "harmony side effect evaluation",
              "userRequest": "d3",
              "loc": "63:0-25"
            },
            {
              "moduleId": "xlo+",
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
              "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "type": "harmony import specifier",
              "userRequest": "d3",
              "loc": "78:27-36"
            },
            {
              "moduleId": "xlo+",
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
              "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
              "type": "harmony import specifier",
              "userRequest": "d3",
              "loc": "140:24-31"
            }
          ],
          "usedExports": [
            "keys",
            "select"
          ],
          "providedExports": null,
          "optimizationBailout": [
            "ModuleConcatenation bailout: Module is not an ECMAScript module"
          ],
          "depth": 3,
          "source": "!function() {\n  var d3 = {\n    version: \"3.5.17\"\n  };\n  var d3_arraySlice = [].slice, d3_array = function(list) {\n    return d3_arraySlice.call(list);\n  };\n  var d3_document = this.document;\n  function d3_documentElement(node) {\n    return node && (node.ownerDocument || node.document || node).documentElement;\n  }\n  function d3_window(node) {\n    return node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView);\n  }\n  if (d3_document) {\n    try {\n      d3_array(d3_document.documentElement.childNodes)[0].nodeType;\n    } catch (e) {\n      d3_array = function(list) {\n        var i = list.length, array = new Array(i);\n        while (i--) array[i] = list[i];\n        return array;\n      };\n    }\n  }\n  if (!Date.now) Date.now = function() {\n    return +new Date();\n  };\n  if (d3_document) {\n    try {\n      d3_document.createElement(\"DIV\").style.setProperty(\"opacity\", 0, \"\");\n    } catch (error) {\n      var d3_element_prototype = this.Element.prototype, d3_element_setAttribute = d3_element_prototype.setAttribute, d3_element_setAttributeNS = d3_element_prototype.setAttributeNS, d3_style_prototype = this.CSSStyleDeclaration.prototype, d3_style_setProperty = d3_style_prototype.setProperty;\n      d3_element_prototype.setAttribute = function(name, value) {\n        d3_element_setAttribute.call(this, name, value + \"\");\n      };\n      d3_element_prototype.setAttributeNS = function(space, local, value) {\n        d3_element_setAttributeNS.call(this, space, local, value + \"\");\n      };\n      d3_style_prototype.setProperty = function(name, value, priority) {\n        d3_style_setProperty.call(this, name, value + \"\", priority);\n      };\n    }\n  }\n  d3.ascending = d3_ascending;\n  function d3_ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n  d3.descending = function(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  };\n  d3.min = function(array, f) {\n    var i = -1, n = array.length, a, b;\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    } else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && a > b) a = b;\n    }\n    return a;\n  };\n  d3.max = function(array, f) {\n    var i = -1, n = array.length, a, b;\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    } else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b > a) a = b;\n    }\n    return a;\n  };\n  d3.extent = function(array, f) {\n    var i = -1, n = array.length, a, b, c;\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) {\n        a = c = b;\n        break;\n      }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    } else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n        a = c = b;\n        break;\n      }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n    return [ a, c ];\n  };\n  function d3_number(x) {\n    return x === null ? NaN : +x;\n  }\n  function d3_numeric(x) {\n    return !isNaN(x);\n  }\n  d3.sum = function(array, f) {\n    var s = 0, n = array.length, a, i = -1;\n    if (arguments.length === 1) {\n      while (++i < n) if (d3_numeric(a = +array[i])) s += a;\n    } else {\n      while (++i < n) if (d3_numeric(a = +f.call(array, array[i], i))) s += a;\n    }\n    return s;\n  };\n  d3.mean = function(array, f) {\n    var s = 0, n = array.length, a, i = -1, j = n;\n    if (arguments.length === 1) {\n      while (++i < n) if (d3_numeric(a = d3_number(array[i]))) s += a; else --j;\n    } else {\n      while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) s += a; else --j;\n    }\n    if (j) return s / j;\n  };\n  d3.quantile = function(values, p) {\n    var H = (values.length - 1) * p + 1, h = Math.floor(H), v = +values[h - 1], e = H - h;\n    return e ? v + e * (values[h] - v) : v;\n  };\n  d3.median = function(array, f) {\n    var numbers = [], n = array.length, a, i = -1;\n    if (arguments.length === 1) {\n      while (++i < n) if (d3_numeric(a = d3_number(array[i]))) numbers.push(a);\n    } else {\n      while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) numbers.push(a);\n    }\n    if (numbers.length) return d3.quantile(numbers.sort(d3_ascending), .5);\n  };\n  d3.variance = function(array, f) {\n    var n = array.length, m = 0, a, d, s = 0, i = -1, j = 0;\n    if (arguments.length === 1) {\n      while (++i < n) {\n        if (d3_numeric(a = d3_number(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    } else {\n      while (++i < n) {\n        if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n    if (j > 1) return s / (j - 1);\n  };\n  d3.deviation = function() {\n    var v = d3.variance.apply(this, arguments);\n    return v ? Math.sqrt(v) : v;\n  };\n  function d3_bisector(compare) {\n    return {\n      left: function(a, x, lo, hi) {\n        if (arguments.length < 3) lo = 0;\n        if (arguments.length < 4) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1; else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (arguments.length < 3) lo = 0;\n        if (arguments.length < 4) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid; else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  }\n  var d3_bisect = d3_bisector(d3_ascending);\n  d3.bisectLeft = d3_bisect.left;\n  d3.bisect = d3.bisectRight = d3_bisect.right;\n  d3.bisector = function(f) {\n    return d3_bisector(f.length === 1 ? function(d, x) {\n      return d3_ascending(f(d), x);\n    } : f);\n  };\n  d3.shuffle = function(array, i0, i1) {\n    if ((m = arguments.length) < 3) {\n      i1 = array.length;\n      if (m < 2) i0 = 0;\n    }\n    var m = i1 - i0, t, i;\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0], array[m + i0] = array[i + i0], array[i + i0] = t;\n    }\n    return array;\n  };\n  d3.permute = function(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  };\n  d3.pairs = function(array) {\n    var i = 0, n = array.length - 1, p0, p1 = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [ p0 = p1, p1 = array[++i] ];\n    return pairs;\n  };\n  d3.transpose = function(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = d3.min(matrix, d3_transposeLength), transpose = new Array(m); ++i < m; ) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n; ) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  };\n  function d3_transposeLength(d) {\n    return d.length;\n  }\n  d3.zip = function() {\n    return d3.transpose(arguments);\n  };\n  d3.keys = function(map) {\n    var keys = [];\n    for (var key in map) keys.push(key);\n    return keys;\n  };\n  d3.values = function(map) {\n    var values = [];\n    for (var key in map) values.push(map[key]);\n    return values;\n  };\n  d3.entries = function(map) {\n    var entries = [];\n    for (var key in map) entries.push({\n      key: key,\n      value: map[key]\n    });\n    return entries;\n  };\n  d3.merge = function(arrays) {\n    var n = arrays.length, m, i = -1, j = 0, merged, array;\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n    return merged;\n  };\n  var abs = Math.abs;\n  d3.range = function(start, stop, step) {\n    if (arguments.length < 3) {\n      step = 1;\n      if (arguments.length < 2) {\n        stop = start;\n        start = 0;\n      }\n    }\n    if ((stop - start) / step === Infinity) throw new Error(\"infinite range\");\n    var range = [], k = d3_range_integerScale(abs(step)), i = -1, j;\n    start *= k, stop *= k, step *= k;\n    if (step < 0) while ((j = start + step * ++i) > stop) range.push(j / k); else while ((j = start + step * ++i) < stop) range.push(j / k);\n    return range;\n  };\n  function d3_range_integerScale(x) {\n    var k = 1;\n    while (x * k % 1) k *= 10;\n    return k;\n  }\n  function d3_class(ctor, properties) {\n    for (var key in properties) {\n      Object.defineProperty(ctor.prototype, key, {\n        value: properties[key],\n        enumerable: false\n      });\n    }\n  }\n  d3.map = function(object, f) {\n    var map = new d3_Map();\n    if (object instanceof d3_Map) {\n      object.forEach(function(key, value) {\n        map.set(key, value);\n      });\n    } else if (Array.isArray(object)) {\n      var i = -1, n = object.length, o;\n      if (arguments.length === 1) while (++i < n) map.set(i, object[i]); else while (++i < n) map.set(f.call(object, o = object[i], i), o);\n    } else {\n      for (var key in object) map.set(key, object[key]);\n    }\n    return map;\n  };\n  function d3_Map() {\n    this._ = Object.create(null);\n  }\n  var d3_map_proto = \"__proto__\", d3_map_zero = \"\\x00\";\n  d3_class(d3_Map, {\n    has: d3_map_has,\n    get: function(key) {\n      return this._[d3_map_escape(key)];\n    },\n    set: function(key, value) {\n      return this._[d3_map_escape(key)] = value;\n    },\n    remove: d3_map_remove,\n    keys: d3_map_keys,\n    values: function() {\n      var values = [];\n      for (var key in this._) values.push(this._[key]);\n      return values;\n    },\n    entries: function() {\n      var entries = [];\n      for (var key in this._) entries.push({\n        key: d3_map_unescape(key),\n        value: this._[key]\n      });\n      return entries;\n    },\n    size: d3_map_size,\n    empty: d3_map_empty,\n    forEach: function(f) {\n      for (var key in this._) f.call(this, d3_map_unescape(key), this._[key]);\n    }\n  });\n  function d3_map_escape(key) {\n    return (key += \"\") === d3_map_proto || key[0] === d3_map_zero ? d3_map_zero + key : key;\n  }\n  function d3_map_unescape(key) {\n    return (key += \"\")[0] === d3_map_zero ? key.slice(1) : key;\n  }\n  function d3_map_has(key) {\n    return d3_map_escape(key) in this._;\n  }\n  function d3_map_remove(key) {\n    return (key = d3_map_escape(key)) in this._ && delete this._[key];\n  }\n  function d3_map_keys() {\n    var keys = [];\n    for (var key in this._) keys.push(d3_map_unescape(key));\n    return keys;\n  }\n  function d3_map_size() {\n    var size = 0;\n    for (var key in this._) ++size;\n    return size;\n  }\n  function d3_map_empty() {\n    for (var key in this._) return false;\n    return true;\n  }\n  d3.nest = function() {\n    var nest = {}, keys = [], sortKeys = [], sortValues, rollup;\n    function map(mapType, array, depth) {\n      if (depth >= keys.length) return rollup ? rollup.call(nest, array) : sortValues ? array.sort(sortValues) : array;\n      var i = -1, n = array.length, key = keys[depth++], keyValue, object, setter, valuesByKey = new d3_Map(), values;\n      while (++i < n) {\n        if (values = valuesByKey.get(keyValue = key(object = array[i]))) {\n          values.push(object);\n        } else {\n          valuesByKey.set(keyValue, [ object ]);\n        }\n      }\n      if (mapType) {\n        object = mapType();\n        setter = function(keyValue, values) {\n          object.set(keyValue, map(mapType, values, depth));\n        };\n      } else {\n        object = {};\n        setter = function(keyValue, values) {\n          object[keyValue] = map(mapType, values, depth);\n        };\n      }\n      valuesByKey.forEach(setter);\n      return object;\n    }\n    function entries(map, depth) {\n      if (depth >= keys.length) return map;\n      var array = [], sortKey = sortKeys[depth++];\n      map.forEach(function(key, keyMap) {\n        array.push({\n          key: key,\n          values: entries(keyMap, depth)\n        });\n      });\n      return sortKey ? array.sort(function(a, b) {\n        return sortKey(a.key, b.key);\n      }) : array;\n    }\n    nest.map = function(array, mapType) {\n      return map(mapType, array, 0);\n    };\n    nest.entries = function(array) {\n      return entries(map(d3.map, array, 0), 0);\n    };\n    nest.key = function(d) {\n      keys.push(d);\n      return nest;\n    };\n    nest.sortKeys = function(order) {\n      sortKeys[keys.length - 1] = order;\n      return nest;\n    };\n    nest.sortValues = function(order) {\n      sortValues = order;\n      return nest;\n    };\n    nest.rollup = function(f) {\n      rollup = f;\n      return nest;\n    };\n    return nest;\n  };\n  d3.set = function(array) {\n    var set = new d3_Set();\n    if (array) for (var i = 0, n = array.length; i < n; ++i) set.add(array[i]);\n    return set;\n  };\n  function d3_Set() {\n    this._ = Object.create(null);\n  }\n  d3_class(d3_Set, {\n    has: d3_map_has,\n    add: function(key) {\n      this._[d3_map_escape(key += \"\")] = true;\n      return key;\n    },\n    remove: d3_map_remove,\n    values: d3_map_keys,\n    size: d3_map_size,\n    empty: d3_map_empty,\n    forEach: function(f) {\n      for (var key in this._) f.call(this, d3_map_unescape(key));\n    }\n  });\n  d3.behavior = {};\n  function d3_identity(d) {\n    return d;\n  }\n  d3.rebind = function(target, source) {\n    var i = 1, n = arguments.length, method;\n    while (++i < n) target[method = arguments[i]] = d3_rebind(target, source, source[method]);\n    return target;\n  };\n  function d3_rebind(target, source, method) {\n    return function() {\n      var value = method.apply(source, arguments);\n      return value === source ? target : value;\n    };\n  }\n  function d3_vendorSymbol(object, name) {\n    if (name in object) return name;\n    name = name.charAt(0).toUpperCase() + name.slice(1);\n    for (var i = 0, n = d3_vendorPrefixes.length; i < n; ++i) {\n      var prefixName = d3_vendorPrefixes[i] + name;\n      if (prefixName in object) return prefixName;\n    }\n  }\n  var d3_vendorPrefixes = [ \"webkit\", \"ms\", \"moz\", \"Moz\", \"o\", \"O\" ];\n  function d3_noop() {}\n  d3.dispatch = function() {\n    var dispatch = new d3_dispatch(), i = -1, n = arguments.length;\n    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);\n    return dispatch;\n  };\n  function d3_dispatch() {}\n  d3_dispatch.prototype.on = function(type, listener) {\n    var i = type.indexOf(\".\"), name = \"\";\n    if (i >= 0) {\n      name = type.slice(i + 1);\n      type = type.slice(0, i);\n    }\n    if (type) return arguments.length < 2 ? this[type].on(name) : this[type].on(name, listener);\n    if (arguments.length === 2) {\n      if (listener == null) for (type in this) {\n        if (this.hasOwnProperty(type)) this[type].on(name, null);\n      }\n      return this;\n    }\n  };\n  function d3_dispatch_event(dispatch) {\n    var listeners = [], listenerByName = new d3_Map();\n    function event() {\n      var z = listeners, i = -1, n = z.length, l;\n      while (++i < n) if (l = z[i].on) l.apply(this, arguments);\n      return dispatch;\n    }\n    event.on = function(name, listener) {\n      var l = listenerByName.get(name), i;\n      if (arguments.length < 2) return l && l.on;\n      if (l) {\n        l.on = null;\n        listeners = listeners.slice(0, i = listeners.indexOf(l)).concat(listeners.slice(i + 1));\n        listenerByName.remove(name);\n      }\n      if (listener) listeners.push(listenerByName.set(name, {\n        on: listener\n      }));\n      return dispatch;\n    };\n    return event;\n  }\n  d3.event = null;\n  function d3_eventPreventDefault() {\n    d3.event.preventDefault();\n  }\n  function d3_eventSource() {\n    var e = d3.event, s;\n    while (s = e.sourceEvent) e = s;\n    return e;\n  }\n  function d3_eventDispatch(target) {\n    var dispatch = new d3_dispatch(), i = 0, n = arguments.length;\n    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);\n    dispatch.of = function(thiz, argumentz) {\n      return function(e1) {\n        try {\n          var e0 = e1.sourceEvent = d3.event;\n          e1.target = target;\n          d3.event = e1;\n          dispatch[e1.type].apply(thiz, argumentz);\n        } finally {\n          d3.event = e0;\n        }\n      };\n    };\n    return dispatch;\n  }\n  d3.requote = function(s) {\n    return s.replace(d3_requote_re, \"\\\\$&\");\n  };\n  var d3_requote_re = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n  var d3_subclass = {}.__proto__ ? function(object, prototype) {\n    object.__proto__ = prototype;\n  } : function(object, prototype) {\n    for (var property in prototype) object[property] = prototype[property];\n  };\n  function d3_selection(groups) {\n    d3_subclass(groups, d3_selectionPrototype);\n    return groups;\n  }\n  var d3_select = function(s, n) {\n    return n.querySelector(s);\n  }, d3_selectAll = function(s, n) {\n    return n.querySelectorAll(s);\n  }, d3_selectMatches = function(n, s) {\n    var d3_selectMatcher = n.matches || n[d3_vendorSymbol(n, \"matchesSelector\")];\n    d3_selectMatches = function(n, s) {\n      return d3_selectMatcher.call(n, s);\n    };\n    return d3_selectMatches(n, s);\n  };\n  if (typeof Sizzle === \"function\") {\n    d3_select = function(s, n) {\n      return Sizzle(s, n)[0] || null;\n    };\n    d3_selectAll = Sizzle;\n    d3_selectMatches = Sizzle.matchesSelector;\n  }\n  d3.selection = function() {\n    return d3.select(d3_document.documentElement);\n  };\n  var d3_selectionPrototype = d3.selection.prototype = [];\n  d3_selectionPrototype.select = function(selector) {\n    var subgroups = [], subgroup, subnode, group, node;\n    selector = d3_selection_selector(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      subgroups.push(subgroup = []);\n      subgroup.parentNode = (group = this[j]).parentNode;\n      for (var i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          subgroup.push(subnode = selector.call(node, node.__data__, i, j));\n          if (subnode && \"__data__\" in node) subnode.__data__ = node.__data__;\n        } else {\n          subgroup.push(null);\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  function d3_selection_selector(selector) {\n    return typeof selector === \"function\" ? selector : function() {\n      return d3_select(selector, this);\n    };\n  }\n  d3_selectionPrototype.selectAll = function(selector) {\n    var subgroups = [], subgroup, node;\n    selector = d3_selection_selectorAll(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          subgroups.push(subgroup = d3_array(selector.call(node, node.__data__, i, j)));\n          subgroup.parentNode = node;\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  function d3_selection_selectorAll(selector) {\n    return typeof selector === \"function\" ? selector : function() {\n      return d3_selectAll(selector, this);\n    };\n  }\n  var d3_nsXhtml = \"http://www.w3.org/1999/xhtml\";\n  var d3_nsPrefix = {\n    svg: \"http://www.w3.org/2000/svg\",\n    xhtml: d3_nsXhtml,\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n  };\n  d3.ns = {\n    prefix: d3_nsPrefix,\n    qualify: function(name) {\n      var i = name.indexOf(\":\"), prefix = name;\n      if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n      return d3_nsPrefix.hasOwnProperty(prefix) ? {\n        space: d3_nsPrefix[prefix],\n        local: name\n      } : name;\n    }\n  };\n  d3_selectionPrototype.attr = function(name, value) {\n    if (arguments.length < 2) {\n      if (typeof name === \"string\") {\n        var node = this.node();\n        name = d3.ns.qualify(name);\n        return name.local ? node.getAttributeNS(name.space, name.local) : node.getAttribute(name);\n      }\n      for (value in name) this.each(d3_selection_attr(value, name[value]));\n      return this;\n    }\n    return this.each(d3_selection_attr(name, value));\n  };\n  function d3_selection_attr(name, value) {\n    name = d3.ns.qualify(name);\n    function attrNull() {\n      this.removeAttribute(name);\n    }\n    function attrNullNS() {\n      this.removeAttributeNS(name.space, name.local);\n    }\n    function attrConstant() {\n      this.setAttribute(name, value);\n    }\n    function attrConstantNS() {\n      this.setAttributeNS(name.space, name.local, value);\n    }\n    function attrFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.removeAttribute(name); else this.setAttribute(name, x);\n    }\n    function attrFunctionNS() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.removeAttributeNS(name.space, name.local); else this.setAttributeNS(name.space, name.local, x);\n    }\n    return value == null ? name.local ? attrNullNS : attrNull : typeof value === \"function\" ? name.local ? attrFunctionNS : attrFunction : name.local ? attrConstantNS : attrConstant;\n  }\n  function d3_collapse(s) {\n    return s.trim().replace(/\\s+/g, \" \");\n  }\n  d3_selectionPrototype.classed = function(name, value) {\n    if (arguments.length < 2) {\n      if (typeof name === \"string\") {\n        var node = this.node(), n = (name = d3_selection_classes(name)).length, i = -1;\n        if (value = node.classList) {\n          while (++i < n) if (!value.contains(name[i])) return false;\n        } else {\n          value = node.getAttribute(\"class\");\n          while (++i < n) if (!d3_selection_classedRe(name[i]).test(value)) return false;\n        }\n        return true;\n      }\n      for (value in name) this.each(d3_selection_classed(value, name[value]));\n      return this;\n    }\n    return this.each(d3_selection_classed(name, value));\n  };\n  function d3_selection_classedRe(name) {\n    return new RegExp(\"(?:^|\\\\s+)\" + d3.requote(name) + \"(?:\\\\s+|$)\", \"g\");\n  }\n  function d3_selection_classes(name) {\n    return (name + \"\").trim().split(/^|\\s+/);\n  }\n  function d3_selection_classed(name, value) {\n    name = d3_selection_classes(name).map(d3_selection_classedName);\n    var n = name.length;\n    function classedConstant() {\n      var i = -1;\n      while (++i < n) name[i](this, value);\n    }\n    function classedFunction() {\n      var i = -1, x = value.apply(this, arguments);\n      while (++i < n) name[i](this, x);\n    }\n    return typeof value === \"function\" ? classedFunction : classedConstant;\n  }\n  function d3_selection_classedName(name) {\n    var re = d3_selection_classedRe(name);\n    return function(node, value) {\n      if (c = node.classList) return value ? c.add(name) : c.remove(name);\n      var c = node.getAttribute(\"class\") || \"\";\n      if (value) {\n        re.lastIndex = 0;\n        if (!re.test(c)) node.setAttribute(\"class\", d3_collapse(c + \" \" + name));\n      } else {\n        node.setAttribute(\"class\", d3_collapse(c.replace(re, \" \")));\n      }\n    };\n  }\n  d3_selectionPrototype.style = function(name, value, priority) {\n    var n = arguments.length;\n    if (n < 3) {\n      if (typeof name !== \"string\") {\n        if (n < 2) value = \"\";\n        for (priority in name) this.each(d3_selection_style(priority, name[priority], value));\n        return this;\n      }\n      if (n < 2) {\n        var node = this.node();\n        return d3_window(node).getComputedStyle(node, null).getPropertyValue(name);\n      }\n      priority = \"\";\n    }\n    return this.each(d3_selection_style(name, value, priority));\n  };\n  function d3_selection_style(name, value, priority) {\n    function styleNull() {\n      this.style.removeProperty(name);\n    }\n    function styleConstant() {\n      this.style.setProperty(name, value, priority);\n    }\n    function styleFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.style.removeProperty(name); else this.style.setProperty(name, x, priority);\n    }\n    return value == null ? styleNull : typeof value === \"function\" ? styleFunction : styleConstant;\n  }\n  d3_selectionPrototype.property = function(name, value) {\n    if (arguments.length < 2) {\n      if (typeof name === \"string\") return this.node()[name];\n      for (value in name) this.each(d3_selection_property(value, name[value]));\n      return this;\n    }\n    return this.each(d3_selection_property(name, value));\n  };\n  function d3_selection_property(name, value) {\n    function propertyNull() {\n      delete this[name];\n    }\n    function propertyConstant() {\n      this[name] = value;\n    }\n    function propertyFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) delete this[name]; else this[name] = x;\n    }\n    return value == null ? propertyNull : typeof value === \"function\" ? propertyFunction : propertyConstant;\n  }\n  d3_selectionPrototype.text = function(value) {\n    return arguments.length ? this.each(typeof value === \"function\" ? function() {\n      var v = value.apply(this, arguments);\n      this.textContent = v == null ? \"\" : v;\n    } : value == null ? function() {\n      this.textContent = \"\";\n    } : function() {\n      this.textContent = value;\n    }) : this.node().textContent;\n  };\n  d3_selectionPrototype.html = function(value) {\n    return arguments.length ? this.each(typeof value === \"function\" ? function() {\n      var v = value.apply(this, arguments);\n      this.innerHTML = v == null ? \"\" : v;\n    } : value == null ? function() {\n      this.innerHTML = \"\";\n    } : function() {\n      this.innerHTML = value;\n    }) : this.node().innerHTML;\n  };\n  d3_selectionPrototype.append = function(name) {\n    name = d3_selection_creator(name);\n    return this.select(function() {\n      return this.appendChild(name.apply(this, arguments));\n    });\n  };\n  function d3_selection_creator(name) {\n    function create() {\n      var document = this.ownerDocument, namespace = this.namespaceURI;\n      return namespace === d3_nsXhtml && document.documentElement.namespaceURI === d3_nsXhtml ? document.createElement(name) : document.createElementNS(namespace, name);\n    }\n    function createNS() {\n      return this.ownerDocument.createElementNS(name.space, name.local);\n    }\n    return typeof name === \"function\" ? name : (name = d3.ns.qualify(name)).local ? createNS : create;\n  }\n  d3_selectionPrototype.insert = function(name, before) {\n    name = d3_selection_creator(name);\n    before = d3_selection_selector(before);\n    return this.select(function() {\n      return this.insertBefore(name.apply(this, arguments), before.apply(this, arguments) || null);\n    });\n  };\n  d3_selectionPrototype.remove = function() {\n    return this.each(d3_selectionRemove);\n  };\n  function d3_selectionRemove() {\n    var parent = this.parentNode;\n    if (parent) parent.removeChild(this);\n  }\n  d3_selectionPrototype.data = function(value, key) {\n    var i = -1, n = this.length, group, node;\n    if (!arguments.length) {\n      value = new Array(n = (group = this[0]).length);\n      while (++i < n) {\n        if (node = group[i]) {\n          value[i] = node.__data__;\n        }\n      }\n      return value;\n    }\n    function bind(group, groupData) {\n      var i, n = group.length, m = groupData.length, n0 = Math.min(n, m), updateNodes = new Array(m), enterNodes = new Array(m), exitNodes = new Array(n), node, nodeData;\n      if (key) {\n        var nodeByKeyValue = new d3_Map(), keyValues = new Array(n), keyValue;\n        for (i = -1; ++i < n; ) {\n          if (node = group[i]) {\n            if (nodeByKeyValue.has(keyValue = key.call(node, node.__data__, i))) {\n              exitNodes[i] = node;\n            } else {\n              nodeByKeyValue.set(keyValue, node);\n            }\n            keyValues[i] = keyValue;\n          }\n        }\n        for (i = -1; ++i < m; ) {\n          if (!(node = nodeByKeyValue.get(keyValue = key.call(groupData, nodeData = groupData[i], i)))) {\n            enterNodes[i] = d3_selection_dataNode(nodeData);\n          } else if (node !== true) {\n            updateNodes[i] = node;\n            node.__data__ = nodeData;\n          }\n          nodeByKeyValue.set(keyValue, true);\n        }\n        for (i = -1; ++i < n; ) {\n          if (i in keyValues && nodeByKeyValue.get(keyValues[i]) !== true) {\n            exitNodes[i] = group[i];\n          }\n        }\n      } else {\n        for (i = -1; ++i < n0; ) {\n          node = group[i];\n          nodeData = groupData[i];\n          if (node) {\n            node.__data__ = nodeData;\n            updateNodes[i] = node;\n          } else {\n            enterNodes[i] = d3_selection_dataNode(nodeData);\n          }\n        }\n        for (;i < m; ++i) {\n          enterNodes[i] = d3_selection_dataNode(groupData[i]);\n        }\n        for (;i < n; ++i) {\n          exitNodes[i] = group[i];\n        }\n      }\n      enterNodes.update = updateNodes;\n      enterNodes.parentNode = updateNodes.parentNode = exitNodes.parentNode = group.parentNode;\n      enter.push(enterNodes);\n      update.push(updateNodes);\n      exit.push(exitNodes);\n    }\n    var enter = d3_selection_enter([]), update = d3_selection([]), exit = d3_selection([]);\n    if (typeof value === \"function\") {\n      while (++i < n) {\n        bind(group = this[i], value.call(group, group.parentNode.__data__, i));\n      }\n    } else {\n      while (++i < n) {\n        bind(group = this[i], value);\n      }\n    }\n    update.enter = function() {\n      return enter;\n    };\n    update.exit = function() {\n      return exit;\n    };\n    return update;\n  };\n  function d3_selection_dataNode(data) {\n    return {\n      __data__: data\n    };\n  }\n  d3_selectionPrototype.datum = function(value) {\n    return arguments.length ? this.property(\"__data__\", value) : this.property(\"__data__\");\n  };\n  d3_selectionPrototype.filter = function(filter) {\n    var subgroups = [], subgroup, group, node;\n    if (typeof filter !== \"function\") filter = d3_selection_filter(filter);\n    for (var j = 0, m = this.length; j < m; j++) {\n      subgroups.push(subgroup = []);\n      subgroup.parentNode = (group = this[j]).parentNode;\n      for (var i = 0, n = group.length; i < n; i++) {\n        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {\n          subgroup.push(node);\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  function d3_selection_filter(selector) {\n    return function() {\n      return d3_selectMatches(this, selector);\n    };\n  }\n  d3_selectionPrototype.order = function() {\n    for (var j = -1, m = this.length; ++j < m; ) {\n      for (var group = this[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {\n        if (node = group[i]) {\n          if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n          next = node;\n        }\n      }\n    }\n    return this;\n  };\n  d3_selectionPrototype.sort = function(comparator) {\n    comparator = d3_selection_sortComparator.apply(this, arguments);\n    for (var j = -1, m = this.length; ++j < m; ) this[j].sort(comparator);\n    return this.order();\n  };\n  function d3_selection_sortComparator(comparator) {\n    if (!arguments.length) comparator = d3_ascending;\n    return function(a, b) {\n      return a && b ? comparator(a.__data__, b.__data__) : !a - !b;\n    };\n  }\n  d3_selectionPrototype.each = function(callback) {\n    return d3_selection_each(this, function(node, i, j) {\n      callback.call(node, node.__data__, i, j);\n    });\n  };\n  function d3_selection_each(groups, callback) {\n    for (var j = 0, m = groups.length; j < m; j++) {\n      for (var group = groups[j], i = 0, n = group.length, node; i < n; i++) {\n        if (node = group[i]) callback(node, i, j);\n      }\n    }\n    return groups;\n  }\n  d3_selectionPrototype.call = function(callback) {\n    var args = d3_array(arguments);\n    callback.apply(args[0] = this, args);\n    return this;\n  };\n  d3_selectionPrototype.empty = function() {\n    return !this.node();\n  };\n  d3_selectionPrototype.node = function() {\n    for (var j = 0, m = this.length; j < m; j++) {\n      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n        var node = group[i];\n        if (node) return node;\n      }\n    }\n    return null;\n  };\n  d3_selectionPrototype.size = function() {\n    var n = 0;\n    d3_selection_each(this, function() {\n      ++n;\n    });\n    return n;\n  };\n  function d3_selection_enter(selection) {\n    d3_subclass(selection, d3_selection_enterPrototype);\n    return selection;\n  }\n  var d3_selection_enterPrototype = [];\n  d3.selection.enter = d3_selection_enter;\n  d3.selection.enter.prototype = d3_selection_enterPrototype;\n  d3_selection_enterPrototype.append = d3_selectionPrototype.append;\n  d3_selection_enterPrototype.empty = d3_selectionPrototype.empty;\n  d3_selection_enterPrototype.node = d3_selectionPrototype.node;\n  d3_selection_enterPrototype.call = d3_selectionPrototype.call;\n  d3_selection_enterPrototype.size = d3_selectionPrototype.size;\n  d3_selection_enterPrototype.select = function(selector) {\n    var subgroups = [], subgroup, subnode, upgroup, group, node;\n    for (var j = -1, m = this.length; ++j < m; ) {\n      upgroup = (group = this[j]).update;\n      subgroups.push(subgroup = []);\n      subgroup.parentNode = group.parentNode;\n      for (var i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          subgroup.push(upgroup[i] = subnode = selector.call(group.parentNode, node.__data__, i, j));\n          subnode.__data__ = node.__data__;\n        } else {\n          subgroup.push(null);\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  d3_selection_enterPrototype.insert = function(name, before) {\n    if (arguments.length < 2) before = d3_selection_enterInsertBefore(this);\n    return d3_selectionPrototype.insert.call(this, name, before);\n  };\n  function d3_selection_enterInsertBefore(enter) {\n    var i0, j0;\n    return function(d, i, j) {\n      var group = enter[j].update, n = group.length, node;\n      if (j != j0) j0 = j, i0 = 0;\n      if (i >= i0) i0 = i + 1;\n      while (!(node = group[i0]) && ++i0 < n) ;\n      return node;\n    };\n  }\n  d3.select = function(node) {\n    var group;\n    if (typeof node === \"string\") {\n      group = [ d3_select(node, d3_document) ];\n      group.parentNode = d3_document.documentElement;\n    } else {\n      group = [ node ];\n      group.parentNode = d3_documentElement(node);\n    }\n    return d3_selection([ group ]);\n  };\n  d3.selectAll = function(nodes) {\n    var group;\n    if (typeof nodes === \"string\") {\n      group = d3_array(d3_selectAll(nodes, d3_document));\n      group.parentNode = d3_document.documentElement;\n    } else {\n      group = d3_array(nodes);\n      group.parentNode = null;\n    }\n    return d3_selection([ group ]);\n  };\n  d3_selectionPrototype.on = function(type, listener, capture) {\n    var n = arguments.length;\n    if (n < 3) {\n      if (typeof type !== \"string\") {\n        if (n < 2) listener = false;\n        for (capture in type) this.each(d3_selection_on(capture, type[capture], listener));\n        return this;\n      }\n      if (n < 2) return (n = this.node()[\"__on\" + type]) && n._;\n      capture = false;\n    }\n    return this.each(d3_selection_on(type, listener, capture));\n  };\n  function d3_selection_on(type, listener, capture) {\n    var name = \"__on\" + type, i = type.indexOf(\".\"), wrap = d3_selection_onListener;\n    if (i > 0) type = type.slice(0, i);\n    var filter = d3_selection_onFilters.get(type);\n    if (filter) type = filter, wrap = d3_selection_onFilter;\n    function onRemove() {\n      var l = this[name];\n      if (l) {\n        this.removeEventListener(type, l, l.$);\n        delete this[name];\n      }\n    }\n    function onAdd() {\n      var l = wrap(listener, d3_array(arguments));\n      onRemove.call(this);\n      this.addEventListener(type, this[name] = l, l.$ = capture);\n      l._ = listener;\n    }\n    function removeAll() {\n      var re = new RegExp(\"^__on([^.]+)\" + d3.requote(type) + \"$\"), match;\n      for (var name in this) {\n        if (match = name.match(re)) {\n          var l = this[name];\n          this.removeEventListener(match[1], l, l.$);\n          delete this[name];\n        }\n      }\n    }\n    return i ? listener ? onAdd : onRemove : listener ? d3_noop : removeAll;\n  }\n  var d3_selection_onFilters = d3.map({\n    mouseenter: \"mouseover\",\n    mouseleave: \"mouseout\"\n  });\n  if (d3_document) {\n    d3_selection_onFilters.forEach(function(k) {\n      if (\"on\" + k in d3_document) d3_selection_onFilters.remove(k);\n    });\n  }\n  function d3_selection_onListener(listener, argumentz) {\n    return function(e) {\n      var o = d3.event;\n      d3.event = e;\n      argumentz[0] = this.__data__;\n      try {\n        listener.apply(this, argumentz);\n      } finally {\n        d3.event = o;\n      }\n    };\n  }\n  function d3_selection_onFilter(listener, argumentz) {\n    var l = d3_selection_onListener(listener, argumentz);\n    return function(e) {\n      var target = this, related = e.relatedTarget;\n      if (!related || related !== target && !(related.compareDocumentPosition(target) & 8)) {\n        l.call(target, e);\n      }\n    };\n  }\n  var d3_event_dragSelect, d3_event_dragId = 0;\n  function d3_event_dragSuppress(node) {\n    var name = \".dragsuppress-\" + ++d3_event_dragId, click = \"click\" + name, w = d3.select(d3_window(node)).on(\"touchmove\" + name, d3_eventPreventDefault).on(\"dragstart\" + name, d3_eventPreventDefault).on(\"selectstart\" + name, d3_eventPreventDefault);\n    if (d3_event_dragSelect == null) {\n      d3_event_dragSelect = \"onselectstart\" in node ? false : d3_vendorSymbol(node.style, \"userSelect\");\n    }\n    if (d3_event_dragSelect) {\n      var style = d3_documentElement(node).style, select = style[d3_event_dragSelect];\n      style[d3_event_dragSelect] = \"none\";\n    }\n    return function(suppressClick) {\n      w.on(name, null);\n      if (d3_event_dragSelect) style[d3_event_dragSelect] = select;\n      if (suppressClick) {\n        var off = function() {\n          w.on(click, null);\n        };\n        w.on(click, function() {\n          d3_eventPreventDefault();\n          off();\n        }, true);\n        setTimeout(off, 0);\n      }\n    };\n  }\n  d3.mouse = function(container) {\n    return d3_mousePoint(container, d3_eventSource());\n  };\n  var d3_mouse_bug44083 = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;\n  function d3_mousePoint(container, e) {\n    if (e.changedTouches) e = e.changedTouches[0];\n    var svg = container.ownerSVGElement || container;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      if (d3_mouse_bug44083 < 0) {\n        var window = d3_window(container);\n        if (window.scrollX || window.scrollY) {\n          svg = d3.select(\"body\").append(\"svg\").style({\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            margin: 0,\n            padding: 0,\n            border: \"none\"\n          }, \"important\");\n          var ctm = svg[0][0].getScreenCTM();\n          d3_mouse_bug44083 = !(ctm.f || ctm.e);\n          svg.remove();\n        }\n      }\n      if (d3_mouse_bug44083) point.x = e.pageX, point.y = e.pageY; else point.x = e.clientX, \n      point.y = e.clientY;\n      point = point.matrixTransform(container.getScreenCTM().inverse());\n      return [ point.x, point.y ];\n    }\n    var rect = container.getBoundingClientRect();\n    return [ e.clientX - rect.left - container.clientLeft, e.clientY - rect.top - container.clientTop ];\n  }\n  d3.touch = function(container, touches, identifier) {\n    if (arguments.length < 3) identifier = touches, touches = d3_eventSource().changedTouches;\n    if (touches) for (var i = 0, n = touches.length, touch; i < n; ++i) {\n      if ((touch = touches[i]).identifier === identifier) {\n        return d3_mousePoint(container, touch);\n      }\n    }\n  };\n  d3.behavior.drag = function() {\n    var event = d3_eventDispatch(drag, \"drag\", \"dragstart\", \"dragend\"), origin = null, mousedown = dragstart(d3_noop, d3.mouse, d3_window, \"mousemove\", \"mouseup\"), touchstart = dragstart(d3_behavior_dragTouchId, d3.touch, d3_identity, \"touchmove\", \"touchend\");\n    function drag() {\n      this.on(\"mousedown.drag\", mousedown).on(\"touchstart.drag\", touchstart);\n    }\n    function dragstart(id, position, subject, move, end) {\n      return function() {\n        var that = this, target = d3.event.target.correspondingElement || d3.event.target, parent = that.parentNode, dispatch = event.of(that, arguments), dragged = 0, dragId = id(), dragName = \".drag\" + (dragId == null ? \"\" : \"-\" + dragId), dragOffset, dragSubject = d3.select(subject(target)).on(move + dragName, moved).on(end + dragName, ended), dragRestore = d3_event_dragSuppress(target), position0 = position(parent, dragId);\n        if (origin) {\n          dragOffset = origin.apply(that, arguments);\n          dragOffset = [ dragOffset.x - position0[0], dragOffset.y - position0[1] ];\n        } else {\n          dragOffset = [ 0, 0 ];\n        }\n        dispatch({\n          type: \"dragstart\"\n        });\n        function moved() {\n          var position1 = position(parent, dragId), dx, dy;\n          if (!position1) return;\n          dx = position1[0] - position0[0];\n          dy = position1[1] - position0[1];\n          dragged |= dx | dy;\n          position0 = position1;\n          dispatch({\n            type: \"drag\",\n            x: position1[0] + dragOffset[0],\n            y: position1[1] + dragOffset[1],\n            dx: dx,\n            dy: dy\n          });\n        }\n        function ended() {\n          if (!position(parent, dragId)) return;\n          dragSubject.on(move + dragName, null).on(end + dragName, null);\n          dragRestore(dragged);\n          dispatch({\n            type: \"dragend\"\n          });\n        }\n      };\n    }\n    drag.origin = function(x) {\n      if (!arguments.length) return origin;\n      origin = x;\n      return drag;\n    };\n    return d3.rebind(drag, event, \"on\");\n  };\n  function d3_behavior_dragTouchId() {\n    return d3.event.changedTouches[0].identifier;\n  }\n  d3.touches = function(container, touches) {\n    if (arguments.length < 2) touches = d3_eventSource().touches;\n    return touches ? d3_array(touches).map(function(touch) {\n      var point = d3_mousePoint(container, touch);\n      point.identifier = touch.identifier;\n      return point;\n    }) : [];\n  };\n  var ε = 1e-6, ε2 = ε * ε, π = Math.PI, τ = 2 * π, τε = τ - ε, halfπ = π / 2, d3_radians = π / 180, d3_degrees = 180 / π;\n  function d3_sgn(x) {\n    return x > 0 ? 1 : x < 0 ? -1 : 0;\n  }\n  function d3_cross2d(a, b, c) {\n    return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n  }\n  function d3_acos(x) {\n    return x > 1 ? 0 : x < -1 ? π : Math.acos(x);\n  }\n  function d3_asin(x) {\n    return x > 1 ? halfπ : x < -1 ? -halfπ : Math.asin(x);\n  }\n  function d3_sinh(x) {\n    return ((x = Math.exp(x)) - 1 / x) / 2;\n  }\n  function d3_cosh(x) {\n    return ((x = Math.exp(x)) + 1 / x) / 2;\n  }\n  function d3_tanh(x) {\n    return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n  }\n  function d3_haversin(x) {\n    return (x = Math.sin(x / 2)) * x;\n  }\n  var ρ = Math.SQRT2, ρ2 = 2, ρ4 = 4;\n  d3.interpolateZoom = function(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;\n    if (d2 < ε2) {\n      S = Math.log(w1 / w0) / ρ;\n      i = function(t) {\n        return [ ux0 + t * dx, uy0 + t * dy, w0 * Math.exp(ρ * t * S) ];\n      };\n    } else {\n      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + ρ4 * d2) / (2 * w0 * ρ2 * d1), b1 = (w1 * w1 - w0 * w0 - ρ4 * d2) / (2 * w1 * ρ2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / ρ;\n      i = function(t) {\n        var s = t * S, coshr0 = d3_cosh(r0), u = w0 / (ρ2 * d1) * (coshr0 * d3_tanh(ρ * s + r0) - d3_sinh(r0));\n        return [ ux0 + u * dx, uy0 + u * dy, w0 * coshr0 / d3_cosh(ρ * s + r0) ];\n      };\n    }\n    i.duration = S * 1e3;\n    return i;\n  };\n  d3.behavior.zoom = function() {\n    var view = {\n      x: 0,\n      y: 0,\n      k: 1\n    }, translate0, center0, center, size = [ 960, 500 ], scaleExtent = d3_behavior_zoomInfinity, duration = 250, zooming = 0, mousedown = \"mousedown.zoom\", mousemove = \"mousemove.zoom\", mouseup = \"mouseup.zoom\", mousewheelTimer, touchstart = \"touchstart.zoom\", touchtime, event = d3_eventDispatch(zoom, \"zoomstart\", \"zoom\", \"zoomend\"), x0, x1, y0, y1;\n    if (!d3_behavior_zoomWheel) {\n      d3_behavior_zoomWheel = \"onwheel\" in d3_document ? (d3_behavior_zoomDelta = function() {\n        return -d3.event.deltaY * (d3.event.deltaMode ? 120 : 1);\n      }, \"wheel\") : \"onmousewheel\" in d3_document ? (d3_behavior_zoomDelta = function() {\n        return d3.event.wheelDelta;\n      }, \"mousewheel\") : (d3_behavior_zoomDelta = function() {\n        return -d3.event.detail;\n      }, \"MozMousePixelScroll\");\n    }\n    function zoom(g) {\n      g.on(mousedown, mousedowned).on(d3_behavior_zoomWheel + \".zoom\", mousewheeled).on(\"dblclick.zoom\", dblclicked).on(touchstart, touchstarted);\n    }\n    zoom.event = function(g) {\n      g.each(function() {\n        var dispatch = event.of(this, arguments), view1 = view;\n        if (d3_transitionInheritId) {\n          d3.select(this).transition().each(\"start.zoom\", function() {\n            view = this.__chart__ || {\n              x: 0,\n              y: 0,\n              k: 1\n            };\n            zoomstarted(dispatch);\n          }).tween(\"zoom:zoom\", function() {\n            var dx = size[0], dy = size[1], cx = center0 ? center0[0] : dx / 2, cy = center0 ? center0[1] : dy / 2, i = d3.interpolateZoom([ (cx - view.x) / view.k, (cy - view.y) / view.k, dx / view.k ], [ (cx - view1.x) / view1.k, (cy - view1.y) / view1.k, dx / view1.k ]);\n            return function(t) {\n              var l = i(t), k = dx / l[2];\n              this.__chart__ = view = {\n                x: cx - l[0] * k,\n                y: cy - l[1] * k,\n                k: k\n              };\n              zoomed(dispatch);\n            };\n          }).each(\"interrupt.zoom\", function() {\n            zoomended(dispatch);\n          }).each(\"end.zoom\", function() {\n            zoomended(dispatch);\n          });\n        } else {\n          this.__chart__ = view;\n          zoomstarted(dispatch);\n          zoomed(dispatch);\n          zoomended(dispatch);\n        }\n      });\n    };\n    zoom.translate = function(_) {\n      if (!arguments.length) return [ view.x, view.y ];\n      view = {\n        x: +_[0],\n        y: +_[1],\n        k: view.k\n      };\n      rescale();\n      return zoom;\n    };\n    zoom.scale = function(_) {\n      if (!arguments.length) return view.k;\n      view = {\n        x: view.x,\n        y: view.y,\n        k: null\n      };\n      scaleTo(+_);\n      rescale();\n      return zoom;\n    };\n    zoom.scaleExtent = function(_) {\n      if (!arguments.length) return scaleExtent;\n      scaleExtent = _ == null ? d3_behavior_zoomInfinity : [ +_[0], +_[1] ];\n      return zoom;\n    };\n    zoom.center = function(_) {\n      if (!arguments.length) return center;\n      center = _ && [ +_[0], +_[1] ];\n      return zoom;\n    };\n    zoom.size = function(_) {\n      if (!arguments.length) return size;\n      size = _ && [ +_[0], +_[1] ];\n      return zoom;\n    };\n    zoom.duration = function(_) {\n      if (!arguments.length) return duration;\n      duration = +_;\n      return zoom;\n    };\n    zoom.x = function(z) {\n      if (!arguments.length) return x1;\n      x1 = z;\n      x0 = z.copy();\n      view = {\n        x: 0,\n        y: 0,\n        k: 1\n      };\n      return zoom;\n    };\n    zoom.y = function(z) {\n      if (!arguments.length) return y1;\n      y1 = z;\n      y0 = z.copy();\n      view = {\n        x: 0,\n        y: 0,\n        k: 1\n      };\n      return zoom;\n    };\n    function location(p) {\n      return [ (p[0] - view.x) / view.k, (p[1] - view.y) / view.k ];\n    }\n    function point(l) {\n      return [ l[0] * view.k + view.x, l[1] * view.k + view.y ];\n    }\n    function scaleTo(s) {\n      view.k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], s));\n    }\n    function translateTo(p, l) {\n      l = point(l);\n      view.x += p[0] - l[0];\n      view.y += p[1] - l[1];\n    }\n    function zoomTo(that, p, l, k) {\n      that.__chart__ = {\n        x: view.x,\n        y: view.y,\n        k: view.k\n      };\n      scaleTo(Math.pow(2, k));\n      translateTo(center0 = p, l);\n      that = d3.select(that);\n      if (duration > 0) that = that.transition().duration(duration);\n      that.call(zoom.event);\n    }\n    function rescale() {\n      if (x1) x1.domain(x0.range().map(function(x) {\n        return (x - view.x) / view.k;\n      }).map(x0.invert));\n      if (y1) y1.domain(y0.range().map(function(y) {\n        return (y - view.y) / view.k;\n      }).map(y0.invert));\n    }\n    function zoomstarted(dispatch) {\n      if (!zooming++) dispatch({\n        type: \"zoomstart\"\n      });\n    }\n    function zoomed(dispatch) {\n      rescale();\n      dispatch({\n        type: \"zoom\",\n        scale: view.k,\n        translate: [ view.x, view.y ]\n      });\n    }\n    function zoomended(dispatch) {\n      if (!--zooming) dispatch({\n        type: \"zoomend\"\n      }), center0 = null;\n    }\n    function mousedowned() {\n      var that = this, dispatch = event.of(that, arguments), dragged = 0, subject = d3.select(d3_window(that)).on(mousemove, moved).on(mouseup, ended), location0 = location(d3.mouse(that)), dragRestore = d3_event_dragSuppress(that);\n      d3_selection_interrupt.call(that);\n      zoomstarted(dispatch);\n      function moved() {\n        dragged = 1;\n        translateTo(d3.mouse(that), location0);\n        zoomed(dispatch);\n      }\n      function ended() {\n        subject.on(mousemove, null).on(mouseup, null);\n        dragRestore(dragged);\n        zoomended(dispatch);\n      }\n    }\n    function touchstarted() {\n      var that = this, dispatch = event.of(that, arguments), locations0 = {}, distance0 = 0, scale0, zoomName = \".zoom-\" + d3.event.changedTouches[0].identifier, touchmove = \"touchmove\" + zoomName, touchend = \"touchend\" + zoomName, targets = [], subject = d3.select(that), dragRestore = d3_event_dragSuppress(that);\n      started();\n      zoomstarted(dispatch);\n      subject.on(mousedown, null).on(touchstart, started);\n      function relocate() {\n        var touches = d3.touches(that);\n        scale0 = view.k;\n        touches.forEach(function(t) {\n          if (t.identifier in locations0) locations0[t.identifier] = location(t);\n        });\n        return touches;\n      }\n      function started() {\n        var target = d3.event.target;\n        d3.select(target).on(touchmove, moved).on(touchend, ended);\n        targets.push(target);\n        var changed = d3.event.changedTouches;\n        for (var i = 0, n = changed.length; i < n; ++i) {\n          locations0[changed[i].identifier] = null;\n        }\n        var touches = relocate(), now = Date.now();\n        if (touches.length === 1) {\n          if (now - touchtime < 500) {\n            var p = touches[0];\n            zoomTo(that, p, locations0[p.identifier], Math.floor(Math.log(view.k) / Math.LN2) + 1);\n            d3_eventPreventDefault();\n          }\n          touchtime = now;\n        } else if (touches.length > 1) {\n          var p = touches[0], q = touches[1], dx = p[0] - q[0], dy = p[1] - q[1];\n          distance0 = dx * dx + dy * dy;\n        }\n      }\n      function moved() {\n        var touches = d3.touches(that), p0, l0, p1, l1;\n        d3_selection_interrupt.call(that);\n        for (var i = 0, n = touches.length; i < n; ++i, l1 = null) {\n          p1 = touches[i];\n          if (l1 = locations0[p1.identifier]) {\n            if (l0) break;\n            p0 = p1, l0 = l1;\n          }\n        }\n        if (l1) {\n          var distance1 = (distance1 = p1[0] - p0[0]) * distance1 + (distance1 = p1[1] - p0[1]) * distance1, scale1 = distance0 && Math.sqrt(distance1 / distance0);\n          p0 = [ (p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2 ];\n          l0 = [ (l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2 ];\n          scaleTo(scale1 * scale0);\n        }\n        touchtime = null;\n        translateTo(p0, l0);\n        zoomed(dispatch);\n      }\n      function ended() {\n        if (d3.event.touches.length) {\n          var changed = d3.event.changedTouches;\n          for (var i = 0, n = changed.length; i < n; ++i) {\n            delete locations0[changed[i].identifier];\n          }\n          for (var identifier in locations0) {\n            return void relocate();\n          }\n        }\n        d3.selectAll(targets).on(zoomName, null);\n        subject.on(mousedown, mousedowned).on(touchstart, touchstarted);\n        dragRestore();\n        zoomended(dispatch);\n      }\n    }\n    function mousewheeled() {\n      var dispatch = event.of(this, arguments);\n      if (mousewheelTimer) clearTimeout(mousewheelTimer); else d3_selection_interrupt.call(this), \n      translate0 = location(center0 = center || d3.mouse(this)), zoomstarted(dispatch);\n      mousewheelTimer = setTimeout(function() {\n        mousewheelTimer = null;\n        zoomended(dispatch);\n      }, 50);\n      d3_eventPreventDefault();\n      scaleTo(Math.pow(2, d3_behavior_zoomDelta() * .002) * view.k);\n      translateTo(center0, translate0);\n      zoomed(dispatch);\n    }\n    function dblclicked() {\n      var p = d3.mouse(this), k = Math.log(view.k) / Math.LN2;\n      zoomTo(this, p, location(p), d3.event.shiftKey ? Math.ceil(k) - 1 : Math.floor(k) + 1);\n    }\n    return d3.rebind(zoom, event, \"on\");\n  };\n  var d3_behavior_zoomInfinity = [ 0, Infinity ], d3_behavior_zoomDelta, d3_behavior_zoomWheel;\n  d3.color = d3_color;\n  function d3_color() {}\n  d3_color.prototype.toString = function() {\n    return this.rgb() + \"\";\n  };\n  d3.hsl = d3_hsl;\n  function d3_hsl(h, s, l) {\n    return this instanceof d3_hsl ? void (this.h = +h, this.s = +s, this.l = +l) : arguments.length < 2 ? h instanceof d3_hsl ? new d3_hsl(h.h, h.s, h.l) : d3_rgb_parse(\"\" + h, d3_rgb_hsl, d3_hsl) : new d3_hsl(h, s, l);\n  }\n  var d3_hslPrototype = d3_hsl.prototype = new d3_color();\n  d3_hslPrototype.brighter = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    return new d3_hsl(this.h, this.s, this.l / k);\n  };\n  d3_hslPrototype.darker = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    return new d3_hsl(this.h, this.s, k * this.l);\n  };\n  d3_hslPrototype.rgb = function() {\n    return d3_hsl_rgb(this.h, this.s, this.l);\n  };\n  function d3_hsl_rgb(h, s, l) {\n    var m1, m2;\n    h = isNaN(h) ? 0 : (h %= 360) < 0 ? h + 360 : h;\n    s = isNaN(s) ? 0 : s < 0 ? 0 : s > 1 ? 1 : s;\n    l = l < 0 ? 0 : l > 1 ? 1 : l;\n    m2 = l <= .5 ? l * (1 + s) : l + s - l * s;\n    m1 = 2 * l - m2;\n    function v(h) {\n      if (h > 360) h -= 360; else if (h < 0) h += 360;\n      if (h < 60) return m1 + (m2 - m1) * h / 60;\n      if (h < 180) return m2;\n      if (h < 240) return m1 + (m2 - m1) * (240 - h) / 60;\n      return m1;\n    }\n    function vv(h) {\n      return Math.round(v(h) * 255);\n    }\n    return new d3_rgb(vv(h + 120), vv(h), vv(h - 120));\n  }\n  d3.hcl = d3_hcl;\n  function d3_hcl(h, c, l) {\n    return this instanceof d3_hcl ? void (this.h = +h, this.c = +c, this.l = +l) : arguments.length < 2 ? h instanceof d3_hcl ? new d3_hcl(h.h, h.c, h.l) : h instanceof d3_lab ? d3_lab_hcl(h.l, h.a, h.b) : d3_lab_hcl((h = d3_rgb_lab((h = d3.rgb(h)).r, h.g, h.b)).l, h.a, h.b) : new d3_hcl(h, c, l);\n  }\n  var d3_hclPrototype = d3_hcl.prototype = new d3_color();\n  d3_hclPrototype.brighter = function(k) {\n    return new d3_hcl(this.h, this.c, Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)));\n  };\n  d3_hclPrototype.darker = function(k) {\n    return new d3_hcl(this.h, this.c, Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)));\n  };\n  d3_hclPrototype.rgb = function() {\n    return d3_hcl_lab(this.h, this.c, this.l).rgb();\n  };\n  function d3_hcl_lab(h, c, l) {\n    if (isNaN(h)) h = 0;\n    if (isNaN(c)) c = 0;\n    return new d3_lab(l, Math.cos(h *= d3_radians) * c, Math.sin(h) * c);\n  }\n  d3.lab = d3_lab;\n  function d3_lab(l, a, b) {\n    return this instanceof d3_lab ? void (this.l = +l, this.a = +a, this.b = +b) : arguments.length < 2 ? l instanceof d3_lab ? new d3_lab(l.l, l.a, l.b) : l instanceof d3_hcl ? d3_hcl_lab(l.h, l.c, l.l) : d3_rgb_lab((l = d3_rgb(l)).r, l.g, l.b) : new d3_lab(l, a, b);\n  }\n  var d3_lab_K = 18;\n  var d3_lab_X = .95047, d3_lab_Y = 1, d3_lab_Z = 1.08883;\n  var d3_labPrototype = d3_lab.prototype = new d3_color();\n  d3_labPrototype.brighter = function(k) {\n    return new d3_lab(Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);\n  };\n  d3_labPrototype.darker = function(k) {\n    return new d3_lab(Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);\n  };\n  d3_labPrototype.rgb = function() {\n    return d3_lab_rgb(this.l, this.a, this.b);\n  };\n  function d3_lab_rgb(l, a, b) {\n    var y = (l + 16) / 116, x = y + a / 500, z = y - b / 200;\n    x = d3_lab_xyz(x) * d3_lab_X;\n    y = d3_lab_xyz(y) * d3_lab_Y;\n    z = d3_lab_xyz(z) * d3_lab_Z;\n    return new d3_rgb(d3_xyz_rgb(3.2404542 * x - 1.5371385 * y - .4985314 * z), d3_xyz_rgb(-.969266 * x + 1.8760108 * y + .041556 * z), d3_xyz_rgb(.0556434 * x - .2040259 * y + 1.0572252 * z));\n  }\n  function d3_lab_hcl(l, a, b) {\n    return l > 0 ? new d3_hcl(Math.atan2(b, a) * d3_degrees, Math.sqrt(a * a + b * b), l) : new d3_hcl(NaN, NaN, l);\n  }\n  function d3_lab_xyz(x) {\n    return x > .206893034 ? x * x * x : (x - 4 / 29) / 7.787037;\n  }\n  function d3_xyz_lab(x) {\n    return x > .008856 ? Math.pow(x, 1 / 3) : 7.787037 * x + 4 / 29;\n  }\n  function d3_xyz_rgb(r) {\n    return Math.round(255 * (r <= .00304 ? 12.92 * r : 1.055 * Math.pow(r, 1 / 2.4) - .055));\n  }\n  d3.rgb = d3_rgb;\n  function d3_rgb(r, g, b) {\n    return this instanceof d3_rgb ? void (this.r = ~~r, this.g = ~~g, this.b = ~~b) : arguments.length < 2 ? r instanceof d3_rgb ? new d3_rgb(r.r, r.g, r.b) : d3_rgb_parse(\"\" + r, d3_rgb, d3_hsl_rgb) : new d3_rgb(r, g, b);\n  }\n  function d3_rgbNumber(value) {\n    return new d3_rgb(value >> 16, value >> 8 & 255, value & 255);\n  }\n  function d3_rgbString(value) {\n    return d3_rgbNumber(value) + \"\";\n  }\n  var d3_rgbPrototype = d3_rgb.prototype = new d3_color();\n  d3_rgbPrototype.brighter = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    var r = this.r, g = this.g, b = this.b, i = 30;\n    if (!r && !g && !b) return new d3_rgb(i, i, i);\n    if (r && r < i) r = i;\n    if (g && g < i) g = i;\n    if (b && b < i) b = i;\n    return new d3_rgb(Math.min(255, r / k), Math.min(255, g / k), Math.min(255, b / k));\n  };\n  d3_rgbPrototype.darker = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    return new d3_rgb(k * this.r, k * this.g, k * this.b);\n  };\n  d3_rgbPrototype.hsl = function() {\n    return d3_rgb_hsl(this.r, this.g, this.b);\n  };\n  d3_rgbPrototype.toString = function() {\n    return \"#\" + d3_rgb_hex(this.r) + d3_rgb_hex(this.g) + d3_rgb_hex(this.b);\n  };\n  function d3_rgb_hex(v) {\n    return v < 16 ? \"0\" + Math.max(0, v).toString(16) : Math.min(255, v).toString(16);\n  }\n  function d3_rgb_parse(format, rgb, hsl) {\n    var r = 0, g = 0, b = 0, m1, m2, color;\n    m1 = /([a-z]+)\\((.*)\\)/.exec(format = format.toLowerCase());\n    if (m1) {\n      m2 = m1[2].split(\",\");\n      switch (m1[1]) {\n       case \"hsl\":\n        {\n          return hsl(parseFloat(m2[0]), parseFloat(m2[1]) / 100, parseFloat(m2[2]) / 100);\n        }\n\n       case \"rgb\":\n        {\n          return rgb(d3_rgb_parseNumber(m2[0]), d3_rgb_parseNumber(m2[1]), d3_rgb_parseNumber(m2[2]));\n        }\n      }\n    }\n    if (color = d3_rgb_names.get(format)) {\n      return rgb(color.r, color.g, color.b);\n    }\n    if (format != null && format.charAt(0) === \"#\" && !isNaN(color = parseInt(format.slice(1), 16))) {\n      if (format.length === 4) {\n        r = (color & 3840) >> 4;\n        r = r >> 4 | r;\n        g = color & 240;\n        g = g >> 4 | g;\n        b = color & 15;\n        b = b << 4 | b;\n      } else if (format.length === 7) {\n        r = (color & 16711680) >> 16;\n        g = (color & 65280) >> 8;\n        b = color & 255;\n      }\n    }\n    return rgb(r, g, b);\n  }\n  function d3_rgb_hsl(r, g, b) {\n    var min = Math.min(r /= 255, g /= 255, b /= 255), max = Math.max(r, g, b), d = max - min, h, s, l = (max + min) / 2;\n    if (d) {\n      s = l < .5 ? d / (max + min) : d / (2 - max - min);\n      if (r == max) h = (g - b) / d + (g < b ? 6 : 0); else if (g == max) h = (b - r) / d + 2; else h = (r - g) / d + 4;\n      h *= 60;\n    } else {\n      h = NaN;\n      s = l > 0 && l < 1 ? 0 : h;\n    }\n    return new d3_hsl(h, s, l);\n  }\n  function d3_rgb_lab(r, g, b) {\n    r = d3_rgb_xyz(r);\n    g = d3_rgb_xyz(g);\n    b = d3_rgb_xyz(b);\n    var x = d3_xyz_lab((.4124564 * r + .3575761 * g + .1804375 * b) / d3_lab_X), y = d3_xyz_lab((.2126729 * r + .7151522 * g + .072175 * b) / d3_lab_Y), z = d3_xyz_lab((.0193339 * r + .119192 * g + .9503041 * b) / d3_lab_Z);\n    return d3_lab(116 * y - 16, 500 * (x - y), 200 * (y - z));\n  }\n  function d3_rgb_xyz(r) {\n    return (r /= 255) <= .04045 ? r / 12.92 : Math.pow((r + .055) / 1.055, 2.4);\n  }\n  function d3_rgb_parseNumber(c) {\n    var f = parseFloat(c);\n    return c.charAt(c.length - 1) === \"%\" ? Math.round(f * 2.55) : f;\n  }\n  var d3_rgb_names = d3.map({\n    aliceblue: 15792383,\n    antiquewhite: 16444375,\n    aqua: 65535,\n    aquamarine: 8388564,\n    azure: 15794175,\n    beige: 16119260,\n    bisque: 16770244,\n    black: 0,\n    blanchedalmond: 16772045,\n    blue: 255,\n    blueviolet: 9055202,\n    brown: 10824234,\n    burlywood: 14596231,\n    cadetblue: 6266528,\n    chartreuse: 8388352,\n    chocolate: 13789470,\n    coral: 16744272,\n    cornflowerblue: 6591981,\n    cornsilk: 16775388,\n    crimson: 14423100,\n    cyan: 65535,\n    darkblue: 139,\n    darkcyan: 35723,\n    darkgoldenrod: 12092939,\n    darkgray: 11119017,\n    darkgreen: 25600,\n    darkgrey: 11119017,\n    darkkhaki: 12433259,\n    darkmagenta: 9109643,\n    darkolivegreen: 5597999,\n    darkorange: 16747520,\n    darkorchid: 10040012,\n    darkred: 9109504,\n    darksalmon: 15308410,\n    darkseagreen: 9419919,\n    darkslateblue: 4734347,\n    darkslategray: 3100495,\n    darkslategrey: 3100495,\n    darkturquoise: 52945,\n    darkviolet: 9699539,\n    deeppink: 16716947,\n    deepskyblue: 49151,\n    dimgray: 6908265,\n    dimgrey: 6908265,\n    dodgerblue: 2003199,\n    firebrick: 11674146,\n    floralwhite: 16775920,\n    forestgreen: 2263842,\n    fuchsia: 16711935,\n    gainsboro: 14474460,\n    ghostwhite: 16316671,\n    gold: 16766720,\n    goldenrod: 14329120,\n    gray: 8421504,\n    green: 32768,\n    greenyellow: 11403055,\n    grey: 8421504,\n    honeydew: 15794160,\n    hotpink: 16738740,\n    indianred: 13458524,\n    indigo: 4915330,\n    ivory: 16777200,\n    khaki: 15787660,\n    lavender: 15132410,\n    lavenderblush: 16773365,\n    lawngreen: 8190976,\n    lemonchiffon: 16775885,\n    lightblue: 11393254,\n    lightcoral: 15761536,\n    lightcyan: 14745599,\n    lightgoldenrodyellow: 16448210,\n    lightgray: 13882323,\n    lightgreen: 9498256,\n    lightgrey: 13882323,\n    lightpink: 16758465,\n    lightsalmon: 16752762,\n    lightseagreen: 2142890,\n    lightskyblue: 8900346,\n    lightslategray: 7833753,\n    lightslategrey: 7833753,\n    lightsteelblue: 11584734,\n    lightyellow: 16777184,\n    lime: 65280,\n    limegreen: 3329330,\n    linen: 16445670,\n    magenta: 16711935,\n    maroon: 8388608,\n    mediumaquamarine: 6737322,\n    mediumblue: 205,\n    mediumorchid: 12211667,\n    mediumpurple: 9662683,\n    mediumseagreen: 3978097,\n    mediumslateblue: 8087790,\n    mediumspringgreen: 64154,\n    mediumturquoise: 4772300,\n    mediumvioletred: 13047173,\n    midnightblue: 1644912,\n    mintcream: 16121850,\n    mistyrose: 16770273,\n    moccasin: 16770229,\n    navajowhite: 16768685,\n    navy: 128,\n    oldlace: 16643558,\n    olive: 8421376,\n    olivedrab: 7048739,\n    orange: 16753920,\n    orangered: 16729344,\n    orchid: 14315734,\n    palegoldenrod: 15657130,\n    palegreen: 10025880,\n    paleturquoise: 11529966,\n    palevioletred: 14381203,\n    papayawhip: 16773077,\n    peachpuff: 16767673,\n    peru: 13468991,\n    pink: 16761035,\n    plum: 14524637,\n    powderblue: 11591910,\n    purple: 8388736,\n    rebeccapurple: 6697881,\n    red: 16711680,\n    rosybrown: 12357519,\n    royalblue: 4286945,\n    saddlebrown: 9127187,\n    salmon: 16416882,\n    sandybrown: 16032864,\n    seagreen: 3050327,\n    seashell: 16774638,\n    sienna: 10506797,\n    silver: 12632256,\n    skyblue: 8900331,\n    slateblue: 6970061,\n    slategray: 7372944,\n    slategrey: 7372944,\n    snow: 16775930,\n    springgreen: 65407,\n    steelblue: 4620980,\n    tan: 13808780,\n    teal: 32896,\n    thistle: 14204888,\n    tomato: 16737095,\n    turquoise: 4251856,\n    violet: 15631086,\n    wheat: 16113331,\n    white: 16777215,\n    whitesmoke: 16119285,\n    yellow: 16776960,\n    yellowgreen: 10145074\n  });\n  d3_rgb_names.forEach(function(key, value) {\n    d3_rgb_names.set(key, d3_rgbNumber(value));\n  });\n  function d3_functor(v) {\n    return typeof v === \"function\" ? v : function() {\n      return v;\n    };\n  }\n  d3.functor = d3_functor;\n  d3.xhr = d3_xhrType(d3_identity);\n  function d3_xhrType(response) {\n    return function(url, mimeType, callback) {\n      if (arguments.length === 2 && typeof mimeType === \"function\") callback = mimeType, \n      mimeType = null;\n      return d3_xhr(url, mimeType, response, callback);\n    };\n  }\n  function d3_xhr(url, mimeType, response, callback) {\n    var xhr = {}, dispatch = d3.dispatch(\"beforesend\", \"progress\", \"load\", \"error\"), headers = {}, request = new XMLHttpRequest(), responseType = null;\n    if (this.XDomainRequest && !(\"withCredentials\" in request) && /^(http(s)?:)?\\/\\//.test(url)) request = new XDomainRequest();\n    \"onload\" in request ? request.onload = request.onerror = respond : request.onreadystatechange = function() {\n      request.readyState > 3 && respond();\n    };\n    function respond() {\n      var status = request.status, result;\n      if (!status && d3_xhrHasResponse(request) || status >= 200 && status < 300 || status === 304) {\n        try {\n          result = response.call(xhr, request);\n        } catch (e) {\n          dispatch.error.call(xhr, e);\n          return;\n        }\n        dispatch.load.call(xhr, result);\n      } else {\n        dispatch.error.call(xhr, request);\n      }\n    }\n    request.onprogress = function(event) {\n      var o = d3.event;\n      d3.event = event;\n      try {\n        dispatch.progress.call(xhr, request);\n      } finally {\n        d3.event = o;\n      }\n    };\n    xhr.header = function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers[name];\n      if (value == null) delete headers[name]; else headers[name] = value + \"\";\n      return xhr;\n    };\n    xhr.mimeType = function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return xhr;\n    };\n    xhr.responseType = function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return xhr;\n    };\n    xhr.response = function(value) {\n      response = value;\n      return xhr;\n    };\n    [ \"get\", \"post\" ].forEach(function(method) {\n      xhr[method] = function() {\n        return xhr.send.apply(xhr, [ method ].concat(d3_array(arguments)));\n      };\n    });\n    xhr.send = function(method, data, callback) {\n      if (arguments.length === 2 && typeof data === \"function\") callback = data, data = null;\n      request.open(method, url, true);\n      if (mimeType != null && !(\"accept\" in headers)) headers[\"accept\"] = mimeType + \",*/*\";\n      if (request.setRequestHeader) for (var name in headers) request.setRequestHeader(name, headers[name]);\n      if (mimeType != null && request.overrideMimeType) request.overrideMimeType(mimeType);\n      if (responseType != null) request.responseType = responseType;\n      if (callback != null) xhr.on(\"error\", callback).on(\"load\", function(request) {\n        callback(null, request);\n      });\n      dispatch.beforesend.call(xhr, request);\n      request.send(data == null ? null : data);\n      return xhr;\n    };\n    xhr.abort = function() {\n      request.abort();\n      return xhr;\n    };\n    d3.rebind(xhr, dispatch, \"on\");\n    return callback == null ? xhr : xhr.get(d3_xhr_fixCallback(callback));\n  }\n  function d3_xhr_fixCallback(callback) {\n    return callback.length === 1 ? function(error, request) {\n      callback(error == null ? request : null);\n    } : callback;\n  }\n  function d3_xhrHasResponse(request) {\n    var type = request.responseType;\n    return type && type !== \"text\" ? request.response : request.responseText;\n  }\n  d3.dsv = function(delimiter, mimeType) {\n    var reFormat = new RegExp('[\"' + delimiter + \"\\n]\"), delimiterCode = delimiter.charCodeAt(0);\n    function dsv(url, row, callback) {\n      if (arguments.length < 3) callback = row, row = null;\n      var xhr = d3_xhr(url, mimeType, row == null ? response : typedResponse(row), callback);\n      xhr.row = function(_) {\n        return arguments.length ? xhr.response((row = _) == null ? response : typedResponse(_)) : row;\n      };\n      return xhr;\n    }\n    function response(request) {\n      return dsv.parse(request.responseText);\n    }\n    function typedResponse(f) {\n      return function(request) {\n        return dsv.parse(request.responseText, f);\n      };\n    }\n    dsv.parse = function(text, f) {\n      var o;\n      return dsv.parseRows(text, function(row, i) {\n        if (o) return o(row, i - 1);\n        var a = new Function(\"d\", \"return {\" + row.map(function(name, i) {\n          return JSON.stringify(name) + \": d[\" + i + \"]\";\n        }).join(\",\") + \"}\");\n        o = f ? function(row, i) {\n          return f(a(row), i);\n        } : a;\n      });\n    };\n    dsv.parseRows = function(text, f) {\n      var EOL = {}, EOF = {}, rows = [], N = text.length, I = 0, n = 0, t, eol;\n      function token() {\n        if (I >= N) return EOF;\n        if (eol) return eol = false, EOL;\n        var j = I;\n        if (text.charCodeAt(j) === 34) {\n          var i = j;\n          while (i++ < N) {\n            if (text.charCodeAt(i) === 34) {\n              if (text.charCodeAt(i + 1) !== 34) break;\n              ++i;\n            }\n          }\n          I = i + 2;\n          var c = text.charCodeAt(i + 1);\n          if (c === 13) {\n            eol = true;\n            if (text.charCodeAt(i + 2) === 10) ++I;\n          } else if (c === 10) {\n            eol = true;\n          }\n          return text.slice(j + 1, i).replace(/\"\"/g, '\"');\n        }\n        while (I < N) {\n          var c = text.charCodeAt(I++), k = 1;\n          if (c === 10) eol = true; else if (c === 13) {\n            eol = true;\n            if (text.charCodeAt(I) === 10) ++I, ++k;\n          } else if (c !== delimiterCode) continue;\n          return text.slice(j, I - k);\n        }\n        return text.slice(j);\n      }\n      while ((t = token()) !== EOF) {\n        var a = [];\n        while (t !== EOL && t !== EOF) {\n          a.push(t);\n          t = token();\n        }\n        if (f && (a = f(a, n++)) == null) continue;\n        rows.push(a);\n      }\n      return rows;\n    };\n    dsv.format = function(rows) {\n      if (Array.isArray(rows[0])) return dsv.formatRows(rows);\n      var fieldSet = new d3_Set(), fields = [];\n      rows.forEach(function(row) {\n        for (var field in row) {\n          if (!fieldSet.has(field)) {\n            fields.push(fieldSet.add(field));\n          }\n        }\n      });\n      return [ fields.map(formatValue).join(delimiter) ].concat(rows.map(function(row) {\n        return fields.map(function(field) {\n          return formatValue(row[field]);\n        }).join(delimiter);\n      })).join(\"\\n\");\n    };\n    dsv.formatRows = function(rows) {\n      return rows.map(formatRow).join(\"\\n\");\n    };\n    function formatRow(row) {\n      return row.map(formatValue).join(delimiter);\n    }\n    function formatValue(text) {\n      return reFormat.test(text) ? '\"' + text.replace(/\\\"/g, '\"\"') + '\"' : text;\n    }\n    return dsv;\n  };\n  d3.csv = d3.dsv(\",\", \"text/csv\");\n  d3.tsv = d3.dsv(\"\t\", \"text/tab-separated-values\");\n  var d3_timer_queueHead, d3_timer_queueTail, d3_timer_interval, d3_timer_timeout, d3_timer_frame = this[d3_vendorSymbol(this, \"requestAnimationFrame\")] || function(callback) {\n    setTimeout(callback, 17);\n  };\n  d3.timer = function() {\n    d3_timer.apply(this, arguments);\n  };\n  function d3_timer(callback, delay, then) {\n    var n = arguments.length;\n    if (n < 2) delay = 0;\n    if (n < 3) then = Date.now();\n    var time = then + delay, timer = {\n      c: callback,\n      t: time,\n      n: null\n    };\n    if (d3_timer_queueTail) d3_timer_queueTail.n = timer; else d3_timer_queueHead = timer;\n    d3_timer_queueTail = timer;\n    if (!d3_timer_interval) {\n      d3_timer_timeout = clearTimeout(d3_timer_timeout);\n      d3_timer_interval = 1;\n      d3_timer_frame(d3_timer_step);\n    }\n    return timer;\n  }\n  function d3_timer_step() {\n    var now = d3_timer_mark(), delay = d3_timer_sweep() - now;\n    if (delay > 24) {\n      if (isFinite(delay)) {\n        clearTimeout(d3_timer_timeout);\n        d3_timer_timeout = setTimeout(d3_timer_step, delay);\n      }\n      d3_timer_interval = 0;\n    } else {\n      d3_timer_interval = 1;\n      d3_timer_frame(d3_timer_step);\n    }\n  }\n  d3.timer.flush = function() {\n    d3_timer_mark();\n    d3_timer_sweep();\n  };\n  function d3_timer_mark() {\n    var now = Date.now(), timer = d3_timer_queueHead;\n    while (timer) {\n      if (now >= timer.t && timer.c(now - timer.t)) timer.c = null;\n      timer = timer.n;\n    }\n    return now;\n  }\n  function d3_timer_sweep() {\n    var t0, t1 = d3_timer_queueHead, time = Infinity;\n    while (t1) {\n      if (t1.c) {\n        if (t1.t < time) time = t1.t;\n        t1 = (t0 = t1).n;\n      } else {\n        t1 = t0 ? t0.n = t1.n : d3_timer_queueHead = t1.n;\n      }\n    }\n    d3_timer_queueTail = t0;\n    return time;\n  }\n  function d3_format_precision(x, p) {\n    return p - (x ? Math.ceil(Math.log(x) / Math.LN10) : 1);\n  }\n  d3.round = function(x, n) {\n    return n ? Math.round(x * (n = Math.pow(10, n))) / n : Math.round(x);\n  };\n  var d3_formatPrefixes = [ \"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\" ].map(d3_formatPrefix);\n  d3.formatPrefix = function(value, precision) {\n    var i = 0;\n    if (value = +value) {\n      if (value < 0) value *= -1;\n      if (precision) value = d3.round(value, d3_format_precision(value, precision));\n      i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10);\n      i = Math.max(-24, Math.min(24, Math.floor((i - 1) / 3) * 3));\n    }\n    return d3_formatPrefixes[8 + i / 3];\n  };\n  function d3_formatPrefix(d, i) {\n    var k = Math.pow(10, abs(8 - i) * 3);\n    return {\n      scale: i > 8 ? function(d) {\n        return d / k;\n      } : function(d) {\n        return d * k;\n      },\n      symbol: d\n    };\n  }\n  function d3_locale_numberFormat(locale) {\n    var locale_decimal = locale.decimal, locale_thousands = locale.thousands, locale_grouping = locale.grouping, locale_currency = locale.currency, formatGroup = locale_grouping && locale_thousands ? function(value, width) {\n      var i = value.length, t = [], j = 0, g = locale_grouping[0], length = 0;\n      while (i > 0 && g > 0) {\n        if (length + g + 1 > width) g = Math.max(1, width - length);\n        t.push(value.substring(i -= g, i + g));\n        if ((length += g + 1) > width) break;\n        g = locale_grouping[j = (j + 1) % locale_grouping.length];\n      }\n      return t.reverse().join(locale_thousands);\n    } : d3_identity;\n    return function(specifier) {\n      var match = d3_format_re.exec(specifier), fill = match[1] || \" \", align = match[2] || \">\", sign = match[3] || \"-\", symbol = match[4] || \"\", zfill = match[5], width = +match[6], comma = match[7], precision = match[8], type = match[9], scale = 1, prefix = \"\", suffix = \"\", integer = false, exponent = true;\n      if (precision) precision = +precision.substring(1);\n      if (zfill || fill === \"0\" && align === \"=\") {\n        zfill = fill = \"0\";\n        align = \"=\";\n      }\n      switch (type) {\n       case \"n\":\n        comma = true;\n        type = \"g\";\n        break;\n\n       case \"%\":\n        scale = 100;\n        suffix = \"%\";\n        type = \"f\";\n        break;\n\n       case \"p\":\n        scale = 100;\n        suffix = \"%\";\n        type = \"r\";\n        break;\n\n       case \"b\":\n       case \"o\":\n       case \"x\":\n       case \"X\":\n        if (symbol === \"#\") prefix = \"0\" + type.toLowerCase();\n\n       case \"c\":\n        exponent = false;\n\n       case \"d\":\n        integer = true;\n        precision = 0;\n        break;\n\n       case \"s\":\n        scale = -1;\n        type = \"r\";\n        break;\n      }\n      if (symbol === \"$\") prefix = locale_currency[0], suffix = locale_currency[1];\n      if (type == \"r\" && !precision) type = \"g\";\n      if (precision != null) {\n        if (type == \"g\") precision = Math.max(1, Math.min(21, precision)); else if (type == \"e\" || type == \"f\") precision = Math.max(0, Math.min(20, precision));\n      }\n      type = d3_format_types.get(type) || d3_format_typeDefault;\n      var zcomma = zfill && comma;\n      return function(value) {\n        var fullSuffix = suffix;\n        if (integer && value % 1) return \"\";\n        var negative = value < 0 || value === 0 && 1 / value < 0 ? (value = -value, \"-\") : sign === \"-\" ? \"\" : sign;\n        if (scale < 0) {\n          var unit = d3.formatPrefix(value, precision);\n          value = unit.scale(value);\n          fullSuffix = unit.symbol + suffix;\n        } else {\n          value *= scale;\n        }\n        value = type(value, precision);\n        var i = value.lastIndexOf(\".\"), before, after;\n        if (i < 0) {\n          var j = exponent ? value.lastIndexOf(\"e\") : -1;\n          if (j < 0) before = value, after = \"\"; else before = value.substring(0, j), after = value.substring(j);\n        } else {\n          before = value.substring(0, i);\n          after = locale_decimal + value.substring(i + 1);\n        }\n        if (!zfill && comma) before = formatGroup(before, Infinity);\n        var length = prefix.length + before.length + after.length + (zcomma ? 0 : negative.length), padding = length < width ? new Array(length = width - length + 1).join(fill) : \"\";\n        if (zcomma) before = formatGroup(padding + before, padding.length ? width - after.length : Infinity);\n        negative += prefix;\n        value = before + after;\n        return (align === \"<\" ? negative + value + padding : align === \">\" ? padding + negative + value : align === \"^\" ? padding.substring(0, length >>= 1) + negative + value + padding.substring(length) : negative + (zcomma ? value : padding + value)) + fullSuffix;\n      };\n    };\n  }\n  var d3_format_re = /(?:([^{])?([<>=^]))?([+\\- ])?([$#])?(0)?(\\d+)?(,)?(\\.-?\\d+)?([a-z%])?/i;\n  var d3_format_types = d3.map({\n    b: function(x) {\n      return x.toString(2);\n    },\n    c: function(x) {\n      return String.fromCharCode(x);\n    },\n    o: function(x) {\n      return x.toString(8);\n    },\n    x: function(x) {\n      return x.toString(16);\n    },\n    X: function(x) {\n      return x.toString(16).toUpperCase();\n    },\n    g: function(x, p) {\n      return x.toPrecision(p);\n    },\n    e: function(x, p) {\n      return x.toExponential(p);\n    },\n    f: function(x, p) {\n      return x.toFixed(p);\n    },\n    r: function(x, p) {\n      return (x = d3.round(x, d3_format_precision(x, p))).toFixed(Math.max(0, Math.min(20, d3_format_precision(x * (1 + 1e-15), p))));\n    }\n  });\n  function d3_format_typeDefault(x) {\n    return x + \"\";\n  }\n  var d3_time = d3.time = {}, d3_date = Date;\n  function d3_date_utc() {\n    this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]);\n  }\n  d3_date_utc.prototype = {\n    getDate: function() {\n      return this._.getUTCDate();\n    },\n    getDay: function() {\n      return this._.getUTCDay();\n    },\n    getFullYear: function() {\n      return this._.getUTCFullYear();\n    },\n    getHours: function() {\n      return this._.getUTCHours();\n    },\n    getMilliseconds: function() {\n      return this._.getUTCMilliseconds();\n    },\n    getMinutes: function() {\n      return this._.getUTCMinutes();\n    },\n    getMonth: function() {\n      return this._.getUTCMonth();\n    },\n    getSeconds: function() {\n      return this._.getUTCSeconds();\n    },\n    getTime: function() {\n      return this._.getTime();\n    },\n    getTimezoneOffset: function() {\n      return 0;\n    },\n    valueOf: function() {\n      return this._.valueOf();\n    },\n    setDate: function() {\n      d3_time_prototype.setUTCDate.apply(this._, arguments);\n    },\n    setDay: function() {\n      d3_time_prototype.setUTCDay.apply(this._, arguments);\n    },\n    setFullYear: function() {\n      d3_time_prototype.setUTCFullYear.apply(this._, arguments);\n    },\n    setHours: function() {\n      d3_time_prototype.setUTCHours.apply(this._, arguments);\n    },\n    setMilliseconds: function() {\n      d3_time_prototype.setUTCMilliseconds.apply(this._, arguments);\n    },\n    setMinutes: function() {\n      d3_time_prototype.setUTCMinutes.apply(this._, arguments);\n    },\n    setMonth: function() {\n      d3_time_prototype.setUTCMonth.apply(this._, arguments);\n    },\n    setSeconds: function() {\n      d3_time_prototype.setUTCSeconds.apply(this._, arguments);\n    },\n    setTime: function() {\n      d3_time_prototype.setTime.apply(this._, arguments);\n    }\n  };\n  var d3_time_prototype = Date.prototype;\n  function d3_time_interval(local, step, number) {\n    function round(date) {\n      var d0 = local(date), d1 = offset(d0, 1);\n      return date - d0 < d1 - date ? d0 : d1;\n    }\n    function ceil(date) {\n      step(date = local(new d3_date(date - 1)), 1);\n      return date;\n    }\n    function offset(date, k) {\n      step(date = new d3_date(+date), k);\n      return date;\n    }\n    function range(t0, t1, dt) {\n      var time = ceil(t0), times = [];\n      if (dt > 1) {\n        while (time < t1) {\n          if (!(number(time) % dt)) times.push(new Date(+time));\n          step(time, 1);\n        }\n      } else {\n        while (time < t1) times.push(new Date(+time)), step(time, 1);\n      }\n      return times;\n    }\n    function range_utc(t0, t1, dt) {\n      try {\n        d3_date = d3_date_utc;\n        var utc = new d3_date_utc();\n        utc._ = t0;\n        return range(utc, t1, dt);\n      } finally {\n        d3_date = Date;\n      }\n    }\n    local.floor = local;\n    local.round = round;\n    local.ceil = ceil;\n    local.offset = offset;\n    local.range = range;\n    var utc = local.utc = d3_time_interval_utc(local);\n    utc.floor = utc;\n    utc.round = d3_time_interval_utc(round);\n    utc.ceil = d3_time_interval_utc(ceil);\n    utc.offset = d3_time_interval_utc(offset);\n    utc.range = range_utc;\n    return local;\n  }\n  function d3_time_interval_utc(method) {\n    return function(date, k) {\n      try {\n        d3_date = d3_date_utc;\n        var utc = new d3_date_utc();\n        utc._ = date;\n        return method(utc, k)._;\n      } finally {\n        d3_date = Date;\n      }\n    };\n  }\n  d3_time.year = d3_time_interval(function(date) {\n    date = d3_time.day(date);\n    date.setMonth(0, 1);\n    return date;\n  }, function(date, offset) {\n    date.setFullYear(date.getFullYear() + offset);\n  }, function(date) {\n    return date.getFullYear();\n  });\n  d3_time.years = d3_time.year.range;\n  d3_time.years.utc = d3_time.year.utc.range;\n  d3_time.day = d3_time_interval(function(date) {\n    var day = new d3_date(2e3, 0);\n    day.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n    return day;\n  }, function(date, offset) {\n    date.setDate(date.getDate() + offset);\n  }, function(date) {\n    return date.getDate() - 1;\n  });\n  d3_time.days = d3_time.day.range;\n  d3_time.days.utc = d3_time.day.utc.range;\n  d3_time.dayOfYear = function(date) {\n    var year = d3_time.year(date);\n    return Math.floor((date - year - (date.getTimezoneOffset() - year.getTimezoneOffset()) * 6e4) / 864e5);\n  };\n  [ \"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\" ].forEach(function(day, i) {\n    i = 7 - i;\n    var interval = d3_time[day] = d3_time_interval(function(date) {\n      (date = d3_time.day(date)).setDate(date.getDate() - (date.getDay() + i) % 7);\n      return date;\n    }, function(date, offset) {\n      date.setDate(date.getDate() + Math.floor(offset) * 7);\n    }, function(date) {\n      var day = d3_time.year(date).getDay();\n      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7) - (day !== i);\n    });\n    d3_time[day + \"s\"] = interval.range;\n    d3_time[day + \"s\"].utc = interval.utc.range;\n    d3_time[day + \"OfYear\"] = function(date) {\n      var day = d3_time.year(date).getDay();\n      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7);\n    };\n  });\n  d3_time.week = d3_time.sunday;\n  d3_time.weeks = d3_time.sunday.range;\n  d3_time.weeks.utc = d3_time.sunday.utc.range;\n  d3_time.weekOfYear = d3_time.sundayOfYear;\n  function d3_locale_timeFormat(locale) {\n    var locale_dateTime = locale.dateTime, locale_date = locale.date, locale_time = locale.time, locale_periods = locale.periods, locale_days = locale.days, locale_shortDays = locale.shortDays, locale_months = locale.months, locale_shortMonths = locale.shortMonths;\n    function d3_time_format(template) {\n      var n = template.length;\n      function format(date) {\n        var string = [], i = -1, j = 0, c, p, f;\n        while (++i < n) {\n          if (template.charCodeAt(i) === 37) {\n            string.push(template.slice(j, i));\n            if ((p = d3_time_formatPads[c = template.charAt(++i)]) != null) c = template.charAt(++i);\n            if (f = d3_time_formats[c]) c = f(date, p == null ? c === \"e\" ? \" \" : \"0\" : p);\n            string.push(c);\n            j = i + 1;\n          }\n        }\n        string.push(template.slice(j, i));\n        return string.join(\"\");\n      }\n      format.parse = function(string) {\n        var d = {\n          y: 1900,\n          m: 0,\n          d: 1,\n          H: 0,\n          M: 0,\n          S: 0,\n          L: 0,\n          Z: null\n        }, i = d3_time_parse(d, template, string, 0);\n        if (i != string.length) return null;\n        if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n        var localZ = d.Z != null && d3_date !== d3_date_utc, date = new (localZ ? d3_date_utc : d3_date)();\n        if (\"j\" in d) date.setFullYear(d.y, 0, d.j); else if (\"W\" in d || \"U\" in d) {\n          if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n          date.setFullYear(d.y, 0, 1);\n          date.setFullYear(d.y, 0, \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (date.getDay() + 5) % 7 : d.w + d.U * 7 - (date.getDay() + 6) % 7);\n        } else date.setFullYear(d.y, d.m, d.d);\n        date.setHours(d.H + (d.Z / 100 | 0), d.M + d.Z % 100, d.S, d.L);\n        return localZ ? date._ : date;\n      };\n      format.toString = function() {\n        return template;\n      };\n      return format;\n    }\n    function d3_time_parse(date, template, string, j) {\n      var c, p, t, i = 0, n = template.length, m = string.length;\n      while (i < n) {\n        if (j >= m) return -1;\n        c = template.charCodeAt(i++);\n        if (c === 37) {\n          t = template.charAt(i++);\n          p = d3_time_parsers[t in d3_time_formatPads ? template.charAt(i++) : t];\n          if (!p || (j = p(date, string, j)) < 0) return -1;\n        } else if (c != string.charCodeAt(j++)) {\n          return -1;\n        }\n      }\n      return j;\n    }\n    d3_time_format.utc = function(template) {\n      var local = d3_time_format(template);\n      function format(date) {\n        try {\n          d3_date = d3_date_utc;\n          var utc = new d3_date();\n          utc._ = date;\n          return local(utc);\n        } finally {\n          d3_date = Date;\n        }\n      }\n      format.parse = function(string) {\n        try {\n          d3_date = d3_date_utc;\n          var date = local.parse(string);\n          return date && date._;\n        } finally {\n          d3_date = Date;\n        }\n      };\n      format.toString = local.toString;\n      return format;\n    };\n    d3_time_format.multi = d3_time_format.utc.multi = d3_time_formatMulti;\n    var d3_time_periodLookup = d3.map(), d3_time_dayRe = d3_time_formatRe(locale_days), d3_time_dayLookup = d3_time_formatLookup(locale_days), d3_time_dayAbbrevRe = d3_time_formatRe(locale_shortDays), d3_time_dayAbbrevLookup = d3_time_formatLookup(locale_shortDays), d3_time_monthRe = d3_time_formatRe(locale_months), d3_time_monthLookup = d3_time_formatLookup(locale_months), d3_time_monthAbbrevRe = d3_time_formatRe(locale_shortMonths), d3_time_monthAbbrevLookup = d3_time_formatLookup(locale_shortMonths);\n    locale_periods.forEach(function(p, i) {\n      d3_time_periodLookup.set(p.toLowerCase(), i);\n    });\n    var d3_time_formats = {\n      a: function(d) {\n        return locale_shortDays[d.getDay()];\n      },\n      A: function(d) {\n        return locale_days[d.getDay()];\n      },\n      b: function(d) {\n        return locale_shortMonths[d.getMonth()];\n      },\n      B: function(d) {\n        return locale_months[d.getMonth()];\n      },\n      c: d3_time_format(locale_dateTime),\n      d: function(d, p) {\n        return d3_time_formatPad(d.getDate(), p, 2);\n      },\n      e: function(d, p) {\n        return d3_time_formatPad(d.getDate(), p, 2);\n      },\n      H: function(d, p) {\n        return d3_time_formatPad(d.getHours(), p, 2);\n      },\n      I: function(d, p) {\n        return d3_time_formatPad(d.getHours() % 12 || 12, p, 2);\n      },\n      j: function(d, p) {\n        return d3_time_formatPad(1 + d3_time.dayOfYear(d), p, 3);\n      },\n      L: function(d, p) {\n        return d3_time_formatPad(d.getMilliseconds(), p, 3);\n      },\n      m: function(d, p) {\n        return d3_time_formatPad(d.getMonth() + 1, p, 2);\n      },\n      M: function(d, p) {\n        return d3_time_formatPad(d.getMinutes(), p, 2);\n      },\n      p: function(d) {\n        return locale_periods[+(d.getHours() >= 12)];\n      },\n      S: function(d, p) {\n        return d3_time_formatPad(d.getSeconds(), p, 2);\n      },\n      U: function(d, p) {\n        return d3_time_formatPad(d3_time.sundayOfYear(d), p, 2);\n      },\n      w: function(d) {\n        return d.getDay();\n      },\n      W: function(d, p) {\n        return d3_time_formatPad(d3_time.mondayOfYear(d), p, 2);\n      },\n      x: d3_time_format(locale_date),\n      X: d3_time_format(locale_time),\n      y: function(d, p) {\n        return d3_time_formatPad(d.getFullYear() % 100, p, 2);\n      },\n      Y: function(d, p) {\n        return d3_time_formatPad(d.getFullYear() % 1e4, p, 4);\n      },\n      Z: d3_time_zone,\n      \"%\": function() {\n        return \"%\";\n      }\n    };\n    var d3_time_parsers = {\n      a: d3_time_parseWeekdayAbbrev,\n      A: d3_time_parseWeekday,\n      b: d3_time_parseMonthAbbrev,\n      B: d3_time_parseMonth,\n      c: d3_time_parseLocaleFull,\n      d: d3_time_parseDay,\n      e: d3_time_parseDay,\n      H: d3_time_parseHour24,\n      I: d3_time_parseHour24,\n      j: d3_time_parseDayOfYear,\n      L: d3_time_parseMilliseconds,\n      m: d3_time_parseMonthNumber,\n      M: d3_time_parseMinutes,\n      p: d3_time_parseAmPm,\n      S: d3_time_parseSeconds,\n      U: d3_time_parseWeekNumberSunday,\n      w: d3_time_parseWeekdayNumber,\n      W: d3_time_parseWeekNumberMonday,\n      x: d3_time_parseLocaleDate,\n      X: d3_time_parseLocaleTime,\n      y: d3_time_parseYear,\n      Y: d3_time_parseFullYear,\n      Z: d3_time_parseZone,\n      \"%\": d3_time_parseLiteralPercent\n    };\n    function d3_time_parseWeekdayAbbrev(date, string, i) {\n      d3_time_dayAbbrevRe.lastIndex = 0;\n      var n = d3_time_dayAbbrevRe.exec(string.slice(i));\n      return n ? (date.w = d3_time_dayAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseWeekday(date, string, i) {\n      d3_time_dayRe.lastIndex = 0;\n      var n = d3_time_dayRe.exec(string.slice(i));\n      return n ? (date.w = d3_time_dayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseMonthAbbrev(date, string, i) {\n      d3_time_monthAbbrevRe.lastIndex = 0;\n      var n = d3_time_monthAbbrevRe.exec(string.slice(i));\n      return n ? (date.m = d3_time_monthAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseMonth(date, string, i) {\n      d3_time_monthRe.lastIndex = 0;\n      var n = d3_time_monthRe.exec(string.slice(i));\n      return n ? (date.m = d3_time_monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseLocaleFull(date, string, i) {\n      return d3_time_parse(date, d3_time_formats.c.toString(), string, i);\n    }\n    function d3_time_parseLocaleDate(date, string, i) {\n      return d3_time_parse(date, d3_time_formats.x.toString(), string, i);\n    }\n    function d3_time_parseLocaleTime(date, string, i) {\n      return d3_time_parse(date, d3_time_formats.X.toString(), string, i);\n    }\n    function d3_time_parseAmPm(date, string, i) {\n      var n = d3_time_periodLookup.get(string.slice(i, i += 2).toLowerCase());\n      return n == null ? -1 : (date.p = n, i);\n    }\n    return d3_time_format;\n  }\n  var d3_time_formatPads = {\n    \"-\": \"\",\n    _: \" \",\n    \"0\": \"0\"\n  }, d3_time_numberRe = /^\\s*\\d+/, d3_time_percentRe = /^%/;\n  function d3_time_formatPad(value, fill, width) {\n    var sign = value < 0 ? \"-\" : \"\", string = (sign ? -value : value) + \"\", length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n  }\n  function d3_time_formatRe(names) {\n    return new RegExp(\"^(?:\" + names.map(d3.requote).join(\"|\") + \")\", \"i\");\n  }\n  function d3_time_formatLookup(names) {\n    var map = new d3_Map(), i = -1, n = names.length;\n    while (++i < n) map.set(names[i].toLowerCase(), i);\n    return map;\n  }\n  function d3_time_parseWeekdayNumber(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 1));\n    return n ? (date.w = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseWeekNumberSunday(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i));\n    return n ? (date.U = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseWeekNumberMonday(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i));\n    return n ? (date.W = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseFullYear(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 4));\n    return n ? (date.y = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseYear(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.y = d3_time_expandYear(+n[0]), i + n[0].length) : -1;\n  }\n  function d3_time_parseZone(date, string, i) {\n    return /^[+-]\\d{4}$/.test(string = string.slice(i, i + 5)) ? (date.Z = -string, \n    i + 5) : -1;\n  }\n  function d3_time_expandYear(d) {\n    return d + (d > 68 ? 1900 : 2e3);\n  }\n  function d3_time_parseMonthNumber(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.m = n[0] - 1, i + n[0].length) : -1;\n  }\n  function d3_time_parseDay(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.d = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseDayOfYear(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 3));\n    return n ? (date.j = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseHour24(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.H = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseMinutes(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.M = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseSeconds(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.S = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseMilliseconds(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 3));\n    return n ? (date.L = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_zone(d) {\n    var z = d.getTimezoneOffset(), zs = z > 0 ? \"-\" : \"+\", zh = abs(z) / 60 | 0, zm = abs(z) % 60;\n    return zs + d3_time_formatPad(zh, \"0\", 2) + d3_time_formatPad(zm, \"0\", 2);\n  }\n  function d3_time_parseLiteralPercent(date, string, i) {\n    d3_time_percentRe.lastIndex = 0;\n    var n = d3_time_percentRe.exec(string.slice(i, i + 1));\n    return n ? i + n[0].length : -1;\n  }\n  function d3_time_formatMulti(formats) {\n    var n = formats.length, i = -1;\n    while (++i < n) formats[i][0] = this(formats[i][0]);\n    return function(date) {\n      var i = 0, f = formats[i];\n      while (!f[1](date)) f = formats[++i];\n      return f[0](date);\n    };\n  }\n  d3.locale = function(locale) {\n    return {\n      numberFormat: d3_locale_numberFormat(locale),\n      timeFormat: d3_locale_timeFormat(locale)\n    };\n  };\n  var d3_locale_enUS = d3.locale({\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [ 3 ],\n    currency: [ \"$\", \"\" ],\n    dateTime: \"%a %b %e %X %Y\",\n    date: \"%m/%d/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [ \"AM\", \"PM\" ],\n    days: [ \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\" ],\n    shortDays: [ \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\" ],\n    months: [ \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ],\n    shortMonths: [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ]\n  });\n  d3.format = d3_locale_enUS.numberFormat;\n  d3.geo = {};\n  function d3_adder() {}\n  d3_adder.prototype = {\n    s: 0,\n    t: 0,\n    add: function(y) {\n      d3_adderSum(y, this.t, d3_adderTemp);\n      d3_adderSum(d3_adderTemp.s, this.s, this);\n      if (this.s) this.t += d3_adderTemp.t; else this.s = d3_adderTemp.t;\n    },\n    reset: function() {\n      this.s = this.t = 0;\n    },\n    valueOf: function() {\n      return this.s;\n    }\n  };\n  var d3_adderTemp = new d3_adder();\n  function d3_adderSum(a, b, o) {\n    var x = o.s = a + b, bv = x - a, av = x - bv;\n    o.t = a - av + (b - bv);\n  }\n  d3.geo.stream = function(object, listener) {\n    if (object && d3_geo_streamObjectType.hasOwnProperty(object.type)) {\n      d3_geo_streamObjectType[object.type](object, listener);\n    } else {\n      d3_geo_streamGeometry(object, listener);\n    }\n  };\n  function d3_geo_streamGeometry(geometry, listener) {\n    if (geometry && d3_geo_streamGeometryType.hasOwnProperty(geometry.type)) {\n      d3_geo_streamGeometryType[geometry.type](geometry, listener);\n    }\n  }\n  var d3_geo_streamObjectType = {\n    Feature: function(feature, listener) {\n      d3_geo_streamGeometry(feature.geometry, listener);\n    },\n    FeatureCollection: function(object, listener) {\n      var features = object.features, i = -1, n = features.length;\n      while (++i < n) d3_geo_streamGeometry(features[i].geometry, listener);\n    }\n  };\n  var d3_geo_streamGeometryType = {\n    Sphere: function(object, listener) {\n      listener.sphere();\n    },\n    Point: function(object, listener) {\n      object = object.coordinates;\n      listener.point(object[0], object[1], object[2]);\n    },\n    MultiPoint: function(object, listener) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) object = coordinates[i], listener.point(object[0], object[1], object[2]);\n    },\n    LineString: function(object, listener) {\n      d3_geo_streamLine(object.coordinates, listener, 0);\n    },\n    MultiLineString: function(object, listener) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) d3_geo_streamLine(coordinates[i], listener, 0);\n    },\n    Polygon: function(object, listener) {\n      d3_geo_streamPolygon(object.coordinates, listener);\n    },\n    MultiPolygon: function(object, listener) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) d3_geo_streamPolygon(coordinates[i], listener);\n    },\n    GeometryCollection: function(object, listener) {\n      var geometries = object.geometries, i = -1, n = geometries.length;\n      while (++i < n) d3_geo_streamGeometry(geometries[i], listener);\n    }\n  };\n  function d3_geo_streamLine(coordinates, listener, closed) {\n    var i = -1, n = coordinates.length - closed, coordinate;\n    listener.lineStart();\n    while (++i < n) coordinate = coordinates[i], listener.point(coordinate[0], coordinate[1], coordinate[2]);\n    listener.lineEnd();\n  }\n  function d3_geo_streamPolygon(coordinates, listener) {\n    var i = -1, n = coordinates.length;\n    listener.polygonStart();\n    while (++i < n) d3_geo_streamLine(coordinates[i], listener, 1);\n    listener.polygonEnd();\n  }\n  d3.geo.area = function(object) {\n    d3_geo_areaSum = 0;\n    d3.geo.stream(object, d3_geo_area);\n    return d3_geo_areaSum;\n  };\n  var d3_geo_areaSum, d3_geo_areaRingSum = new d3_adder();\n  var d3_geo_area = {\n    sphere: function() {\n      d3_geo_areaSum += 4 * π;\n    },\n    point: d3_noop,\n    lineStart: d3_noop,\n    lineEnd: d3_noop,\n    polygonStart: function() {\n      d3_geo_areaRingSum.reset();\n      d3_geo_area.lineStart = d3_geo_areaRingStart;\n    },\n    polygonEnd: function() {\n      var area = 2 * d3_geo_areaRingSum;\n      d3_geo_areaSum += area < 0 ? 4 * π + area : area;\n      d3_geo_area.lineStart = d3_geo_area.lineEnd = d3_geo_area.point = d3_noop;\n    }\n  };\n  function d3_geo_areaRingStart() {\n    var λ00, φ00, λ0, cosφ0, sinφ0;\n    d3_geo_area.point = function(λ, φ) {\n      d3_geo_area.point = nextPoint;\n      λ0 = (λ00 = λ) * d3_radians, cosφ0 = Math.cos(φ = (φ00 = φ) * d3_radians / 2 + π / 4), \n      sinφ0 = Math.sin(φ);\n    };\n    function nextPoint(λ, φ) {\n      λ *= d3_radians;\n      φ = φ * d3_radians / 2 + π / 4;\n      var dλ = λ - λ0, sdλ = dλ >= 0 ? 1 : -1, adλ = sdλ * dλ, cosφ = Math.cos(φ), sinφ = Math.sin(φ), k = sinφ0 * sinφ, u = cosφ0 * cosφ + k * Math.cos(adλ), v = k * sdλ * Math.sin(adλ);\n      d3_geo_areaRingSum.add(Math.atan2(v, u));\n      λ0 = λ, cosφ0 = cosφ, sinφ0 = sinφ;\n    }\n    d3_geo_area.lineEnd = function() {\n      nextPoint(λ00, φ00);\n    };\n  }\n  function d3_geo_cartesian(spherical) {\n    var λ = spherical[0], φ = spherical[1], cosφ = Math.cos(φ);\n    return [ cosφ * Math.cos(λ), cosφ * Math.sin(λ), Math.sin(φ) ];\n  }\n  function d3_geo_cartesianDot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n  }\n  function d3_geo_cartesianCross(a, b) {\n    return [ a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0] ];\n  }\n  function d3_geo_cartesianAdd(a, b) {\n    a[0] += b[0];\n    a[1] += b[1];\n    a[2] += b[2];\n  }\n  function d3_geo_cartesianScale(vector, k) {\n    return [ vector[0] * k, vector[1] * k, vector[2] * k ];\n  }\n  function d3_geo_cartesianNormalize(d) {\n    var l = Math.sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n    d[0] /= l;\n    d[1] /= l;\n    d[2] /= l;\n  }\n  function d3_geo_spherical(cartesian) {\n    return [ Math.atan2(cartesian[1], cartesian[0]), d3_asin(cartesian[2]) ];\n  }\n  function d3_geo_sphericalEqual(a, b) {\n    return abs(a[0] - b[0]) < ε && abs(a[1] - b[1]) < ε;\n  }\n  d3.geo.bounds = function() {\n    var λ0, φ0, λ1, φ1, λ_, λ__, φ__, p0, dλSum, ranges, range;\n    var bound = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        bound.point = ringPoint;\n        bound.lineStart = ringStart;\n        bound.lineEnd = ringEnd;\n        dλSum = 0;\n        d3_geo_area.polygonStart();\n      },\n      polygonEnd: function() {\n        d3_geo_area.polygonEnd();\n        bound.point = point;\n        bound.lineStart = lineStart;\n        bound.lineEnd = lineEnd;\n        if (d3_geo_areaRingSum < 0) λ0 = -(λ1 = 180), φ0 = -(φ1 = 90); else if (dλSum > ε) φ1 = 90; else if (dλSum < -ε) φ0 = -90;\n        range[0] = λ0, range[1] = λ1;\n      }\n    };\n    function point(λ, φ) {\n      ranges.push(range = [ λ0 = λ, λ1 = λ ]);\n      if (φ < φ0) φ0 = φ;\n      if (φ > φ1) φ1 = φ;\n    }\n    function linePoint(λ, φ) {\n      var p = d3_geo_cartesian([ λ * d3_radians, φ * d3_radians ]);\n      if (p0) {\n        var normal = d3_geo_cartesianCross(p0, p), equatorial = [ normal[1], -normal[0], 0 ], inflection = d3_geo_cartesianCross(equatorial, normal);\n        d3_geo_cartesianNormalize(inflection);\n        inflection = d3_geo_spherical(inflection);\n        var dλ = λ - λ_, s = dλ > 0 ? 1 : -1, λi = inflection[0] * d3_degrees * s, antimeridian = abs(dλ) > 180;\n        if (antimeridian ^ (s * λ_ < λi && λi < s * λ)) {\n          var φi = inflection[1] * d3_degrees;\n          if (φi > φ1) φ1 = φi;\n        } else if (λi = (λi + 360) % 360 - 180, antimeridian ^ (s * λ_ < λi && λi < s * λ)) {\n          var φi = -inflection[1] * d3_degrees;\n          if (φi < φ0) φ0 = φi;\n        } else {\n          if (φ < φ0) φ0 = φ;\n          if (φ > φ1) φ1 = φ;\n        }\n        if (antimeridian) {\n          if (λ < λ_) {\n            if (angle(λ0, λ) > angle(λ0, λ1)) λ1 = λ;\n          } else {\n            if (angle(λ, λ1) > angle(λ0, λ1)) λ0 = λ;\n          }\n        } else {\n          if (λ1 >= λ0) {\n            if (λ < λ0) λ0 = λ;\n            if (λ > λ1) λ1 = λ;\n          } else {\n            if (λ > λ_) {\n              if (angle(λ0, λ) > angle(λ0, λ1)) λ1 = λ;\n            } else {\n              if (angle(λ, λ1) > angle(λ0, λ1)) λ0 = λ;\n            }\n          }\n        }\n      } else {\n        point(λ, φ);\n      }\n      p0 = p, λ_ = λ;\n    }\n    function lineStart() {\n      bound.point = linePoint;\n    }\n    function lineEnd() {\n      range[0] = λ0, range[1] = λ1;\n      bound.point = point;\n      p0 = null;\n    }\n    function ringPoint(λ, φ) {\n      if (p0) {\n        var dλ = λ - λ_;\n        dλSum += abs(dλ) > 180 ? dλ + (dλ > 0 ? 360 : -360) : dλ;\n      } else λ__ = λ, φ__ = φ;\n      d3_geo_area.point(λ, φ);\n      linePoint(λ, φ);\n    }\n    function ringStart() {\n      d3_geo_area.lineStart();\n    }\n    function ringEnd() {\n      ringPoint(λ__, φ__);\n      d3_geo_area.lineEnd();\n      if (abs(dλSum) > ε) λ0 = -(λ1 = 180);\n      range[0] = λ0, range[1] = λ1;\n      p0 = null;\n    }\n    function angle(λ0, λ1) {\n      return (λ1 -= λ0) < 0 ? λ1 + 360 : λ1;\n    }\n    function compareRanges(a, b) {\n      return a[0] - b[0];\n    }\n    function withinRange(x, range) {\n      return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n    }\n    return function(feature) {\n      φ1 = λ1 = -(λ0 = φ0 = Infinity);\n      ranges = [];\n      d3.geo.stream(feature, bound);\n      var n = ranges.length;\n      if (n) {\n        ranges.sort(compareRanges);\n        for (var i = 1, a = ranges[0], b, merged = [ a ]; i < n; ++i) {\n          b = ranges[i];\n          if (withinRange(b[0], a) || withinRange(b[1], a)) {\n            if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n            if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n          } else {\n            merged.push(a = b);\n          }\n        }\n        var best = -Infinity, dλ;\n        for (var n = merged.length - 1, i = 0, a = merged[n], b; i <= n; a = b, ++i) {\n          b = merged[i];\n          if ((dλ = angle(a[1], b[0])) > best) best = dλ, λ0 = b[0], λ1 = a[1];\n        }\n      }\n      ranges = range = null;\n      return λ0 === Infinity || φ0 === Infinity ? [ [ NaN, NaN ], [ NaN, NaN ] ] : [ [ λ0, φ0 ], [ λ1, φ1 ] ];\n    };\n  }();\n  d3.geo.centroid = function(object) {\n    d3_geo_centroidW0 = d3_geo_centroidW1 = d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;\n    d3.geo.stream(object, d3_geo_centroid);\n    var x = d3_geo_centroidX2, y = d3_geo_centroidY2, z = d3_geo_centroidZ2, m = x * x + y * y + z * z;\n    if (m < ε2) {\n      x = d3_geo_centroidX1, y = d3_geo_centroidY1, z = d3_geo_centroidZ1;\n      if (d3_geo_centroidW1 < ε) x = d3_geo_centroidX0, y = d3_geo_centroidY0, z = d3_geo_centroidZ0;\n      m = x * x + y * y + z * z;\n      if (m < ε2) return [ NaN, NaN ];\n    }\n    return [ Math.atan2(y, x) * d3_degrees, d3_asin(z / Math.sqrt(m)) * d3_degrees ];\n  };\n  var d3_geo_centroidW0, d3_geo_centroidW1, d3_geo_centroidX0, d3_geo_centroidY0, d3_geo_centroidZ0, d3_geo_centroidX1, d3_geo_centroidY1, d3_geo_centroidZ1, d3_geo_centroidX2, d3_geo_centroidY2, d3_geo_centroidZ2;\n  var d3_geo_centroid = {\n    sphere: d3_noop,\n    point: d3_geo_centroidPoint,\n    lineStart: d3_geo_centroidLineStart,\n    lineEnd: d3_geo_centroidLineEnd,\n    polygonStart: function() {\n      d3_geo_centroid.lineStart = d3_geo_centroidRingStart;\n    },\n    polygonEnd: function() {\n      d3_geo_centroid.lineStart = d3_geo_centroidLineStart;\n    }\n  };\n  function d3_geo_centroidPoint(λ, φ) {\n    λ *= d3_radians;\n    var cosφ = Math.cos(φ *= d3_radians);\n    d3_geo_centroidPointXYZ(cosφ * Math.cos(λ), cosφ * Math.sin(λ), Math.sin(φ));\n  }\n  function d3_geo_centroidPointXYZ(x, y, z) {\n    ++d3_geo_centroidW0;\n    d3_geo_centroidX0 += (x - d3_geo_centroidX0) / d3_geo_centroidW0;\n    d3_geo_centroidY0 += (y - d3_geo_centroidY0) / d3_geo_centroidW0;\n    d3_geo_centroidZ0 += (z - d3_geo_centroidZ0) / d3_geo_centroidW0;\n  }\n  function d3_geo_centroidLineStart() {\n    var x0, y0, z0;\n    d3_geo_centroid.point = function(λ, φ) {\n      λ *= d3_radians;\n      var cosφ = Math.cos(φ *= d3_radians);\n      x0 = cosφ * Math.cos(λ);\n      y0 = cosφ * Math.sin(λ);\n      z0 = Math.sin(φ);\n      d3_geo_centroid.point = nextPoint;\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    };\n    function nextPoint(λ, φ) {\n      λ *= d3_radians;\n      var cosφ = Math.cos(φ *= d3_radians), x = cosφ * Math.cos(λ), y = cosφ * Math.sin(λ), z = Math.sin(φ), w = Math.atan2(Math.sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n      d3_geo_centroidW1 += w;\n      d3_geo_centroidX1 += w * (x0 + (x0 = x));\n      d3_geo_centroidY1 += w * (y0 + (y0 = y));\n      d3_geo_centroidZ1 += w * (z0 + (z0 = z));\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    }\n  }\n  function d3_geo_centroidLineEnd() {\n    d3_geo_centroid.point = d3_geo_centroidPoint;\n  }\n  function d3_geo_centroidRingStart() {\n    var λ00, φ00, x0, y0, z0;\n    d3_geo_centroid.point = function(λ, φ) {\n      λ00 = λ, φ00 = φ;\n      d3_geo_centroid.point = nextPoint;\n      λ *= d3_radians;\n      var cosφ = Math.cos(φ *= d3_radians);\n      x0 = cosφ * Math.cos(λ);\n      y0 = cosφ * Math.sin(λ);\n      z0 = Math.sin(φ);\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    };\n    d3_geo_centroid.lineEnd = function() {\n      nextPoint(λ00, φ00);\n      d3_geo_centroid.lineEnd = d3_geo_centroidLineEnd;\n      d3_geo_centroid.point = d3_geo_centroidPoint;\n    };\n    function nextPoint(λ, φ) {\n      λ *= d3_radians;\n      var cosφ = Math.cos(φ *= d3_radians), x = cosφ * Math.cos(λ), y = cosφ * Math.sin(λ), z = Math.sin(φ), cx = y0 * z - z0 * y, cy = z0 * x - x0 * z, cz = x0 * y - y0 * x, m = Math.sqrt(cx * cx + cy * cy + cz * cz), u = x0 * x + y0 * y + z0 * z, v = m && -d3_acos(u) / m, w = Math.atan2(m, u);\n      d3_geo_centroidX2 += v * cx;\n      d3_geo_centroidY2 += v * cy;\n      d3_geo_centroidZ2 += v * cz;\n      d3_geo_centroidW1 += w;\n      d3_geo_centroidX1 += w * (x0 + (x0 = x));\n      d3_geo_centroidY1 += w * (y0 + (y0 = y));\n      d3_geo_centroidZ1 += w * (z0 + (z0 = z));\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    }\n  }\n  function d3_geo_compose(a, b) {\n    function compose(x, y) {\n      return x = a(x, y), b(x[0], x[1]);\n    }\n    if (a.invert && b.invert) compose.invert = function(x, y) {\n      return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n    };\n    return compose;\n  }\n  function d3_true() {\n    return true;\n  }\n  function d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener) {\n    var subject = [], clip = [];\n    segments.forEach(function(segment) {\n      if ((n = segment.length - 1) <= 0) return;\n      var n, p0 = segment[0], p1 = segment[n];\n      if (d3_geo_sphericalEqual(p0, p1)) {\n        listener.lineStart();\n        for (var i = 0; i < n; ++i) listener.point((p0 = segment[i])[0], p0[1]);\n        listener.lineEnd();\n        return;\n      }\n      var a = new d3_geo_clipPolygonIntersection(p0, segment, null, true), b = new d3_geo_clipPolygonIntersection(p0, null, a, false);\n      a.o = b;\n      subject.push(a);\n      clip.push(b);\n      a = new d3_geo_clipPolygonIntersection(p1, segment, null, false);\n      b = new d3_geo_clipPolygonIntersection(p1, null, a, true);\n      a.o = b;\n      subject.push(a);\n      clip.push(b);\n    });\n    clip.sort(compare);\n    d3_geo_clipPolygonLinkCircular(subject);\n    d3_geo_clipPolygonLinkCircular(clip);\n    if (!subject.length) return;\n    for (var i = 0, entry = clipStartInside, n = clip.length; i < n; ++i) {\n      clip[i].e = entry = !entry;\n    }\n    var start = subject[0], points, point;\n    while (1) {\n      var current = start, isSubject = true;\n      while (current.v) if ((current = current.n) === start) return;\n      points = current.z;\n      listener.lineStart();\n      do {\n        current.v = current.o.v = true;\n        if (current.e) {\n          if (isSubject) {\n            for (var i = 0, n = points.length; i < n; ++i) listener.point((point = points[i])[0], point[1]);\n          } else {\n            interpolate(current.x, current.n.x, 1, listener);\n          }\n          current = current.n;\n        } else {\n          if (isSubject) {\n            points = current.p.z;\n            for (var i = points.length - 1; i >= 0; --i) listener.point((point = points[i])[0], point[1]);\n          } else {\n            interpolate(current.x, current.p.x, -1, listener);\n          }\n          current = current.p;\n        }\n        current = current.o;\n        points = current.z;\n        isSubject = !isSubject;\n      } while (!current.v);\n      listener.lineEnd();\n    }\n  }\n  function d3_geo_clipPolygonLinkCircular(array) {\n    if (!(n = array.length)) return;\n    var n, i = 0, a = array[0], b;\n    while (++i < n) {\n      a.n = b = array[i];\n      b.p = a;\n      a = b;\n    }\n    a.n = b = array[0];\n    b.p = a;\n  }\n  function d3_geo_clipPolygonIntersection(point, points, other, entry) {\n    this.x = point;\n    this.z = points;\n    this.o = other;\n    this.e = entry;\n    this.v = false;\n    this.n = this.p = null;\n  }\n  function d3_geo_clip(pointVisible, clipLine, interpolate, clipStart) {\n    return function(rotate, listener) {\n      var line = clipLine(listener), rotatedClipStart = rotate.invert(clipStart[0], clipStart[1]);\n      var clip = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function() {\n          clip.point = pointRing;\n          clip.lineStart = ringStart;\n          clip.lineEnd = ringEnd;\n          segments = [];\n          polygon = [];\n        },\n        polygonEnd: function() {\n          clip.point = point;\n          clip.lineStart = lineStart;\n          clip.lineEnd = lineEnd;\n          segments = d3.merge(segments);\n          var clipStartInside = d3_geo_pointInPolygon(rotatedClipStart, polygon);\n          if (segments.length) {\n            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n            d3_geo_clipPolygon(segments, d3_geo_clipSort, clipStartInside, interpolate, listener);\n          } else if (clipStartInside) {\n            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n            listener.lineStart();\n            interpolate(null, null, 1, listener);\n            listener.lineEnd();\n          }\n          if (polygonStarted) listener.polygonEnd(), polygonStarted = false;\n          segments = polygon = null;\n        },\n        sphere: function() {\n          listener.polygonStart();\n          listener.lineStart();\n          interpolate(null, null, 1, listener);\n          listener.lineEnd();\n          listener.polygonEnd();\n        }\n      };\n      function point(λ, φ) {\n        var point = rotate(λ, φ);\n        if (pointVisible(λ = point[0], φ = point[1])) listener.point(λ, φ);\n      }\n      function pointLine(λ, φ) {\n        var point = rotate(λ, φ);\n        line.point(point[0], point[1]);\n      }\n      function lineStart() {\n        clip.point = pointLine;\n        line.lineStart();\n      }\n      function lineEnd() {\n        clip.point = point;\n        line.lineEnd();\n      }\n      var segments;\n      var buffer = d3_geo_clipBufferListener(), ringListener = clipLine(buffer), polygonStarted = false, polygon, ring;\n      function pointRing(λ, φ) {\n        ring.push([ λ, φ ]);\n        var point = rotate(λ, φ);\n        ringListener.point(point[0], point[1]);\n      }\n      function ringStart() {\n        ringListener.lineStart();\n        ring = [];\n      }\n      function ringEnd() {\n        pointRing(ring[0][0], ring[0][1]);\n        ringListener.lineEnd();\n        var clean = ringListener.clean(), ringSegments = buffer.buffer(), segment, n = ringSegments.length;\n        ring.pop();\n        polygon.push(ring);\n        ring = null;\n        if (!n) return;\n        if (clean & 1) {\n          segment = ringSegments[0];\n          var n = segment.length - 1, i = -1, point;\n          if (n > 0) {\n            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n            listener.lineStart();\n            while (++i < n) listener.point((point = segment[i])[0], point[1]);\n            listener.lineEnd();\n          }\n          return;\n        }\n        if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n        segments.push(ringSegments.filter(d3_geo_clipSegmentLength1));\n      }\n      return clip;\n    };\n  }\n  function d3_geo_clipSegmentLength1(segment) {\n    return segment.length > 1;\n  }\n  function d3_geo_clipBufferListener() {\n    var lines = [], line;\n    return {\n      lineStart: function() {\n        lines.push(line = []);\n      },\n      point: function(λ, φ) {\n        line.push([ λ, φ ]);\n      },\n      lineEnd: d3_noop,\n      buffer: function() {\n        var buffer = lines;\n        lines = [];\n        line = null;\n        return buffer;\n      },\n      rejoin: function() {\n        if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n      }\n    };\n  }\n  function d3_geo_clipSort(a, b) {\n    return ((a = a.x)[0] < 0 ? a[1] - halfπ - ε : halfπ - a[1]) - ((b = b.x)[0] < 0 ? b[1] - halfπ - ε : halfπ - b[1]);\n  }\n  var d3_geo_clipAntimeridian = d3_geo_clip(d3_true, d3_geo_clipAntimeridianLine, d3_geo_clipAntimeridianInterpolate, [ -π, -π / 2 ]);\n  function d3_geo_clipAntimeridianLine(listener) {\n    var λ0 = NaN, φ0 = NaN, sλ0 = NaN, clean;\n    return {\n      lineStart: function() {\n        listener.lineStart();\n        clean = 1;\n      },\n      point: function(λ1, φ1) {\n        var sλ1 = λ1 > 0 ? π : -π, dλ = abs(λ1 - λ0);\n        if (abs(dλ - π) < ε) {\n          listener.point(λ0, φ0 = (φ0 + φ1) / 2 > 0 ? halfπ : -halfπ);\n          listener.point(sλ0, φ0);\n          listener.lineEnd();\n          listener.lineStart();\n          listener.point(sλ1, φ0);\n          listener.point(λ1, φ0);\n          clean = 0;\n        } else if (sλ0 !== sλ1 && dλ >= π) {\n          if (abs(λ0 - sλ0) < ε) λ0 -= sλ0 * ε;\n          if (abs(λ1 - sλ1) < ε) λ1 -= sλ1 * ε;\n          φ0 = d3_geo_clipAntimeridianIntersect(λ0, φ0, λ1, φ1);\n          listener.point(sλ0, φ0);\n          listener.lineEnd();\n          listener.lineStart();\n          listener.point(sλ1, φ0);\n          clean = 0;\n        }\n        listener.point(λ0 = λ1, φ0 = φ1);\n        sλ0 = sλ1;\n      },\n      lineEnd: function() {\n        listener.lineEnd();\n        λ0 = φ0 = NaN;\n      },\n      clean: function() {\n        return 2 - clean;\n      }\n    };\n  }\n  function d3_geo_clipAntimeridianIntersect(λ0, φ0, λ1, φ1) {\n    var cosφ0, cosφ1, sinλ0_λ1 = Math.sin(λ0 - λ1);\n    return abs(sinλ0_λ1) > ε ? Math.atan((Math.sin(φ0) * (cosφ1 = Math.cos(φ1)) * Math.sin(λ1) - Math.sin(φ1) * (cosφ0 = Math.cos(φ0)) * Math.sin(λ0)) / (cosφ0 * cosφ1 * sinλ0_λ1)) : (φ0 + φ1) / 2;\n  }\n  function d3_geo_clipAntimeridianInterpolate(from, to, direction, listener) {\n    var φ;\n    if (from == null) {\n      φ = direction * halfπ;\n      listener.point(-π, φ);\n      listener.point(0, φ);\n      listener.point(π, φ);\n      listener.point(π, 0);\n      listener.point(π, -φ);\n      listener.point(0, -φ);\n      listener.point(-π, -φ);\n      listener.point(-π, 0);\n      listener.point(-π, φ);\n    } else if (abs(from[0] - to[0]) > ε) {\n      var s = from[0] < to[0] ? π : -π;\n      φ = direction * s / 2;\n      listener.point(-s, φ);\n      listener.point(0, φ);\n      listener.point(s, φ);\n    } else {\n      listener.point(to[0], to[1]);\n    }\n  }\n  function d3_geo_pointInPolygon(point, polygon) {\n    var meridian = point[0], parallel = point[1], meridianNormal = [ Math.sin(meridian), -Math.cos(meridian), 0 ], polarAngle = 0, winding = 0;\n    d3_geo_areaRingSum.reset();\n    for (var i = 0, n = polygon.length; i < n; ++i) {\n      var ring = polygon[i], m = ring.length;\n      if (!m) continue;\n      var point0 = ring[0], λ0 = point0[0], φ0 = point0[1] / 2 + π / 4, sinφ0 = Math.sin(φ0), cosφ0 = Math.cos(φ0), j = 1;\n      while (true) {\n        if (j === m) j = 0;\n        point = ring[j];\n        var λ = point[0], φ = point[1] / 2 + π / 4, sinφ = Math.sin(φ), cosφ = Math.cos(φ), dλ = λ - λ0, sdλ = dλ >= 0 ? 1 : -1, adλ = sdλ * dλ, antimeridian = adλ > π, k = sinφ0 * sinφ;\n        d3_geo_areaRingSum.add(Math.atan2(k * sdλ * Math.sin(adλ), cosφ0 * cosφ + k * Math.cos(adλ)));\n        polarAngle += antimeridian ? dλ + sdλ * τ : dλ;\n        if (antimeridian ^ λ0 >= meridian ^ λ >= meridian) {\n          var arc = d3_geo_cartesianCross(d3_geo_cartesian(point0), d3_geo_cartesian(point));\n          d3_geo_cartesianNormalize(arc);\n          var intersection = d3_geo_cartesianCross(meridianNormal, arc);\n          d3_geo_cartesianNormalize(intersection);\n          var φarc = (antimeridian ^ dλ >= 0 ? -1 : 1) * d3_asin(intersection[2]);\n          if (parallel > φarc || parallel === φarc && (arc[0] || arc[1])) {\n            winding += antimeridian ^ dλ >= 0 ? 1 : -1;\n          }\n        }\n        if (!j++) break;\n        λ0 = λ, sinφ0 = sinφ, cosφ0 = cosφ, point0 = point;\n      }\n    }\n    return (polarAngle < -ε || polarAngle < ε && d3_geo_areaRingSum < -ε) ^ winding & 1;\n  }\n  function d3_geo_clipCircle(radius) {\n    var cr = Math.cos(radius), smallRadius = cr > 0, notHemisphere = abs(cr) > ε, interpolate = d3_geo_circleInterpolate(radius, 6 * d3_radians);\n    return d3_geo_clip(visible, clipLine, interpolate, smallRadius ? [ 0, -radius ] : [ -π, radius - π ]);\n    function visible(λ, φ) {\n      return Math.cos(λ) * Math.cos(φ) > cr;\n    }\n    function clipLine(listener) {\n      var point0, c0, v0, v00, clean;\n      return {\n        lineStart: function() {\n          v00 = v0 = false;\n          clean = 1;\n        },\n        point: function(λ, φ) {\n          var point1 = [ λ, φ ], point2, v = visible(λ, φ), c = smallRadius ? v ? 0 : code(λ, φ) : v ? code(λ + (λ < 0 ? π : -π), φ) : 0;\n          if (!point0 && (v00 = v0 = v)) listener.lineStart();\n          if (v !== v0) {\n            point2 = intersect(point0, point1);\n            if (d3_geo_sphericalEqual(point0, point2) || d3_geo_sphericalEqual(point1, point2)) {\n              point1[0] += ε;\n              point1[1] += ε;\n              v = visible(point1[0], point1[1]);\n            }\n          }\n          if (v !== v0) {\n            clean = 0;\n            if (v) {\n              listener.lineStart();\n              point2 = intersect(point1, point0);\n              listener.point(point2[0], point2[1]);\n            } else {\n              point2 = intersect(point0, point1);\n              listener.point(point2[0], point2[1]);\n              listener.lineEnd();\n            }\n            point0 = point2;\n          } else if (notHemisphere && point0 && smallRadius ^ v) {\n            var t;\n            if (!(c & c0) && (t = intersect(point1, point0, true))) {\n              clean = 0;\n              if (smallRadius) {\n                listener.lineStart();\n                listener.point(t[0][0], t[0][1]);\n                listener.point(t[1][0], t[1][1]);\n                listener.lineEnd();\n              } else {\n                listener.point(t[1][0], t[1][1]);\n                listener.lineEnd();\n                listener.lineStart();\n                listener.point(t[0][0], t[0][1]);\n              }\n            }\n          }\n          if (v && (!point0 || !d3_geo_sphericalEqual(point0, point1))) {\n            listener.point(point1[0], point1[1]);\n          }\n          point0 = point1, v0 = v, c0 = c;\n        },\n        lineEnd: function() {\n          if (v0) listener.lineEnd();\n          point0 = null;\n        },\n        clean: function() {\n          return clean | (v00 && v0) << 1;\n        }\n      };\n    }\n    function intersect(a, b, two) {\n      var pa = d3_geo_cartesian(a), pb = d3_geo_cartesian(b);\n      var n1 = [ 1, 0, 0 ], n2 = d3_geo_cartesianCross(pa, pb), n2n2 = d3_geo_cartesianDot(n2, n2), n1n2 = n2[0], determinant = n2n2 - n1n2 * n1n2;\n      if (!determinant) return !two && a;\n      var c1 = cr * n2n2 / determinant, c2 = -cr * n1n2 / determinant, n1xn2 = d3_geo_cartesianCross(n1, n2), A = d3_geo_cartesianScale(n1, c1), B = d3_geo_cartesianScale(n2, c2);\n      d3_geo_cartesianAdd(A, B);\n      var u = n1xn2, w = d3_geo_cartesianDot(A, u), uu = d3_geo_cartesianDot(u, u), t2 = w * w - uu * (d3_geo_cartesianDot(A, A) - 1);\n      if (t2 < 0) return;\n      var t = Math.sqrt(t2), q = d3_geo_cartesianScale(u, (-w - t) / uu);\n      d3_geo_cartesianAdd(q, A);\n      q = d3_geo_spherical(q);\n      if (!two) return q;\n      var λ0 = a[0], λ1 = b[0], φ0 = a[1], φ1 = b[1], z;\n      if (λ1 < λ0) z = λ0, λ0 = λ1, λ1 = z;\n      var δλ = λ1 - λ0, polar = abs(δλ - π) < ε, meridian = polar || δλ < ε;\n      if (!polar && φ1 < φ0) z = φ0, φ0 = φ1, φ1 = z;\n      if (meridian ? polar ? φ0 + φ1 > 0 ^ q[1] < (abs(q[0] - λ0) < ε ? φ0 : φ1) : φ0 <= q[1] && q[1] <= φ1 : δλ > π ^ (λ0 <= q[0] && q[0] <= λ1)) {\n        var q1 = d3_geo_cartesianScale(u, (-w + t) / uu);\n        d3_geo_cartesianAdd(q1, A);\n        return [ q, d3_geo_spherical(q1) ];\n      }\n    }\n    function code(λ, φ) {\n      var r = smallRadius ? radius : π - radius, code = 0;\n      if (λ < -r) code |= 1; else if (λ > r) code |= 2;\n      if (φ < -r) code |= 4; else if (φ > r) code |= 8;\n      return code;\n    }\n  }\n  function d3_geom_clipLine(x0, y0, x1, y1) {\n    return function(line) {\n      var a = line.a, b = line.b, ax = a.x, ay = a.y, bx = b.x, by = b.y, t0 = 0, t1 = 1, dx = bx - ax, dy = by - ay, r;\n      r = x0 - ax;\n      if (!dx && r > 0) return;\n      r /= dx;\n      if (dx < 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      } else if (dx > 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      }\n      r = x1 - ax;\n      if (!dx && r < 0) return;\n      r /= dx;\n      if (dx < 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      } else if (dx > 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      }\n      r = y0 - ay;\n      if (!dy && r > 0) return;\n      r /= dy;\n      if (dy < 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      } else if (dy > 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      }\n      r = y1 - ay;\n      if (!dy && r < 0) return;\n      r /= dy;\n      if (dy < 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      } else if (dy > 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      }\n      if (t0 > 0) line.a = {\n        x: ax + t0 * dx,\n        y: ay + t0 * dy\n      };\n      if (t1 < 1) line.b = {\n        x: ax + t1 * dx,\n        y: ay + t1 * dy\n      };\n      return line;\n    };\n  }\n  var d3_geo_clipExtentMAX = 1e9;\n  d3.geo.clipExtent = function() {\n    var x0, y0, x1, y1, stream, clip, clipExtent = {\n      stream: function(output) {\n        if (stream) stream.valid = false;\n        stream = clip(output);\n        stream.valid = true;\n        return stream;\n      },\n      extent: function(_) {\n        if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];\n        clip = d3_geo_clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]);\n        if (stream) stream.valid = false, stream = null;\n        return clipExtent;\n      }\n    };\n    return clipExtent.extent([ [ 0, 0 ], [ 960, 500 ] ]);\n  };\n  function d3_geo_clipExtent(x0, y0, x1, y1) {\n    return function(listener) {\n      var listener_ = listener, bufferListener = d3_geo_clipBufferListener(), clipLine = d3_geom_clipLine(x0, y0, x1, y1), segments, polygon, ring;\n      var clip = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function() {\n          listener = bufferListener;\n          segments = [];\n          polygon = [];\n          clean = true;\n        },\n        polygonEnd: function() {\n          listener = listener_;\n          segments = d3.merge(segments);\n          var clipStartInside = insidePolygon([ x0, y1 ]), inside = clean && clipStartInside, visible = segments.length;\n          if (inside || visible) {\n            listener.polygonStart();\n            if (inside) {\n              listener.lineStart();\n              interpolate(null, null, 1, listener);\n              listener.lineEnd();\n            }\n            if (visible) {\n              d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener);\n            }\n            listener.polygonEnd();\n          }\n          segments = polygon = ring = null;\n        }\n      };\n      function insidePolygon(p) {\n        var wn = 0, n = polygon.length, y = p[1];\n        for (var i = 0; i < n; ++i) {\n          for (var j = 1, v = polygon[i], m = v.length, a = v[0], b; j < m; ++j) {\n            b = v[j];\n            if (a[1] <= y) {\n              if (b[1] > y && d3_cross2d(a, b, p) > 0) ++wn;\n            } else {\n              if (b[1] <= y && d3_cross2d(a, b, p) < 0) --wn;\n            }\n            a = b;\n          }\n        }\n        return wn !== 0;\n      }\n      function interpolate(from, to, direction, listener) {\n        var a = 0, a1 = 0;\n        if (from == null || (a = corner(from, direction)) !== (a1 = corner(to, direction)) || comparePoints(from, to) < 0 ^ direction > 0) {\n          do {\n            listener.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n          } while ((a = (a + direction + 4) % 4) !== a1);\n        } else {\n          listener.point(to[0], to[1]);\n        }\n      }\n      function pointVisible(x, y) {\n        return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n      }\n      function point(x, y) {\n        if (pointVisible(x, y)) listener.point(x, y);\n      }\n      var x__, y__, v__, x_, y_, v_, first, clean;\n      function lineStart() {\n        clip.point = linePoint;\n        if (polygon) polygon.push(ring = []);\n        first = true;\n        v_ = false;\n        x_ = y_ = NaN;\n      }\n      function lineEnd() {\n        if (segments) {\n          linePoint(x__, y__);\n          if (v__ && v_) bufferListener.rejoin();\n          segments.push(bufferListener.buffer());\n        }\n        clip.point = point;\n        if (v_) listener.lineEnd();\n      }\n      function linePoint(x, y) {\n        x = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, x));\n        y = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, y));\n        var v = pointVisible(x, y);\n        if (polygon) ring.push([ x, y ]);\n        if (first) {\n          x__ = x, y__ = y, v__ = v;\n          first = false;\n          if (v) {\n            listener.lineStart();\n            listener.point(x, y);\n          }\n        } else {\n          if (v && v_) listener.point(x, y); else {\n            var l = {\n              a: {\n                x: x_,\n                y: y_\n              },\n              b: {\n                x: x,\n                y: y\n              }\n            };\n            if (clipLine(l)) {\n              if (!v_) {\n                listener.lineStart();\n                listener.point(l.a.x, l.a.y);\n              }\n              listener.point(l.b.x, l.b.y);\n              if (!v) listener.lineEnd();\n              clean = false;\n            } else if (v) {\n              listener.lineStart();\n              listener.point(x, y);\n              clean = false;\n            }\n          }\n        }\n        x_ = x, y_ = y, v_ = v;\n      }\n      return clip;\n    };\n    function corner(p, direction) {\n      return abs(p[0] - x0) < ε ? direction > 0 ? 0 : 3 : abs(p[0] - x1) < ε ? direction > 0 ? 2 : 1 : abs(p[1] - y0) < ε ? direction > 0 ? 1 : 0 : direction > 0 ? 3 : 2;\n    }\n    function compare(a, b) {\n      return comparePoints(a.x, b.x);\n    }\n    function comparePoints(a, b) {\n      var ca = corner(a, 1), cb = corner(b, 1);\n      return ca !== cb ? ca - cb : ca === 0 ? b[1] - a[1] : ca === 1 ? a[0] - b[0] : ca === 2 ? a[1] - b[1] : b[0] - a[0];\n    }\n  }\n  function d3_geo_conic(projectAt) {\n    var φ0 = 0, φ1 = π / 3, m = d3_geo_projectionMutator(projectAt), p = m(φ0, φ1);\n    p.parallels = function(_) {\n      if (!arguments.length) return [ φ0 / π * 180, φ1 / π * 180 ];\n      return m(φ0 = _[0] * π / 180, φ1 = _[1] * π / 180);\n    };\n    return p;\n  }\n  function d3_geo_conicEqualArea(φ0, φ1) {\n    var sinφ0 = Math.sin(φ0), n = (sinφ0 + Math.sin(φ1)) / 2, C = 1 + sinφ0 * (2 * n - sinφ0), ρ0 = Math.sqrt(C) / n;\n    function forward(λ, φ) {\n      var ρ = Math.sqrt(C - 2 * n * Math.sin(φ)) / n;\n      return [ ρ * Math.sin(λ *= n), ρ0 - ρ * Math.cos(λ) ];\n    }\n    forward.invert = function(x, y) {\n      var ρ0_y = ρ0 - y;\n      return [ Math.atan2(x, ρ0_y) / n, d3_asin((C - (x * x + ρ0_y * ρ0_y) * n * n) / (2 * n)) ];\n    };\n    return forward;\n  }\n  (d3.geo.conicEqualArea = function() {\n    return d3_geo_conic(d3_geo_conicEqualArea);\n  }).raw = d3_geo_conicEqualArea;\n  d3.geo.albers = function() {\n    return d3.geo.conicEqualArea().rotate([ 96, 0 ]).center([ -.6, 38.7 ]).parallels([ 29.5, 45.5 ]).scale(1070);\n  };\n  d3.geo.albersUsa = function() {\n    var lower48 = d3.geo.albers();\n    var alaska = d3.geo.conicEqualArea().rotate([ 154, 0 ]).center([ -2, 58.5 ]).parallels([ 55, 65 ]);\n    var hawaii = d3.geo.conicEqualArea().rotate([ 157, 0 ]).center([ -3, 19.9 ]).parallels([ 8, 18 ]);\n    var point, pointStream = {\n      point: function(x, y) {\n        point = [ x, y ];\n      }\n    }, lower48Point, alaskaPoint, hawaiiPoint;\n    function albersUsa(coordinates) {\n      var x = coordinates[0], y = coordinates[1];\n      point = null;\n      (lower48Point(x, y), point) || (alaskaPoint(x, y), point) || hawaiiPoint(x, y);\n      return point;\n    }\n    albersUsa.invert = function(coordinates) {\n      var k = lower48.scale(), t = lower48.translate(), x = (coordinates[0] - t[0]) / k, y = (coordinates[1] - t[1]) / k;\n      return (y >= .12 && y < .234 && x >= -.425 && x < -.214 ? alaska : y >= .166 && y < .234 && x >= -.214 && x < -.115 ? hawaii : lower48).invert(coordinates);\n    };\n    albersUsa.stream = function(stream) {\n      var lower48Stream = lower48.stream(stream), alaskaStream = alaska.stream(stream), hawaiiStream = hawaii.stream(stream);\n      return {\n        point: function(x, y) {\n          lower48Stream.point(x, y);\n          alaskaStream.point(x, y);\n          hawaiiStream.point(x, y);\n        },\n        sphere: function() {\n          lower48Stream.sphere();\n          alaskaStream.sphere();\n          hawaiiStream.sphere();\n        },\n        lineStart: function() {\n          lower48Stream.lineStart();\n          alaskaStream.lineStart();\n          hawaiiStream.lineStart();\n        },\n        lineEnd: function() {\n          lower48Stream.lineEnd();\n          alaskaStream.lineEnd();\n          hawaiiStream.lineEnd();\n        },\n        polygonStart: function() {\n          lower48Stream.polygonStart();\n          alaskaStream.polygonStart();\n          hawaiiStream.polygonStart();\n        },\n        polygonEnd: function() {\n          lower48Stream.polygonEnd();\n          alaskaStream.polygonEnd();\n          hawaiiStream.polygonEnd();\n        }\n      };\n    };\n    albersUsa.precision = function(_) {\n      if (!arguments.length) return lower48.precision();\n      lower48.precision(_);\n      alaska.precision(_);\n      hawaii.precision(_);\n      return albersUsa;\n    };\n    albersUsa.scale = function(_) {\n      if (!arguments.length) return lower48.scale();\n      lower48.scale(_);\n      alaska.scale(_ * .35);\n      hawaii.scale(_);\n      return albersUsa.translate(lower48.translate());\n    };\n    albersUsa.translate = function(_) {\n      if (!arguments.length) return lower48.translate();\n      var k = lower48.scale(), x = +_[0], y = +_[1];\n      lower48Point = lower48.translate(_).clipExtent([ [ x - .455 * k, y - .238 * k ], [ x + .455 * k, y + .238 * k ] ]).stream(pointStream).point;\n      alaskaPoint = alaska.translate([ x - .307 * k, y + .201 * k ]).clipExtent([ [ x - .425 * k + ε, y + .12 * k + ε ], [ x - .214 * k - ε, y + .234 * k - ε ] ]).stream(pointStream).point;\n      hawaiiPoint = hawaii.translate([ x - .205 * k, y + .212 * k ]).clipExtent([ [ x - .214 * k + ε, y + .166 * k + ε ], [ x - .115 * k - ε, y + .234 * k - ε ] ]).stream(pointStream).point;\n      return albersUsa;\n    };\n    return albersUsa.scale(1070);\n  };\n  var d3_geo_pathAreaSum, d3_geo_pathAreaPolygon, d3_geo_pathArea = {\n    point: d3_noop,\n    lineStart: d3_noop,\n    lineEnd: d3_noop,\n    polygonStart: function() {\n      d3_geo_pathAreaPolygon = 0;\n      d3_geo_pathArea.lineStart = d3_geo_pathAreaRingStart;\n    },\n    polygonEnd: function() {\n      d3_geo_pathArea.lineStart = d3_geo_pathArea.lineEnd = d3_geo_pathArea.point = d3_noop;\n      d3_geo_pathAreaSum += abs(d3_geo_pathAreaPolygon / 2);\n    }\n  };\n  function d3_geo_pathAreaRingStart() {\n    var x00, y00, x0, y0;\n    d3_geo_pathArea.point = function(x, y) {\n      d3_geo_pathArea.point = nextPoint;\n      x00 = x0 = x, y00 = y0 = y;\n    };\n    function nextPoint(x, y) {\n      d3_geo_pathAreaPolygon += y0 * x - x0 * y;\n      x0 = x, y0 = y;\n    }\n    d3_geo_pathArea.lineEnd = function() {\n      nextPoint(x00, y00);\n    };\n  }\n  var d3_geo_pathBoundsX0, d3_geo_pathBoundsY0, d3_geo_pathBoundsX1, d3_geo_pathBoundsY1;\n  var d3_geo_pathBounds = {\n    point: d3_geo_pathBoundsPoint,\n    lineStart: d3_noop,\n    lineEnd: d3_noop,\n    polygonStart: d3_noop,\n    polygonEnd: d3_noop\n  };\n  function d3_geo_pathBoundsPoint(x, y) {\n    if (x < d3_geo_pathBoundsX0) d3_geo_pathBoundsX0 = x;\n    if (x > d3_geo_pathBoundsX1) d3_geo_pathBoundsX1 = x;\n    if (y < d3_geo_pathBoundsY0) d3_geo_pathBoundsY0 = y;\n    if (y > d3_geo_pathBoundsY1) d3_geo_pathBoundsY1 = y;\n  }\n  function d3_geo_pathBuffer() {\n    var pointCircle = d3_geo_pathBufferCircle(4.5), buffer = [];\n    var stream = {\n      point: point,\n      lineStart: function() {\n        stream.point = pointLineStart;\n      },\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        stream.lineEnd = lineEndPolygon;\n      },\n      polygonEnd: function() {\n        stream.lineEnd = lineEnd;\n        stream.point = point;\n      },\n      pointRadius: function(_) {\n        pointCircle = d3_geo_pathBufferCircle(_);\n        return stream;\n      },\n      result: function() {\n        if (buffer.length) {\n          var result = buffer.join(\"\");\n          buffer = [];\n          return result;\n        }\n      }\n    };\n    function point(x, y) {\n      buffer.push(\"M\", x, \",\", y, pointCircle);\n    }\n    function pointLineStart(x, y) {\n      buffer.push(\"M\", x, \",\", y);\n      stream.point = pointLine;\n    }\n    function pointLine(x, y) {\n      buffer.push(\"L\", x, \",\", y);\n    }\n    function lineEnd() {\n      stream.point = point;\n    }\n    function lineEndPolygon() {\n      buffer.push(\"Z\");\n    }\n    return stream;\n  }\n  function d3_geo_pathBufferCircle(radius) {\n    return \"m0,\" + radius + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius + \"z\";\n  }\n  var d3_geo_pathCentroid = {\n    point: d3_geo_pathCentroidPoint,\n    lineStart: d3_geo_pathCentroidLineStart,\n    lineEnd: d3_geo_pathCentroidLineEnd,\n    polygonStart: function() {\n      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidRingStart;\n    },\n    polygonEnd: function() {\n      d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;\n      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidLineStart;\n      d3_geo_pathCentroid.lineEnd = d3_geo_pathCentroidLineEnd;\n    }\n  };\n  function d3_geo_pathCentroidPoint(x, y) {\n    d3_geo_centroidX0 += x;\n    d3_geo_centroidY0 += y;\n    ++d3_geo_centroidZ0;\n  }\n  function d3_geo_pathCentroidLineStart() {\n    var x0, y0;\n    d3_geo_pathCentroid.point = function(x, y) {\n      d3_geo_pathCentroid.point = nextPoint;\n      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n    };\n    function nextPoint(x, y) {\n      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);\n      d3_geo_centroidX1 += z * (x0 + x) / 2;\n      d3_geo_centroidY1 += z * (y0 + y) / 2;\n      d3_geo_centroidZ1 += z;\n      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n    }\n  }\n  function d3_geo_pathCentroidLineEnd() {\n    d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;\n  }\n  function d3_geo_pathCentroidRingStart() {\n    var x00, y00, x0, y0;\n    d3_geo_pathCentroid.point = function(x, y) {\n      d3_geo_pathCentroid.point = nextPoint;\n      d3_geo_pathCentroidPoint(x00 = x0 = x, y00 = y0 = y);\n    };\n    function nextPoint(x, y) {\n      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);\n      d3_geo_centroidX1 += z * (x0 + x) / 2;\n      d3_geo_centroidY1 += z * (y0 + y) / 2;\n      d3_geo_centroidZ1 += z;\n      z = y0 * x - x0 * y;\n      d3_geo_centroidX2 += z * (x0 + x);\n      d3_geo_centroidY2 += z * (y0 + y);\n      d3_geo_centroidZ2 += z * 3;\n      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n    }\n    d3_geo_pathCentroid.lineEnd = function() {\n      nextPoint(x00, y00);\n    };\n  }\n  function d3_geo_pathContext(context) {\n    var pointRadius = 4.5;\n    var stream = {\n      point: point,\n      lineStart: function() {\n        stream.point = pointLineStart;\n      },\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        stream.lineEnd = lineEndPolygon;\n      },\n      polygonEnd: function() {\n        stream.lineEnd = lineEnd;\n        stream.point = point;\n      },\n      pointRadius: function(_) {\n        pointRadius = _;\n        return stream;\n      },\n      result: d3_noop\n    };\n    function point(x, y) {\n      context.moveTo(x + pointRadius, y);\n      context.arc(x, y, pointRadius, 0, τ);\n    }\n    function pointLineStart(x, y) {\n      context.moveTo(x, y);\n      stream.point = pointLine;\n    }\n    function pointLine(x, y) {\n      context.lineTo(x, y);\n    }\n    function lineEnd() {\n      stream.point = point;\n    }\n    function lineEndPolygon() {\n      context.closePath();\n    }\n    return stream;\n  }\n  function d3_geo_resample(project) {\n    var δ2 = .5, cosMinDistance = Math.cos(30 * d3_radians), maxDepth = 16;\n    function resample(stream) {\n      return (maxDepth ? resampleRecursive : resampleNone)(stream);\n    }\n    function resampleNone(stream) {\n      return d3_geo_transformPoint(stream, function(x, y) {\n        x = project(x, y);\n        stream.point(x[0], x[1]);\n      });\n    }\n    function resampleRecursive(stream) {\n      var λ00, φ00, x00, y00, a00, b00, c00, λ0, x0, y0, a0, b0, c0;\n      var resample = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function() {\n          stream.polygonStart();\n          resample.lineStart = ringStart;\n        },\n        polygonEnd: function() {\n          stream.polygonEnd();\n          resample.lineStart = lineStart;\n        }\n      };\n      function point(x, y) {\n        x = project(x, y);\n        stream.point(x[0], x[1]);\n      }\n      function lineStart() {\n        x0 = NaN;\n        resample.point = linePoint;\n        stream.lineStart();\n      }\n      function linePoint(λ, φ) {\n        var c = d3_geo_cartesian([ λ, φ ]), p = project(λ, φ);\n        resampleLineTo(x0, y0, λ0, a0, b0, c0, x0 = p[0], y0 = p[1], λ0 = λ, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n        stream.point(x0, y0);\n      }\n      function lineEnd() {\n        resample.point = point;\n        stream.lineEnd();\n      }\n      function ringStart() {\n        lineStart();\n        resample.point = ringPoint;\n        resample.lineEnd = ringEnd;\n      }\n      function ringPoint(λ, φ) {\n        linePoint(λ00 = λ, φ00 = φ), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n        resample.point = linePoint;\n      }\n      function ringEnd() {\n        resampleLineTo(x0, y0, λ0, a0, b0, c0, x00, y00, λ00, a00, b00, c00, maxDepth, stream);\n        resample.lineEnd = lineEnd;\n        lineEnd();\n      }\n      return resample;\n    }\n    function resampleLineTo(x0, y0, λ0, a0, b0, c0, x1, y1, λ1, a1, b1, c1, depth, stream) {\n      var dx = x1 - x0, dy = y1 - y0, d2 = dx * dx + dy * dy;\n      if (d2 > 4 * δ2 && depth--) {\n        var a = a0 + a1, b = b0 + b1, c = c0 + c1, m = Math.sqrt(a * a + b * b + c * c), φ2 = Math.asin(c /= m), λ2 = abs(abs(c) - 1) < ε || abs(λ0 - λ1) < ε ? (λ0 + λ1) / 2 : Math.atan2(b, a), p = project(λ2, φ2), x2 = p[0], y2 = p[1], dx2 = x2 - x0, dy2 = y2 - y0, dz = dy * dx2 - dx * dy2;\n        if (dz * dz / d2 > δ2 || abs((dx * dx2 + dy * dy2) / d2 - .5) > .3 || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) {\n          resampleLineTo(x0, y0, λ0, a0, b0, c0, x2, y2, λ2, a /= m, b /= m, c, depth, stream);\n          stream.point(x2, y2);\n          resampleLineTo(x2, y2, λ2, a, b, c, x1, y1, λ1, a1, b1, c1, depth, stream);\n        }\n      }\n    }\n    resample.precision = function(_) {\n      if (!arguments.length) return Math.sqrt(δ2);\n      maxDepth = (δ2 = _ * _) > 0 && 16;\n      return resample;\n    };\n    return resample;\n  }\n  d3.geo.path = function() {\n    var pointRadius = 4.5, projection, context, projectStream, contextStream, cacheStream;\n    function path(object) {\n      if (object) {\n        if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n        if (!cacheStream || !cacheStream.valid) cacheStream = projectStream(contextStream);\n        d3.geo.stream(object, cacheStream);\n      }\n      return contextStream.result();\n    }\n    path.area = function(object) {\n      d3_geo_pathAreaSum = 0;\n      d3.geo.stream(object, projectStream(d3_geo_pathArea));\n      return d3_geo_pathAreaSum;\n    };\n    path.centroid = function(object) {\n      d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;\n      d3.geo.stream(object, projectStream(d3_geo_pathCentroid));\n      return d3_geo_centroidZ2 ? [ d3_geo_centroidX2 / d3_geo_centroidZ2, d3_geo_centroidY2 / d3_geo_centroidZ2 ] : d3_geo_centroidZ1 ? [ d3_geo_centroidX1 / d3_geo_centroidZ1, d3_geo_centroidY1 / d3_geo_centroidZ1 ] : d3_geo_centroidZ0 ? [ d3_geo_centroidX0 / d3_geo_centroidZ0, d3_geo_centroidY0 / d3_geo_centroidZ0 ] : [ NaN, NaN ];\n    };\n    path.bounds = function(object) {\n      d3_geo_pathBoundsX1 = d3_geo_pathBoundsY1 = -(d3_geo_pathBoundsX0 = d3_geo_pathBoundsY0 = Infinity);\n      d3.geo.stream(object, projectStream(d3_geo_pathBounds));\n      return [ [ d3_geo_pathBoundsX0, d3_geo_pathBoundsY0 ], [ d3_geo_pathBoundsX1, d3_geo_pathBoundsY1 ] ];\n    };\n    path.projection = function(_) {\n      if (!arguments.length) return projection;\n      projectStream = (projection = _) ? _.stream || d3_geo_pathProjectStream(_) : d3_identity;\n      return reset();\n    };\n    path.context = function(_) {\n      if (!arguments.length) return context;\n      contextStream = (context = _) == null ? new d3_geo_pathBuffer() : new d3_geo_pathContext(_);\n      if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n      return reset();\n    };\n    path.pointRadius = function(_) {\n      if (!arguments.length) return pointRadius;\n      pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n      return path;\n    };\n    function reset() {\n      cacheStream = null;\n      return path;\n    }\n    return path.projection(d3.geo.albersUsa()).context(null);\n  };\n  function d3_geo_pathProjectStream(project) {\n    var resample = d3_geo_resample(function(x, y) {\n      return project([ x * d3_degrees, y * d3_degrees ]);\n    });\n    return function(stream) {\n      return d3_geo_projectionRadians(resample(stream));\n    };\n  }\n  d3.geo.transform = function(methods) {\n    return {\n      stream: function(stream) {\n        var transform = new d3_geo_transform(stream);\n        for (var k in methods) transform[k] = methods[k];\n        return transform;\n      }\n    };\n  };\n  function d3_geo_transform(stream) {\n    this.stream = stream;\n  }\n  d3_geo_transform.prototype = {\n    point: function(x, y) {\n      this.stream.point(x, y);\n    },\n    sphere: function() {\n      this.stream.sphere();\n    },\n    lineStart: function() {\n      this.stream.lineStart();\n    },\n    lineEnd: function() {\n      this.stream.lineEnd();\n    },\n    polygonStart: function() {\n      this.stream.polygonStart();\n    },\n    polygonEnd: function() {\n      this.stream.polygonEnd();\n    }\n  };\n  function d3_geo_transformPoint(stream, point) {\n    return {\n      point: point,\n      sphere: function() {\n        stream.sphere();\n      },\n      lineStart: function() {\n        stream.lineStart();\n      },\n      lineEnd: function() {\n        stream.lineEnd();\n      },\n      polygonStart: function() {\n        stream.polygonStart();\n      },\n      polygonEnd: function() {\n        stream.polygonEnd();\n      }\n    };\n  }\n  d3.geo.projection = d3_geo_projection;\n  d3.geo.projectionMutator = d3_geo_projectionMutator;\n  function d3_geo_projection(project) {\n    return d3_geo_projectionMutator(function() {\n      return project;\n    })();\n  }\n  function d3_geo_projectionMutator(projectAt) {\n    var project, rotate, projectRotate, projectResample = d3_geo_resample(function(x, y) {\n      x = project(x, y);\n      return [ x[0] * k + δx, δy - x[1] * k ];\n    }), k = 150, x = 480, y = 250, λ = 0, φ = 0, δλ = 0, δφ = 0, δγ = 0, δx, δy, preclip = d3_geo_clipAntimeridian, postclip = d3_identity, clipAngle = null, clipExtent = null, stream;\n    function projection(point) {\n      point = projectRotate(point[0] * d3_radians, point[1] * d3_radians);\n      return [ point[0] * k + δx, δy - point[1] * k ];\n    }\n    function invert(point) {\n      point = projectRotate.invert((point[0] - δx) / k, (δy - point[1]) / k);\n      return point && [ point[0] * d3_degrees, point[1] * d3_degrees ];\n    }\n    projection.stream = function(output) {\n      if (stream) stream.valid = false;\n      stream = d3_geo_projectionRadians(preclip(rotate, projectResample(postclip(output))));\n      stream.valid = true;\n      return stream;\n    };\n    projection.clipAngle = function(_) {\n      if (!arguments.length) return clipAngle;\n      preclip = _ == null ? (clipAngle = _, d3_geo_clipAntimeridian) : d3_geo_clipCircle((clipAngle = +_) * d3_radians);\n      return invalidate();\n    };\n    projection.clipExtent = function(_) {\n      if (!arguments.length) return clipExtent;\n      clipExtent = _;\n      postclip = _ ? d3_geo_clipExtent(_[0][0], _[0][1], _[1][0], _[1][1]) : d3_identity;\n      return invalidate();\n    };\n    projection.scale = function(_) {\n      if (!arguments.length) return k;\n      k = +_;\n      return reset();\n    };\n    projection.translate = function(_) {\n      if (!arguments.length) return [ x, y ];\n      x = +_[0];\n      y = +_[1];\n      return reset();\n    };\n    projection.center = function(_) {\n      if (!arguments.length) return [ λ * d3_degrees, φ * d3_degrees ];\n      λ = _[0] % 360 * d3_radians;\n      φ = _[1] % 360 * d3_radians;\n      return reset();\n    };\n    projection.rotate = function(_) {\n      if (!arguments.length) return [ δλ * d3_degrees, δφ * d3_degrees, δγ * d3_degrees ];\n      δλ = _[0] % 360 * d3_radians;\n      δφ = _[1] % 360 * d3_radians;\n      δγ = _.length > 2 ? _[2] % 360 * d3_radians : 0;\n      return reset();\n    };\n    d3.rebind(projection, projectResample, \"precision\");\n    function reset() {\n      projectRotate = d3_geo_compose(rotate = d3_geo_rotation(δλ, δφ, δγ), project);\n      var center = project(λ, φ);\n      δx = x - center[0] * k;\n      δy = y + center[1] * k;\n      return invalidate();\n    }\n    function invalidate() {\n      if (stream) stream.valid = false, stream = null;\n      return projection;\n    }\n    return function() {\n      project = projectAt.apply(this, arguments);\n      projection.invert = project.invert && invert;\n      return reset();\n    };\n  }\n  function d3_geo_projectionRadians(stream) {\n    return d3_geo_transformPoint(stream, function(x, y) {\n      stream.point(x * d3_radians, y * d3_radians);\n    });\n  }\n  function d3_geo_equirectangular(λ, φ) {\n    return [ λ, φ ];\n  }\n  (d3.geo.equirectangular = function() {\n    return d3_geo_projection(d3_geo_equirectangular);\n  }).raw = d3_geo_equirectangular.invert = d3_geo_equirectangular;\n  d3.geo.rotation = function(rotate) {\n    rotate = d3_geo_rotation(rotate[0] % 360 * d3_radians, rotate[1] * d3_radians, rotate.length > 2 ? rotate[2] * d3_radians : 0);\n    function forward(coordinates) {\n      coordinates = rotate(coordinates[0] * d3_radians, coordinates[1] * d3_radians);\n      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;\n    }\n    forward.invert = function(coordinates) {\n      coordinates = rotate.invert(coordinates[0] * d3_radians, coordinates[1] * d3_radians);\n      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;\n    };\n    return forward;\n  };\n  function d3_geo_identityRotation(λ, φ) {\n    return [ λ > π ? λ - τ : λ < -π ? λ + τ : λ, φ ];\n  }\n  d3_geo_identityRotation.invert = d3_geo_equirectangular;\n  function d3_geo_rotation(δλ, δφ, δγ) {\n    return δλ ? δφ || δγ ? d3_geo_compose(d3_geo_rotationλ(δλ), d3_geo_rotationφγ(δφ, δγ)) : d3_geo_rotationλ(δλ) : δφ || δγ ? d3_geo_rotationφγ(δφ, δγ) : d3_geo_identityRotation;\n  }\n  function d3_geo_forwardRotationλ(δλ) {\n    return function(λ, φ) {\n      return λ += δλ, [ λ > π ? λ - τ : λ < -π ? λ + τ : λ, φ ];\n    };\n  }\n  function d3_geo_rotationλ(δλ) {\n    var rotation = d3_geo_forwardRotationλ(δλ);\n    rotation.invert = d3_geo_forwardRotationλ(-δλ);\n    return rotation;\n  }\n  function d3_geo_rotationφγ(δφ, δγ) {\n    var cosδφ = Math.cos(δφ), sinδφ = Math.sin(δφ), cosδγ = Math.cos(δγ), sinδγ = Math.sin(δγ);\n    function rotation(λ, φ) {\n      var cosφ = Math.cos(φ), x = Math.cos(λ) * cosφ, y = Math.sin(λ) * cosφ, z = Math.sin(φ), k = z * cosδφ + x * sinδφ;\n      return [ Math.atan2(y * cosδγ - k * sinδγ, x * cosδφ - z * sinδφ), d3_asin(k * cosδγ + y * sinδγ) ];\n    }\n    rotation.invert = function(λ, φ) {\n      var cosφ = Math.cos(φ), x = Math.cos(λ) * cosφ, y = Math.sin(λ) * cosφ, z = Math.sin(φ), k = z * cosδγ - y * sinδγ;\n      return [ Math.atan2(y * cosδγ + z * sinδγ, x * cosδφ + k * sinδφ), d3_asin(k * cosδφ - x * sinδφ) ];\n    };\n    return rotation;\n  }\n  d3.geo.circle = function() {\n    var origin = [ 0, 0 ], angle, precision = 6, interpolate;\n    function circle() {\n      var center = typeof origin === \"function\" ? origin.apply(this, arguments) : origin, rotate = d3_geo_rotation(-center[0] * d3_radians, -center[1] * d3_radians, 0).invert, ring = [];\n      interpolate(null, null, 1, {\n        point: function(x, y) {\n          ring.push(x = rotate(x, y));\n          x[0] *= d3_degrees, x[1] *= d3_degrees;\n        }\n      });\n      return {\n        type: \"Polygon\",\n        coordinates: [ ring ]\n      };\n    }\n    circle.origin = function(x) {\n      if (!arguments.length) return origin;\n      origin = x;\n      return circle;\n    };\n    circle.angle = function(x) {\n      if (!arguments.length) return angle;\n      interpolate = d3_geo_circleInterpolate((angle = +x) * d3_radians, precision * d3_radians);\n      return circle;\n    };\n    circle.precision = function(_) {\n      if (!arguments.length) return precision;\n      interpolate = d3_geo_circleInterpolate(angle * d3_radians, (precision = +_) * d3_radians);\n      return circle;\n    };\n    return circle.angle(90);\n  };\n  function d3_geo_circleInterpolate(radius, precision) {\n    var cr = Math.cos(radius), sr = Math.sin(radius);\n    return function(from, to, direction, listener) {\n      var step = direction * precision;\n      if (from != null) {\n        from = d3_geo_circleAngle(cr, from);\n        to = d3_geo_circleAngle(cr, to);\n        if (direction > 0 ? from < to : from > to) from += direction * τ;\n      } else {\n        from = radius + direction * τ;\n        to = radius - .5 * step;\n      }\n      for (var point, t = from; direction > 0 ? t > to : t < to; t -= step) {\n        listener.point((point = d3_geo_spherical([ cr, -sr * Math.cos(t), -sr * Math.sin(t) ]))[0], point[1]);\n      }\n    };\n  }\n  function d3_geo_circleAngle(cr, point) {\n    var a = d3_geo_cartesian(point);\n    a[0] -= cr;\n    d3_geo_cartesianNormalize(a);\n    var angle = d3_acos(-a[1]);\n    return ((-a[2] < 0 ? -angle : angle) + 2 * Math.PI - ε) % (2 * Math.PI);\n  }\n  d3.geo.distance = function(a, b) {\n    var Δλ = (b[0] - a[0]) * d3_radians, φ0 = a[1] * d3_radians, φ1 = b[1] * d3_radians, sinΔλ = Math.sin(Δλ), cosΔλ = Math.cos(Δλ), sinφ0 = Math.sin(φ0), cosφ0 = Math.cos(φ0), sinφ1 = Math.sin(φ1), cosφ1 = Math.cos(φ1), t;\n    return Math.atan2(Math.sqrt((t = cosφ1 * sinΔλ) * t + (t = cosφ0 * sinφ1 - sinφ0 * cosφ1 * cosΔλ) * t), sinφ0 * sinφ1 + cosφ0 * cosφ1 * cosΔλ);\n  };\n  d3.geo.graticule = function() {\n    var x1, x0, X1, X0, y1, y0, Y1, Y0, dx = 10, dy = dx, DX = 90, DY = 360, x, y, X, Y, precision = 2.5;\n    function graticule() {\n      return {\n        type: \"MultiLineString\",\n        coordinates: lines()\n      };\n    }\n    function lines() {\n      return d3.range(Math.ceil(X0 / DX) * DX, X1, DX).map(X).concat(d3.range(Math.ceil(Y0 / DY) * DY, Y1, DY).map(Y)).concat(d3.range(Math.ceil(x0 / dx) * dx, x1, dx).filter(function(x) {\n        return abs(x % DX) > ε;\n      }).map(x)).concat(d3.range(Math.ceil(y0 / dy) * dy, y1, dy).filter(function(y) {\n        return abs(y % DY) > ε;\n      }).map(y));\n    }\n    graticule.lines = function() {\n      return lines().map(function(coordinates) {\n        return {\n          type: \"LineString\",\n          coordinates: coordinates\n        };\n      });\n    };\n    graticule.outline = function() {\n      return {\n        type: \"Polygon\",\n        coordinates: [ X(X0).concat(Y(Y1).slice(1), X(X1).reverse().slice(1), Y(Y0).reverse().slice(1)) ]\n      };\n    };\n    graticule.extent = function(_) {\n      if (!arguments.length) return graticule.minorExtent();\n      return graticule.majorExtent(_).minorExtent(_);\n    };\n    graticule.majorExtent = function(_) {\n      if (!arguments.length) return [ [ X0, Y0 ], [ X1, Y1 ] ];\n      X0 = +_[0][0], X1 = +_[1][0];\n      Y0 = +_[0][1], Y1 = +_[1][1];\n      if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n      if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n      return graticule.precision(precision);\n    };\n    graticule.minorExtent = function(_) {\n      if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];\n      x0 = +_[0][0], x1 = +_[1][0];\n      y0 = +_[0][1], y1 = +_[1][1];\n      if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n      if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n      return graticule.precision(precision);\n    };\n    graticule.step = function(_) {\n      if (!arguments.length) return graticule.minorStep();\n      return graticule.majorStep(_).minorStep(_);\n    };\n    graticule.majorStep = function(_) {\n      if (!arguments.length) return [ DX, DY ];\n      DX = +_[0], DY = +_[1];\n      return graticule;\n    };\n    graticule.minorStep = function(_) {\n      if (!arguments.length) return [ dx, dy ];\n      dx = +_[0], dy = +_[1];\n      return graticule;\n    };\n    graticule.precision = function(_) {\n      if (!arguments.length) return precision;\n      precision = +_;\n      x = d3_geo_graticuleX(y0, y1, 90);\n      y = d3_geo_graticuleY(x0, x1, precision);\n      X = d3_geo_graticuleX(Y0, Y1, 90);\n      Y = d3_geo_graticuleY(X0, X1, precision);\n      return graticule;\n    };\n    return graticule.majorExtent([ [ -180, -90 + ε ], [ 180, 90 - ε ] ]).minorExtent([ [ -180, -80 - ε ], [ 180, 80 + ε ] ]);\n  };\n  function d3_geo_graticuleX(y0, y1, dy) {\n    var y = d3.range(y0, y1 - ε, dy).concat(y1);\n    return function(x) {\n      return y.map(function(y) {\n        return [ x, y ];\n      });\n    };\n  }\n  function d3_geo_graticuleY(x0, x1, dx) {\n    var x = d3.range(x0, x1 - ε, dx).concat(x1);\n    return function(y) {\n      return x.map(function(x) {\n        return [ x, y ];\n      });\n    };\n  }\n  function d3_source(d) {\n    return d.source;\n  }\n  function d3_target(d) {\n    return d.target;\n  }\n  d3.geo.greatArc = function() {\n    var source = d3_source, source_, target = d3_target, target_;\n    function greatArc() {\n      return {\n        type: \"LineString\",\n        coordinates: [ source_ || source.apply(this, arguments), target_ || target.apply(this, arguments) ]\n      };\n    }\n    greatArc.distance = function() {\n      return d3.geo.distance(source_ || source.apply(this, arguments), target_ || target.apply(this, arguments));\n    };\n    greatArc.source = function(_) {\n      if (!arguments.length) return source;\n      source = _, source_ = typeof _ === \"function\" ? null : _;\n      return greatArc;\n    };\n    greatArc.target = function(_) {\n      if (!arguments.length) return target;\n      target = _, target_ = typeof _ === \"function\" ? null : _;\n      return greatArc;\n    };\n    greatArc.precision = function() {\n      return arguments.length ? greatArc : 0;\n    };\n    return greatArc;\n  };\n  d3.geo.interpolate = function(source, target) {\n    return d3_geo_interpolate(source[0] * d3_radians, source[1] * d3_radians, target[0] * d3_radians, target[1] * d3_radians);\n  };\n  function d3_geo_interpolate(x0, y0, x1, y1) {\n    var cy0 = Math.cos(y0), sy0 = Math.sin(y0), cy1 = Math.cos(y1), sy1 = Math.sin(y1), kx0 = cy0 * Math.cos(x0), ky0 = cy0 * Math.sin(x0), kx1 = cy1 * Math.cos(x1), ky1 = cy1 * Math.sin(x1), d = 2 * Math.asin(Math.sqrt(d3_haversin(y1 - y0) + cy0 * cy1 * d3_haversin(x1 - x0))), k = 1 / Math.sin(d);\n    var interpolate = d ? function(t) {\n      var B = Math.sin(t *= d) * k, A = Math.sin(d - t) * k, x = A * kx0 + B * kx1, y = A * ky0 + B * ky1, z = A * sy0 + B * sy1;\n      return [ Math.atan2(y, x) * d3_degrees, Math.atan2(z, Math.sqrt(x * x + y * y)) * d3_degrees ];\n    } : function() {\n      return [ x0 * d3_degrees, y0 * d3_degrees ];\n    };\n    interpolate.distance = d;\n    return interpolate;\n  }\n  d3.geo.length = function(object) {\n    d3_geo_lengthSum = 0;\n    d3.geo.stream(object, d3_geo_length);\n    return d3_geo_lengthSum;\n  };\n  var d3_geo_lengthSum;\n  var d3_geo_length = {\n    sphere: d3_noop,\n    point: d3_noop,\n    lineStart: d3_geo_lengthLineStart,\n    lineEnd: d3_noop,\n    polygonStart: d3_noop,\n    polygonEnd: d3_noop\n  };\n  function d3_geo_lengthLineStart() {\n    var λ0, sinφ0, cosφ0;\n    d3_geo_length.point = function(λ, φ) {\n      λ0 = λ * d3_radians, sinφ0 = Math.sin(φ *= d3_radians), cosφ0 = Math.cos(φ);\n      d3_geo_length.point = nextPoint;\n    };\n    d3_geo_length.lineEnd = function() {\n      d3_geo_length.point = d3_geo_length.lineEnd = d3_noop;\n    };\n    function nextPoint(λ, φ) {\n      var sinφ = Math.sin(φ *= d3_radians), cosφ = Math.cos(φ), t = abs((λ *= d3_radians) - λ0), cosΔλ = Math.cos(t);\n      d3_geo_lengthSum += Math.atan2(Math.sqrt((t = cosφ * Math.sin(t)) * t + (t = cosφ0 * sinφ - sinφ0 * cosφ * cosΔλ) * t), sinφ0 * sinφ + cosφ0 * cosφ * cosΔλ);\n      λ0 = λ, sinφ0 = sinφ, cosφ0 = cosφ;\n    }\n  }\n  function d3_geo_azimuthal(scale, angle) {\n    function azimuthal(λ, φ) {\n      var cosλ = Math.cos(λ), cosφ = Math.cos(φ), k = scale(cosλ * cosφ);\n      return [ k * cosφ * Math.sin(λ), k * Math.sin(φ) ];\n    }\n    azimuthal.invert = function(x, y) {\n      var ρ = Math.sqrt(x * x + y * y), c = angle(ρ), sinc = Math.sin(c), cosc = Math.cos(c);\n      return [ Math.atan2(x * sinc, ρ * cosc), Math.asin(ρ && y * sinc / ρ) ];\n    };\n    return azimuthal;\n  }\n  var d3_geo_azimuthalEqualArea = d3_geo_azimuthal(function(cosλcosφ) {\n    return Math.sqrt(2 / (1 + cosλcosφ));\n  }, function(ρ) {\n    return 2 * Math.asin(ρ / 2);\n  });\n  (d3.geo.azimuthalEqualArea = function() {\n    return d3_geo_projection(d3_geo_azimuthalEqualArea);\n  }).raw = d3_geo_azimuthalEqualArea;\n  var d3_geo_azimuthalEquidistant = d3_geo_azimuthal(function(cosλcosφ) {\n    var c = Math.acos(cosλcosφ);\n    return c && c / Math.sin(c);\n  }, d3_identity);\n  (d3.geo.azimuthalEquidistant = function() {\n    return d3_geo_projection(d3_geo_azimuthalEquidistant);\n  }).raw = d3_geo_azimuthalEquidistant;\n  function d3_geo_conicConformal(φ0, φ1) {\n    var cosφ0 = Math.cos(φ0), t = function(φ) {\n      return Math.tan(π / 4 + φ / 2);\n    }, n = φ0 === φ1 ? Math.sin(φ0) : Math.log(cosφ0 / Math.cos(φ1)) / Math.log(t(φ1) / t(φ0)), F = cosφ0 * Math.pow(t(φ0), n) / n;\n    if (!n) return d3_geo_mercator;\n    function forward(λ, φ) {\n      if (F > 0) {\n        if (φ < -halfπ + ε) φ = -halfπ + ε;\n      } else {\n        if (φ > halfπ - ε) φ = halfπ - ε;\n      }\n      var ρ = F / Math.pow(t(φ), n);\n      return [ ρ * Math.sin(n * λ), F - ρ * Math.cos(n * λ) ];\n    }\n    forward.invert = function(x, y) {\n      var ρ0_y = F - y, ρ = d3_sgn(n) * Math.sqrt(x * x + ρ0_y * ρ0_y);\n      return [ Math.atan2(x, ρ0_y) / n, 2 * Math.atan(Math.pow(F / ρ, 1 / n)) - halfπ ];\n    };\n    return forward;\n  }\n  (d3.geo.conicConformal = function() {\n    return d3_geo_conic(d3_geo_conicConformal);\n  }).raw = d3_geo_conicConformal;\n  function d3_geo_conicEquidistant(φ0, φ1) {\n    var cosφ0 = Math.cos(φ0), n = φ0 === φ1 ? Math.sin(φ0) : (cosφ0 - Math.cos(φ1)) / (φ1 - φ0), G = cosφ0 / n + φ0;\n    if (abs(n) < ε) return d3_geo_equirectangular;\n    function forward(λ, φ) {\n      var ρ = G - φ;\n      return [ ρ * Math.sin(n * λ), G - ρ * Math.cos(n * λ) ];\n    }\n    forward.invert = function(x, y) {\n      var ρ0_y = G - y;\n      return [ Math.atan2(x, ρ0_y) / n, G - d3_sgn(n) * Math.sqrt(x * x + ρ0_y * ρ0_y) ];\n    };\n    return forward;\n  }\n  (d3.geo.conicEquidistant = function() {\n    return d3_geo_conic(d3_geo_conicEquidistant);\n  }).raw = d3_geo_conicEquidistant;\n  var d3_geo_gnomonic = d3_geo_azimuthal(function(cosλcosφ) {\n    return 1 / cosλcosφ;\n  }, Math.atan);\n  (d3.geo.gnomonic = function() {\n    return d3_geo_projection(d3_geo_gnomonic);\n  }).raw = d3_geo_gnomonic;\n  function d3_geo_mercator(λ, φ) {\n    return [ λ, Math.log(Math.tan(π / 4 + φ / 2)) ];\n  }\n  d3_geo_mercator.invert = function(x, y) {\n    return [ x, 2 * Math.atan(Math.exp(y)) - halfπ ];\n  };\n  function d3_geo_mercatorProjection(project) {\n    var m = d3_geo_projection(project), scale = m.scale, translate = m.translate, clipExtent = m.clipExtent, clipAuto;\n    m.scale = function() {\n      var v = scale.apply(m, arguments);\n      return v === m ? clipAuto ? m.clipExtent(null) : m : v;\n    };\n    m.translate = function() {\n      var v = translate.apply(m, arguments);\n      return v === m ? clipAuto ? m.clipExtent(null) : m : v;\n    };\n    m.clipExtent = function(_) {\n      var v = clipExtent.apply(m, arguments);\n      if (v === m) {\n        if (clipAuto = _ == null) {\n          var k = π * scale(), t = translate();\n          clipExtent([ [ t[0] - k, t[1] - k ], [ t[0] + k, t[1] + k ] ]);\n        }\n      } else if (clipAuto) {\n        v = null;\n      }\n      return v;\n    };\n    return m.clipExtent(null);\n  }\n  (d3.geo.mercator = function() {\n    return d3_geo_mercatorProjection(d3_geo_mercator);\n  }).raw = d3_geo_mercator;\n  var d3_geo_orthographic = d3_geo_azimuthal(function() {\n    return 1;\n  }, Math.asin);\n  (d3.geo.orthographic = function() {\n    return d3_geo_projection(d3_geo_orthographic);\n  }).raw = d3_geo_orthographic;\n  var d3_geo_stereographic = d3_geo_azimuthal(function(cosλcosφ) {\n    return 1 / (1 + cosλcosφ);\n  }, function(ρ) {\n    return 2 * Math.atan(ρ);\n  });\n  (d3.geo.stereographic = function() {\n    return d3_geo_projection(d3_geo_stereographic);\n  }).raw = d3_geo_stereographic;\n  function d3_geo_transverseMercator(λ, φ) {\n    return [ Math.log(Math.tan(π / 4 + φ / 2)), -λ ];\n  }\n  d3_geo_transverseMercator.invert = function(x, y) {\n    return [ -y, 2 * Math.atan(Math.exp(x)) - halfπ ];\n  };\n  (d3.geo.transverseMercator = function() {\n    var projection = d3_geo_mercatorProjection(d3_geo_transverseMercator), center = projection.center, rotate = projection.rotate;\n    projection.center = function(_) {\n      return _ ? center([ -_[1], _[0] ]) : (_ = center(), [ _[1], -_[0] ]);\n    };\n    projection.rotate = function(_) {\n      return _ ? rotate([ _[0], _[1], _.length > 2 ? _[2] + 90 : 90 ]) : (_ = rotate(), \n      [ _[0], _[1], _[2] - 90 ]);\n    };\n    return rotate([ 0, 0, 90 ]);\n  }).raw = d3_geo_transverseMercator;\n  d3.geom = {};\n  function d3_geom_pointX(d) {\n    return d[0];\n  }\n  function d3_geom_pointY(d) {\n    return d[1];\n  }\n  d3.geom.hull = function(vertices) {\n    var x = d3_geom_pointX, y = d3_geom_pointY;\n    if (arguments.length) return hull(vertices);\n    function hull(data) {\n      if (data.length < 3) return [];\n      var fx = d3_functor(x), fy = d3_functor(y), i, n = data.length, points = [], flippedPoints = [];\n      for (i = 0; i < n; i++) {\n        points.push([ +fx.call(this, data[i], i), +fy.call(this, data[i], i), i ]);\n      }\n      points.sort(d3_geom_hullOrder);\n      for (i = 0; i < n; i++) flippedPoints.push([ points[i][0], -points[i][1] ]);\n      var upper = d3_geom_hullUpper(points), lower = d3_geom_hullUpper(flippedPoints);\n      var skipLeft = lower[0] === upper[0], skipRight = lower[lower.length - 1] === upper[upper.length - 1], polygon = [];\n      for (i = upper.length - 1; i >= 0; --i) polygon.push(data[points[upper[i]][2]]);\n      for (i = +skipLeft; i < lower.length - skipRight; ++i) polygon.push(data[points[lower[i]][2]]);\n      return polygon;\n    }\n    hull.x = function(_) {\n      return arguments.length ? (x = _, hull) : x;\n    };\n    hull.y = function(_) {\n      return arguments.length ? (y = _, hull) : y;\n    };\n    return hull;\n  };\n  function d3_geom_hullUpper(points) {\n    var n = points.length, hull = [ 0, 1 ], hs = 2;\n    for (var i = 2; i < n; i++) {\n      while (hs > 1 && d3_cross2d(points[hull[hs - 2]], points[hull[hs - 1]], points[i]) <= 0) --hs;\n      hull[hs++] = i;\n    }\n    return hull.slice(0, hs);\n  }\n  function d3_geom_hullOrder(a, b) {\n    return a[0] - b[0] || a[1] - b[1];\n  }\n  d3.geom.polygon = function(coordinates) {\n    d3_subclass(coordinates, d3_geom_polygonPrototype);\n    return coordinates;\n  };\n  var d3_geom_polygonPrototype = d3.geom.polygon.prototype = [];\n  d3_geom_polygonPrototype.area = function() {\n    var i = -1, n = this.length, a, b = this[n - 1], area = 0;\n    while (++i < n) {\n      a = b;\n      b = this[i];\n      area += a[1] * b[0] - a[0] * b[1];\n    }\n    return area * .5;\n  };\n  d3_geom_polygonPrototype.centroid = function(k) {\n    var i = -1, n = this.length, x = 0, y = 0, a, b = this[n - 1], c;\n    if (!arguments.length) k = -1 / (6 * this.area());\n    while (++i < n) {\n      a = b;\n      b = this[i];\n      c = a[0] * b[1] - b[0] * a[1];\n      x += (a[0] + b[0]) * c;\n      y += (a[1] + b[1]) * c;\n    }\n    return [ x * k, y * k ];\n  };\n  d3_geom_polygonPrototype.clip = function(subject) {\n    var input, closed = d3_geom_polygonClosed(subject), i = -1, n = this.length - d3_geom_polygonClosed(this), j, m, a = this[n - 1], b, c, d;\n    while (++i < n) {\n      input = subject.slice();\n      subject.length = 0;\n      b = this[i];\n      c = input[(m = input.length - closed) - 1];\n      j = -1;\n      while (++j < m) {\n        d = input[j];\n        if (d3_geom_polygonInside(d, a, b)) {\n          if (!d3_geom_polygonInside(c, a, b)) {\n            subject.push(d3_geom_polygonIntersect(c, d, a, b));\n          }\n          subject.push(d);\n        } else if (d3_geom_polygonInside(c, a, b)) {\n          subject.push(d3_geom_polygonIntersect(c, d, a, b));\n        }\n        c = d;\n      }\n      if (closed) subject.push(subject[0]);\n      a = b;\n    }\n    return subject;\n  };\n  function d3_geom_polygonInside(p, a, b) {\n    return (b[0] - a[0]) * (p[1] - a[1]) < (b[1] - a[1]) * (p[0] - a[0]);\n  }\n  function d3_geom_polygonIntersect(c, d, a, b) {\n    var x1 = c[0], x3 = a[0], x21 = d[0] - x1, x43 = b[0] - x3, y1 = c[1], y3 = a[1], y21 = d[1] - y1, y43 = b[1] - y3, ua = (x43 * (y1 - y3) - y43 * (x1 - x3)) / (y43 * x21 - x43 * y21);\n    return [ x1 + ua * x21, y1 + ua * y21 ];\n  }\n  function d3_geom_polygonClosed(coordinates) {\n    var a = coordinates[0], b = coordinates[coordinates.length - 1];\n    return !(a[0] - b[0] || a[1] - b[1]);\n  }\n  var d3_geom_voronoiEdges, d3_geom_voronoiCells, d3_geom_voronoiBeaches, d3_geom_voronoiBeachPool = [], d3_geom_voronoiFirstCircle, d3_geom_voronoiCircles, d3_geom_voronoiCirclePool = [];\n  function d3_geom_voronoiBeach() {\n    d3_geom_voronoiRedBlackNode(this);\n    this.edge = this.site = this.circle = null;\n  }\n  function d3_geom_voronoiCreateBeach(site) {\n    var beach = d3_geom_voronoiBeachPool.pop() || new d3_geom_voronoiBeach();\n    beach.site = site;\n    return beach;\n  }\n  function d3_geom_voronoiDetachBeach(beach) {\n    d3_geom_voronoiDetachCircle(beach);\n    d3_geom_voronoiBeaches.remove(beach);\n    d3_geom_voronoiBeachPool.push(beach);\n    d3_geom_voronoiRedBlackNode(beach);\n  }\n  function d3_geom_voronoiRemoveBeach(beach) {\n    var circle = beach.circle, x = circle.x, y = circle.cy, vertex = {\n      x: x,\n      y: y\n    }, previous = beach.P, next = beach.N, disappearing = [ beach ];\n    d3_geom_voronoiDetachBeach(beach);\n    var lArc = previous;\n    while (lArc.circle && abs(x - lArc.circle.x) < ε && abs(y - lArc.circle.cy) < ε) {\n      previous = lArc.P;\n      disappearing.unshift(lArc);\n      d3_geom_voronoiDetachBeach(lArc);\n      lArc = previous;\n    }\n    disappearing.unshift(lArc);\n    d3_geom_voronoiDetachCircle(lArc);\n    var rArc = next;\n    while (rArc.circle && abs(x - rArc.circle.x) < ε && abs(y - rArc.circle.cy) < ε) {\n      next = rArc.N;\n      disappearing.push(rArc);\n      d3_geom_voronoiDetachBeach(rArc);\n      rArc = next;\n    }\n    disappearing.push(rArc);\n    d3_geom_voronoiDetachCircle(rArc);\n    var nArcs = disappearing.length, iArc;\n    for (iArc = 1; iArc < nArcs; ++iArc) {\n      rArc = disappearing[iArc];\n      lArc = disappearing[iArc - 1];\n      d3_geom_voronoiSetEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n    }\n    lArc = disappearing[0];\n    rArc = disappearing[nArcs - 1];\n    rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, rArc.site, null, vertex);\n    d3_geom_voronoiAttachCircle(lArc);\n    d3_geom_voronoiAttachCircle(rArc);\n  }\n  function d3_geom_voronoiAddBeach(site) {\n    var x = site.x, directrix = site.y, lArc, rArc, dxl, dxr, node = d3_geom_voronoiBeaches._;\n    while (node) {\n      dxl = d3_geom_voronoiLeftBreakPoint(node, directrix) - x;\n      if (dxl > ε) node = node.L; else {\n        dxr = x - d3_geom_voronoiRightBreakPoint(node, directrix);\n        if (dxr > ε) {\n          if (!node.R) {\n            lArc = node;\n            break;\n          }\n          node = node.R;\n        } else {\n          if (dxl > -ε) {\n            lArc = node.P;\n            rArc = node;\n          } else if (dxr > -ε) {\n            lArc = node;\n            rArc = node.N;\n          } else {\n            lArc = rArc = node;\n          }\n          break;\n        }\n      }\n    }\n    var newArc = d3_geom_voronoiCreateBeach(site);\n    d3_geom_voronoiBeaches.insert(lArc, newArc);\n    if (!lArc && !rArc) return;\n    if (lArc === rArc) {\n      d3_geom_voronoiDetachCircle(lArc);\n      rArc = d3_geom_voronoiCreateBeach(lArc.site);\n      d3_geom_voronoiBeaches.insert(newArc, rArc);\n      newArc.edge = rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);\n      d3_geom_voronoiAttachCircle(lArc);\n      d3_geom_voronoiAttachCircle(rArc);\n      return;\n    }\n    if (!rArc) {\n      newArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);\n      return;\n    }\n    d3_geom_voronoiDetachCircle(lArc);\n    d3_geom_voronoiDetachCircle(rArc);\n    var lSite = lArc.site, ax = lSite.x, ay = lSite.y, bx = site.x - ax, by = site.y - ay, rSite = rArc.site, cx = rSite.x - ax, cy = rSite.y - ay, d = 2 * (bx * cy - by * cx), hb = bx * bx + by * by, hc = cx * cx + cy * cy, vertex = {\n      x: (cy * hb - by * hc) / d + ax,\n      y: (bx * hc - cx * hb) / d + ay\n    };\n    d3_geom_voronoiSetEdgeEnd(rArc.edge, lSite, rSite, vertex);\n    newArc.edge = d3_geom_voronoiCreateEdge(lSite, site, null, vertex);\n    rArc.edge = d3_geom_voronoiCreateEdge(site, rSite, null, vertex);\n    d3_geom_voronoiAttachCircle(lArc);\n    d3_geom_voronoiAttachCircle(rArc);\n  }\n  function d3_geom_voronoiLeftBreakPoint(arc, directrix) {\n    var site = arc.site, rfocx = site.x, rfocy = site.y, pby2 = rfocy - directrix;\n    if (!pby2) return rfocx;\n    var lArc = arc.P;\n    if (!lArc) return -Infinity;\n    site = lArc.site;\n    var lfocx = site.x, lfocy = site.y, plby2 = lfocy - directrix;\n    if (!plby2) return lfocx;\n    var hl = lfocx - rfocx, aby2 = 1 / pby2 - 1 / plby2, b = hl / plby2;\n    if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n    return (rfocx + lfocx) / 2;\n  }\n  function d3_geom_voronoiRightBreakPoint(arc, directrix) {\n    var rArc = arc.N;\n    if (rArc) return d3_geom_voronoiLeftBreakPoint(rArc, directrix);\n    var site = arc.site;\n    return site.y === directrix ? site.x : Infinity;\n  }\n  function d3_geom_voronoiCell(site) {\n    this.site = site;\n    this.edges = [];\n  }\n  d3_geom_voronoiCell.prototype.prepare = function() {\n    var halfEdges = this.edges, iHalfEdge = halfEdges.length, edge;\n    while (iHalfEdge--) {\n      edge = halfEdges[iHalfEdge].edge;\n      if (!edge.b || !edge.a) halfEdges.splice(iHalfEdge, 1);\n    }\n    halfEdges.sort(d3_geom_voronoiHalfEdgeOrder);\n    return halfEdges.length;\n  };\n  function d3_geom_voronoiCloseCells(extent) {\n    var x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], x2, y2, x3, y3, cells = d3_geom_voronoiCells, iCell = cells.length, cell, iHalfEdge, halfEdges, nHalfEdges, start, end;\n    while (iCell--) {\n      cell = cells[iCell];\n      if (!cell || !cell.prepare()) continue;\n      halfEdges = cell.edges;\n      nHalfEdges = halfEdges.length;\n      iHalfEdge = 0;\n      while (iHalfEdge < nHalfEdges) {\n        end = halfEdges[iHalfEdge].end(), x3 = end.x, y3 = end.y;\n        start = halfEdges[++iHalfEdge % nHalfEdges].start(), x2 = start.x, y2 = start.y;\n        if (abs(x3 - x2) > ε || abs(y3 - y2) > ε) {\n          halfEdges.splice(iHalfEdge, 0, new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site, end, abs(x3 - x0) < ε && y1 - y3 > ε ? {\n            x: x0,\n            y: abs(x2 - x0) < ε ? y2 : y1\n          } : abs(y3 - y1) < ε && x1 - x3 > ε ? {\n            x: abs(y2 - y1) < ε ? x2 : x1,\n            y: y1\n          } : abs(x3 - x1) < ε && y3 - y0 > ε ? {\n            x: x1,\n            y: abs(x2 - x1) < ε ? y2 : y0\n          } : abs(y3 - y0) < ε && x3 - x0 > ε ? {\n            x: abs(y2 - y0) < ε ? x2 : x0,\n            y: y0\n          } : null), cell.site, null));\n          ++nHalfEdges;\n        }\n      }\n    }\n  }\n  function d3_geom_voronoiHalfEdgeOrder(a, b) {\n    return b.angle - a.angle;\n  }\n  function d3_geom_voronoiCircle() {\n    d3_geom_voronoiRedBlackNode(this);\n    this.x = this.y = this.arc = this.site = this.cy = null;\n  }\n  function d3_geom_voronoiAttachCircle(arc) {\n    var lArc = arc.P, rArc = arc.N;\n    if (!lArc || !rArc) return;\n    var lSite = lArc.site, cSite = arc.site, rSite = rArc.site;\n    if (lSite === rSite) return;\n    var bx = cSite.x, by = cSite.y, ax = lSite.x - bx, ay = lSite.y - by, cx = rSite.x - bx, cy = rSite.y - by;\n    var d = 2 * (ax * cy - ay * cx);\n    if (d >= -ε2) return;\n    var ha = ax * ax + ay * ay, hc = cx * cx + cy * cy, x = (cy * ha - ay * hc) / d, y = (ax * hc - cx * ha) / d, cy = y + by;\n    var circle = d3_geom_voronoiCirclePool.pop() || new d3_geom_voronoiCircle();\n    circle.arc = arc;\n    circle.site = cSite;\n    circle.x = x + bx;\n    circle.y = cy + Math.sqrt(x * x + y * y);\n    circle.cy = cy;\n    arc.circle = circle;\n    var before = null, node = d3_geom_voronoiCircles._;\n    while (node) {\n      if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {\n        if (node.L) node = node.L; else {\n          before = node.P;\n          break;\n        }\n      } else {\n        if (node.R) node = node.R; else {\n          before = node;\n          break;\n        }\n      }\n    }\n    d3_geom_voronoiCircles.insert(before, circle);\n    if (!before) d3_geom_voronoiFirstCircle = circle;\n  }\n  function d3_geom_voronoiDetachCircle(arc) {\n    var circle = arc.circle;\n    if (circle) {\n      if (!circle.P) d3_geom_voronoiFirstCircle = circle.N;\n      d3_geom_voronoiCircles.remove(circle);\n      d3_geom_voronoiCirclePool.push(circle);\n      d3_geom_voronoiRedBlackNode(circle);\n      arc.circle = null;\n    }\n  }\n  function d3_geom_voronoiClipEdges(extent) {\n    var edges = d3_geom_voronoiEdges, clip = d3_geom_clipLine(extent[0][0], extent[0][1], extent[1][0], extent[1][1]), i = edges.length, e;\n    while (i--) {\n      e = edges[i];\n      if (!d3_geom_voronoiConnectEdge(e, extent) || !clip(e) || abs(e.a.x - e.b.x) < ε && abs(e.a.y - e.b.y) < ε) {\n        e.a = e.b = null;\n        edges.splice(i, 1);\n      }\n    }\n  }\n  function d3_geom_voronoiConnectEdge(edge, extent) {\n    var vb = edge.b;\n    if (vb) return true;\n    var va = edge.a, x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], lSite = edge.l, rSite = edge.r, lx = lSite.x, ly = lSite.y, rx = rSite.x, ry = rSite.y, fx = (lx + rx) / 2, fy = (ly + ry) / 2, fm, fb;\n    if (ry === ly) {\n      if (fx < x0 || fx >= x1) return;\n      if (lx > rx) {\n        if (!va) va = {\n          x: fx,\n          y: y0\n        }; else if (va.y >= y1) return;\n        vb = {\n          x: fx,\n          y: y1\n        };\n      } else {\n        if (!va) va = {\n          x: fx,\n          y: y1\n        }; else if (va.y < y0) return;\n        vb = {\n          x: fx,\n          y: y0\n        };\n      }\n    } else {\n      fm = (lx - rx) / (ry - ly);\n      fb = fy - fm * fx;\n      if (fm < -1 || fm > 1) {\n        if (lx > rx) {\n          if (!va) va = {\n            x: (y0 - fb) / fm,\n            y: y0\n          }; else if (va.y >= y1) return;\n          vb = {\n            x: (y1 - fb) / fm,\n            y: y1\n          };\n        } else {\n          if (!va) va = {\n            x: (y1 - fb) / fm,\n            y: y1\n          }; else if (va.y < y0) return;\n          vb = {\n            x: (y0 - fb) / fm,\n            y: y0\n          };\n        }\n      } else {\n        if (ly < ry) {\n          if (!va) va = {\n            x: x0,\n            y: fm * x0 + fb\n          }; else if (va.x >= x1) return;\n          vb = {\n            x: x1,\n            y: fm * x1 + fb\n          };\n        } else {\n          if (!va) va = {\n            x: x1,\n            y: fm * x1 + fb\n          }; else if (va.x < x0) return;\n          vb = {\n            x: x0,\n            y: fm * x0 + fb\n          };\n        }\n      }\n    }\n    edge.a = va;\n    edge.b = vb;\n    return true;\n  }\n  function d3_geom_voronoiEdge(lSite, rSite) {\n    this.l = lSite;\n    this.r = rSite;\n    this.a = this.b = null;\n  }\n  function d3_geom_voronoiCreateEdge(lSite, rSite, va, vb) {\n    var edge = new d3_geom_voronoiEdge(lSite, rSite);\n    d3_geom_voronoiEdges.push(edge);\n    if (va) d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, va);\n    if (vb) d3_geom_voronoiSetEdgeEnd(edge, rSite, lSite, vb);\n    d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, lSite, rSite));\n    d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, rSite, lSite));\n    return edge;\n  }\n  function d3_geom_voronoiCreateBorderEdge(lSite, va, vb) {\n    var edge = new d3_geom_voronoiEdge(lSite, null);\n    edge.a = va;\n    edge.b = vb;\n    d3_geom_voronoiEdges.push(edge);\n    return edge;\n  }\n  function d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, vertex) {\n    if (!edge.a && !edge.b) {\n      edge.a = vertex;\n      edge.l = lSite;\n      edge.r = rSite;\n    } else if (edge.l === rSite) {\n      edge.b = vertex;\n    } else {\n      edge.a = vertex;\n    }\n  }\n  function d3_geom_voronoiHalfEdge(edge, lSite, rSite) {\n    var va = edge.a, vb = edge.b;\n    this.edge = edge;\n    this.site = lSite;\n    this.angle = rSite ? Math.atan2(rSite.y - lSite.y, rSite.x - lSite.x) : edge.l === lSite ? Math.atan2(vb.x - va.x, va.y - vb.y) : Math.atan2(va.x - vb.x, vb.y - va.y);\n  }\n  d3_geom_voronoiHalfEdge.prototype = {\n    start: function() {\n      return this.edge.l === this.site ? this.edge.a : this.edge.b;\n    },\n    end: function() {\n      return this.edge.l === this.site ? this.edge.b : this.edge.a;\n    }\n  };\n  function d3_geom_voronoiRedBlackTree() {\n    this._ = null;\n  }\n  function d3_geom_voronoiRedBlackNode(node) {\n    node.U = node.C = node.L = node.R = node.P = node.N = null;\n  }\n  d3_geom_voronoiRedBlackTree.prototype = {\n    insert: function(after, node) {\n      var parent, grandpa, uncle;\n      if (after) {\n        node.P = after;\n        node.N = after.N;\n        if (after.N) after.N.P = node;\n        after.N = node;\n        if (after.R) {\n          after = after.R;\n          while (after.L) after = after.L;\n          after.L = node;\n        } else {\n          after.R = node;\n        }\n        parent = after;\n      } else if (this._) {\n        after = d3_geom_voronoiRedBlackFirst(this._);\n        node.P = null;\n        node.N = after;\n        after.P = after.L = node;\n        parent = after;\n      } else {\n        node.P = node.N = null;\n        this._ = node;\n        parent = null;\n      }\n      node.L = node.R = null;\n      node.U = parent;\n      node.C = true;\n      after = node;\n      while (parent && parent.C) {\n        grandpa = parent.U;\n        if (parent === grandpa.L) {\n          uncle = grandpa.R;\n          if (uncle && uncle.C) {\n            parent.C = uncle.C = false;\n            grandpa.C = true;\n            after = grandpa;\n          } else {\n            if (after === parent.R) {\n              d3_geom_voronoiRedBlackRotateLeft(this, parent);\n              after = parent;\n              parent = after.U;\n            }\n            parent.C = false;\n            grandpa.C = true;\n            d3_geom_voronoiRedBlackRotateRight(this, grandpa);\n          }\n        } else {\n          uncle = grandpa.L;\n          if (uncle && uncle.C) {\n            parent.C = uncle.C = false;\n            grandpa.C = true;\n            after = grandpa;\n          } else {\n            if (after === parent.L) {\n              d3_geom_voronoiRedBlackRotateRight(this, parent);\n              after = parent;\n              parent = after.U;\n            }\n            parent.C = false;\n            grandpa.C = true;\n            d3_geom_voronoiRedBlackRotateLeft(this, grandpa);\n          }\n        }\n        parent = after.U;\n      }\n      this._.C = false;\n    },\n    remove: function(node) {\n      if (node.N) node.N.P = node.P;\n      if (node.P) node.P.N = node.N;\n      node.N = node.P = null;\n      var parent = node.U, sibling, left = node.L, right = node.R, next, red;\n      if (!left) next = right; else if (!right) next = left; else next = d3_geom_voronoiRedBlackFirst(right);\n      if (parent) {\n        if (parent.L === node) parent.L = next; else parent.R = next;\n      } else {\n        this._ = next;\n      }\n      if (left && right) {\n        red = next.C;\n        next.C = node.C;\n        next.L = left;\n        left.U = next;\n        if (next !== right) {\n          parent = next.U;\n          next.U = node.U;\n          node = next.R;\n          parent.L = node;\n          next.R = right;\n          right.U = next;\n        } else {\n          next.U = parent;\n          parent = next;\n          node = next.R;\n        }\n      } else {\n        red = node.C;\n        node = next;\n      }\n      if (node) node.U = parent;\n      if (red) return;\n      if (node && node.C) {\n        node.C = false;\n        return;\n      }\n      do {\n        if (node === this._) break;\n        if (node === parent.L) {\n          sibling = parent.R;\n          if (sibling.C) {\n            sibling.C = false;\n            parent.C = true;\n            d3_geom_voronoiRedBlackRotateLeft(this, parent);\n            sibling = parent.R;\n          }\n          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n            if (!sibling.R || !sibling.R.C) {\n              sibling.L.C = false;\n              sibling.C = true;\n              d3_geom_voronoiRedBlackRotateRight(this, sibling);\n              sibling = parent.R;\n            }\n            sibling.C = parent.C;\n            parent.C = sibling.R.C = false;\n            d3_geom_voronoiRedBlackRotateLeft(this, parent);\n            node = this._;\n            break;\n          }\n        } else {\n          sibling = parent.L;\n          if (sibling.C) {\n            sibling.C = false;\n            parent.C = true;\n            d3_geom_voronoiRedBlackRotateRight(this, parent);\n            sibling = parent.L;\n          }\n          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n            if (!sibling.L || !sibling.L.C) {\n              sibling.R.C = false;\n              sibling.C = true;\n              d3_geom_voronoiRedBlackRotateLeft(this, sibling);\n              sibling = parent.L;\n            }\n            sibling.C = parent.C;\n            parent.C = sibling.L.C = false;\n            d3_geom_voronoiRedBlackRotateRight(this, parent);\n            node = this._;\n            break;\n          }\n        }\n        sibling.C = true;\n        node = parent;\n        parent = parent.U;\n      } while (!node.C);\n      if (node) node.C = false;\n    }\n  };\n  function d3_geom_voronoiRedBlackRotateLeft(tree, node) {\n    var p = node, q = node.R, parent = p.U;\n    if (parent) {\n      if (parent.L === p) parent.L = q; else parent.R = q;\n    } else {\n      tree._ = q;\n    }\n    q.U = parent;\n    p.U = q;\n    p.R = q.L;\n    if (p.R) p.R.U = p;\n    q.L = p;\n  }\n  function d3_geom_voronoiRedBlackRotateRight(tree, node) {\n    var p = node, q = node.L, parent = p.U;\n    if (parent) {\n      if (parent.L === p) parent.L = q; else parent.R = q;\n    } else {\n      tree._ = q;\n    }\n    q.U = parent;\n    p.U = q;\n    p.L = q.R;\n    if (p.L) p.L.U = p;\n    q.R = p;\n  }\n  function d3_geom_voronoiRedBlackFirst(node) {\n    while (node.L) node = node.L;\n    return node;\n  }\n  function d3_geom_voronoi(sites, bbox) {\n    var site = sites.sort(d3_geom_voronoiVertexOrder).pop(), x0, y0, circle;\n    d3_geom_voronoiEdges = [];\n    d3_geom_voronoiCells = new Array(sites.length);\n    d3_geom_voronoiBeaches = new d3_geom_voronoiRedBlackTree();\n    d3_geom_voronoiCircles = new d3_geom_voronoiRedBlackTree();\n    while (true) {\n      circle = d3_geom_voronoiFirstCircle;\n      if (site && (!circle || site.y < circle.y || site.y === circle.y && site.x < circle.x)) {\n        if (site.x !== x0 || site.y !== y0) {\n          d3_geom_voronoiCells[site.i] = new d3_geom_voronoiCell(site);\n          d3_geom_voronoiAddBeach(site);\n          x0 = site.x, y0 = site.y;\n        }\n        site = sites.pop();\n      } else if (circle) {\n        d3_geom_voronoiRemoveBeach(circle.arc);\n      } else {\n        break;\n      }\n    }\n    if (bbox) d3_geom_voronoiClipEdges(bbox), d3_geom_voronoiCloseCells(bbox);\n    var diagram = {\n      cells: d3_geom_voronoiCells,\n      edges: d3_geom_voronoiEdges\n    };\n    d3_geom_voronoiBeaches = d3_geom_voronoiCircles = d3_geom_voronoiEdges = d3_geom_voronoiCells = null;\n    return diagram;\n  }\n  function d3_geom_voronoiVertexOrder(a, b) {\n    return b.y - a.y || b.x - a.x;\n  }\n  d3.geom.voronoi = function(points) {\n    var x = d3_geom_pointX, y = d3_geom_pointY, fx = x, fy = y, clipExtent = d3_geom_voronoiClipExtent;\n    if (points) return voronoi(points);\n    function voronoi(data) {\n      var polygons = new Array(data.length), x0 = clipExtent[0][0], y0 = clipExtent[0][1], x1 = clipExtent[1][0], y1 = clipExtent[1][1];\n      d3_geom_voronoi(sites(data), clipExtent).cells.forEach(function(cell, i) {\n        var edges = cell.edges, site = cell.site, polygon = polygons[i] = edges.length ? edges.map(function(e) {\n          var s = e.start();\n          return [ s.x, s.y ];\n        }) : site.x >= x0 && site.x <= x1 && site.y >= y0 && site.y <= y1 ? [ [ x0, y1 ], [ x1, y1 ], [ x1, y0 ], [ x0, y0 ] ] : [];\n        polygon.point = data[i];\n      });\n      return polygons;\n    }\n    function sites(data) {\n      return data.map(function(d, i) {\n        return {\n          x: Math.round(fx(d, i) / ε) * ε,\n          y: Math.round(fy(d, i) / ε) * ε,\n          i: i\n        };\n      });\n    }\n    voronoi.links = function(data) {\n      return d3_geom_voronoi(sites(data)).edges.filter(function(edge) {\n        return edge.l && edge.r;\n      }).map(function(edge) {\n        return {\n          source: data[edge.l.i],\n          target: data[edge.r.i]\n        };\n      });\n    };\n    voronoi.triangles = function(data) {\n      var triangles = [];\n      d3_geom_voronoi(sites(data)).cells.forEach(function(cell, i) {\n        var site = cell.site, edges = cell.edges.sort(d3_geom_voronoiHalfEdgeOrder), j = -1, m = edges.length, e0, s0, e1 = edges[m - 1].edge, s1 = e1.l === site ? e1.r : e1.l;\n        while (++j < m) {\n          e0 = e1;\n          s0 = s1;\n          e1 = edges[j].edge;\n          s1 = e1.l === site ? e1.r : e1.l;\n          if (i < s0.i && i < s1.i && d3_geom_voronoiTriangleArea(site, s0, s1) < 0) {\n            triangles.push([ data[i], data[s0.i], data[s1.i] ]);\n          }\n        }\n      });\n      return triangles;\n    };\n    voronoi.x = function(_) {\n      return arguments.length ? (fx = d3_functor(x = _), voronoi) : x;\n    };\n    voronoi.y = function(_) {\n      return arguments.length ? (fy = d3_functor(y = _), voronoi) : y;\n    };\n    voronoi.clipExtent = function(_) {\n      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent;\n      clipExtent = _ == null ? d3_geom_voronoiClipExtent : _;\n      return voronoi;\n    };\n    voronoi.size = function(_) {\n      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent && clipExtent[1];\n      return voronoi.clipExtent(_ && [ [ 0, 0 ], _ ]);\n    };\n    return voronoi;\n  };\n  var d3_geom_voronoiClipExtent = [ [ -1e6, -1e6 ], [ 1e6, 1e6 ] ];\n  function d3_geom_voronoiTriangleArea(a, b, c) {\n    return (a.x - c.x) * (b.y - a.y) - (a.x - b.x) * (c.y - a.y);\n  }\n  d3.geom.delaunay = function(vertices) {\n    return d3.geom.voronoi().triangles(vertices);\n  };\n  d3.geom.quadtree = function(points, x1, y1, x2, y2) {\n    var x = d3_geom_pointX, y = d3_geom_pointY, compat;\n    if (compat = arguments.length) {\n      x = d3_geom_quadtreeCompatX;\n      y = d3_geom_quadtreeCompatY;\n      if (compat === 3) {\n        y2 = y1;\n        x2 = x1;\n        y1 = x1 = 0;\n      }\n      return quadtree(points);\n    }\n    function quadtree(data) {\n      var d, fx = d3_functor(x), fy = d3_functor(y), xs, ys, i, n, x1_, y1_, x2_, y2_;\n      if (x1 != null) {\n        x1_ = x1, y1_ = y1, x2_ = x2, y2_ = y2;\n      } else {\n        x2_ = y2_ = -(x1_ = y1_ = Infinity);\n        xs = [], ys = [];\n        n = data.length;\n        if (compat) for (i = 0; i < n; ++i) {\n          d = data[i];\n          if (d.x < x1_) x1_ = d.x;\n          if (d.y < y1_) y1_ = d.y;\n          if (d.x > x2_) x2_ = d.x;\n          if (d.y > y2_) y2_ = d.y;\n          xs.push(d.x);\n          ys.push(d.y);\n        } else for (i = 0; i < n; ++i) {\n          var x_ = +fx(d = data[i], i), y_ = +fy(d, i);\n          if (x_ < x1_) x1_ = x_;\n          if (y_ < y1_) y1_ = y_;\n          if (x_ > x2_) x2_ = x_;\n          if (y_ > y2_) y2_ = y_;\n          xs.push(x_);\n          ys.push(y_);\n        }\n      }\n      var dx = x2_ - x1_, dy = y2_ - y1_;\n      if (dx > dy) y2_ = y1_ + dx; else x2_ = x1_ + dy;\n      function insert(n, d, x, y, x1, y1, x2, y2) {\n        if (isNaN(x) || isNaN(y)) return;\n        if (n.leaf) {\n          var nx = n.x, ny = n.y;\n          if (nx != null) {\n            if (abs(nx - x) + abs(ny - y) < .01) {\n              insertChild(n, d, x, y, x1, y1, x2, y2);\n            } else {\n              var nPoint = n.point;\n              n.x = n.y = n.point = null;\n              insertChild(n, nPoint, nx, ny, x1, y1, x2, y2);\n              insertChild(n, d, x, y, x1, y1, x2, y2);\n            }\n          } else {\n            n.x = x, n.y = y, n.point = d;\n          }\n        } else {\n          insertChild(n, d, x, y, x1, y1, x2, y2);\n        }\n      }\n      function insertChild(n, d, x, y, x1, y1, x2, y2) {\n        var xm = (x1 + x2) * .5, ym = (y1 + y2) * .5, right = x >= xm, below = y >= ym, i = below << 1 | right;\n        n.leaf = false;\n        n = n.nodes[i] || (n.nodes[i] = d3_geom_quadtreeNode());\n        if (right) x1 = xm; else x2 = xm;\n        if (below) y1 = ym; else y2 = ym;\n        insert(n, d, x, y, x1, y1, x2, y2);\n      }\n      var root = d3_geom_quadtreeNode();\n      root.add = function(d) {\n        insert(root, d, +fx(d, ++i), +fy(d, i), x1_, y1_, x2_, y2_);\n      };\n      root.visit = function(f) {\n        d3_geom_quadtreeVisit(f, root, x1_, y1_, x2_, y2_);\n      };\n      root.find = function(point) {\n        return d3_geom_quadtreeFind(root, point[0], point[1], x1_, y1_, x2_, y2_);\n      };\n      i = -1;\n      if (x1 == null) {\n        while (++i < n) {\n          insert(root, data[i], xs[i], ys[i], x1_, y1_, x2_, y2_);\n        }\n        --i;\n      } else data.forEach(root.add);\n      xs = ys = data = d = null;\n      return root;\n    }\n    quadtree.x = function(_) {\n      return arguments.length ? (x = _, quadtree) : x;\n    };\n    quadtree.y = function(_) {\n      return arguments.length ? (y = _, quadtree) : y;\n    };\n    quadtree.extent = function(_) {\n      if (!arguments.length) return x1 == null ? null : [ [ x1, y1 ], [ x2, y2 ] ];\n      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = +_[0][0], y1 = +_[0][1], x2 = +_[1][0], \n      y2 = +_[1][1];\n      return quadtree;\n    };\n    quadtree.size = function(_) {\n      if (!arguments.length) return x1 == null ? null : [ x2 - x1, y2 - y1 ];\n      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = y1 = 0, x2 = +_[0], y2 = +_[1];\n      return quadtree;\n    };\n    return quadtree;\n  };\n  function d3_geom_quadtreeCompatX(d) {\n    return d.x;\n  }\n  function d3_geom_quadtreeCompatY(d) {\n    return d.y;\n  }\n  function d3_geom_quadtreeNode() {\n    return {\n      leaf: true,\n      nodes: [],\n      point: null,\n      x: null,\n      y: null\n    };\n  }\n  function d3_geom_quadtreeVisit(f, node, x1, y1, x2, y2) {\n    if (!f(node, x1, y1, x2, y2)) {\n      var sx = (x1 + x2) * .5, sy = (y1 + y2) * .5, children = node.nodes;\n      if (children[0]) d3_geom_quadtreeVisit(f, children[0], x1, y1, sx, sy);\n      if (children[1]) d3_geom_quadtreeVisit(f, children[1], sx, y1, x2, sy);\n      if (children[2]) d3_geom_quadtreeVisit(f, children[2], x1, sy, sx, y2);\n      if (children[3]) d3_geom_quadtreeVisit(f, children[3], sx, sy, x2, y2);\n    }\n  }\n  function d3_geom_quadtreeFind(root, x, y, x0, y0, x3, y3) {\n    var minDistance2 = Infinity, closestPoint;\n    (function find(node, x1, y1, x2, y2) {\n      if (x1 > x3 || y1 > y3 || x2 < x0 || y2 < y0) return;\n      if (point = node.point) {\n        var point, dx = x - node.x, dy = y - node.y, distance2 = dx * dx + dy * dy;\n        if (distance2 < minDistance2) {\n          var distance = Math.sqrt(minDistance2 = distance2);\n          x0 = x - distance, y0 = y - distance;\n          x3 = x + distance, y3 = y + distance;\n          closestPoint = point;\n        }\n      }\n      var children = node.nodes, xm = (x1 + x2) * .5, ym = (y1 + y2) * .5, right = x >= xm, below = y >= ym;\n      for (var i = below << 1 | right, j = i + 4; i < j; ++i) {\n        if (node = children[i & 3]) switch (i & 3) {\n         case 0:\n          find(node, x1, y1, xm, ym);\n          break;\n\n         case 1:\n          find(node, xm, y1, x2, ym);\n          break;\n\n         case 2:\n          find(node, x1, ym, xm, y2);\n          break;\n\n         case 3:\n          find(node, xm, ym, x2, y2);\n          break;\n        }\n      }\n    })(root, x0, y0, x3, y3);\n    return closestPoint;\n  }\n  d3.interpolateRgb = d3_interpolateRgb;\n  function d3_interpolateRgb(a, b) {\n    a = d3.rgb(a);\n    b = d3.rgb(b);\n    var ar = a.r, ag = a.g, ab = a.b, br = b.r - ar, bg = b.g - ag, bb = b.b - ab;\n    return function(t) {\n      return \"#\" + d3_rgb_hex(Math.round(ar + br * t)) + d3_rgb_hex(Math.round(ag + bg * t)) + d3_rgb_hex(Math.round(ab + bb * t));\n    };\n  }\n  d3.interpolateObject = d3_interpolateObject;\n  function d3_interpolateObject(a, b) {\n    var i = {}, c = {}, k;\n    for (k in a) {\n      if (k in b) {\n        i[k] = d3_interpolate(a[k], b[k]);\n      } else {\n        c[k] = a[k];\n      }\n    }\n    for (k in b) {\n      if (!(k in a)) {\n        c[k] = b[k];\n      }\n    }\n    return function(t) {\n      for (k in i) c[k] = i[k](t);\n      return c;\n    };\n  }\n  d3.interpolateNumber = d3_interpolateNumber;\n  function d3_interpolateNumber(a, b) {\n    a = +a, b = +b;\n    return function(t) {\n      return a * (1 - t) + b * t;\n    };\n  }\n  d3.interpolateString = d3_interpolateString;\n  function d3_interpolateString(a, b) {\n    var bi = d3_interpolate_numberA.lastIndex = d3_interpolate_numberB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];\n    a = a + \"\", b = b + \"\";\n    while ((am = d3_interpolate_numberA.exec(a)) && (bm = d3_interpolate_numberB.exec(b))) {\n      if ((bs = bm.index) > bi) {\n        bs = b.slice(bi, bs);\n        if (s[i]) s[i] += bs; else s[++i] = bs;\n      }\n      if ((am = am[0]) === (bm = bm[0])) {\n        if (s[i]) s[i] += bm; else s[++i] = bm;\n      } else {\n        s[++i] = null;\n        q.push({\n          i: i,\n          x: d3_interpolateNumber(am, bm)\n        });\n      }\n      bi = d3_interpolate_numberB.lastIndex;\n    }\n    if (bi < b.length) {\n      bs = b.slice(bi);\n      if (s[i]) s[i] += bs; else s[++i] = bs;\n    }\n    return s.length < 2 ? q[0] ? (b = q[0].x, function(t) {\n      return b(t) + \"\";\n    }) : function() {\n      return b;\n    } : (b = q.length, function(t) {\n      for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    });\n  }\n  var d3_interpolate_numberA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, d3_interpolate_numberB = new RegExp(d3_interpolate_numberA.source, \"g\");\n  d3.interpolate = d3_interpolate;\n  function d3_interpolate(a, b) {\n    var i = d3.interpolators.length, f;\n    while (--i >= 0 && !(f = d3.interpolators[i](a, b))) ;\n    return f;\n  }\n  d3.interpolators = [ function(a, b) {\n    var t = typeof b;\n    return (t === \"string\" ? d3_rgb_names.has(b.toLowerCase()) || /^(#|rgb\\(|hsl\\()/i.test(b) ? d3_interpolateRgb : d3_interpolateString : b instanceof d3_color ? d3_interpolateRgb : Array.isArray(b) ? d3_interpolateArray : t === \"object\" && isNaN(b) ? d3_interpolateObject : d3_interpolateNumber)(a, b);\n  } ];\n  d3.interpolateArray = d3_interpolateArray;\n  function d3_interpolateArray(a, b) {\n    var x = [], c = [], na = a.length, nb = b.length, n0 = Math.min(a.length, b.length), i;\n    for (i = 0; i < n0; ++i) x.push(d3_interpolate(a[i], b[i]));\n    for (;i < na; ++i) c[i] = a[i];\n    for (;i < nb; ++i) c[i] = b[i];\n    return function(t) {\n      for (i = 0; i < n0; ++i) c[i] = x[i](t);\n      return c;\n    };\n  }\n  var d3_ease_default = function() {\n    return d3_identity;\n  };\n  var d3_ease = d3.map({\n    linear: d3_ease_default,\n    poly: d3_ease_poly,\n    quad: function() {\n      return d3_ease_quad;\n    },\n    cubic: function() {\n      return d3_ease_cubic;\n    },\n    sin: function() {\n      return d3_ease_sin;\n    },\n    exp: function() {\n      return d3_ease_exp;\n    },\n    circle: function() {\n      return d3_ease_circle;\n    },\n    elastic: d3_ease_elastic,\n    back: d3_ease_back,\n    bounce: function() {\n      return d3_ease_bounce;\n    }\n  });\n  var d3_ease_mode = d3.map({\n    \"in\": d3_identity,\n    out: d3_ease_reverse,\n    \"in-out\": d3_ease_reflect,\n    \"out-in\": function(f) {\n      return d3_ease_reflect(d3_ease_reverse(f));\n    }\n  });\n  d3.ease = function(name) {\n    var i = name.indexOf(\"-\"), t = i >= 0 ? name.slice(0, i) : name, m = i >= 0 ? name.slice(i + 1) : \"in\";\n    t = d3_ease.get(t) || d3_ease_default;\n    m = d3_ease_mode.get(m) || d3_identity;\n    return d3_ease_clamp(m(t.apply(null, d3_arraySlice.call(arguments, 1))));\n  };\n  function d3_ease_clamp(f) {\n    return function(t) {\n      return t <= 0 ? 0 : t >= 1 ? 1 : f(t);\n    };\n  }\n  function d3_ease_reverse(f) {\n    return function(t) {\n      return 1 - f(1 - t);\n    };\n  }\n  function d3_ease_reflect(f) {\n    return function(t) {\n      return .5 * (t < .5 ? f(2 * t) : 2 - f(2 - 2 * t));\n    };\n  }\n  function d3_ease_quad(t) {\n    return t * t;\n  }\n  function d3_ease_cubic(t) {\n    return t * t * t;\n  }\n  function d3_ease_cubicInOut(t) {\n    if (t <= 0) return 0;\n    if (t >= 1) return 1;\n    var t2 = t * t, t3 = t2 * t;\n    return 4 * (t < .5 ? t3 : 3 * (t - t2) + t3 - .75);\n  }\n  function d3_ease_poly(e) {\n    return function(t) {\n      return Math.pow(t, e);\n    };\n  }\n  function d3_ease_sin(t) {\n    return 1 - Math.cos(t * halfπ);\n  }\n  function d3_ease_exp(t) {\n    return Math.pow(2, 10 * (t - 1));\n  }\n  function d3_ease_circle(t) {\n    return 1 - Math.sqrt(1 - t * t);\n  }\n  function d3_ease_elastic(a, p) {\n    var s;\n    if (arguments.length < 2) p = .45;\n    if (arguments.length) s = p / τ * Math.asin(1 / a); else a = 1, s = p / 4;\n    return function(t) {\n      return 1 + a * Math.pow(2, -10 * t) * Math.sin((t - s) * τ / p);\n    };\n  }\n  function d3_ease_back(s) {\n    if (!s) s = 1.70158;\n    return function(t) {\n      return t * t * ((s + 1) * t - s);\n    };\n  }\n  function d3_ease_bounce(t) {\n    return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;\n  }\n  d3.interpolateHcl = d3_interpolateHcl;\n  function d3_interpolateHcl(a, b) {\n    a = d3.hcl(a);\n    b = d3.hcl(b);\n    var ah = a.h, ac = a.c, al = a.l, bh = b.h - ah, bc = b.c - ac, bl = b.l - al;\n    if (isNaN(bc)) bc = 0, ac = isNaN(ac) ? b.c : ac;\n    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;\n    return function(t) {\n      return d3_hcl_lab(ah + bh * t, ac + bc * t, al + bl * t) + \"\";\n    };\n  }\n  d3.interpolateHsl = d3_interpolateHsl;\n  function d3_interpolateHsl(a, b) {\n    a = d3.hsl(a);\n    b = d3.hsl(b);\n    var ah = a.h, as = a.s, al = a.l, bh = b.h - ah, bs = b.s - as, bl = b.l - al;\n    if (isNaN(bs)) bs = 0, as = isNaN(as) ? b.s : as;\n    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;\n    return function(t) {\n      return d3_hsl_rgb(ah + bh * t, as + bs * t, al + bl * t) + \"\";\n    };\n  }\n  d3.interpolateLab = d3_interpolateLab;\n  function d3_interpolateLab(a, b) {\n    a = d3.lab(a);\n    b = d3.lab(b);\n    var al = a.l, aa = a.a, ab = a.b, bl = b.l - al, ba = b.a - aa, bb = b.b - ab;\n    return function(t) {\n      return d3_lab_rgb(al + bl * t, aa + ba * t, ab + bb * t) + \"\";\n    };\n  }\n  d3.interpolateRound = d3_interpolateRound;\n  function d3_interpolateRound(a, b) {\n    b -= a;\n    return function(t) {\n      return Math.round(a + b * t);\n    };\n  }\n  d3.transform = function(string) {\n    var g = d3_document.createElementNS(d3.ns.prefix.svg, \"g\");\n    return (d3.transform = function(string) {\n      if (string != null) {\n        g.setAttribute(\"transform\", string);\n        var t = g.transform.baseVal.consolidate();\n      }\n      return new d3_transform(t ? t.matrix : d3_transformIdentity);\n    })(string);\n  };\n  function d3_transform(m) {\n    var r0 = [ m.a, m.b ], r1 = [ m.c, m.d ], kx = d3_transformNormalize(r0), kz = d3_transformDot(r0, r1), ky = d3_transformNormalize(d3_transformCombine(r1, r0, -kz)) || 0;\n    if (r0[0] * r1[1] < r1[0] * r0[1]) {\n      r0[0] *= -1;\n      r0[1] *= -1;\n      kx *= -1;\n      kz *= -1;\n    }\n    this.rotate = (kx ? Math.atan2(r0[1], r0[0]) : Math.atan2(-r1[0], r1[1])) * d3_degrees;\n    this.translate = [ m.e, m.f ];\n    this.scale = [ kx, ky ];\n    this.skew = ky ? Math.atan2(kz, ky) * d3_degrees : 0;\n  }\n  d3_transform.prototype.toString = function() {\n    return \"translate(\" + this.translate + \")rotate(\" + this.rotate + \")skewX(\" + this.skew + \")scale(\" + this.scale + \")\";\n  };\n  function d3_transformDot(a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n  }\n  function d3_transformNormalize(a) {\n    var k = Math.sqrt(d3_transformDot(a, a));\n    if (k) {\n      a[0] /= k;\n      a[1] /= k;\n    }\n    return k;\n  }\n  function d3_transformCombine(a, b, k) {\n    a[0] += k * b[0];\n    a[1] += k * b[1];\n    return a;\n  }\n  var d3_transformIdentity = {\n    a: 1,\n    b: 0,\n    c: 0,\n    d: 1,\n    e: 0,\n    f: 0\n  };\n  d3.interpolateTransform = d3_interpolateTransform;\n  function d3_interpolateTransformPop(s) {\n    return s.length ? s.pop() + \",\" : \"\";\n  }\n  function d3_interpolateTranslate(ta, tb, s, q) {\n    if (ta[0] !== tb[0] || ta[1] !== tb[1]) {\n      var i = s.push(\"translate(\", null, \",\", null, \")\");\n      q.push({\n        i: i - 4,\n        x: d3_interpolateNumber(ta[0], tb[0])\n      }, {\n        i: i - 2,\n        x: d3_interpolateNumber(ta[1], tb[1])\n      });\n    } else if (tb[0] || tb[1]) {\n      s.push(\"translate(\" + tb + \")\");\n    }\n  }\n  function d3_interpolateRotate(ra, rb, s, q) {\n    if (ra !== rb) {\n      if (ra - rb > 180) rb += 360; else if (rb - ra > 180) ra += 360;\n      q.push({\n        i: s.push(d3_interpolateTransformPop(s) + \"rotate(\", null, \")\") - 2,\n        x: d3_interpolateNumber(ra, rb)\n      });\n    } else if (rb) {\n      s.push(d3_interpolateTransformPop(s) + \"rotate(\" + rb + \")\");\n    }\n  }\n  function d3_interpolateSkew(wa, wb, s, q) {\n    if (wa !== wb) {\n      q.push({\n        i: s.push(d3_interpolateTransformPop(s) + \"skewX(\", null, \")\") - 2,\n        x: d3_interpolateNumber(wa, wb)\n      });\n    } else if (wb) {\n      s.push(d3_interpolateTransformPop(s) + \"skewX(\" + wb + \")\");\n    }\n  }\n  function d3_interpolateScale(ka, kb, s, q) {\n    if (ka[0] !== kb[0] || ka[1] !== kb[1]) {\n      var i = s.push(d3_interpolateTransformPop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({\n        i: i - 4,\n        x: d3_interpolateNumber(ka[0], kb[0])\n      }, {\n        i: i - 2,\n        x: d3_interpolateNumber(ka[1], kb[1])\n      });\n    } else if (kb[0] !== 1 || kb[1] !== 1) {\n      s.push(d3_interpolateTransformPop(s) + \"scale(\" + kb + \")\");\n    }\n  }\n  function d3_interpolateTransform(a, b) {\n    var s = [], q = [];\n    a = d3.transform(a), b = d3.transform(b);\n    d3_interpolateTranslate(a.translate, b.translate, s, q);\n    d3_interpolateRotate(a.rotate, b.rotate, s, q);\n    d3_interpolateSkew(a.skew, b.skew, s, q);\n    d3_interpolateScale(a.scale, b.scale, s, q);\n    a = b = null;\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  }\n  function d3_uninterpolateNumber(a, b) {\n    b = (b -= a = +a) || 1 / b;\n    return function(x) {\n      return (x - a) / b;\n    };\n  }\n  function d3_uninterpolateClamp(a, b) {\n    b = (b -= a = +a) || 1 / b;\n    return function(x) {\n      return Math.max(0, Math.min(1, (x - a) / b));\n    };\n  }\n  d3.layout = {};\n  d3.layout.bundle = function() {\n    return function(links) {\n      var paths = [], i = -1, n = links.length;\n      while (++i < n) paths.push(d3_layout_bundlePath(links[i]));\n      return paths;\n    };\n  };\n  function d3_layout_bundlePath(link) {\n    var start = link.source, end = link.target, lca = d3_layout_bundleLeastCommonAncestor(start, end), points = [ start ];\n    while (start !== lca) {\n      start = start.parent;\n      points.push(start);\n    }\n    var k = points.length;\n    while (end !== lca) {\n      points.splice(k, 0, end);\n      end = end.parent;\n    }\n    return points;\n  }\n  function d3_layout_bundleAncestors(node) {\n    var ancestors = [], parent = node.parent;\n    while (parent != null) {\n      ancestors.push(node);\n      node = parent;\n      parent = parent.parent;\n    }\n    ancestors.push(node);\n    return ancestors;\n  }\n  function d3_layout_bundleLeastCommonAncestor(a, b) {\n    if (a === b) return a;\n    var aNodes = d3_layout_bundleAncestors(a), bNodes = d3_layout_bundleAncestors(b), aNode = aNodes.pop(), bNode = bNodes.pop(), sharedNode = null;\n    while (aNode === bNode) {\n      sharedNode = aNode;\n      aNode = aNodes.pop();\n      bNode = bNodes.pop();\n    }\n    return sharedNode;\n  }\n  d3.layout.chord = function() {\n    var chord = {}, chords, groups, matrix, n, padding = 0, sortGroups, sortSubgroups, sortChords;\n    function relayout() {\n      var subgroups = {}, groupSums = [], groupIndex = d3.range(n), subgroupIndex = [], k, x, x0, i, j;\n      chords = [];\n      groups = [];\n      k = 0, i = -1;\n      while (++i < n) {\n        x = 0, j = -1;\n        while (++j < n) {\n          x += matrix[i][j];\n        }\n        groupSums.push(x);\n        subgroupIndex.push(d3.range(n));\n        k += x;\n      }\n      if (sortGroups) {\n        groupIndex.sort(function(a, b) {\n          return sortGroups(groupSums[a], groupSums[b]);\n        });\n      }\n      if (sortSubgroups) {\n        subgroupIndex.forEach(function(d, i) {\n          d.sort(function(a, b) {\n            return sortSubgroups(matrix[i][a], matrix[i][b]);\n          });\n        });\n      }\n      k = (τ - padding * n) / k;\n      x = 0, i = -1;\n      while (++i < n) {\n        x0 = x, j = -1;\n        while (++j < n) {\n          var di = groupIndex[i], dj = subgroupIndex[di][j], v = matrix[di][dj], a0 = x, a1 = x += v * k;\n          subgroups[di + \"-\" + dj] = {\n            index: di,\n            subindex: dj,\n            startAngle: a0,\n            endAngle: a1,\n            value: v\n          };\n        }\n        groups[di] = {\n          index: di,\n          startAngle: x0,\n          endAngle: x,\n          value: groupSums[di]\n        };\n        x += padding;\n      }\n      i = -1;\n      while (++i < n) {\n        j = i - 1;\n        while (++j < n) {\n          var source = subgroups[i + \"-\" + j], target = subgroups[j + \"-\" + i];\n          if (source.value || target.value) {\n            chords.push(source.value < target.value ? {\n              source: target,\n              target: source\n            } : {\n              source: source,\n              target: target\n            });\n          }\n        }\n      }\n      if (sortChords) resort();\n    }\n    function resort() {\n      chords.sort(function(a, b) {\n        return sortChords((a.source.value + a.target.value) / 2, (b.source.value + b.target.value) / 2);\n      });\n    }\n    chord.matrix = function(x) {\n      if (!arguments.length) return matrix;\n      n = (matrix = x) && matrix.length;\n      chords = groups = null;\n      return chord;\n    };\n    chord.padding = function(x) {\n      if (!arguments.length) return padding;\n      padding = x;\n      chords = groups = null;\n      return chord;\n    };\n    chord.sortGroups = function(x) {\n      if (!arguments.length) return sortGroups;\n      sortGroups = x;\n      chords = groups = null;\n      return chord;\n    };\n    chord.sortSubgroups = function(x) {\n      if (!arguments.length) return sortSubgroups;\n      sortSubgroups = x;\n      chords = null;\n      return chord;\n    };\n    chord.sortChords = function(x) {\n      if (!arguments.length) return sortChords;\n      sortChords = x;\n      if (chords) resort();\n      return chord;\n    };\n    chord.chords = function() {\n      if (!chords) relayout();\n      return chords;\n    };\n    chord.groups = function() {\n      if (!groups) relayout();\n      return groups;\n    };\n    return chord;\n  };\n  d3.layout.force = function() {\n    var force = {}, event = d3.dispatch(\"start\", \"tick\", \"end\"), timer, size = [ 1, 1 ], drag, alpha, friction = .9, linkDistance = d3_layout_forceLinkDistance, linkStrength = d3_layout_forceLinkStrength, charge = -30, chargeDistance2 = d3_layout_forceChargeDistance2, gravity = .1, theta2 = .64, nodes = [], links = [], distances, strengths, charges;\n    function repulse(node) {\n      return function(quad, x1, _, x2) {\n        if (quad.point !== node) {\n          var dx = quad.cx - node.x, dy = quad.cy - node.y, dw = x2 - x1, dn = dx * dx + dy * dy;\n          if (dw * dw / theta2 < dn) {\n            if (dn < chargeDistance2) {\n              var k = quad.charge / dn;\n              node.px -= dx * k;\n              node.py -= dy * k;\n            }\n            return true;\n          }\n          if (quad.point && dn && dn < chargeDistance2) {\n            var k = quad.pointCharge / dn;\n            node.px -= dx * k;\n            node.py -= dy * k;\n          }\n        }\n        return !quad.charge;\n      };\n    }\n    force.tick = function() {\n      if ((alpha *= .99) < .005) {\n        timer = null;\n        event.end({\n          type: \"end\",\n          alpha: alpha = 0\n        });\n        return true;\n      }\n      var n = nodes.length, m = links.length, q, i, o, s, t, l, k, x, y;\n      for (i = 0; i < m; ++i) {\n        o = links[i];\n        s = o.source;\n        t = o.target;\n        x = t.x - s.x;\n        y = t.y - s.y;\n        if (l = x * x + y * y) {\n          l = alpha * strengths[i] * ((l = Math.sqrt(l)) - distances[i]) / l;\n          x *= l;\n          y *= l;\n          t.x -= x * (k = s.weight + t.weight ? s.weight / (s.weight + t.weight) : .5);\n          t.y -= y * k;\n          s.x += x * (k = 1 - k);\n          s.y += y * k;\n        }\n      }\n      if (k = alpha * gravity) {\n        x = size[0] / 2;\n        y = size[1] / 2;\n        i = -1;\n        if (k) while (++i < n) {\n          o = nodes[i];\n          o.x += (x - o.x) * k;\n          o.y += (y - o.y) * k;\n        }\n      }\n      if (charge) {\n        d3_layout_forceAccumulate(q = d3.geom.quadtree(nodes), alpha, charges);\n        i = -1;\n        while (++i < n) {\n          if (!(o = nodes[i]).fixed) {\n            q.visit(repulse(o));\n          }\n        }\n      }\n      i = -1;\n      while (++i < n) {\n        o = nodes[i];\n        if (o.fixed) {\n          o.x = o.px;\n          o.y = o.py;\n        } else {\n          o.x -= (o.px - (o.px = o.x)) * friction;\n          o.y -= (o.py - (o.py = o.y)) * friction;\n        }\n      }\n      event.tick({\n        type: \"tick\",\n        alpha: alpha\n      });\n    };\n    force.nodes = function(x) {\n      if (!arguments.length) return nodes;\n      nodes = x;\n      return force;\n    };\n    force.links = function(x) {\n      if (!arguments.length) return links;\n      links = x;\n      return force;\n    };\n    force.size = function(x) {\n      if (!arguments.length) return size;\n      size = x;\n      return force;\n    };\n    force.linkDistance = function(x) {\n      if (!arguments.length) return linkDistance;\n      linkDistance = typeof x === \"function\" ? x : +x;\n      return force;\n    };\n    force.distance = force.linkDistance;\n    force.linkStrength = function(x) {\n      if (!arguments.length) return linkStrength;\n      linkStrength = typeof x === \"function\" ? x : +x;\n      return force;\n    };\n    force.friction = function(x) {\n      if (!arguments.length) return friction;\n      friction = +x;\n      return force;\n    };\n    force.charge = function(x) {\n      if (!arguments.length) return charge;\n      charge = typeof x === \"function\" ? x : +x;\n      return force;\n    };\n    force.chargeDistance = function(x) {\n      if (!arguments.length) return Math.sqrt(chargeDistance2);\n      chargeDistance2 = x * x;\n      return force;\n    };\n    force.gravity = function(x) {\n      if (!arguments.length) return gravity;\n      gravity = +x;\n      return force;\n    };\n    force.theta = function(x) {\n      if (!arguments.length) return Math.sqrt(theta2);\n      theta2 = x * x;\n      return force;\n    };\n    force.alpha = function(x) {\n      if (!arguments.length) return alpha;\n      x = +x;\n      if (alpha) {\n        if (x > 0) {\n          alpha = x;\n        } else {\n          timer.c = null, timer.t = NaN, timer = null;\n          event.end({\n            type: \"end\",\n            alpha: alpha = 0\n          });\n        }\n      } else if (x > 0) {\n        event.start({\n          type: \"start\",\n          alpha: alpha = x\n        });\n        timer = d3_timer(force.tick);\n      }\n      return force;\n    };\n    force.start = function() {\n      var i, n = nodes.length, m = links.length, w = size[0], h = size[1], neighbors, o;\n      for (i = 0; i < n; ++i) {\n        (o = nodes[i]).index = i;\n        o.weight = 0;\n      }\n      for (i = 0; i < m; ++i) {\n        o = links[i];\n        if (typeof o.source == \"number\") o.source = nodes[o.source];\n        if (typeof o.target == \"number\") o.target = nodes[o.target];\n        ++o.source.weight;\n        ++o.target.weight;\n      }\n      for (i = 0; i < n; ++i) {\n        o = nodes[i];\n        if (isNaN(o.x)) o.x = position(\"x\", w);\n        if (isNaN(o.y)) o.y = position(\"y\", h);\n        if (isNaN(o.px)) o.px = o.x;\n        if (isNaN(o.py)) o.py = o.y;\n      }\n      distances = [];\n      if (typeof linkDistance === \"function\") for (i = 0; i < m; ++i) distances[i] = +linkDistance.call(this, links[i], i); else for (i = 0; i < m; ++i) distances[i] = linkDistance;\n      strengths = [];\n      if (typeof linkStrength === \"function\") for (i = 0; i < m; ++i) strengths[i] = +linkStrength.call(this, links[i], i); else for (i = 0; i < m; ++i) strengths[i] = linkStrength;\n      charges = [];\n      if (typeof charge === \"function\") for (i = 0; i < n; ++i) charges[i] = +charge.call(this, nodes[i], i); else for (i = 0; i < n; ++i) charges[i] = charge;\n      function position(dimension, size) {\n        if (!neighbors) {\n          neighbors = new Array(n);\n          for (j = 0; j < n; ++j) {\n            neighbors[j] = [];\n          }\n          for (j = 0; j < m; ++j) {\n            var o = links[j];\n            neighbors[o.source.index].push(o.target);\n            neighbors[o.target.index].push(o.source);\n          }\n        }\n        var candidates = neighbors[i], j = -1, l = candidates.length, x;\n        while (++j < l) if (!isNaN(x = candidates[j][dimension])) return x;\n        return Math.random() * size;\n      }\n      return force.resume();\n    };\n    force.resume = function() {\n      return force.alpha(.1);\n    };\n    force.stop = function() {\n      return force.alpha(0);\n    };\n    force.drag = function() {\n      if (!drag) drag = d3.behavior.drag().origin(d3_identity).on(\"dragstart.force\", d3_layout_forceDragstart).on(\"drag.force\", dragmove).on(\"dragend.force\", d3_layout_forceDragend);\n      if (!arguments.length) return drag;\n      this.on(\"mouseover.force\", d3_layout_forceMouseover).on(\"mouseout.force\", d3_layout_forceMouseout).call(drag);\n    };\n    function dragmove(d) {\n      d.px = d3.event.x, d.py = d3.event.y;\n      force.resume();\n    }\n    return d3.rebind(force, event, \"on\");\n  };\n  function d3_layout_forceDragstart(d) {\n    d.fixed |= 2;\n  }\n  function d3_layout_forceDragend(d) {\n    d.fixed &= ~6;\n  }\n  function d3_layout_forceMouseover(d) {\n    d.fixed |= 4;\n    d.px = d.x, d.py = d.y;\n  }\n  function d3_layout_forceMouseout(d) {\n    d.fixed &= ~4;\n  }\n  function d3_layout_forceAccumulate(quad, alpha, charges) {\n    var cx = 0, cy = 0;\n    quad.charge = 0;\n    if (!quad.leaf) {\n      var nodes = quad.nodes, n = nodes.length, i = -1, c;\n      while (++i < n) {\n        c = nodes[i];\n        if (c == null) continue;\n        d3_layout_forceAccumulate(c, alpha, charges);\n        quad.charge += c.charge;\n        cx += c.charge * c.cx;\n        cy += c.charge * c.cy;\n      }\n    }\n    if (quad.point) {\n      if (!quad.leaf) {\n        quad.point.x += Math.random() - .5;\n        quad.point.y += Math.random() - .5;\n      }\n      var k = alpha * charges[quad.point.index];\n      quad.charge += quad.pointCharge = k;\n      cx += k * quad.point.x;\n      cy += k * quad.point.y;\n    }\n    quad.cx = cx / quad.charge;\n    quad.cy = cy / quad.charge;\n  }\n  var d3_layout_forceLinkDistance = 20, d3_layout_forceLinkStrength = 1, d3_layout_forceChargeDistance2 = Infinity;\n  d3.layout.hierarchy = function() {\n    var sort = d3_layout_hierarchySort, children = d3_layout_hierarchyChildren, value = d3_layout_hierarchyValue;\n    function hierarchy(root) {\n      var stack = [ root ], nodes = [], node;\n      root.depth = 0;\n      while ((node = stack.pop()) != null) {\n        nodes.push(node);\n        if ((childs = children.call(hierarchy, node, node.depth)) && (n = childs.length)) {\n          var n, childs, child;\n          while (--n >= 0) {\n            stack.push(child = childs[n]);\n            child.parent = node;\n            child.depth = node.depth + 1;\n          }\n          if (value) node.value = 0;\n          node.children = childs;\n        } else {\n          if (value) node.value = +value.call(hierarchy, node, node.depth) || 0;\n          delete node.children;\n        }\n      }\n      d3_layout_hierarchyVisitAfter(root, function(node) {\n        var childs, parent;\n        if (sort && (childs = node.children)) childs.sort(sort);\n        if (value && (parent = node.parent)) parent.value += node.value;\n      });\n      return nodes;\n    }\n    hierarchy.sort = function(x) {\n      if (!arguments.length) return sort;\n      sort = x;\n      return hierarchy;\n    };\n    hierarchy.children = function(x) {\n      if (!arguments.length) return children;\n      children = x;\n      return hierarchy;\n    };\n    hierarchy.value = function(x) {\n      if (!arguments.length) return value;\n      value = x;\n      return hierarchy;\n    };\n    hierarchy.revalue = function(root) {\n      if (value) {\n        d3_layout_hierarchyVisitBefore(root, function(node) {\n          if (node.children) node.value = 0;\n        });\n        d3_layout_hierarchyVisitAfter(root, function(node) {\n          var parent;\n          if (!node.children) node.value = +value.call(hierarchy, node, node.depth) || 0;\n          if (parent = node.parent) parent.value += node.value;\n        });\n      }\n      return root;\n    };\n    return hierarchy;\n  };\n  function d3_layout_hierarchyRebind(object, hierarchy) {\n    d3.rebind(object, hierarchy, \"sort\", \"children\", \"value\");\n    object.nodes = object;\n    object.links = d3_layout_hierarchyLinks;\n    return object;\n  }\n  function d3_layout_hierarchyVisitBefore(node, callback) {\n    var nodes = [ node ];\n    while ((node = nodes.pop()) != null) {\n      callback(node);\n      if ((children = node.children) && (n = children.length)) {\n        var n, children;\n        while (--n >= 0) nodes.push(children[n]);\n      }\n    }\n  }\n  function d3_layout_hierarchyVisitAfter(node, callback) {\n    var nodes = [ node ], nodes2 = [];\n    while ((node = nodes.pop()) != null) {\n      nodes2.push(node);\n      if ((children = node.children) && (n = children.length)) {\n        var i = -1, n, children;\n        while (++i < n) nodes.push(children[i]);\n      }\n    }\n    while ((node = nodes2.pop()) != null) {\n      callback(node);\n    }\n  }\n  function d3_layout_hierarchyChildren(d) {\n    return d.children;\n  }\n  function d3_layout_hierarchyValue(d) {\n    return d.value;\n  }\n  function d3_layout_hierarchySort(a, b) {\n    return b.value - a.value;\n  }\n  function d3_layout_hierarchyLinks(nodes) {\n    return d3.merge(nodes.map(function(parent) {\n      return (parent.children || []).map(function(child) {\n        return {\n          source: parent,\n          target: child\n        };\n      });\n    }));\n  }\n  d3.layout.partition = function() {\n    var hierarchy = d3.layout.hierarchy(), size = [ 1, 1 ];\n    function position(node, x, dx, dy) {\n      var children = node.children;\n      node.x = x;\n      node.y = node.depth * dy;\n      node.dx = dx;\n      node.dy = dy;\n      if (children && (n = children.length)) {\n        var i = -1, n, c, d;\n        dx = node.value ? dx / node.value : 0;\n        while (++i < n) {\n          position(c = children[i], x, d = c.value * dx, dy);\n          x += d;\n        }\n      }\n    }\n    function depth(node) {\n      var children = node.children, d = 0;\n      if (children && (n = children.length)) {\n        var i = -1, n;\n        while (++i < n) d = Math.max(d, depth(children[i]));\n      }\n      return 1 + d;\n    }\n    function partition(d, i) {\n      var nodes = hierarchy.call(this, d, i);\n      position(nodes[0], 0, size[0], size[1] / depth(nodes[0]));\n      return nodes;\n    }\n    partition.size = function(x) {\n      if (!arguments.length) return size;\n      size = x;\n      return partition;\n    };\n    return d3_layout_hierarchyRebind(partition, hierarchy);\n  };\n  d3.layout.pie = function() {\n    var value = Number, sort = d3_layout_pieSortByValue, startAngle = 0, endAngle = τ, padAngle = 0;\n    function pie(data) {\n      var n = data.length, values = data.map(function(d, i) {\n        return +value.call(pie, d, i);\n      }), a = +(typeof startAngle === \"function\" ? startAngle.apply(this, arguments) : startAngle), da = (typeof endAngle === \"function\" ? endAngle.apply(this, arguments) : endAngle) - a, p = Math.min(Math.abs(da) / n, +(typeof padAngle === \"function\" ? padAngle.apply(this, arguments) : padAngle)), pa = p * (da < 0 ? -1 : 1), sum = d3.sum(values), k = sum ? (da - n * pa) / sum : 0, index = d3.range(n), arcs = [], v;\n      if (sort != null) index.sort(sort === d3_layout_pieSortByValue ? function(i, j) {\n        return values[j] - values[i];\n      } : function(i, j) {\n        return sort(data[i], data[j]);\n      });\n      index.forEach(function(i) {\n        arcs[i] = {\n          data: data[i],\n          value: v = values[i],\n          startAngle: a,\n          endAngle: a += v * k + pa,\n          padAngle: p\n        };\n      });\n      return arcs;\n    }\n    pie.value = function(_) {\n      if (!arguments.length) return value;\n      value = _;\n      return pie;\n    };\n    pie.sort = function(_) {\n      if (!arguments.length) return sort;\n      sort = _;\n      return pie;\n    };\n    pie.startAngle = function(_) {\n      if (!arguments.length) return startAngle;\n      startAngle = _;\n      return pie;\n    };\n    pie.endAngle = function(_) {\n      if (!arguments.length) return endAngle;\n      endAngle = _;\n      return pie;\n    };\n    pie.padAngle = function(_) {\n      if (!arguments.length) return padAngle;\n      padAngle = _;\n      return pie;\n    };\n    return pie;\n  };\n  var d3_layout_pieSortByValue = {};\n  d3.layout.stack = function() {\n    var values = d3_identity, order = d3_layout_stackOrderDefault, offset = d3_layout_stackOffsetZero, out = d3_layout_stackOut, x = d3_layout_stackX, y = d3_layout_stackY;\n    function stack(data, index) {\n      if (!(n = data.length)) return data;\n      var series = data.map(function(d, i) {\n        return values.call(stack, d, i);\n      });\n      var points = series.map(function(d) {\n        return d.map(function(v, i) {\n          return [ x.call(stack, v, i), y.call(stack, v, i) ];\n        });\n      });\n      var orders = order.call(stack, points, index);\n      series = d3.permute(series, orders);\n      points = d3.permute(points, orders);\n      var offsets = offset.call(stack, points, index);\n      var m = series[0].length, n, i, j, o;\n      for (j = 0; j < m; ++j) {\n        out.call(stack, series[0][j], o = offsets[j], points[0][j][1]);\n        for (i = 1; i < n; ++i) {\n          out.call(stack, series[i][j], o += points[i - 1][j][1], points[i][j][1]);\n        }\n      }\n      return data;\n    }\n    stack.values = function(x) {\n      if (!arguments.length) return values;\n      values = x;\n      return stack;\n    };\n    stack.order = function(x) {\n      if (!arguments.length) return order;\n      order = typeof x === \"function\" ? x : d3_layout_stackOrders.get(x) || d3_layout_stackOrderDefault;\n      return stack;\n    };\n    stack.offset = function(x) {\n      if (!arguments.length) return offset;\n      offset = typeof x === \"function\" ? x : d3_layout_stackOffsets.get(x) || d3_layout_stackOffsetZero;\n      return stack;\n    };\n    stack.x = function(z) {\n      if (!arguments.length) return x;\n      x = z;\n      return stack;\n    };\n    stack.y = function(z) {\n      if (!arguments.length) return y;\n      y = z;\n      return stack;\n    };\n    stack.out = function(z) {\n      if (!arguments.length) return out;\n      out = z;\n      return stack;\n    };\n    return stack;\n  };\n  function d3_layout_stackX(d) {\n    return d.x;\n  }\n  function d3_layout_stackY(d) {\n    return d.y;\n  }\n  function d3_layout_stackOut(d, y0, y) {\n    d.y0 = y0;\n    d.y = y;\n  }\n  var d3_layout_stackOrders = d3.map({\n    \"inside-out\": function(data) {\n      var n = data.length, i, j, max = data.map(d3_layout_stackMaxIndex), sums = data.map(d3_layout_stackReduceSum), index = d3.range(n).sort(function(a, b) {\n        return max[a] - max[b];\n      }), top = 0, bottom = 0, tops = [], bottoms = [];\n      for (i = 0; i < n; ++i) {\n        j = index[i];\n        if (top < bottom) {\n          top += sums[j];\n          tops.push(j);\n        } else {\n          bottom += sums[j];\n          bottoms.push(j);\n        }\n      }\n      return bottoms.reverse().concat(tops);\n    },\n    reverse: function(data) {\n      return d3.range(data.length).reverse();\n    },\n    \"default\": d3_layout_stackOrderDefault\n  });\n  var d3_layout_stackOffsets = d3.map({\n    silhouette: function(data) {\n      var n = data.length, m = data[0].length, sums = [], max = 0, i, j, o, y0 = [];\n      for (j = 0; j < m; ++j) {\n        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];\n        if (o > max) max = o;\n        sums.push(o);\n      }\n      for (j = 0; j < m; ++j) {\n        y0[j] = (max - sums[j]) / 2;\n      }\n      return y0;\n    },\n    wiggle: function(data) {\n      var n = data.length, x = data[0], m = x.length, i, j, k, s1, s2, s3, dx, o, o0, y0 = [];\n      y0[0] = o = o0 = 0;\n      for (j = 1; j < m; ++j) {\n        for (i = 0, s1 = 0; i < n; ++i) s1 += data[i][j][1];\n        for (i = 0, s2 = 0, dx = x[j][0] - x[j - 1][0]; i < n; ++i) {\n          for (k = 0, s3 = (data[i][j][1] - data[i][j - 1][1]) / (2 * dx); k < i; ++k) {\n            s3 += (data[k][j][1] - data[k][j - 1][1]) / dx;\n          }\n          s2 += s3 * data[i][j][1];\n        }\n        y0[j] = o -= s1 ? s2 / s1 * dx : 0;\n        if (o < o0) o0 = o;\n      }\n      for (j = 0; j < m; ++j) y0[j] -= o0;\n      return y0;\n    },\n    expand: function(data) {\n      var n = data.length, m = data[0].length, k = 1 / n, i, j, o, y0 = [];\n      for (j = 0; j < m; ++j) {\n        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];\n        if (o) for (i = 0; i < n; i++) data[i][j][1] /= o; else for (i = 0; i < n; i++) data[i][j][1] = k;\n      }\n      for (j = 0; j < m; ++j) y0[j] = 0;\n      return y0;\n    },\n    zero: d3_layout_stackOffsetZero\n  });\n  function d3_layout_stackOrderDefault(data) {\n    return d3.range(data.length);\n  }\n  function d3_layout_stackOffsetZero(data) {\n    var j = -1, m = data[0].length, y0 = [];\n    while (++j < m) y0[j] = 0;\n    return y0;\n  }\n  function d3_layout_stackMaxIndex(array) {\n    var i = 1, j = 0, v = array[0][1], k, n = array.length;\n    for (;i < n; ++i) {\n      if ((k = array[i][1]) > v) {\n        j = i;\n        v = k;\n      }\n    }\n    return j;\n  }\n  function d3_layout_stackReduceSum(d) {\n    return d.reduce(d3_layout_stackSum, 0);\n  }\n  function d3_layout_stackSum(p, d) {\n    return p + d[1];\n  }\n  d3.layout.histogram = function() {\n    var frequency = true, valuer = Number, ranger = d3_layout_histogramRange, binner = d3_layout_histogramBinSturges;\n    function histogram(data, i) {\n      var bins = [], values = data.map(valuer, this), range = ranger.call(this, values, i), thresholds = binner.call(this, range, values, i), bin, i = -1, n = values.length, m = thresholds.length - 1, k = frequency ? 1 : 1 / n, x;\n      while (++i < m) {\n        bin = bins[i] = [];\n        bin.dx = thresholds[i + 1] - (bin.x = thresholds[i]);\n        bin.y = 0;\n      }\n      if (m > 0) {\n        i = -1;\n        while (++i < n) {\n          x = values[i];\n          if (x >= range[0] && x <= range[1]) {\n            bin = bins[d3.bisect(thresholds, x, 1, m) - 1];\n            bin.y += k;\n            bin.push(data[i]);\n          }\n        }\n      }\n      return bins;\n    }\n    histogram.value = function(x) {\n      if (!arguments.length) return valuer;\n      valuer = x;\n      return histogram;\n    };\n    histogram.range = function(x) {\n      if (!arguments.length) return ranger;\n      ranger = d3_functor(x);\n      return histogram;\n    };\n    histogram.bins = function(x) {\n      if (!arguments.length) return binner;\n      binner = typeof x === \"number\" ? function(range) {\n        return d3_layout_histogramBinFixed(range, x);\n      } : d3_functor(x);\n      return histogram;\n    };\n    histogram.frequency = function(x) {\n      if (!arguments.length) return frequency;\n      frequency = !!x;\n      return histogram;\n    };\n    return histogram;\n  };\n  function d3_layout_histogramBinSturges(range, values) {\n    return d3_layout_histogramBinFixed(range, Math.ceil(Math.log(values.length) / Math.LN2 + 1));\n  }\n  function d3_layout_histogramBinFixed(range, n) {\n    var x = -1, b = +range[0], m = (range[1] - b) / n, f = [];\n    while (++x <= n) f[x] = m * x + b;\n    return f;\n  }\n  function d3_layout_histogramRange(values) {\n    return [ d3.min(values), d3.max(values) ];\n  }\n  d3.layout.pack = function() {\n    var hierarchy = d3.layout.hierarchy().sort(d3_layout_packSort), padding = 0, size = [ 1, 1 ], radius;\n    function pack(d, i) {\n      var nodes = hierarchy.call(this, d, i), root = nodes[0], w = size[0], h = size[1], r = radius == null ? Math.sqrt : typeof radius === \"function\" ? radius : function() {\n        return radius;\n      };\n      root.x = root.y = 0;\n      d3_layout_hierarchyVisitAfter(root, function(d) {\n        d.r = +r(d.value);\n      });\n      d3_layout_hierarchyVisitAfter(root, d3_layout_packSiblings);\n      if (padding) {\n        var dr = padding * (radius ? 1 : Math.max(2 * root.r / w, 2 * root.r / h)) / 2;\n        d3_layout_hierarchyVisitAfter(root, function(d) {\n          d.r += dr;\n        });\n        d3_layout_hierarchyVisitAfter(root, d3_layout_packSiblings);\n        d3_layout_hierarchyVisitAfter(root, function(d) {\n          d.r -= dr;\n        });\n      }\n      d3_layout_packTransform(root, w / 2, h / 2, radius ? 1 : 1 / Math.max(2 * root.r / w, 2 * root.r / h));\n      return nodes;\n    }\n    pack.size = function(_) {\n      if (!arguments.length) return size;\n      size = _;\n      return pack;\n    };\n    pack.radius = function(_) {\n      if (!arguments.length) return radius;\n      radius = _ == null || typeof _ === \"function\" ? _ : +_;\n      return pack;\n    };\n    pack.padding = function(_) {\n      if (!arguments.length) return padding;\n      padding = +_;\n      return pack;\n    };\n    return d3_layout_hierarchyRebind(pack, hierarchy);\n  };\n  function d3_layout_packSort(a, b) {\n    return a.value - b.value;\n  }\n  function d3_layout_packInsert(a, b) {\n    var c = a._pack_next;\n    a._pack_next = b;\n    b._pack_prev = a;\n    b._pack_next = c;\n    c._pack_prev = b;\n  }\n  function d3_layout_packSplice(a, b) {\n    a._pack_next = b;\n    b._pack_prev = a;\n  }\n  function d3_layout_packIntersects(a, b) {\n    var dx = b.x - a.x, dy = b.y - a.y, dr = a.r + b.r;\n    return .999 * dr * dr > dx * dx + dy * dy;\n  }\n  function d3_layout_packSiblings(node) {\n    if (!(nodes = node.children) || !(n = nodes.length)) return;\n    var nodes, xMin = Infinity, xMax = -Infinity, yMin = Infinity, yMax = -Infinity, a, b, c, i, j, k, n;\n    function bound(node) {\n      xMin = Math.min(node.x - node.r, xMin);\n      xMax = Math.max(node.x + node.r, xMax);\n      yMin = Math.min(node.y - node.r, yMin);\n      yMax = Math.max(node.y + node.r, yMax);\n    }\n    nodes.forEach(d3_layout_packLink);\n    a = nodes[0];\n    a.x = -a.r;\n    a.y = 0;\n    bound(a);\n    if (n > 1) {\n      b = nodes[1];\n      b.x = b.r;\n      b.y = 0;\n      bound(b);\n      if (n > 2) {\n        c = nodes[2];\n        d3_layout_packPlace(a, b, c);\n        bound(c);\n        d3_layout_packInsert(a, c);\n        a._pack_prev = c;\n        d3_layout_packInsert(c, b);\n        b = a._pack_next;\n        for (i = 3; i < n; i++) {\n          d3_layout_packPlace(a, b, c = nodes[i]);\n          var isect = 0, s1 = 1, s2 = 1;\n          for (j = b._pack_next; j !== b; j = j._pack_next, s1++) {\n            if (d3_layout_packIntersects(j, c)) {\n              isect = 1;\n              break;\n            }\n          }\n          if (isect == 1) {\n            for (k = a._pack_prev; k !== j._pack_prev; k = k._pack_prev, s2++) {\n              if (d3_layout_packIntersects(k, c)) {\n                break;\n              }\n            }\n          }\n          if (isect) {\n            if (s1 < s2 || s1 == s2 && b.r < a.r) d3_layout_packSplice(a, b = j); else d3_layout_packSplice(a = k, b);\n            i--;\n          } else {\n            d3_layout_packInsert(a, c);\n            b = c;\n            bound(c);\n          }\n        }\n      }\n    }\n    var cx = (xMin + xMax) / 2, cy = (yMin + yMax) / 2, cr = 0;\n    for (i = 0; i < n; i++) {\n      c = nodes[i];\n      c.x -= cx;\n      c.y -= cy;\n      cr = Math.max(cr, c.r + Math.sqrt(c.x * c.x + c.y * c.y));\n    }\n    node.r = cr;\n    nodes.forEach(d3_layout_packUnlink);\n  }\n  function d3_layout_packLink(node) {\n    node._pack_next = node._pack_prev = node;\n  }\n  function d3_layout_packUnlink(node) {\n    delete node._pack_next;\n    delete node._pack_prev;\n  }\n  function d3_layout_packTransform(node, x, y, k) {\n    var children = node.children;\n    node.x = x += k * node.x;\n    node.y = y += k * node.y;\n    node.r *= k;\n    if (children) {\n      var i = -1, n = children.length;\n      while (++i < n) d3_layout_packTransform(children[i], x, y, k);\n    }\n  }\n  function d3_layout_packPlace(a, b, c) {\n    var db = a.r + c.r, dx = b.x - a.x, dy = b.y - a.y;\n    if (db && (dx || dy)) {\n      var da = b.r + c.r, dc = dx * dx + dy * dy;\n      da *= da;\n      db *= db;\n      var x = .5 + (db - da) / (2 * dc), y = Math.sqrt(Math.max(0, 2 * da * (db + dc) - (db -= dc) * db - da * da)) / (2 * dc);\n      c.x = a.x + x * dx + y * dy;\n      c.y = a.y + x * dy - y * dx;\n    } else {\n      c.x = a.x + db;\n      c.y = a.y;\n    }\n  }\n  d3.layout.tree = function() {\n    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = null;\n    function tree(d, i) {\n      var nodes = hierarchy.call(this, d, i), root0 = nodes[0], root1 = wrapTree(root0);\n      d3_layout_hierarchyVisitAfter(root1, firstWalk), root1.parent.m = -root1.z;\n      d3_layout_hierarchyVisitBefore(root1, secondWalk);\n      if (nodeSize) d3_layout_hierarchyVisitBefore(root0, sizeNode); else {\n        var left = root0, right = root0, bottom = root0;\n        d3_layout_hierarchyVisitBefore(root0, function(node) {\n          if (node.x < left.x) left = node;\n          if (node.x > right.x) right = node;\n          if (node.depth > bottom.depth) bottom = node;\n        });\n        var tx = separation(left, right) / 2 - left.x, kx = size[0] / (right.x + separation(right, left) / 2 + tx), ky = size[1] / (bottom.depth || 1);\n        d3_layout_hierarchyVisitBefore(root0, function(node) {\n          node.x = (node.x + tx) * kx;\n          node.y = node.depth * ky;\n        });\n      }\n      return nodes;\n    }\n    function wrapTree(root0) {\n      var root1 = {\n        A: null,\n        children: [ root0 ]\n      }, queue = [ root1 ], node1;\n      while ((node1 = queue.pop()) != null) {\n        for (var children = node1.children, child, i = 0, n = children.length; i < n; ++i) {\n          queue.push((children[i] = child = {\n            _: children[i],\n            parent: node1,\n            children: (child = children[i].children) && child.slice() || [],\n            A: null,\n            a: null,\n            z: 0,\n            m: 0,\n            c: 0,\n            s: 0,\n            t: null,\n            i: i\n          }).a = child);\n        }\n      }\n      return root1.children[0];\n    }\n    function firstWalk(v) {\n      var children = v.children, siblings = v.parent.children, w = v.i ? siblings[v.i - 1] : null;\n      if (children.length) {\n        d3_layout_treeShift(v);\n        var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n        if (w) {\n          v.z = w.z + separation(v._, w._);\n          v.m = v.z - midpoint;\n        } else {\n          v.z = midpoint;\n        }\n      } else if (w) {\n        v.z = w.z + separation(v._, w._);\n      }\n      v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n    }\n    function secondWalk(v) {\n      v._.x = v.z + v.parent.m;\n      v.m += v.parent.m;\n    }\n    function apportion(v, w, ancestor) {\n      if (w) {\n        var vip = v, vop = v, vim = w, vom = vip.parent.children[0], sip = vip.m, sop = vop.m, sim = vim.m, som = vom.m, shift;\n        while (vim = d3_layout_treeRight(vim), vip = d3_layout_treeLeft(vip), vim && vip) {\n          vom = d3_layout_treeLeft(vom);\n          vop = d3_layout_treeRight(vop);\n          vop.a = v;\n          shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n          if (shift > 0) {\n            d3_layout_treeMove(d3_layout_treeAncestor(vim, v, ancestor), v, shift);\n            sip += shift;\n            sop += shift;\n          }\n          sim += vim.m;\n          sip += vip.m;\n          som += vom.m;\n          sop += vop.m;\n        }\n        if (vim && !d3_layout_treeRight(vop)) {\n          vop.t = vim;\n          vop.m += sim - sop;\n        }\n        if (vip && !d3_layout_treeLeft(vom)) {\n          vom.t = vip;\n          vom.m += sip - som;\n          ancestor = v;\n        }\n      }\n      return ancestor;\n    }\n    function sizeNode(node) {\n      node.x *= size[0];\n      node.y = node.depth * size[1];\n    }\n    tree.separation = function(x) {\n      if (!arguments.length) return separation;\n      separation = x;\n      return tree;\n    };\n    tree.size = function(x) {\n      if (!arguments.length) return nodeSize ? null : size;\n      nodeSize = (size = x) == null ? sizeNode : null;\n      return tree;\n    };\n    tree.nodeSize = function(x) {\n      if (!arguments.length) return nodeSize ? size : null;\n      nodeSize = (size = x) == null ? null : sizeNode;\n      return tree;\n    };\n    return d3_layout_hierarchyRebind(tree, hierarchy);\n  };\n  function d3_layout_treeSeparation(a, b) {\n    return a.parent == b.parent ? 1 : 2;\n  }\n  function d3_layout_treeLeft(v) {\n    var children = v.children;\n    return children.length ? children[0] : v.t;\n  }\n  function d3_layout_treeRight(v) {\n    var children = v.children, n;\n    return (n = children.length) ? children[n - 1] : v.t;\n  }\n  function d3_layout_treeMove(wm, wp, shift) {\n    var change = shift / (wp.i - wm.i);\n    wp.c -= change;\n    wp.s += shift;\n    wm.c += change;\n    wp.z += shift;\n    wp.m += shift;\n  }\n  function d3_layout_treeShift(v) {\n    var shift = 0, change = 0, children = v.children, i = children.length, w;\n    while (--i >= 0) {\n      w = children[i];\n      w.z += shift;\n      w.m += shift;\n      shift += w.s + (change += w.c);\n    }\n  }\n  function d3_layout_treeAncestor(vim, v, ancestor) {\n    return vim.a.parent === v.parent ? vim.a : ancestor;\n  }\n  d3.layout.cluster = function() {\n    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = false;\n    function cluster(d, i) {\n      var nodes = hierarchy.call(this, d, i), root = nodes[0], previousNode, x = 0;\n      d3_layout_hierarchyVisitAfter(root, function(node) {\n        var children = node.children;\n        if (children && children.length) {\n          node.x = d3_layout_clusterX(children);\n          node.y = d3_layout_clusterY(children);\n        } else {\n          node.x = previousNode ? x += separation(node, previousNode) : 0;\n          node.y = 0;\n          previousNode = node;\n        }\n      });\n      var left = d3_layout_clusterLeft(root), right = d3_layout_clusterRight(root), x0 = left.x - separation(left, right) / 2, x1 = right.x + separation(right, left) / 2;\n      d3_layout_hierarchyVisitAfter(root, nodeSize ? function(node) {\n        node.x = (node.x - root.x) * size[0];\n        node.y = (root.y - node.y) * size[1];\n      } : function(node) {\n        node.x = (node.x - x0) / (x1 - x0) * size[0];\n        node.y = (1 - (root.y ? node.y / root.y : 1)) * size[1];\n      });\n      return nodes;\n    }\n    cluster.separation = function(x) {\n      if (!arguments.length) return separation;\n      separation = x;\n      return cluster;\n    };\n    cluster.size = function(x) {\n      if (!arguments.length) return nodeSize ? null : size;\n      nodeSize = (size = x) == null;\n      return cluster;\n    };\n    cluster.nodeSize = function(x) {\n      if (!arguments.length) return nodeSize ? size : null;\n      nodeSize = (size = x) != null;\n      return cluster;\n    };\n    return d3_layout_hierarchyRebind(cluster, hierarchy);\n  };\n  function d3_layout_clusterY(children) {\n    return 1 + d3.max(children, function(child) {\n      return child.y;\n    });\n  }\n  function d3_layout_clusterX(children) {\n    return children.reduce(function(x, child) {\n      return x + child.x;\n    }, 0) / children.length;\n  }\n  function d3_layout_clusterLeft(node) {\n    var children = node.children;\n    return children && children.length ? d3_layout_clusterLeft(children[0]) : node;\n  }\n  function d3_layout_clusterRight(node) {\n    var children = node.children, n;\n    return children && (n = children.length) ? d3_layout_clusterRight(children[n - 1]) : node;\n  }\n  d3.layout.treemap = function() {\n    var hierarchy = d3.layout.hierarchy(), round = Math.round, size = [ 1, 1 ], padding = null, pad = d3_layout_treemapPadNull, sticky = false, stickies, mode = \"squarify\", ratio = .5 * (1 + Math.sqrt(5));\n    function scale(children, k) {\n      var i = -1, n = children.length, child, area;\n      while (++i < n) {\n        area = (child = children[i]).value * (k < 0 ? 0 : k);\n        child.area = isNaN(area) || area <= 0 ? 0 : area;\n      }\n    }\n    function squarify(node) {\n      var children = node.children;\n      if (children && children.length) {\n        var rect = pad(node), row = [], remaining = children.slice(), child, best = Infinity, score, u = mode === \"slice\" ? rect.dx : mode === \"dice\" ? rect.dy : mode === \"slice-dice\" ? node.depth & 1 ? rect.dy : rect.dx : Math.min(rect.dx, rect.dy), n;\n        scale(remaining, rect.dx * rect.dy / node.value);\n        row.area = 0;\n        while ((n = remaining.length) > 0) {\n          row.push(child = remaining[n - 1]);\n          row.area += child.area;\n          if (mode !== \"squarify\" || (score = worst(row, u)) <= best) {\n            remaining.pop();\n            best = score;\n          } else {\n            row.area -= row.pop().area;\n            position(row, u, rect, false);\n            u = Math.min(rect.dx, rect.dy);\n            row.length = row.area = 0;\n            best = Infinity;\n          }\n        }\n        if (row.length) {\n          position(row, u, rect, true);\n          row.length = row.area = 0;\n        }\n        children.forEach(squarify);\n      }\n    }\n    function stickify(node) {\n      var children = node.children;\n      if (children && children.length) {\n        var rect = pad(node), remaining = children.slice(), child, row = [];\n        scale(remaining, rect.dx * rect.dy / node.value);\n        row.area = 0;\n        while (child = remaining.pop()) {\n          row.push(child);\n          row.area += child.area;\n          if (child.z != null) {\n            position(row, child.z ? rect.dx : rect.dy, rect, !remaining.length);\n            row.length = row.area = 0;\n          }\n        }\n        children.forEach(stickify);\n      }\n    }\n    function worst(row, u) {\n      var s = row.area, r, rmax = 0, rmin = Infinity, i = -1, n = row.length;\n      while (++i < n) {\n        if (!(r = row[i].area)) continue;\n        if (r < rmin) rmin = r;\n        if (r > rmax) rmax = r;\n      }\n      s *= s;\n      u *= u;\n      return s ? Math.max(u * rmax * ratio / s, s / (u * rmin * ratio)) : Infinity;\n    }\n    function position(row, u, rect, flush) {\n      var i = -1, n = row.length, x = rect.x, y = rect.y, v = u ? round(row.area / u) : 0, o;\n      if (u == rect.dx) {\n        if (flush || v > rect.dy) v = rect.dy;\n        while (++i < n) {\n          o = row[i];\n          o.x = x;\n          o.y = y;\n          o.dy = v;\n          x += o.dx = Math.min(rect.x + rect.dx - x, v ? round(o.area / v) : 0);\n        }\n        o.z = true;\n        o.dx += rect.x + rect.dx - x;\n        rect.y += v;\n        rect.dy -= v;\n      } else {\n        if (flush || v > rect.dx) v = rect.dx;\n        while (++i < n) {\n          o = row[i];\n          o.x = x;\n          o.y = y;\n          o.dx = v;\n          y += o.dy = Math.min(rect.y + rect.dy - y, v ? round(o.area / v) : 0);\n        }\n        o.z = false;\n        o.dy += rect.y + rect.dy - y;\n        rect.x += v;\n        rect.dx -= v;\n      }\n    }\n    function treemap(d) {\n      var nodes = stickies || hierarchy(d), root = nodes[0];\n      root.x = root.y = 0;\n      if (root.value) root.dx = size[0], root.dy = size[1]; else root.dx = root.dy = 0;\n      if (stickies) hierarchy.revalue(root);\n      scale([ root ], root.dx * root.dy / root.value);\n      (stickies ? stickify : squarify)(root);\n      if (sticky) stickies = nodes;\n      return nodes;\n    }\n    treemap.size = function(x) {\n      if (!arguments.length) return size;\n      size = x;\n      return treemap;\n    };\n    treemap.padding = function(x) {\n      if (!arguments.length) return padding;\n      function padFunction(node) {\n        var p = x.call(treemap, node, node.depth);\n        return p == null ? d3_layout_treemapPadNull(node) : d3_layout_treemapPad(node, typeof p === \"number\" ? [ p, p, p, p ] : p);\n      }\n      function padConstant(node) {\n        return d3_layout_treemapPad(node, x);\n      }\n      var type;\n      pad = (padding = x) == null ? d3_layout_treemapPadNull : (type = typeof x) === \"function\" ? padFunction : type === \"number\" ? (x = [ x, x, x, x ], \n      padConstant) : padConstant;\n      return treemap;\n    };\n    treemap.round = function(x) {\n      if (!arguments.length) return round != Number;\n      round = x ? Math.round : Number;\n      return treemap;\n    };\n    treemap.sticky = function(x) {\n      if (!arguments.length) return sticky;\n      sticky = x;\n      stickies = null;\n      return treemap;\n    };\n    treemap.ratio = function(x) {\n      if (!arguments.length) return ratio;\n      ratio = x;\n      return treemap;\n    };\n    treemap.mode = function(x) {\n      if (!arguments.length) return mode;\n      mode = x + \"\";\n      return treemap;\n    };\n    return d3_layout_hierarchyRebind(treemap, hierarchy);\n  };\n  function d3_layout_treemapPadNull(node) {\n    return {\n      x: node.x,\n      y: node.y,\n      dx: node.dx,\n      dy: node.dy\n    };\n  }\n  function d3_layout_treemapPad(node, padding) {\n    var x = node.x + padding[3], y = node.y + padding[0], dx = node.dx - padding[1] - padding[3], dy = node.dy - padding[0] - padding[2];\n    if (dx < 0) {\n      x += dx / 2;\n      dx = 0;\n    }\n    if (dy < 0) {\n      y += dy / 2;\n      dy = 0;\n    }\n    return {\n      x: x,\n      y: y,\n      dx: dx,\n      dy: dy\n    };\n  }\n  d3.random = {\n    normal: function(µ, σ) {\n      var n = arguments.length;\n      if (n < 2) σ = 1;\n      if (n < 1) µ = 0;\n      return function() {\n        var x, y, r;\n        do {\n          x = Math.random() * 2 - 1;\n          y = Math.random() * 2 - 1;\n          r = x * x + y * y;\n        } while (!r || r > 1);\n        return µ + σ * x * Math.sqrt(-2 * Math.log(r) / r);\n      };\n    },\n    logNormal: function() {\n      var random = d3.random.normal.apply(d3, arguments);\n      return function() {\n        return Math.exp(random());\n      };\n    },\n    bates: function(m) {\n      var random = d3.random.irwinHall(m);\n      return function() {\n        return random() / m;\n      };\n    },\n    irwinHall: function(m) {\n      return function() {\n        for (var s = 0, j = 0; j < m; j++) s += Math.random();\n        return s;\n      };\n    }\n  };\n  d3.scale = {};\n  function d3_scaleExtent(domain) {\n    var start = domain[0], stop = domain[domain.length - 1];\n    return start < stop ? [ start, stop ] : [ stop, start ];\n  }\n  function d3_scaleRange(scale) {\n    return scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());\n  }\n  function d3_scale_bilinear(domain, range, uninterpolate, interpolate) {\n    var u = uninterpolate(domain[0], domain[1]), i = interpolate(range[0], range[1]);\n    return function(x) {\n      return i(u(x));\n    };\n  }\n  function d3_scale_nice(domain, nice) {\n    var i0 = 0, i1 = domain.length - 1, x0 = domain[i0], x1 = domain[i1], dx;\n    if (x1 < x0) {\n      dx = i0, i0 = i1, i1 = dx;\n      dx = x0, x0 = x1, x1 = dx;\n    }\n    domain[i0] = nice.floor(x0);\n    domain[i1] = nice.ceil(x1);\n    return domain;\n  }\n  function d3_scale_niceStep(step) {\n    return step ? {\n      floor: function(x) {\n        return Math.floor(x / step) * step;\n      },\n      ceil: function(x) {\n        return Math.ceil(x / step) * step;\n      }\n    } : d3_scale_niceIdentity;\n  }\n  var d3_scale_niceIdentity = {\n    floor: d3_identity,\n    ceil: d3_identity\n  };\n  function d3_scale_polylinear(domain, range, uninterpolate, interpolate) {\n    var u = [], i = [], j = 0, k = Math.min(domain.length, range.length) - 1;\n    if (domain[k] < domain[0]) {\n      domain = domain.slice().reverse();\n      range = range.slice().reverse();\n    }\n    while (++j <= k) {\n      u.push(uninterpolate(domain[j - 1], domain[j]));\n      i.push(interpolate(range[j - 1], range[j]));\n    }\n    return function(x) {\n      var j = d3.bisect(domain, x, 1, k) - 1;\n      return i[j](u[j](x));\n    };\n  }\n  d3.scale.linear = function() {\n    return d3_scale_linear([ 0, 1 ], [ 0, 1 ], d3_interpolate, false);\n  };\n  function d3_scale_linear(domain, range, interpolate, clamp) {\n    var output, input;\n    function rescale() {\n      var linear = Math.min(domain.length, range.length) > 2 ? d3_scale_polylinear : d3_scale_bilinear, uninterpolate = clamp ? d3_uninterpolateClamp : d3_uninterpolateNumber;\n      output = linear(domain, range, uninterpolate, interpolate);\n      input = linear(range, domain, uninterpolate, d3_interpolate);\n      return scale;\n    }\n    function scale(x) {\n      return output(x);\n    }\n    scale.invert = function(y) {\n      return input(y);\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      domain = x.map(Number);\n      return rescale();\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      return rescale();\n    };\n    scale.rangeRound = function(x) {\n      return scale.range(x).interpolate(d3_interpolateRound);\n    };\n    scale.clamp = function(x) {\n      if (!arguments.length) return clamp;\n      clamp = x;\n      return rescale();\n    };\n    scale.interpolate = function(x) {\n      if (!arguments.length) return interpolate;\n      interpolate = x;\n      return rescale();\n    };\n    scale.ticks = function(m) {\n      return d3_scale_linearTicks(domain, m);\n    };\n    scale.tickFormat = function(m, format) {\n      return d3_scale_linearTickFormat(domain, m, format);\n    };\n    scale.nice = function(m) {\n      d3_scale_linearNice(domain, m);\n      return rescale();\n    };\n    scale.copy = function() {\n      return d3_scale_linear(domain, range, interpolate, clamp);\n    };\n    return rescale();\n  }\n  function d3_scale_linearRebind(scale, linear) {\n    return d3.rebind(scale, linear, \"range\", \"rangeRound\", \"interpolate\", \"clamp\");\n  }\n  function d3_scale_linearNice(domain, m) {\n    d3_scale_nice(domain, d3_scale_niceStep(d3_scale_linearTickRange(domain, m)[2]));\n    d3_scale_nice(domain, d3_scale_niceStep(d3_scale_linearTickRange(domain, m)[2]));\n    return domain;\n  }\n  function d3_scale_linearTickRange(domain, m) {\n    if (m == null) m = 10;\n    var extent = d3_scaleExtent(domain), span = extent[1] - extent[0], step = Math.pow(10, Math.floor(Math.log(span / m) / Math.LN10)), err = m / span * step;\n    if (err <= .15) step *= 10; else if (err <= .35) step *= 5; else if (err <= .75) step *= 2;\n    extent[0] = Math.ceil(extent[0] / step) * step;\n    extent[1] = Math.floor(extent[1] / step) * step + step * .5;\n    extent[2] = step;\n    return extent;\n  }\n  function d3_scale_linearTicks(domain, m) {\n    return d3.range.apply(d3, d3_scale_linearTickRange(domain, m));\n  }\n  function d3_scale_linearTickFormat(domain, m, format) {\n    var range = d3_scale_linearTickRange(domain, m);\n    if (format) {\n      var match = d3_format_re.exec(format);\n      match.shift();\n      if (match[8] === \"s\") {\n        var prefix = d3.formatPrefix(Math.max(abs(range[0]), abs(range[1])));\n        if (!match[7]) match[7] = \".\" + d3_scale_linearPrecision(prefix.scale(range[2]));\n        match[8] = \"f\";\n        format = d3.format(match.join(\"\"));\n        return function(d) {\n          return format(prefix.scale(d)) + prefix.symbol;\n        };\n      }\n      if (!match[7]) match[7] = \".\" + d3_scale_linearFormatPrecision(match[8], range);\n      format = match.join(\"\");\n    } else {\n      format = \",.\" + d3_scale_linearPrecision(range[2]) + \"f\";\n    }\n    return d3.format(format);\n  }\n  var d3_scale_linearFormatSignificant = {\n    s: 1,\n    g: 1,\n    p: 1,\n    r: 1,\n    e: 1\n  };\n  function d3_scale_linearPrecision(value) {\n    return -Math.floor(Math.log(value) / Math.LN10 + .01);\n  }\n  function d3_scale_linearFormatPrecision(type, range) {\n    var p = d3_scale_linearPrecision(range[2]);\n    return type in d3_scale_linearFormatSignificant ? Math.abs(p - d3_scale_linearPrecision(Math.max(abs(range[0]), abs(range[1])))) + +(type !== \"e\") : p - (type === \"%\") * 2;\n  }\n  d3.scale.log = function() {\n    return d3_scale_log(d3.scale.linear().domain([ 0, 1 ]), 10, true, [ 1, 10 ]);\n  };\n  function d3_scale_log(linear, base, positive, domain) {\n    function log(x) {\n      return (positive ? Math.log(x < 0 ? 0 : x) : -Math.log(x > 0 ? 0 : -x)) / Math.log(base);\n    }\n    function pow(x) {\n      return positive ? Math.pow(base, x) : -Math.pow(base, -x);\n    }\n    function scale(x) {\n      return linear(log(x));\n    }\n    scale.invert = function(x) {\n      return pow(linear.invert(x));\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      positive = x[0] >= 0;\n      linear.domain((domain = x.map(Number)).map(log));\n      return scale;\n    };\n    scale.base = function(_) {\n      if (!arguments.length) return base;\n      base = +_;\n      linear.domain(domain.map(log));\n      return scale;\n    };\n    scale.nice = function() {\n      var niced = d3_scale_nice(domain.map(log), positive ? Math : d3_scale_logNiceNegative);\n      linear.domain(niced);\n      domain = niced.map(pow);\n      return scale;\n    };\n    scale.ticks = function() {\n      var extent = d3_scaleExtent(domain), ticks = [], u = extent[0], v = extent[1], i = Math.floor(log(u)), j = Math.ceil(log(v)), n = base % 1 ? 2 : base;\n      if (isFinite(j - i)) {\n        if (positive) {\n          for (;i < j; i++) for (var k = 1; k < n; k++) ticks.push(pow(i) * k);\n          ticks.push(pow(i));\n        } else {\n          ticks.push(pow(i));\n          for (;i++ < j; ) for (var k = n - 1; k > 0; k--) ticks.push(pow(i) * k);\n        }\n        for (i = 0; ticks[i] < u; i++) {}\n        for (j = ticks.length; ticks[j - 1] > v; j--) {}\n        ticks = ticks.slice(i, j);\n      }\n      return ticks;\n    };\n    scale.tickFormat = function(n, format) {\n      if (!arguments.length) return d3_scale_logFormat;\n      if (arguments.length < 2) format = d3_scale_logFormat; else if (typeof format !== \"function\") format = d3.format(format);\n      var k = Math.max(1, base * n / scale.ticks().length);\n      return function(d) {\n        var i = d / pow(Math.round(log(d)));\n        if (i * base < base - .5) i *= base;\n        return i <= k ? format(d) : \"\";\n      };\n    };\n    scale.copy = function() {\n      return d3_scale_log(linear.copy(), base, positive, domain);\n    };\n    return d3_scale_linearRebind(scale, linear);\n  }\n  var d3_scale_logFormat = d3.format(\".0e\"), d3_scale_logNiceNegative = {\n    floor: function(x) {\n      return -Math.ceil(-x);\n    },\n    ceil: function(x) {\n      return -Math.floor(-x);\n    }\n  };\n  d3.scale.pow = function() {\n    return d3_scale_pow(d3.scale.linear(), 1, [ 0, 1 ]);\n  };\n  function d3_scale_pow(linear, exponent, domain) {\n    var powp = d3_scale_powPow(exponent), powb = d3_scale_powPow(1 / exponent);\n    function scale(x) {\n      return linear(powp(x));\n    }\n    scale.invert = function(x) {\n      return powb(linear.invert(x));\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      linear.domain((domain = x.map(Number)).map(powp));\n      return scale;\n    };\n    scale.ticks = function(m) {\n      return d3_scale_linearTicks(domain, m);\n    };\n    scale.tickFormat = function(m, format) {\n      return d3_scale_linearTickFormat(domain, m, format);\n    };\n    scale.nice = function(m) {\n      return scale.domain(d3_scale_linearNice(domain, m));\n    };\n    scale.exponent = function(x) {\n      if (!arguments.length) return exponent;\n      powp = d3_scale_powPow(exponent = x);\n      powb = d3_scale_powPow(1 / exponent);\n      linear.domain(domain.map(powp));\n      return scale;\n    };\n    scale.copy = function() {\n      return d3_scale_pow(linear.copy(), exponent, domain);\n    };\n    return d3_scale_linearRebind(scale, linear);\n  }\n  function d3_scale_powPow(e) {\n    return function(x) {\n      return x < 0 ? -Math.pow(-x, e) : Math.pow(x, e);\n    };\n  }\n  d3.scale.sqrt = function() {\n    return d3.scale.pow().exponent(.5);\n  };\n  d3.scale.ordinal = function() {\n    return d3_scale_ordinal([], {\n      t: \"range\",\n      a: [ [] ]\n    });\n  };\n  function d3_scale_ordinal(domain, ranger) {\n    var index, range, rangeBand;\n    function scale(x) {\n      return range[((index.get(x) || (ranger.t === \"range\" ? index.set(x, domain.push(x)) : NaN)) - 1) % range.length];\n    }\n    function steps(start, step) {\n      return d3.range(domain.length).map(function(i) {\n        return start + step * i;\n      });\n    }\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      domain = [];\n      index = new d3_Map();\n      var i = -1, n = x.length, xi;\n      while (++i < n) if (!index.has(xi = x[i])) index.set(xi, domain.push(xi));\n      return scale[ranger.t].apply(scale, ranger.a);\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      rangeBand = 0;\n      ranger = {\n        t: \"range\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangePoints = function(x, padding) {\n      if (arguments.length < 2) padding = 0;\n      var start = x[0], stop = x[1], step = domain.length < 2 ? (start = (start + stop) / 2, \n      0) : (stop - start) / (domain.length - 1 + padding);\n      range = steps(start + step * padding / 2, step);\n      rangeBand = 0;\n      ranger = {\n        t: \"rangePoints\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeRoundPoints = function(x, padding) {\n      if (arguments.length < 2) padding = 0;\n      var start = x[0], stop = x[1], step = domain.length < 2 ? (start = stop = Math.round((start + stop) / 2), \n      0) : (stop - start) / (domain.length - 1 + padding) | 0;\n      range = steps(start + Math.round(step * padding / 2 + (stop - start - (domain.length - 1 + padding) * step) / 2), step);\n      rangeBand = 0;\n      ranger = {\n        t: \"rangeRoundPoints\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeBands = function(x, padding, outerPadding) {\n      if (arguments.length < 2) padding = 0;\n      if (arguments.length < 3) outerPadding = padding;\n      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = (stop - start) / (domain.length - padding + 2 * outerPadding);\n      range = steps(start + step * outerPadding, step);\n      if (reverse) range.reverse();\n      rangeBand = step * (1 - padding);\n      ranger = {\n        t: \"rangeBands\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeRoundBands = function(x, padding, outerPadding) {\n      if (arguments.length < 2) padding = 0;\n      if (arguments.length < 3) outerPadding = padding;\n      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = Math.floor((stop - start) / (domain.length - padding + 2 * outerPadding));\n      range = steps(start + Math.round((stop - start - (domain.length - padding) * step) / 2), step);\n      if (reverse) range.reverse();\n      rangeBand = Math.round(step * (1 - padding));\n      ranger = {\n        t: \"rangeRoundBands\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeBand = function() {\n      return rangeBand;\n    };\n    scale.rangeExtent = function() {\n      return d3_scaleExtent(ranger.a[0]);\n    };\n    scale.copy = function() {\n      return d3_scale_ordinal(domain, ranger);\n    };\n    return scale.domain(domain);\n  }\n  d3.scale.category10 = function() {\n    return d3.scale.ordinal().range(d3_category10);\n  };\n  d3.scale.category20 = function() {\n    return d3.scale.ordinal().range(d3_category20);\n  };\n  d3.scale.category20b = function() {\n    return d3.scale.ordinal().range(d3_category20b);\n  };\n  d3.scale.category20c = function() {\n    return d3.scale.ordinal().range(d3_category20c);\n  };\n  var d3_category10 = [ 2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175 ].map(d3_rgbString);\n  var d3_category20 = [ 2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725 ].map(d3_rgbString);\n  var d3_category20b = [ 3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654 ].map(d3_rgbString);\n  var d3_category20c = [ 3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081 ].map(d3_rgbString);\n  d3.scale.quantile = function() {\n    return d3_scale_quantile([], []);\n  };\n  function d3_scale_quantile(domain, range) {\n    var thresholds;\n    function rescale() {\n      var k = 0, q = range.length;\n      thresholds = [];\n      while (++k < q) thresholds[k - 1] = d3.quantile(domain, k / q);\n      return scale;\n    }\n    function scale(x) {\n      if (!isNaN(x = +x)) return range[d3.bisect(thresholds, x)];\n    }\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      domain = x.map(d3_number).filter(d3_numeric).sort(d3_ascending);\n      return rescale();\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      return rescale();\n    };\n    scale.quantiles = function() {\n      return thresholds;\n    };\n    scale.invertExtent = function(y) {\n      y = range.indexOf(y);\n      return y < 0 ? [ NaN, NaN ] : [ y > 0 ? thresholds[y - 1] : domain[0], y < thresholds.length ? thresholds[y] : domain[domain.length - 1] ];\n    };\n    scale.copy = function() {\n      return d3_scale_quantile(domain, range);\n    };\n    return rescale();\n  }\n  d3.scale.quantize = function() {\n    return d3_scale_quantize(0, 1, [ 0, 1 ]);\n  };\n  function d3_scale_quantize(x0, x1, range) {\n    var kx, i;\n    function scale(x) {\n      return range[Math.max(0, Math.min(i, Math.floor(kx * (x - x0))))];\n    }\n    function rescale() {\n      kx = range.length / (x1 - x0);\n      i = range.length - 1;\n      return scale;\n    }\n    scale.domain = function(x) {\n      if (!arguments.length) return [ x0, x1 ];\n      x0 = +x[0];\n      x1 = +x[x.length - 1];\n      return rescale();\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      return rescale();\n    };\n    scale.invertExtent = function(y) {\n      y = range.indexOf(y);\n      y = y < 0 ? NaN : y / kx + x0;\n      return [ y, y + 1 / kx ];\n    };\n    scale.copy = function() {\n      return d3_scale_quantize(x0, x1, range);\n    };\n    return rescale();\n  }\n  d3.scale.threshold = function() {\n    return d3_scale_threshold([ .5 ], [ 0, 1 ]);\n  };\n  function d3_scale_threshold(domain, range) {\n    function scale(x) {\n      if (x <= x) return range[d3.bisect(domain, x)];\n    }\n    scale.domain = function(_) {\n      if (!arguments.length) return domain;\n      domain = _;\n      return scale;\n    };\n    scale.range = function(_) {\n      if (!arguments.length) return range;\n      range = _;\n      return scale;\n    };\n    scale.invertExtent = function(y) {\n      y = range.indexOf(y);\n      return [ domain[y - 1], domain[y] ];\n    };\n    scale.copy = function() {\n      return d3_scale_threshold(domain, range);\n    };\n    return scale;\n  }\n  d3.scale.identity = function() {\n    return d3_scale_identity([ 0, 1 ]);\n  };\n  function d3_scale_identity(domain) {\n    function identity(x) {\n      return +x;\n    }\n    identity.invert = identity;\n    identity.domain = identity.range = function(x) {\n      if (!arguments.length) return domain;\n      domain = x.map(identity);\n      return identity;\n    };\n    identity.ticks = function(m) {\n      return d3_scale_linearTicks(domain, m);\n    };\n    identity.tickFormat = function(m, format) {\n      return d3_scale_linearTickFormat(domain, m, format);\n    };\n    identity.copy = function() {\n      return d3_scale_identity(domain);\n    };\n    return identity;\n  }\n  d3.svg = {};\n  function d3_zero() {\n    return 0;\n  }\n  d3.svg.arc = function() {\n    var innerRadius = d3_svg_arcInnerRadius, outerRadius = d3_svg_arcOuterRadius, cornerRadius = d3_zero, padRadius = d3_svg_arcAuto, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle, padAngle = d3_svg_arcPadAngle;\n    function arc() {\n      var r0 = Math.max(0, +innerRadius.apply(this, arguments)), r1 = Math.max(0, +outerRadius.apply(this, arguments)), a0 = startAngle.apply(this, arguments) - halfπ, a1 = endAngle.apply(this, arguments) - halfπ, da = Math.abs(a1 - a0), cw = a0 > a1 ? 0 : 1;\n      if (r1 < r0) rc = r1, r1 = r0, r0 = rc;\n      if (da >= τε) return circleSegment(r1, cw) + (r0 ? circleSegment(r0, 1 - cw) : \"\") + \"Z\";\n      var rc, cr, rp, ap, p0 = 0, p1 = 0, x0, y0, x1, y1, x2, y2, x3, y3, path = [];\n      if (ap = (+padAngle.apply(this, arguments) || 0) / 2) {\n        rp = padRadius === d3_svg_arcAuto ? Math.sqrt(r0 * r0 + r1 * r1) : +padRadius.apply(this, arguments);\n        if (!cw) p1 *= -1;\n        if (r1) p1 = d3_asin(rp / r1 * Math.sin(ap));\n        if (r0) p0 = d3_asin(rp / r0 * Math.sin(ap));\n      }\n      if (r1) {\n        x0 = r1 * Math.cos(a0 + p1);\n        y0 = r1 * Math.sin(a0 + p1);\n        x1 = r1 * Math.cos(a1 - p1);\n        y1 = r1 * Math.sin(a1 - p1);\n        var l1 = Math.abs(a1 - a0 - 2 * p1) <= π ? 0 : 1;\n        if (p1 && d3_svg_arcSweep(x0, y0, x1, y1) === cw ^ l1) {\n          var h1 = (a0 + a1) / 2;\n          x0 = r1 * Math.cos(h1);\n          y0 = r1 * Math.sin(h1);\n          x1 = y1 = null;\n        }\n      } else {\n        x0 = y0 = 0;\n      }\n      if (r0) {\n        x2 = r0 * Math.cos(a1 - p0);\n        y2 = r0 * Math.sin(a1 - p0);\n        x3 = r0 * Math.cos(a0 + p0);\n        y3 = r0 * Math.sin(a0 + p0);\n        var l0 = Math.abs(a0 - a1 + 2 * p0) <= π ? 0 : 1;\n        if (p0 && d3_svg_arcSweep(x2, y2, x3, y3) === 1 - cw ^ l0) {\n          var h0 = (a0 + a1) / 2;\n          x2 = r0 * Math.cos(h0);\n          y2 = r0 * Math.sin(h0);\n          x3 = y3 = null;\n        }\n      } else {\n        x2 = y2 = 0;\n      }\n      if (da > ε && (rc = Math.min(Math.abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments))) > .001) {\n        cr = r0 < r1 ^ cw ? 0 : 1;\n        var rc1 = rc, rc0 = rc;\n        if (da < π) {\n          var oc = x3 == null ? [ x2, y2 ] : x1 == null ? [ x0, y0 ] : d3_geom_polygonIntersect([ x0, y0 ], [ x3, y3 ], [ x1, y1 ], [ x2, y2 ]), ax = x0 - oc[0], ay = y0 - oc[1], bx = x1 - oc[0], by = y1 - oc[1], kc = 1 / Math.sin(Math.acos((ax * bx + ay * by) / (Math.sqrt(ax * ax + ay * ay) * Math.sqrt(bx * bx + by * by))) / 2), lc = Math.sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = Math.min(rc, (r0 - lc) / (kc - 1));\n          rc1 = Math.min(rc, (r1 - lc) / (kc + 1));\n        }\n        if (x1 != null) {\n          var t30 = d3_svg_arcCornerTangents(x3 == null ? [ x2, y2 ] : [ x3, y3 ], [ x0, y0 ], r1, rc1, cw), t12 = d3_svg_arcCornerTangents([ x1, y1 ], [ x2, y2 ], r1, rc1, cw);\n          if (rc === rc1) {\n            path.push(\"M\", t30[0], \"A\", rc1, \",\", rc1, \" 0 0,\", cr, \" \", t30[1], \"A\", r1, \",\", r1, \" 0 \", 1 - cw ^ d3_svg_arcSweep(t30[1][0], t30[1][1], t12[1][0], t12[1][1]), \",\", cw, \" \", t12[1], \"A\", rc1, \",\", rc1, \" 0 0,\", cr, \" \", t12[0]);\n          } else {\n            path.push(\"M\", t30[0], \"A\", rc1, \",\", rc1, \" 0 1,\", cr, \" \", t12[0]);\n          }\n        } else {\n          path.push(\"M\", x0, \",\", y0);\n        }\n        if (x3 != null) {\n          var t03 = d3_svg_arcCornerTangents([ x0, y0 ], [ x3, y3 ], r0, -rc0, cw), t21 = d3_svg_arcCornerTangents([ x2, y2 ], x1 == null ? [ x0, y0 ] : [ x1, y1 ], r0, -rc0, cw);\n          if (rc === rc0) {\n            path.push(\"L\", t21[0], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t21[1], \"A\", r0, \",\", r0, \" 0 \", cw ^ d3_svg_arcSweep(t21[1][0], t21[1][1], t03[1][0], t03[1][1]), \",\", 1 - cw, \" \", t03[1], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t03[0]);\n          } else {\n            path.push(\"L\", t21[0], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t03[0]);\n          }\n        } else {\n          path.push(\"L\", x2, \",\", y2);\n        }\n      } else {\n        path.push(\"M\", x0, \",\", y0);\n        if (x1 != null) path.push(\"A\", r1, \",\", r1, \" 0 \", l1, \",\", cw, \" \", x1, \",\", y1);\n        path.push(\"L\", x2, \",\", y2);\n        if (x3 != null) path.push(\"A\", r0, \",\", r0, \" 0 \", l0, \",\", 1 - cw, \" \", x3, \",\", y3);\n      }\n      path.push(\"Z\");\n      return path.join(\"\");\n    }\n    function circleSegment(r1, cw) {\n      return \"M0,\" + r1 + \"A\" + r1 + \",\" + r1 + \" 0 1,\" + cw + \" 0,\" + -r1 + \"A\" + r1 + \",\" + r1 + \" 0 1,\" + cw + \" 0,\" + r1;\n    }\n    arc.innerRadius = function(v) {\n      if (!arguments.length) return innerRadius;\n      innerRadius = d3_functor(v);\n      return arc;\n    };\n    arc.outerRadius = function(v) {\n      if (!arguments.length) return outerRadius;\n      outerRadius = d3_functor(v);\n      return arc;\n    };\n    arc.cornerRadius = function(v) {\n      if (!arguments.length) return cornerRadius;\n      cornerRadius = d3_functor(v);\n      return arc;\n    };\n    arc.padRadius = function(v) {\n      if (!arguments.length) return padRadius;\n      padRadius = v == d3_svg_arcAuto ? d3_svg_arcAuto : d3_functor(v);\n      return arc;\n    };\n    arc.startAngle = function(v) {\n      if (!arguments.length) return startAngle;\n      startAngle = d3_functor(v);\n      return arc;\n    };\n    arc.endAngle = function(v) {\n      if (!arguments.length) return endAngle;\n      endAngle = d3_functor(v);\n      return arc;\n    };\n    arc.padAngle = function(v) {\n      if (!arguments.length) return padAngle;\n      padAngle = d3_functor(v);\n      return arc;\n    };\n    arc.centroid = function() {\n      var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2, a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - halfπ;\n      return [ Math.cos(a) * r, Math.sin(a) * r ];\n    };\n    return arc;\n  };\n  var d3_svg_arcAuto = \"auto\";\n  function d3_svg_arcInnerRadius(d) {\n    return d.innerRadius;\n  }\n  function d3_svg_arcOuterRadius(d) {\n    return d.outerRadius;\n  }\n  function d3_svg_arcStartAngle(d) {\n    return d.startAngle;\n  }\n  function d3_svg_arcEndAngle(d) {\n    return d.endAngle;\n  }\n  function d3_svg_arcPadAngle(d) {\n    return d && d.padAngle;\n  }\n  function d3_svg_arcSweep(x0, y0, x1, y1) {\n    return (x0 - x1) * y0 - (y0 - y1) * x0 > 0 ? 0 : 1;\n  }\n  function d3_svg_arcCornerTangents(p0, p1, r1, rc, cw) {\n    var x01 = p0[0] - p1[0], y01 = p0[1] - p1[1], lo = (cw ? rc : -rc) / Math.sqrt(x01 * x01 + y01 * y01), ox = lo * y01, oy = -lo * x01, x1 = p0[0] + ox, y1 = p0[1] + oy, x2 = p1[0] + ox, y2 = p1[1] + oy, x3 = (x1 + x2) / 2, y3 = (y1 + y2) / 2, dx = x2 - x1, dy = y2 - y1, d2 = dx * dx + dy * dy, r = r1 - rc, D = x1 * y2 - x2 * y1, d = (dy < 0 ? -1 : 1) * Math.sqrt(Math.max(0, r * r * d2 - D * D)), cx0 = (D * dy - dx * d) / d2, cy0 = (-D * dx - dy * d) / d2, cx1 = (D * dy + dx * d) / d2, cy1 = (-D * dx + dy * d) / d2, dx0 = cx0 - x3, dy0 = cy0 - y3, dx1 = cx1 - x3, dy1 = cy1 - y3;\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n    return [ [ cx0 - ox, cy0 - oy ], [ cx0 * r1 / r, cy0 * r1 / r ] ];\n  }\n  function d3_svg_line(projection) {\n    var x = d3_geom_pointX, y = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, tension = .7;\n    function line(data) {\n      var segments = [], points = [], i = -1, n = data.length, d, fx = d3_functor(x), fy = d3_functor(y);\n      function segment() {\n        segments.push(\"M\", interpolate(projection(points), tension));\n      }\n      while (++i < n) {\n        if (defined.call(this, d = data[i], i)) {\n          points.push([ +fx.call(this, d, i), +fy.call(this, d, i) ]);\n        } else if (points.length) {\n          segment();\n          points = [];\n        }\n      }\n      if (points.length) segment();\n      return segments.length ? segments.join(\"\") : null;\n    }\n    line.x = function(_) {\n      if (!arguments.length) return x;\n      x = _;\n      return line;\n    };\n    line.y = function(_) {\n      if (!arguments.length) return y;\n      y = _;\n      return line;\n    };\n    line.defined = function(_) {\n      if (!arguments.length) return defined;\n      defined = _;\n      return line;\n    };\n    line.interpolate = function(_) {\n      if (!arguments.length) return interpolateKey;\n      if (typeof _ === \"function\") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;\n      return line;\n    };\n    line.tension = function(_) {\n      if (!arguments.length) return tension;\n      tension = _;\n      return line;\n    };\n    return line;\n  }\n  d3.svg.line = function() {\n    return d3_svg_line(d3_identity);\n  };\n  var d3_svg_lineInterpolators = d3.map({\n    linear: d3_svg_lineLinear,\n    \"linear-closed\": d3_svg_lineLinearClosed,\n    step: d3_svg_lineStep,\n    \"step-before\": d3_svg_lineStepBefore,\n    \"step-after\": d3_svg_lineStepAfter,\n    basis: d3_svg_lineBasis,\n    \"basis-open\": d3_svg_lineBasisOpen,\n    \"basis-closed\": d3_svg_lineBasisClosed,\n    bundle: d3_svg_lineBundle,\n    cardinal: d3_svg_lineCardinal,\n    \"cardinal-open\": d3_svg_lineCardinalOpen,\n    \"cardinal-closed\": d3_svg_lineCardinalClosed,\n    monotone: d3_svg_lineMonotone\n  });\n  d3_svg_lineInterpolators.forEach(function(key, value) {\n    value.key = key;\n    value.closed = /-closed$/.test(key);\n  });\n  function d3_svg_lineLinear(points) {\n    return points.length > 1 ? points.join(\"L\") : points + \"Z\";\n  }\n  function d3_svg_lineLinearClosed(points) {\n    return points.join(\"L\") + \"Z\";\n  }\n  function d3_svg_lineStep(points) {\n    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n    while (++i < n) path.push(\"H\", (p[0] + (p = points[i])[0]) / 2, \"V\", p[1]);\n    if (n > 1) path.push(\"H\", p[0]);\n    return path.join(\"\");\n  }\n  function d3_svg_lineStepBefore(points) {\n    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n    while (++i < n) path.push(\"V\", (p = points[i])[1], \"H\", p[0]);\n    return path.join(\"\");\n  }\n  function d3_svg_lineStepAfter(points) {\n    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n    while (++i < n) path.push(\"H\", (p = points[i])[0], \"V\", p[1]);\n    return path.join(\"\");\n  }\n  function d3_svg_lineCardinalOpen(points, tension) {\n    return points.length < 4 ? d3_svg_lineLinear(points) : points[1] + d3_svg_lineHermite(points.slice(1, -1), d3_svg_lineCardinalTangents(points, tension));\n  }\n  function d3_svg_lineCardinalClosed(points, tension) {\n    return points.length < 3 ? d3_svg_lineLinearClosed(points) : points[0] + d3_svg_lineHermite((points.push(points[0]), \n    points), d3_svg_lineCardinalTangents([ points[points.length - 2] ].concat(points, [ points[1] ]), tension));\n  }\n  function d3_svg_lineCardinal(points, tension) {\n    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineCardinalTangents(points, tension));\n  }\n  function d3_svg_lineHermite(points, tangents) {\n    if (tangents.length < 1 || points.length != tangents.length && points.length != tangents.length + 2) {\n      return d3_svg_lineLinear(points);\n    }\n    var quad = points.length != tangents.length, path = \"\", p0 = points[0], p = points[1], t0 = tangents[0], t = t0, pi = 1;\n    if (quad) {\n      path += \"Q\" + (p[0] - t0[0] * 2 / 3) + \",\" + (p[1] - t0[1] * 2 / 3) + \",\" + p[0] + \",\" + p[1];\n      p0 = points[1];\n      pi = 2;\n    }\n    if (tangents.length > 1) {\n      t = tangents[1];\n      p = points[pi];\n      pi++;\n      path += \"C\" + (p0[0] + t0[0]) + \",\" + (p0[1] + t0[1]) + \",\" + (p[0] - t[0]) + \",\" + (p[1] - t[1]) + \",\" + p[0] + \",\" + p[1];\n      for (var i = 2; i < tangents.length; i++, pi++) {\n        p = points[pi];\n        t = tangents[i];\n        path += \"S\" + (p[0] - t[0]) + \",\" + (p[1] - t[1]) + \",\" + p[0] + \",\" + p[1];\n      }\n    }\n    if (quad) {\n      var lp = points[pi];\n      path += \"Q\" + (p[0] + t[0] * 2 / 3) + \",\" + (p[1] + t[1] * 2 / 3) + \",\" + lp[0] + \",\" + lp[1];\n    }\n    return path;\n  }\n  function d3_svg_lineCardinalTangents(points, tension) {\n    var tangents = [], a = (1 - tension) / 2, p0, p1 = points[0], p2 = points[1], i = 1, n = points.length;\n    while (++i < n) {\n      p0 = p1;\n      p1 = p2;\n      p2 = points[i];\n      tangents.push([ a * (p2[0] - p0[0]), a * (p2[1] - p0[1]) ]);\n    }\n    return tangents;\n  }\n  function d3_svg_lineBasis(points) {\n    if (points.length < 3) return d3_svg_lineLinear(points);\n    var i = 1, n = points.length, pi = points[0], x0 = pi[0], y0 = pi[1], px = [ x0, x0, x0, (pi = points[1])[0] ], py = [ y0, y0, y0, pi[1] ], path = [ x0, \",\", y0, \"L\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];\n    points.push(points[n - 1]);\n    while (++i <= n) {\n      pi = points[i];\n      px.shift();\n      px.push(pi[0]);\n      py.shift();\n      py.push(pi[1]);\n      d3_svg_lineBasisBezier(path, px, py);\n    }\n    points.pop();\n    path.push(\"L\", pi);\n    return path.join(\"\");\n  }\n  function d3_svg_lineBasisOpen(points) {\n    if (points.length < 4) return d3_svg_lineLinear(points);\n    var path = [], i = -1, n = points.length, pi, px = [ 0 ], py = [ 0 ];\n    while (++i < 3) {\n      pi = points[i];\n      px.push(pi[0]);\n      py.push(pi[1]);\n    }\n    path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3, px) + \",\" + d3_svg_lineDot4(d3_svg_lineBasisBezier3, py));\n    --i;\n    while (++i < n) {\n      pi = points[i];\n      px.shift();\n      px.push(pi[0]);\n      py.shift();\n      py.push(pi[1]);\n      d3_svg_lineBasisBezier(path, px, py);\n    }\n    return path.join(\"\");\n  }\n  function d3_svg_lineBasisClosed(points) {\n    var path, i = -1, n = points.length, m = n + 4, pi, px = [], py = [];\n    while (++i < 4) {\n      pi = points[i % n];\n      px.push(pi[0]);\n      py.push(pi[1]);\n    }\n    path = [ d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];\n    --i;\n    while (++i < m) {\n      pi = points[i % n];\n      px.shift();\n      px.push(pi[0]);\n      py.shift();\n      py.push(pi[1]);\n      d3_svg_lineBasisBezier(path, px, py);\n    }\n    return path.join(\"\");\n  }\n  function d3_svg_lineBundle(points, tension) {\n    var n = points.length - 1;\n    if (n) {\n      var x0 = points[0][0], y0 = points[0][1], dx = points[n][0] - x0, dy = points[n][1] - y0, i = -1, p, t;\n      while (++i <= n) {\n        p = points[i];\n        t = i / n;\n        p[0] = tension * p[0] + (1 - tension) * (x0 + t * dx);\n        p[1] = tension * p[1] + (1 - tension) * (y0 + t * dy);\n      }\n    }\n    return d3_svg_lineBasis(points);\n  }\n  function d3_svg_lineDot4(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n  }\n  var d3_svg_lineBasisBezier1 = [ 0, 2 / 3, 1 / 3, 0 ], d3_svg_lineBasisBezier2 = [ 0, 1 / 3, 2 / 3, 0 ], d3_svg_lineBasisBezier3 = [ 0, 1 / 6, 2 / 3, 1 / 6 ];\n  function d3_svg_lineBasisBezier(path, x, y) {\n    path.push(\"C\", d3_svg_lineDot4(d3_svg_lineBasisBezier1, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier1, y), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier2, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier2, y), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, y));\n  }\n  function d3_svg_lineSlope(p0, p1) {\n    return (p1[1] - p0[1]) / (p1[0] - p0[0]);\n  }\n  function d3_svg_lineFiniteDifferences(points) {\n    var i = 0, j = points.length - 1, m = [], p0 = points[0], p1 = points[1], d = m[0] = d3_svg_lineSlope(p0, p1);\n    while (++i < j) {\n      m[i] = (d + (d = d3_svg_lineSlope(p0 = p1, p1 = points[i + 1]))) / 2;\n    }\n    m[i] = d;\n    return m;\n  }\n  function d3_svg_lineMonotoneTangents(points) {\n    var tangents = [], d, a, b, s, m = d3_svg_lineFiniteDifferences(points), i = -1, j = points.length - 1;\n    while (++i < j) {\n      d = d3_svg_lineSlope(points[i], points[i + 1]);\n      if (abs(d) < ε) {\n        m[i] = m[i + 1] = 0;\n      } else {\n        a = m[i] / d;\n        b = m[i + 1] / d;\n        s = a * a + b * b;\n        if (s > 9) {\n          s = d * 3 / Math.sqrt(s);\n          m[i] = s * a;\n          m[i + 1] = s * b;\n        }\n      }\n    }\n    i = -1;\n    while (++i <= j) {\n      s = (points[Math.min(j, i + 1)][0] - points[Math.max(0, i - 1)][0]) / (6 * (1 + m[i] * m[i]));\n      tangents.push([ s || 0, m[i] * s || 0 ]);\n    }\n    return tangents;\n  }\n  function d3_svg_lineMonotone(points) {\n    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineMonotoneTangents(points));\n  }\n  d3.svg.line.radial = function() {\n    var line = d3_svg_line(d3_svg_lineRadial);\n    line.radius = line.x, delete line.x;\n    line.angle = line.y, delete line.y;\n    return line;\n  };\n  function d3_svg_lineRadial(points) {\n    var point, i = -1, n = points.length, r, a;\n    while (++i < n) {\n      point = points[i];\n      r = point[0];\n      a = point[1] - halfπ;\n      point[0] = r * Math.cos(a);\n      point[1] = r * Math.sin(a);\n    }\n    return points;\n  }\n  function d3_svg_area(projection) {\n    var x0 = d3_geom_pointX, x1 = d3_geom_pointX, y0 = 0, y1 = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, interpolateReverse = interpolate, L = \"L\", tension = .7;\n    function area(data) {\n      var segments = [], points0 = [], points1 = [], i = -1, n = data.length, d, fx0 = d3_functor(x0), fy0 = d3_functor(y0), fx1 = x0 === x1 ? function() {\n        return x;\n      } : d3_functor(x1), fy1 = y0 === y1 ? function() {\n        return y;\n      } : d3_functor(y1), x, y;\n      function segment() {\n        segments.push(\"M\", interpolate(projection(points1), tension), L, interpolateReverse(projection(points0.reverse()), tension), \"Z\");\n      }\n      while (++i < n) {\n        if (defined.call(this, d = data[i], i)) {\n          points0.push([ x = +fx0.call(this, d, i), y = +fy0.call(this, d, i) ]);\n          points1.push([ +fx1.call(this, d, i), +fy1.call(this, d, i) ]);\n        } else if (points0.length) {\n          segment();\n          points0 = [];\n          points1 = [];\n        }\n      }\n      if (points0.length) segment();\n      return segments.length ? segments.join(\"\") : null;\n    }\n    area.x = function(_) {\n      if (!arguments.length) return x1;\n      x0 = x1 = _;\n      return area;\n    };\n    area.x0 = function(_) {\n      if (!arguments.length) return x0;\n      x0 = _;\n      return area;\n    };\n    area.x1 = function(_) {\n      if (!arguments.length) return x1;\n      x1 = _;\n      return area;\n    };\n    area.y = function(_) {\n      if (!arguments.length) return y1;\n      y0 = y1 = _;\n      return area;\n    };\n    area.y0 = function(_) {\n      if (!arguments.length) return y0;\n      y0 = _;\n      return area;\n    };\n    area.y1 = function(_) {\n      if (!arguments.length) return y1;\n      y1 = _;\n      return area;\n    };\n    area.defined = function(_) {\n      if (!arguments.length) return defined;\n      defined = _;\n      return area;\n    };\n    area.interpolate = function(_) {\n      if (!arguments.length) return interpolateKey;\n      if (typeof _ === \"function\") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;\n      interpolateReverse = interpolate.reverse || interpolate;\n      L = interpolate.closed ? \"M\" : \"L\";\n      return area;\n    };\n    area.tension = function(_) {\n      if (!arguments.length) return tension;\n      tension = _;\n      return area;\n    };\n    return area;\n  }\n  d3_svg_lineStepBefore.reverse = d3_svg_lineStepAfter;\n  d3_svg_lineStepAfter.reverse = d3_svg_lineStepBefore;\n  d3.svg.area = function() {\n    return d3_svg_area(d3_identity);\n  };\n  d3.svg.area.radial = function() {\n    var area = d3_svg_area(d3_svg_lineRadial);\n    area.radius = area.x, delete area.x;\n    area.innerRadius = area.x0, delete area.x0;\n    area.outerRadius = area.x1, delete area.x1;\n    area.angle = area.y, delete area.y;\n    area.startAngle = area.y0, delete area.y0;\n    area.endAngle = area.y1, delete area.y1;\n    return area;\n  };\n  d3.svg.chord = function() {\n    var source = d3_source, target = d3_target, radius = d3_svg_chordRadius, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle;\n    function chord(d, i) {\n      var s = subgroup(this, source, d, i), t = subgroup(this, target, d, i);\n      return \"M\" + s.p0 + arc(s.r, s.p1, s.a1 - s.a0) + (equals(s, t) ? curve(s.r, s.p1, s.r, s.p0) : curve(s.r, s.p1, t.r, t.p0) + arc(t.r, t.p1, t.a1 - t.a0) + curve(t.r, t.p1, s.r, s.p0)) + \"Z\";\n    }\n    function subgroup(self, f, d, i) {\n      var subgroup = f.call(self, d, i), r = radius.call(self, subgroup, i), a0 = startAngle.call(self, subgroup, i) - halfπ, a1 = endAngle.call(self, subgroup, i) - halfπ;\n      return {\n        r: r,\n        a0: a0,\n        a1: a1,\n        p0: [ r * Math.cos(a0), r * Math.sin(a0) ],\n        p1: [ r * Math.cos(a1), r * Math.sin(a1) ]\n      };\n    }\n    function equals(a, b) {\n      return a.a0 == b.a0 && a.a1 == b.a1;\n    }\n    function arc(r, p, a) {\n      return \"A\" + r + \",\" + r + \" 0 \" + +(a > π) + \",1 \" + p;\n    }\n    function curve(r0, p0, r1, p1) {\n      return \"Q 0,0 \" + p1;\n    }\n    chord.radius = function(v) {\n      if (!arguments.length) return radius;\n      radius = d3_functor(v);\n      return chord;\n    };\n    chord.source = function(v) {\n      if (!arguments.length) return source;\n      source = d3_functor(v);\n      return chord;\n    };\n    chord.target = function(v) {\n      if (!arguments.length) return target;\n      target = d3_functor(v);\n      return chord;\n    };\n    chord.startAngle = function(v) {\n      if (!arguments.length) return startAngle;\n      startAngle = d3_functor(v);\n      return chord;\n    };\n    chord.endAngle = function(v) {\n      if (!arguments.length) return endAngle;\n      endAngle = d3_functor(v);\n      return chord;\n    };\n    return chord;\n  };\n  function d3_svg_chordRadius(d) {\n    return d.radius;\n  }\n  d3.svg.diagonal = function() {\n    var source = d3_source, target = d3_target, projection = d3_svg_diagonalProjection;\n    function diagonal(d, i) {\n      var p0 = source.call(this, d, i), p3 = target.call(this, d, i), m = (p0.y + p3.y) / 2, p = [ p0, {\n        x: p0.x,\n        y: m\n      }, {\n        x: p3.x,\n        y: m\n      }, p3 ];\n      p = p.map(projection);\n      return \"M\" + p[0] + \"C\" + p[1] + \" \" + p[2] + \" \" + p[3];\n    }\n    diagonal.source = function(x) {\n      if (!arguments.length) return source;\n      source = d3_functor(x);\n      return diagonal;\n    };\n    diagonal.target = function(x) {\n      if (!arguments.length) return target;\n      target = d3_functor(x);\n      return diagonal;\n    };\n    diagonal.projection = function(x) {\n      if (!arguments.length) return projection;\n      projection = x;\n      return diagonal;\n    };\n    return diagonal;\n  };\n  function d3_svg_diagonalProjection(d) {\n    return [ d.x, d.y ];\n  }\n  d3.svg.diagonal.radial = function() {\n    var diagonal = d3.svg.diagonal(), projection = d3_svg_diagonalProjection, projection_ = diagonal.projection;\n    diagonal.projection = function(x) {\n      return arguments.length ? projection_(d3_svg_diagonalRadialProjection(projection = x)) : projection;\n    };\n    return diagonal;\n  };\n  function d3_svg_diagonalRadialProjection(projection) {\n    return function() {\n      var d = projection.apply(this, arguments), r = d[0], a = d[1] - halfπ;\n      return [ r * Math.cos(a), r * Math.sin(a) ];\n    };\n  }\n  d3.svg.symbol = function() {\n    var type = d3_svg_symbolType, size = d3_svg_symbolSize;\n    function symbol(d, i) {\n      return (d3_svg_symbols.get(type.call(this, d, i)) || d3_svg_symbolCircle)(size.call(this, d, i));\n    }\n    symbol.type = function(x) {\n      if (!arguments.length) return type;\n      type = d3_functor(x);\n      return symbol;\n    };\n    symbol.size = function(x) {\n      if (!arguments.length) return size;\n      size = d3_functor(x);\n      return symbol;\n    };\n    return symbol;\n  };\n  function d3_svg_symbolSize() {\n    return 64;\n  }\n  function d3_svg_symbolType() {\n    return \"circle\";\n  }\n  function d3_svg_symbolCircle(size) {\n    var r = Math.sqrt(size / π);\n    return \"M0,\" + r + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + -r + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + r + \"Z\";\n  }\n  var d3_svg_symbols = d3.map({\n    circle: d3_svg_symbolCircle,\n    cross: function(size) {\n      var r = Math.sqrt(size / 5) / 2;\n      return \"M\" + -3 * r + \",\" + -r + \"H\" + -r + \"V\" + -3 * r + \"H\" + r + \"V\" + -r + \"H\" + 3 * r + \"V\" + r + \"H\" + r + \"V\" + 3 * r + \"H\" + -r + \"V\" + r + \"H\" + -3 * r + \"Z\";\n    },\n    diamond: function(size) {\n      var ry = Math.sqrt(size / (2 * d3_svg_symbolTan30)), rx = ry * d3_svg_symbolTan30;\n      return \"M0,\" + -ry + \"L\" + rx + \",0\" + \" 0,\" + ry + \" \" + -rx + \",0\" + \"Z\";\n    },\n    square: function(size) {\n      var r = Math.sqrt(size) / 2;\n      return \"M\" + -r + \",\" + -r + \"L\" + r + \",\" + -r + \" \" + r + \",\" + r + \" \" + -r + \",\" + r + \"Z\";\n    },\n    \"triangle-down\": function(size) {\n      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;\n      return \"M0,\" + ry + \"L\" + rx + \",\" + -ry + \" \" + -rx + \",\" + -ry + \"Z\";\n    },\n    \"triangle-up\": function(size) {\n      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;\n      return \"M0,\" + -ry + \"L\" + rx + \",\" + ry + \" \" + -rx + \",\" + ry + \"Z\";\n    }\n  });\n  d3.svg.symbolTypes = d3_svg_symbols.keys();\n  var d3_svg_symbolSqrt3 = Math.sqrt(3), d3_svg_symbolTan30 = Math.tan(30 * d3_radians);\n  d3_selectionPrototype.transition = function(name) {\n    var id = d3_transitionInheritId || ++d3_transitionId, ns = d3_transitionNamespace(name), subgroups = [], subgroup, node, transition = d3_transitionInherit || {\n      time: Date.now(),\n      ease: d3_ease_cubicInOut,\n      delay: 0,\n      duration: 250\n    };\n    for (var j = -1, m = this.length; ++j < m; ) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) d3_transitionNode(node, i, ns, id, transition);\n        subgroup.push(node);\n      }\n    }\n    return d3_transition(subgroups, ns, id);\n  };\n  d3_selectionPrototype.interrupt = function(name) {\n    return this.each(name == null ? d3_selection_interrupt : d3_selection_interruptNS(d3_transitionNamespace(name)));\n  };\n  var d3_selection_interrupt = d3_selection_interruptNS(d3_transitionNamespace());\n  function d3_selection_interruptNS(ns) {\n    return function() {\n      var lock, activeId, active;\n      if ((lock = this[ns]) && (active = lock[activeId = lock.active])) {\n        active.timer.c = null;\n        active.timer.t = NaN;\n        if (--lock.count) delete lock[activeId]; else delete this[ns];\n        lock.active += .5;\n        active.event && active.event.interrupt.call(this, this.__data__, active.index);\n      }\n    };\n  }\n  function d3_transition(groups, ns, id) {\n    d3_subclass(groups, d3_transitionPrototype);\n    groups.namespace = ns;\n    groups.id = id;\n    return groups;\n  }\n  var d3_transitionPrototype = [], d3_transitionId = 0, d3_transitionInheritId, d3_transitionInherit;\n  d3_transitionPrototype.call = d3_selectionPrototype.call;\n  d3_transitionPrototype.empty = d3_selectionPrototype.empty;\n  d3_transitionPrototype.node = d3_selectionPrototype.node;\n  d3_transitionPrototype.size = d3_selectionPrototype.size;\n  d3.transition = function(selection, name) {\n    return selection && selection.transition ? d3_transitionInheritId ? selection.transition(name) : selection : d3.selection().transition(selection);\n  };\n  d3.transition.prototype = d3_transitionPrototype;\n  d3_transitionPrototype.select = function(selector) {\n    var id = this.id, ns = this.namespace, subgroups = [], subgroup, subnode, node;\n    selector = d3_selection_selector(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if ((node = group[i]) && (subnode = selector.call(node, node.__data__, i, j))) {\n          if (\"__data__\" in node) subnode.__data__ = node.__data__;\n          d3_transitionNode(subnode, i, ns, id, node[ns][id]);\n          subgroup.push(subnode);\n        } else {\n          subgroup.push(null);\n        }\n      }\n    }\n    return d3_transition(subgroups, ns, id);\n  };\n  d3_transitionPrototype.selectAll = function(selector) {\n    var id = this.id, ns = this.namespace, subgroups = [], subgroup, subnodes, node, subnode, transition;\n    selector = d3_selection_selectorAll(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          transition = node[ns][id];\n          subnodes = selector.call(node, node.__data__, i, j);\n          subgroups.push(subgroup = []);\n          for (var k = -1, o = subnodes.length; ++k < o; ) {\n            if (subnode = subnodes[k]) d3_transitionNode(subnode, k, ns, id, transition);\n            subgroup.push(subnode);\n          }\n        }\n      }\n    }\n    return d3_transition(subgroups, ns, id);\n  };\n  d3_transitionPrototype.filter = function(filter) {\n    var subgroups = [], subgroup, group, node;\n    if (typeof filter !== \"function\") filter = d3_selection_filter(filter);\n    for (var j = 0, m = this.length; j < m; j++) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {\n          subgroup.push(node);\n        }\n      }\n    }\n    return d3_transition(subgroups, this.namespace, this.id);\n  };\n  d3_transitionPrototype.tween = function(name, tween) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 2) return this.node()[ns][id].tween.get(name);\n    return d3_selection_each(this, tween == null ? function(node) {\n      node[ns][id].tween.remove(name);\n    } : function(node) {\n      node[ns][id].tween.set(name, tween);\n    });\n  };\n  function d3_transition_tween(groups, name, value, tween) {\n    var id = groups.id, ns = groups.namespace;\n    return d3_selection_each(groups, typeof value === \"function\" ? function(node, i, j) {\n      node[ns][id].tween.set(name, tween(value.call(node, node.__data__, i, j)));\n    } : (value = tween(value), function(node) {\n      node[ns][id].tween.set(name, value);\n    }));\n  }\n  d3_transitionPrototype.attr = function(nameNS, value) {\n    if (arguments.length < 2) {\n      for (value in nameNS) this.attr(value, nameNS[value]);\n      return this;\n    }\n    var interpolate = nameNS == \"transform\" ? d3_interpolateTransform : d3_interpolate, name = d3.ns.qualify(nameNS);\n    function attrNull() {\n      this.removeAttribute(name);\n    }\n    function attrNullNS() {\n      this.removeAttributeNS(name.space, name.local);\n    }\n    function attrTween(b) {\n      return b == null ? attrNull : (b += \"\", function() {\n        var a = this.getAttribute(name), i;\n        return a !== b && (i = interpolate(a, b), function(t) {\n          this.setAttribute(name, i(t));\n        });\n      });\n    }\n    function attrTweenNS(b) {\n      return b == null ? attrNullNS : (b += \"\", function() {\n        var a = this.getAttributeNS(name.space, name.local), i;\n        return a !== b && (i = interpolate(a, b), function(t) {\n          this.setAttributeNS(name.space, name.local, i(t));\n        });\n      });\n    }\n    return d3_transition_tween(this, \"attr.\" + nameNS, value, name.local ? attrTweenNS : attrTween);\n  };\n  d3_transitionPrototype.attrTween = function(nameNS, tween) {\n    var name = d3.ns.qualify(nameNS);\n    function attrTween(d, i) {\n      var f = tween.call(this, d, i, this.getAttribute(name));\n      return f && function(t) {\n        this.setAttribute(name, f(t));\n      };\n    }\n    function attrTweenNS(d, i) {\n      var f = tween.call(this, d, i, this.getAttributeNS(name.space, name.local));\n      return f && function(t) {\n        this.setAttributeNS(name.space, name.local, f(t));\n      };\n    }\n    return this.tween(\"attr.\" + nameNS, name.local ? attrTweenNS : attrTween);\n  };\n  d3_transitionPrototype.style = function(name, value, priority) {\n    var n = arguments.length;\n    if (n < 3) {\n      if (typeof name !== \"string\") {\n        if (n < 2) value = \"\";\n        for (priority in name) this.style(priority, name[priority], value);\n        return this;\n      }\n      priority = \"\";\n    }\n    function styleNull() {\n      this.style.removeProperty(name);\n    }\n    function styleString(b) {\n      return b == null ? styleNull : (b += \"\", function() {\n        var a = d3_window(this).getComputedStyle(this, null).getPropertyValue(name), i;\n        return a !== b && (i = d3_interpolate(a, b), function(t) {\n          this.style.setProperty(name, i(t), priority);\n        });\n      });\n    }\n    return d3_transition_tween(this, \"style.\" + name, value, styleString);\n  };\n  d3_transitionPrototype.styleTween = function(name, tween, priority) {\n    if (arguments.length < 3) priority = \"\";\n    function styleTween(d, i) {\n      var f = tween.call(this, d, i, d3_window(this).getComputedStyle(this, null).getPropertyValue(name));\n      return f && function(t) {\n        this.style.setProperty(name, f(t), priority);\n      };\n    }\n    return this.tween(\"style.\" + name, styleTween);\n  };\n  d3_transitionPrototype.text = function(value) {\n    return d3_transition_tween(this, \"text\", value, d3_transition_text);\n  };\n  function d3_transition_text(b) {\n    if (b == null) b = \"\";\n    return function() {\n      this.textContent = b;\n    };\n  }\n  d3_transitionPrototype.remove = function() {\n    var ns = this.namespace;\n    return this.each(\"end.transition\", function() {\n      var p;\n      if (this[ns].count < 2 && (p = this.parentNode)) p.removeChild(this);\n    });\n  };\n  d3_transitionPrototype.ease = function(value) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 1) return this.node()[ns][id].ease;\n    if (typeof value !== \"function\") value = d3.ease.apply(d3, arguments);\n    return d3_selection_each(this, function(node) {\n      node[ns][id].ease = value;\n    });\n  };\n  d3_transitionPrototype.delay = function(value) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 1) return this.node()[ns][id].delay;\n    return d3_selection_each(this, typeof value === \"function\" ? function(node, i, j) {\n      node[ns][id].delay = +value.call(node, node.__data__, i, j);\n    } : (value = +value, function(node) {\n      node[ns][id].delay = value;\n    }));\n  };\n  d3_transitionPrototype.duration = function(value) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 1) return this.node()[ns][id].duration;\n    return d3_selection_each(this, typeof value === \"function\" ? function(node, i, j) {\n      node[ns][id].duration = Math.max(1, value.call(node, node.__data__, i, j));\n    } : (value = Math.max(1, value), function(node) {\n      node[ns][id].duration = value;\n    }));\n  };\n  d3_transitionPrototype.each = function(type, listener) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 2) {\n      var inherit = d3_transitionInherit, inheritId = d3_transitionInheritId;\n      try {\n        d3_transitionInheritId = id;\n        d3_selection_each(this, function(node, i, j) {\n          d3_transitionInherit = node[ns][id];\n          type.call(node, node.__data__, i, j);\n        });\n      } finally {\n        d3_transitionInherit = inherit;\n        d3_transitionInheritId = inheritId;\n      }\n    } else {\n      d3_selection_each(this, function(node) {\n        var transition = node[ns][id];\n        (transition.event || (transition.event = d3.dispatch(\"start\", \"end\", \"interrupt\"))).on(type, listener);\n      });\n    }\n    return this;\n  };\n  d3_transitionPrototype.transition = function() {\n    var id0 = this.id, id1 = ++d3_transitionId, ns = this.namespace, subgroups = [], subgroup, group, node, transition;\n    for (var j = 0, m = this.length; j < m; j++) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n        if (node = group[i]) {\n          transition = node[ns][id0];\n          d3_transitionNode(node, i, ns, id1, {\n            time: transition.time,\n            ease: transition.ease,\n            delay: transition.delay + transition.duration,\n            duration: transition.duration\n          });\n        }\n        subgroup.push(node);\n      }\n    }\n    return d3_transition(subgroups, ns, id1);\n  };\n  function d3_transitionNamespace(name) {\n    return name == null ? \"__transition__\" : \"__transition_\" + name + \"__\";\n  }\n  function d3_transitionNode(node, i, ns, id, inherit) {\n    var lock = node[ns] || (node[ns] = {\n      active: 0,\n      count: 0\n    }), transition = lock[id], time, timer, duration, ease, tweens;\n    function schedule(elapsed) {\n      var delay = transition.delay;\n      timer.t = delay + time;\n      if (delay <= elapsed) return start(elapsed - delay);\n      timer.c = start;\n    }\n    function start(elapsed) {\n      var activeId = lock.active, active = lock[activeId];\n      if (active) {\n        active.timer.c = null;\n        active.timer.t = NaN;\n        --lock.count;\n        delete lock[activeId];\n        active.event && active.event.interrupt.call(node, node.__data__, active.index);\n      }\n      for (var cancelId in lock) {\n        if (+cancelId < id) {\n          var cancel = lock[cancelId];\n          cancel.timer.c = null;\n          cancel.timer.t = NaN;\n          --lock.count;\n          delete lock[cancelId];\n        }\n      }\n      timer.c = tick;\n      d3_timer(function() {\n        if (timer.c && tick(elapsed || 1)) {\n          timer.c = null;\n          timer.t = NaN;\n        }\n        return 1;\n      }, 0, time);\n      lock.active = id;\n      transition.event && transition.event.start.call(node, node.__data__, i);\n      tweens = [];\n      transition.tween.forEach(function(key, value) {\n        if (value = value.call(node, node.__data__, i)) {\n          tweens.push(value);\n        }\n      });\n      ease = transition.ease;\n      duration = transition.duration;\n    }\n    function tick(elapsed) {\n      var t = elapsed / duration, e = ease(t), n = tweens.length;\n      while (n > 0) {\n        tweens[--n].call(node, e);\n      }\n      if (t >= 1) {\n        transition.event && transition.event.end.call(node, node.__data__, i);\n        if (--lock.count) delete lock[id]; else delete node[ns];\n        return 1;\n      }\n    }\n    if (!transition) {\n      time = inherit.time;\n      timer = d3_timer(schedule, 0, time);\n      transition = lock[id] = {\n        tween: new d3_Map(),\n        time: time,\n        timer: timer,\n        delay: inherit.delay,\n        duration: inherit.duration,\n        ease: inherit.ease,\n        index: i\n      };\n      inherit = null;\n      ++lock.count;\n    }\n  }\n  d3.svg.axis = function() {\n    var scale = d3.scale.linear(), orient = d3_svg_axisDefaultOrient, innerTickSize = 6, outerTickSize = 6, tickPadding = 3, tickArguments_ = [ 10 ], tickValues = null, tickFormat_;\n    function axis(g) {\n      g.each(function() {\n        var g = d3.select(this);\n        var scale0 = this.__chart__ || scale, scale1 = this.__chart__ = scale.copy();\n        var ticks = tickValues == null ? scale1.ticks ? scale1.ticks.apply(scale1, tickArguments_) : scale1.domain() : tickValues, tickFormat = tickFormat_ == null ? scale1.tickFormat ? scale1.tickFormat.apply(scale1, tickArguments_) : d3_identity : tickFormat_, tick = g.selectAll(\".tick\").data(ticks, scale1), tickEnter = tick.enter().insert(\"g\", \".domain\").attr(\"class\", \"tick\").style(\"opacity\", ε), tickExit = d3.transition(tick.exit()).style(\"opacity\", ε).remove(), tickUpdate = d3.transition(tick.order()).style(\"opacity\", 1), tickSpacing = Math.max(innerTickSize, 0) + tickPadding, tickTransform;\n        var range = d3_scaleRange(scale1), path = g.selectAll(\".domain\").data([ 0 ]), pathUpdate = (path.enter().append(\"path\").attr(\"class\", \"domain\"), \n        d3.transition(path));\n        tickEnter.append(\"line\");\n        tickEnter.append(\"text\");\n        var lineEnter = tickEnter.select(\"line\"), lineUpdate = tickUpdate.select(\"line\"), text = tick.select(\"text\").text(tickFormat), textEnter = tickEnter.select(\"text\"), textUpdate = tickUpdate.select(\"text\"), sign = orient === \"top\" || orient === \"left\" ? -1 : 1, x1, x2, y1, y2;\n        if (orient === \"bottom\" || orient === \"top\") {\n          tickTransform = d3_svg_axisX, x1 = \"x\", y1 = \"y\", x2 = \"x2\", y2 = \"y2\";\n          text.attr(\"dy\", sign < 0 ? \"0em\" : \".71em\").style(\"text-anchor\", \"middle\");\n          pathUpdate.attr(\"d\", \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize);\n        } else {\n          tickTransform = d3_svg_axisY, x1 = \"y\", y1 = \"x\", x2 = \"y2\", y2 = \"x2\";\n          text.attr(\"dy\", \".32em\").style(\"text-anchor\", sign < 0 ? \"end\" : \"start\");\n          pathUpdate.attr(\"d\", \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize);\n        }\n        lineEnter.attr(y2, sign * innerTickSize);\n        textEnter.attr(y1, sign * tickSpacing);\n        lineUpdate.attr(x2, 0).attr(y2, sign * innerTickSize);\n        textUpdate.attr(x1, 0).attr(y1, sign * tickSpacing);\n        if (scale1.rangeBand) {\n          var x = scale1, dx = x.rangeBand() / 2;\n          scale0 = scale1 = function(d) {\n            return x(d) + dx;\n          };\n        } else if (scale0.rangeBand) {\n          scale0 = scale1;\n        } else {\n          tickExit.call(tickTransform, scale1, scale0);\n        }\n        tickEnter.call(tickTransform, scale0, scale1);\n        tickUpdate.call(tickTransform, scale1, scale1);\n      });\n    }\n    axis.scale = function(x) {\n      if (!arguments.length) return scale;\n      scale = x;\n      return axis;\n    };\n    axis.orient = function(x) {\n      if (!arguments.length) return orient;\n      orient = x in d3_svg_axisOrients ? x + \"\" : d3_svg_axisDefaultOrient;\n      return axis;\n    };\n    axis.ticks = function() {\n      if (!arguments.length) return tickArguments_;\n      tickArguments_ = d3_array(arguments);\n      return axis;\n    };\n    axis.tickValues = function(x) {\n      if (!arguments.length) return tickValues;\n      tickValues = x;\n      return axis;\n    };\n    axis.tickFormat = function(x) {\n      if (!arguments.length) return tickFormat_;\n      tickFormat_ = x;\n      return axis;\n    };\n    axis.tickSize = function(x) {\n      var n = arguments.length;\n      if (!n) return innerTickSize;\n      innerTickSize = +x;\n      outerTickSize = +arguments[n - 1];\n      return axis;\n    };\n    axis.innerTickSize = function(x) {\n      if (!arguments.length) return innerTickSize;\n      innerTickSize = +x;\n      return axis;\n    };\n    axis.outerTickSize = function(x) {\n      if (!arguments.length) return outerTickSize;\n      outerTickSize = +x;\n      return axis;\n    };\n    axis.tickPadding = function(x) {\n      if (!arguments.length) return tickPadding;\n      tickPadding = +x;\n      return axis;\n    };\n    axis.tickSubdivide = function() {\n      return arguments.length && axis;\n    };\n    return axis;\n  };\n  var d3_svg_axisDefaultOrient = \"bottom\", d3_svg_axisOrients = {\n    top: 1,\n    right: 1,\n    bottom: 1,\n    left: 1\n  };\n  function d3_svg_axisX(selection, x0, x1) {\n    selection.attr(\"transform\", function(d) {\n      var v0 = x0(d);\n      return \"translate(\" + (isFinite(v0) ? v0 : x1(d)) + \",0)\";\n    });\n  }\n  function d3_svg_axisY(selection, y0, y1) {\n    selection.attr(\"transform\", function(d) {\n      var v0 = y0(d);\n      return \"translate(0,\" + (isFinite(v0) ? v0 : y1(d)) + \")\";\n    });\n  }\n  d3.svg.brush = function() {\n    var event = d3_eventDispatch(brush, \"brushstart\", \"brush\", \"brushend\"), x = null, y = null, xExtent = [ 0, 0 ], yExtent = [ 0, 0 ], xExtentDomain, yExtentDomain, xClamp = true, yClamp = true, resizes = d3_svg_brushResizes[0];\n    function brush(g) {\n      g.each(function() {\n        var g = d3.select(this).style(\"pointer-events\", \"all\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\").on(\"mousedown.brush\", brushstart).on(\"touchstart.brush\", brushstart);\n        var background = g.selectAll(\".background\").data([ 0 ]);\n        background.enter().append(\"rect\").attr(\"class\", \"background\").style(\"visibility\", \"hidden\").style(\"cursor\", \"crosshair\");\n        g.selectAll(\".extent\").data([ 0 ]).enter().append(\"rect\").attr(\"class\", \"extent\").style(\"cursor\", \"move\");\n        var resize = g.selectAll(\".resize\").data(resizes, d3_identity);\n        resize.exit().remove();\n        resize.enter().append(\"g\").attr(\"class\", function(d) {\n          return \"resize \" + d;\n        }).style(\"cursor\", function(d) {\n          return d3_svg_brushCursor[d];\n        }).append(\"rect\").attr(\"x\", function(d) {\n          return /[ew]$/.test(d) ? -3 : null;\n        }).attr(\"y\", function(d) {\n          return /^[ns]/.test(d) ? -3 : null;\n        }).attr(\"width\", 6).attr(\"height\", 6).style(\"visibility\", \"hidden\");\n        resize.style(\"display\", brush.empty() ? \"none\" : null);\n        var gUpdate = d3.transition(g), backgroundUpdate = d3.transition(background), range;\n        if (x) {\n          range = d3_scaleRange(x);\n          backgroundUpdate.attr(\"x\", range[0]).attr(\"width\", range[1] - range[0]);\n          redrawX(gUpdate);\n        }\n        if (y) {\n          range = d3_scaleRange(y);\n          backgroundUpdate.attr(\"y\", range[0]).attr(\"height\", range[1] - range[0]);\n          redrawY(gUpdate);\n        }\n        redraw(gUpdate);\n      });\n    }\n    brush.event = function(g) {\n      g.each(function() {\n        var event_ = event.of(this, arguments), extent1 = {\n          x: xExtent,\n          y: yExtent,\n          i: xExtentDomain,\n          j: yExtentDomain\n        }, extent0 = this.__chart__ || extent1;\n        this.__chart__ = extent1;\n        if (d3_transitionInheritId) {\n          d3.select(this).transition().each(\"start.brush\", function() {\n            xExtentDomain = extent0.i;\n            yExtentDomain = extent0.j;\n            xExtent = extent0.x;\n            yExtent = extent0.y;\n            event_({\n              type: \"brushstart\"\n            });\n          }).tween(\"brush:brush\", function() {\n            var xi = d3_interpolateArray(xExtent, extent1.x), yi = d3_interpolateArray(yExtent, extent1.y);\n            xExtentDomain = yExtentDomain = null;\n            return function(t) {\n              xExtent = extent1.x = xi(t);\n              yExtent = extent1.y = yi(t);\n              event_({\n                type: \"brush\",\n                mode: \"resize\"\n              });\n            };\n          }).each(\"end.brush\", function() {\n            xExtentDomain = extent1.i;\n            yExtentDomain = extent1.j;\n            event_({\n              type: \"brush\",\n              mode: \"resize\"\n            });\n            event_({\n              type: \"brushend\"\n            });\n          });\n        } else {\n          event_({\n            type: \"brushstart\"\n          });\n          event_({\n            type: \"brush\",\n            mode: \"resize\"\n          });\n          event_({\n            type: \"brushend\"\n          });\n        }\n      });\n    };\n    function redraw(g) {\n      g.selectAll(\".resize\").attr(\"transform\", function(d) {\n        return \"translate(\" + xExtent[+/e$/.test(d)] + \",\" + yExtent[+/^s/.test(d)] + \")\";\n      });\n    }\n    function redrawX(g) {\n      g.select(\".extent\").attr(\"x\", xExtent[0]);\n      g.selectAll(\".extent,.n>rect,.s>rect\").attr(\"width\", xExtent[1] - xExtent[0]);\n    }\n    function redrawY(g) {\n      g.select(\".extent\").attr(\"y\", yExtent[0]);\n      g.selectAll(\".extent,.e>rect,.w>rect\").attr(\"height\", yExtent[1] - yExtent[0]);\n    }\n    function brushstart() {\n      var target = this, eventTarget = d3.select(d3.event.target), event_ = event.of(target, arguments), g = d3.select(target), resizing = eventTarget.datum(), resizingX = !/^(n|s)$/.test(resizing) && x, resizingY = !/^(e|w)$/.test(resizing) && y, dragging = eventTarget.classed(\"extent\"), dragRestore = d3_event_dragSuppress(target), center, origin = d3.mouse(target), offset;\n      var w = d3.select(d3_window(target)).on(\"keydown.brush\", keydown).on(\"keyup.brush\", keyup);\n      if (d3.event.changedTouches) {\n        w.on(\"touchmove.brush\", brushmove).on(\"touchend.brush\", brushend);\n      } else {\n        w.on(\"mousemove.brush\", brushmove).on(\"mouseup.brush\", brushend);\n      }\n      g.interrupt().selectAll(\"*\").interrupt();\n      if (dragging) {\n        origin[0] = xExtent[0] - origin[0];\n        origin[1] = yExtent[0] - origin[1];\n      } else if (resizing) {\n        var ex = +/w$/.test(resizing), ey = +/^n/.test(resizing);\n        offset = [ xExtent[1 - ex] - origin[0], yExtent[1 - ey] - origin[1] ];\n        origin[0] = xExtent[ex];\n        origin[1] = yExtent[ey];\n      } else if (d3.event.altKey) center = origin.slice();\n      g.style(\"pointer-events\", \"none\").selectAll(\".resize\").style(\"display\", null);\n      d3.select(\"body\").style(\"cursor\", eventTarget.style(\"cursor\"));\n      event_({\n        type: \"brushstart\"\n      });\n      brushmove();\n      function keydown() {\n        if (d3.event.keyCode == 32) {\n          if (!dragging) {\n            center = null;\n            origin[0] -= xExtent[1];\n            origin[1] -= yExtent[1];\n            dragging = 2;\n          }\n          d3_eventPreventDefault();\n        }\n      }\n      function keyup() {\n        if (d3.event.keyCode == 32 && dragging == 2) {\n          origin[0] += xExtent[1];\n          origin[1] += yExtent[1];\n          dragging = 0;\n          d3_eventPreventDefault();\n        }\n      }\n      function brushmove() {\n        var point = d3.mouse(target), moved = false;\n        if (offset) {\n          point[0] += offset[0];\n          point[1] += offset[1];\n        }\n        if (!dragging) {\n          if (d3.event.altKey) {\n            if (!center) center = [ (xExtent[0] + xExtent[1]) / 2, (yExtent[0] + yExtent[1]) / 2 ];\n            origin[0] = xExtent[+(point[0] < center[0])];\n            origin[1] = yExtent[+(point[1] < center[1])];\n          } else center = null;\n        }\n        if (resizingX && move1(point, x, 0)) {\n          redrawX(g);\n          moved = true;\n        }\n        if (resizingY && move1(point, y, 1)) {\n          redrawY(g);\n          moved = true;\n        }\n        if (moved) {\n          redraw(g);\n          event_({\n            type: \"brush\",\n            mode: dragging ? \"move\" : \"resize\"\n          });\n        }\n      }\n      function move1(point, scale, i) {\n        var range = d3_scaleRange(scale), r0 = range[0], r1 = range[1], position = origin[i], extent = i ? yExtent : xExtent, size = extent[1] - extent[0], min, max;\n        if (dragging) {\n          r0 -= position;\n          r1 -= size + position;\n        }\n        min = (i ? yClamp : xClamp) ? Math.max(r0, Math.min(r1, point[i])) : point[i];\n        if (dragging) {\n          max = (min += position) + size;\n        } else {\n          if (center) position = Math.max(r0, Math.min(r1, 2 * center[i] - min));\n          if (position < min) {\n            max = min;\n            min = position;\n          } else {\n            max = position;\n          }\n        }\n        if (extent[0] != min || extent[1] != max) {\n          if (i) yExtentDomain = null; else xExtentDomain = null;\n          extent[0] = min;\n          extent[1] = max;\n          return true;\n        }\n      }\n      function brushend() {\n        brushmove();\n        g.style(\"pointer-events\", \"all\").selectAll(\".resize\").style(\"display\", brush.empty() ? \"none\" : null);\n        d3.select(\"body\").style(\"cursor\", null);\n        w.on(\"mousemove.brush\", null).on(\"mouseup.brush\", null).on(\"touchmove.brush\", null).on(\"touchend.brush\", null).on(\"keydown.brush\", null).on(\"keyup.brush\", null);\n        dragRestore();\n        event_({\n          type: \"brushend\"\n        });\n      }\n    }\n    brush.x = function(z) {\n      if (!arguments.length) return x;\n      x = z;\n      resizes = d3_svg_brushResizes[!x << 1 | !y];\n      return brush;\n    };\n    brush.y = function(z) {\n      if (!arguments.length) return y;\n      y = z;\n      resizes = d3_svg_brushResizes[!x << 1 | !y];\n      return brush;\n    };\n    brush.clamp = function(z) {\n      if (!arguments.length) return x && y ? [ xClamp, yClamp ] : x ? xClamp : y ? yClamp : null;\n      if (x && y) xClamp = !!z[0], yClamp = !!z[1]; else if (x) xClamp = !!z; else if (y) yClamp = !!z;\n      return brush;\n    };\n    brush.extent = function(z) {\n      var x0, x1, y0, y1, t;\n      if (!arguments.length) {\n        if (x) {\n          if (xExtentDomain) {\n            x0 = xExtentDomain[0], x1 = xExtentDomain[1];\n          } else {\n            x0 = xExtent[0], x1 = xExtent[1];\n            if (x.invert) x0 = x.invert(x0), x1 = x.invert(x1);\n            if (x1 < x0) t = x0, x0 = x1, x1 = t;\n          }\n        }\n        if (y) {\n          if (yExtentDomain) {\n            y0 = yExtentDomain[0], y1 = yExtentDomain[1];\n          } else {\n            y0 = yExtent[0], y1 = yExtent[1];\n            if (y.invert) y0 = y.invert(y0), y1 = y.invert(y1);\n            if (y1 < y0) t = y0, y0 = y1, y1 = t;\n          }\n        }\n        return x && y ? [ [ x0, y0 ], [ x1, y1 ] ] : x ? [ x0, x1 ] : y && [ y0, y1 ];\n      }\n      if (x) {\n        x0 = z[0], x1 = z[1];\n        if (y) x0 = x0[0], x1 = x1[0];\n        xExtentDomain = [ x0, x1 ];\n        if (x.invert) x0 = x(x0), x1 = x(x1);\n        if (x1 < x0) t = x0, x0 = x1, x1 = t;\n        if (x0 != xExtent[0] || x1 != xExtent[1]) xExtent = [ x0, x1 ];\n      }\n      if (y) {\n        y0 = z[0], y1 = z[1];\n        if (x) y0 = y0[1], y1 = y1[1];\n        yExtentDomain = [ y0, y1 ];\n        if (y.invert) y0 = y(y0), y1 = y(y1);\n        if (y1 < y0) t = y0, y0 = y1, y1 = t;\n        if (y0 != yExtent[0] || y1 != yExtent[1]) yExtent = [ y0, y1 ];\n      }\n      return brush;\n    };\n    brush.clear = function() {\n      if (!brush.empty()) {\n        xExtent = [ 0, 0 ], yExtent = [ 0, 0 ];\n        xExtentDomain = yExtentDomain = null;\n      }\n      return brush;\n    };\n    brush.empty = function() {\n      return !!x && xExtent[0] == xExtent[1] || !!y && yExtent[0] == yExtent[1];\n    };\n    return d3.rebind(brush, event, \"on\");\n  };\n  var d3_svg_brushCursor = {\n    n: \"ns-resize\",\n    e: \"ew-resize\",\n    s: \"ns-resize\",\n    w: \"ew-resize\",\n    nw: \"nwse-resize\",\n    ne: \"nesw-resize\",\n    se: \"nwse-resize\",\n    sw: \"nesw-resize\"\n  };\n  var d3_svg_brushResizes = [ [ \"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\" ], [ \"e\", \"w\" ], [ \"n\", \"s\" ], [] ];\n  var d3_time_format = d3_time.format = d3_locale_enUS.timeFormat;\n  var d3_time_formatUtc = d3_time_format.utc;\n  var d3_time_formatIso = d3_time_formatUtc(\"%Y-%m-%dT%H:%M:%S.%LZ\");\n  d3_time_format.iso = Date.prototype.toISOString && +new Date(\"2000-01-01T00:00:00.000Z\") ? d3_time_formatIsoNative : d3_time_formatIso;\n  function d3_time_formatIsoNative(date) {\n    return date.toISOString();\n  }\n  d3_time_formatIsoNative.parse = function(string) {\n    var date = new Date(string);\n    return isNaN(date) ? null : date;\n  };\n  d3_time_formatIsoNative.toString = d3_time_formatIso.toString;\n  d3_time.second = d3_time_interval(function(date) {\n    return new d3_date(Math.floor(date / 1e3) * 1e3);\n  }, function(date, offset) {\n    date.setTime(date.getTime() + Math.floor(offset) * 1e3);\n  }, function(date) {\n    return date.getSeconds();\n  });\n  d3_time.seconds = d3_time.second.range;\n  d3_time.seconds.utc = d3_time.second.utc.range;\n  d3_time.minute = d3_time_interval(function(date) {\n    return new d3_date(Math.floor(date / 6e4) * 6e4);\n  }, function(date, offset) {\n    date.setTime(date.getTime() + Math.floor(offset) * 6e4);\n  }, function(date) {\n    return date.getMinutes();\n  });\n  d3_time.minutes = d3_time.minute.range;\n  d3_time.minutes.utc = d3_time.minute.utc.range;\n  d3_time.hour = d3_time_interval(function(date) {\n    var timezone = date.getTimezoneOffset() / 60;\n    return new d3_date((Math.floor(date / 36e5 - timezone) + timezone) * 36e5);\n  }, function(date, offset) {\n    date.setTime(date.getTime() + Math.floor(offset) * 36e5);\n  }, function(date) {\n    return date.getHours();\n  });\n  d3_time.hours = d3_time.hour.range;\n  d3_time.hours.utc = d3_time.hour.utc.range;\n  d3_time.month = d3_time_interval(function(date) {\n    date = d3_time.day(date);\n    date.setDate(1);\n    return date;\n  }, function(date, offset) {\n    date.setMonth(date.getMonth() + offset);\n  }, function(date) {\n    return date.getMonth();\n  });\n  d3_time.months = d3_time.month.range;\n  d3_time.months.utc = d3_time.month.utc.range;\n  function d3_time_scale(linear, methods, format) {\n    function scale(x) {\n      return linear(x);\n    }\n    scale.invert = function(x) {\n      return d3_time_scaleDate(linear.invert(x));\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return linear.domain().map(d3_time_scaleDate);\n      linear.domain(x);\n      return scale;\n    };\n    function tickMethod(extent, count) {\n      var span = extent[1] - extent[0], target = span / count, i = d3.bisect(d3_time_scaleSteps, target);\n      return i == d3_time_scaleSteps.length ? [ methods.year, d3_scale_linearTickRange(extent.map(function(d) {\n        return d / 31536e6;\n      }), count)[2] ] : !i ? [ d3_time_scaleMilliseconds, d3_scale_linearTickRange(extent, count)[2] ] : methods[target / d3_time_scaleSteps[i - 1] < d3_time_scaleSteps[i] / target ? i - 1 : i];\n    }\n    scale.nice = function(interval, skip) {\n      var domain = scale.domain(), extent = d3_scaleExtent(domain), method = interval == null ? tickMethod(extent, 10) : typeof interval === \"number\" && tickMethod(extent, interval);\n      if (method) interval = method[0], skip = method[1];\n      function skipped(date) {\n        return !isNaN(date) && !interval.range(date, d3_time_scaleDate(+date + 1), skip).length;\n      }\n      return scale.domain(d3_scale_nice(domain, skip > 1 ? {\n        floor: function(date) {\n          while (skipped(date = interval.floor(date))) date = d3_time_scaleDate(date - 1);\n          return date;\n        },\n        ceil: function(date) {\n          while (skipped(date = interval.ceil(date))) date = d3_time_scaleDate(+date + 1);\n          return date;\n        }\n      } : interval));\n    };\n    scale.ticks = function(interval, skip) {\n      var extent = d3_scaleExtent(scale.domain()), method = interval == null ? tickMethod(extent, 10) : typeof interval === \"number\" ? tickMethod(extent, interval) : !interval.range && [ {\n        range: interval\n      }, skip ];\n      if (method) interval = method[0], skip = method[1];\n      return interval.range(extent[0], d3_time_scaleDate(+extent[1] + 1), skip < 1 ? 1 : skip);\n    };\n    scale.tickFormat = function() {\n      return format;\n    };\n    scale.copy = function() {\n      return d3_time_scale(linear.copy(), methods, format);\n    };\n    return d3_scale_linearRebind(scale, linear);\n  }\n  function d3_time_scaleDate(t) {\n    return new Date(t);\n  }\n  var d3_time_scaleSteps = [ 1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6 ];\n  var d3_time_scaleLocalMethods = [ [ d3_time.second, 1 ], [ d3_time.second, 5 ], [ d3_time.second, 15 ], [ d3_time.second, 30 ], [ d3_time.minute, 1 ], [ d3_time.minute, 5 ], [ d3_time.minute, 15 ], [ d3_time.minute, 30 ], [ d3_time.hour, 1 ], [ d3_time.hour, 3 ], [ d3_time.hour, 6 ], [ d3_time.hour, 12 ], [ d3_time.day, 1 ], [ d3_time.day, 2 ], [ d3_time.week, 1 ], [ d3_time.month, 1 ], [ d3_time.month, 3 ], [ d3_time.year, 1 ] ];\n  var d3_time_scaleLocalFormat = d3_time_format.multi([ [ \".%L\", function(d) {\n    return d.getMilliseconds();\n  } ], [ \":%S\", function(d) {\n    return d.getSeconds();\n  } ], [ \"%I:%M\", function(d) {\n    return d.getMinutes();\n  } ], [ \"%I %p\", function(d) {\n    return d.getHours();\n  } ], [ \"%a %d\", function(d) {\n    return d.getDay() && d.getDate() != 1;\n  } ], [ \"%b %d\", function(d) {\n    return d.getDate() != 1;\n  } ], [ \"%B\", function(d) {\n    return d.getMonth();\n  } ], [ \"%Y\", d3_true ] ]);\n  var d3_time_scaleMilliseconds = {\n    range: function(start, stop, step) {\n      return d3.range(Math.ceil(start / step) * step, +stop, step).map(d3_time_scaleDate);\n    },\n    floor: d3_identity,\n    ceil: d3_identity\n  };\n  d3_time_scaleLocalMethods.year = d3_time.year;\n  d3_time.scale = function() {\n    return d3_time_scale(d3.scale.linear(), d3_time_scaleLocalMethods, d3_time_scaleLocalFormat);\n  };\n  var d3_time_scaleUtcMethods = d3_time_scaleLocalMethods.map(function(m) {\n    return [ m[0].utc, m[1] ];\n  });\n  var d3_time_scaleUtcFormat = d3_time_formatUtc.multi([ [ \".%L\", function(d) {\n    return d.getUTCMilliseconds();\n  } ], [ \":%S\", function(d) {\n    return d.getUTCSeconds();\n  } ], [ \"%I:%M\", function(d) {\n    return d.getUTCMinutes();\n  } ], [ \"%I %p\", function(d) {\n    return d.getUTCHours();\n  } ], [ \"%a %d\", function(d) {\n    return d.getUTCDay() && d.getUTCDate() != 1;\n  } ], [ \"%b %d\", function(d) {\n    return d.getUTCDate() != 1;\n  } ], [ \"%B\", function(d) {\n    return d.getUTCMonth();\n  } ], [ \"%Y\", d3_true ] ]);\n  d3_time_scaleUtcMethods.year = d3_time.year.utc;\n  d3_time.scale.utc = function() {\n    return d3_time_scale(d3.scale.linear(), d3_time_scaleUtcMethods, d3_time_scaleUtcFormat);\n  };\n  d3.text = d3_xhrType(function(request) {\n    return request.responseText;\n  });\n  d3.json = function(url, callback) {\n    return d3_xhr(url, \"application/json\", d3_json, callback);\n  };\n  function d3_json(request) {\n    return JSON.parse(request.responseText);\n  }\n  d3.html = function(url, callback) {\n    return d3_xhr(url, \"text/html\", d3_html, callback);\n  };\n  function d3_html(request) {\n    var range = d3_document.createRange();\n    range.selectNode(d3_document.body);\n    return range.createContextualFragment(request.responseText);\n  }\n  d3.xml = d3_xhrType(function(request) {\n    return request.responseXML;\n  });\n  if (typeof define === \"function\" && define.amd) this.d3 = d3, define(d3); else if (typeof module === \"object\" && module.exports) module.exports = d3; else this.d3 = d3;\n}();",
          "parsedSrc": "function(t,e){!function(){var e={version:\"3.5.17\"},n=[].slice,r=function(t){return n.call(t)},i=this.document;function o(t){return t&&(t.ownerDocument||t.document||t).documentElement}function a(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(i)try{r(i.documentElement.childNodes)[0].nodeType}catch(t){r=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),i)try{i.createElement(\"DIV\").style.setProperty(\"opacity\",0,\"\")}catch(t){var s=this.Element.prototype,u=s.setAttribute,l=s.setAttributeNS,c=this.CSSStyleDeclaration.prototype,h=c.setProperty;s.setAttribute=function(t,e){u.call(this,t,e+\"\")},s.setAttributeNS=function(t,e,n){l.call(this,t,e,n+\"\")},c.setProperty=function(t,e,n){h.call(this,t,e+\"\",n)}}function f(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d(t){return null===t?NaN:+t}function p(t){return!isNaN(t)}function v(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}e.ascending=f,e.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},e.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},e.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},e.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},e.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)p(n=+t[o])&&(r+=n);else for(;++o<i;)p(n=+e.call(t,t[o],o))&&(r+=n);return r},e.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)p(n=d(t[o]))?r+=n:--a;else for(;++o<i;)p(n=d(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},e.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},e.median=function(t,n){var r,i=[],o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)p(r=d(t[a]))&&i.push(r);else for(;++a<o;)p(r=d(n.call(t,t[a],a)))&&i.push(r);if(i.length)return e.quantile(i.sort(f),.5)},e.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)p(n=d(t[s]))&&(a+=(r=n-o)*(n-(o+=r/++u)));else for(;++s<i;)p(n=d(e.call(t,t[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++u)));if(u>1)return a/(u-1)},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var g=v(f);function y(t){return t.length}e.bisectLeft=g.left,e.bisect=e.bisectRight=g.right,e.bisector=function(t){return v(1===t.length?function(e,n){return f(t(e),n)}:t)},e.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},e.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},e.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},e.transpose=function(t){if(!(o=t.length))return[];for(var n=-1,r=e.min(t,y),i=new Array(r);++n<r;)for(var o,a=-1,s=i[n]=new Array(o);++a<o;)s[a]=t[a][n];return i},e.zip=function(){return e.transpose(arguments)},e.keys=function(t){var e=[];for(var n in t)e.push(n);return e},e.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},e.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},e.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var _=Math.abs;function m(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function b(){this._=Object.create(null)}e.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error(\"infinite range\");var r,i=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(_(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},e.map=function(t,e){var n=new b;if(t instanceof b)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var x=\"__proto__\",w=\"\\0\";function T(t){return(t+=\"\")===x||t[0]===w?w+t:t}function E(t){return(t+=\"\")[0]===w?t.slice(1):t}function M(t){return T(t)in this._}function S(t){return(t=T(t))in this._&&delete this._[t]}function O(){var t=[];for(var e in this._)t.push(E(e));return t}function C(){var t=0;for(var e in this._)++t;return t}function A(){for(var t in this._)return!1;return!0}function P(){this._=Object.create(null)}function R(t){return t}function I(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function D(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=k.length;n<r;++n){var i=k[n]+e;if(i in t)return i}}m(b,{has:M,get:function(t){return this._[T(t)]},set:function(t,e){return this._[T(t)]=e},remove:S,keys:O,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:E(e),value:this._[e]});return t},size:C,empty:A,forEach:function(t){for(var e in this._)t.call(this,E(e),this._[e])}}),e.nest=function(){var t,n,r={},i=[],o=[];function a(e,o,s){if(s>=i.length)return n?n.call(r,o):t?o.sort(t):o;for(var u,l,c,h,f=-1,d=o.length,p=i[s++],v=new b;++f<d;)(h=v.get(u=p(l=o[f])))?h.push(l):v.set(u,[l]);return e?(l=e(),c=function(t,n){l.set(t,a(e,n,s))}):(l={},c=function(t,n){l[t]=a(e,n,s)}),v.forEach(c),l}return r.map=function(t,e){return a(e,t,0)},r.entries=function(t){return function t(e,n){if(n>=i.length)return e;var r=[],a=o[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),a?r.sort(function(t,e){return a(t.key,e.key)}):r}(a(e.map,t,0),0)},r.key=function(t){return i.push(t),r},r.sortKeys=function(t){return o[i.length-1]=t,r},r.sortValues=function(e){return t=e,r},r.rollup=function(t){return n=t,r},r},e.set=function(t){var e=new P;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},m(P,{has:M,add:function(t){return this._[T(t+=\"\")]=!0,t},remove:S,values:O,size:C,empty:A,forEach:function(t){for(var e in this._)t.call(this,E(e))}}),e.behavior={},e.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=I(t,e,e[n]);return t};var k=[\"webkit\",\"ms\",\"moz\",\"Moz\",\"o\",\"O\"];function N(){}function L(){}function j(t){var e=[],n=new b;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function F(){e.event.preventDefault()}function U(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function B(t){for(var n=new L,r=0,i=arguments.length;++r<i;)n[arguments[r]]=j(n);return n.of=function(r,i){return function(o){try{var a=o.sourceEvent=e.event;o.target=t,e.event=o,n[o.type].apply(r,i)}finally{e.event=a}}},n}e.dispatch=function(){for(var t=new L,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=j(t);return t},L.prototype.on=function(t,e){var n=t.indexOf(\".\"),r=\"\";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},e.event=null,e.requote=function(t){return t.replace(H,\"\\\\$&\")};var H=/[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g,X={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function z(t){return X(t,V),t}var G=function(t,e){return e.querySelector(t)},Y=function(t,e){return e.querySelectorAll(t)},W=function(t,e){var n=t.matches||t[D(t,\"matchesSelector\")];return(W=function(t,e){return n.call(t,e)})(t,e)};\"function\"==typeof Sizzle&&(G=function(t,e){return Sizzle(t,e)[0]||null},Y=Sizzle,W=Sizzle.matchesSelector),e.selection=function(){return e.select(i.documentElement)};var V=e.selection.prototype=[];function q(t){return\"function\"==typeof t?t:function(){return G(t,this)}}function Z(t){return\"function\"==typeof t?t:function(){return Y(t,this)}}V.select=function(t){var e,n,r,i,o=[];t=q(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&\"__data__\"in i&&(n.__data__=i.__data__)):e.push(null)}return z(o)},V.selectAll=function(t){var e,n,i=[];t=Z(t);for(var o=-1,a=this.length;++o<a;)for(var s=this[o],u=-1,l=s.length;++u<l;)(n=s[u])&&(i.push(e=r(t.call(n,n.__data__,u,o))),e.parentNode=n);return z(i)};var K=\"http://www.w3.org/1999/xhtml\",J={svg:\"http://www.w3.org/2000/svg\",xhtml:K,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"};function Q(t,n){return t=e.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:\"function\"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function $(t){return t.trim().replace(/\\s+/g,\" \")}function tt(t){return new RegExp(\"(?:^|\\\\s+)\"+e.requote(t)+\"(?:\\\\s+|$)\",\"g\")}function et(t){return(t+\"\").trim().split(/^|\\s+/)}function nt(t,e){var n=(t=et(t).map(rt)).length;return\"function\"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function rt(t){var e=tt(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute(\"class\")||\"\";r?(e.lastIndex=0,e.test(i)||n.setAttribute(\"class\",$(i+\" \"+t))):n.setAttribute(\"class\",$(i.replace(e,\" \")))}}function it(t,e,n){return null==e?function(){this.style.removeProperty(t)}:\"function\"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function ot(t,e){return null==e?function(){delete this[t]}:\"function\"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function at(t){return\"function\"==typeof t?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===K&&e.documentElement.namespaceURI===K?e.createElement(t):e.createElementNS(n,t)}}function st(){var t=this.parentNode;t&&t.removeChild(this)}function ut(t){return{__data__:t}}function lt(t){return function(){return W(this,t)}}function ct(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function ht(t){return X(t,ft),t}e.ns={prefix:J,qualify:function(t){var e=t.indexOf(\":\"),n=t;return e>=0&&\"xmlns\"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),J.hasOwnProperty(n)?{space:J[n],local:t}:t}},V.attr=function(t,n){if(arguments.length<2){if(\"string\"==typeof t){var r=this.node();return(t=e.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(Q(n,t[n]));return this}return this.each(Q(t,n))},V.classed=function(t,e){if(arguments.length<2){if(\"string\"==typeof t){var n=this.node(),r=(t=et(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute(\"class\");++i<r;)if(!tt(t[i]).test(e))return!1;return!0}for(e in t)this.each(nt(e,t[e]));return this}return this.each(nt(t,e))},V.style=function(t,e,n){var r=arguments.length;if(r<3){if(\"string\"!=typeof t){for(n in r<2&&(e=\"\"),t)this.each(it(n,t[n],e));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(t)}n=\"\"}return this.each(it(t,e,n))},V.property=function(t,e){if(arguments.length<2){if(\"string\"==typeof t)return this.node()[t];for(e in t)this.each(ot(e,t[e]));return this}return this.each(ot(t,e))},V.text=function(t){return arguments.length?this.each(\"function\"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?\"\":e}:null==t?function(){this.textContent=\"\"}:function(){this.textContent=t}):this.node().textContent},V.html=function(t){return arguments.length?this.each(\"function\"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?\"\":e}:null==t?function(){this.innerHTML=\"\"}:function(){this.innerHTML=t}):this.node().innerHTML},V.append=function(t){return t=at(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},V.insert=function(t,e){return t=at(t),e=q(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},V.remove=function(){return this.each(st)},V.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function a(t,n){var r,i,o,a=t.length,c=n.length,h=Math.min(a,c),f=new Array(c),d=new Array(c),p=new Array(a);if(e){var v,g=new b,y=new Array(a);for(r=-1;++r<a;)(i=t[r])&&(g.has(v=e.call(i,i.__data__,r))?p[r]=i:g.set(v,i),y[r]=v);for(r=-1;++r<c;)(i=g.get(v=e.call(n,o=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=o):d[r]=ut(o),g.set(v,!0);for(r=-1;++r<a;)r in y&&!0!==g.get(y[r])&&(p[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=n[r],i?(i.__data__=o,f[r]=i):d[r]=ut(o);for(;r<c;++r)d[r]=ut(n[r]);for(;r<a;++r)p[r]=t[r]}d.update=f,d.parentNode=f.parentNode=p.parentNode=t.parentNode,s.push(d),u.push(f),l.push(p)}var s=ht([]),u=z([]),l=z([]);if(\"function\"==typeof t)for(;++i<o;)a(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],t);return u.enter=function(){return s},u.exit=function(){return l},u},V.datum=function(t){return arguments.length?this.property(\"__data__\",t):this.property(\"__data__\")},V.filter=function(t){var e,n,r,i=[];\"function\"!=typeof t&&(t=lt(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return z(i)},V.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},V.sort=function(t){t=function(t){arguments.length||(t=f);return function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},V.each=function(t){return ct(this,function(e,n,r){t.call(e,e.__data__,n,r)})},V.call=function(t){var e=r(arguments);return t.apply(e[0]=this,e),this},V.empty=function(){return!this.node()},V.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},V.size=function(){var t=0;return ct(this,function(){++t}),t};var ft=[];function dt(t,n,i){var o=\"__on\"+t,a=t.indexOf(\".\"),s=vt;a>0&&(t=t.slice(0,a));var u=pt.get(t);function l(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}return u&&(t=u,s=gt),a?n?function(){var e=s(n,r(arguments));l.call(this),this.addEventListener(t,this[o]=e,e.$=i),e._=n}:l:n?N:function(){var n,r=new RegExp(\"^__on([^.]+)\"+e.requote(t)+\"$\");for(var i in this)if(n=i.match(r)){var o=this[i];this.removeEventListener(n[1],o,o.$),delete this[i]}}}e.selection.enter=ht,e.selection.enter.prototype=ft,ft.append=V.append,ft.empty=V.empty,ft.node=V.node,ft.call=V.call,ft.size=V.size,ft.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return z(a)},ft.insert=function(t,e){return arguments.length<2&&(e=function(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<u;);return a}}(this)),V.insert.call(this,t,e)},e.select=function(t){var e;return\"string\"==typeof t?(e=[G(t,i)]).parentNode=i.documentElement:(e=[t]).parentNode=o(t),z([e])},e.selectAll=function(t){var e;return\"string\"==typeof t?(e=r(Y(t,i))).parentNode=i.documentElement:(e=r(t)).parentNode=null,z([e])},V.on=function(t,e,n){var r=arguments.length;if(r<3){if(\"string\"!=typeof t){for(n in r<2&&(e=!1),t)this.each(dt(n,t[n],e));return this}if(r<2)return(r=this.node()[\"__on\"+t])&&r._;n=!1}return this.each(dt(t,e,n))};var pt=e.map({mouseenter:\"mouseover\",mouseleave:\"mouseout\"});function vt(t,n){return function(r){var i=e.event;e.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=i}}}function gt(t,e){var n=vt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}i&&pt.forEach(function(t){\"on\"+t in i&&pt.remove(t)});var yt,_t=0;function mt(t){var n=\".dragsuppress-\"+ ++_t,r=\"click\"+n,i=e.select(a(t)).on(\"touchmove\"+n,F).on(\"dragstart\"+n,F).on(\"selectstart\"+n,F);if(null==yt&&(yt=!(\"onselectstart\"in t)&&D(t.style,\"userSelect\")),yt){var s=o(t).style,u=s[yt];s[yt]=\"none\"}return function(t){if(i.on(n,null),yt&&(s[yt]=u),t){var e=function(){i.on(r,null)};i.on(r,function(){F(),e()},!0),setTimeout(e,0)}}}e.mouse=function(t){return xt(t,U())};var bt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function xt(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(bt<0){var o=a(t);if(o.scrollX||o.scrollY){var s=(r=e.select(\"body\").append(\"svg\").style({position:\"absolute\",top:0,left:0,margin:0,padding:0,border:\"none\"},\"important\"))[0][0].getScreenCTM();bt=!(s.f||s.e),r.remove()}}return bt?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var u=t.getBoundingClientRect();return[n.clientX-u.left-t.clientLeft,n.clientY-u.top-t.clientTop]}function wt(){return e.event.changedTouches[0].identifier}e.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=U().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return xt(t,r)},e.behavior.drag=function(){var t=B(o,\"drag\",\"dragstart\",\"dragend\"),n=null,r=s(N,e.mouse,a,\"mousemove\",\"mouseup\"),i=s(wt,e.touch,R,\"touchmove\",\"touchend\");function o(){this.on(\"mousedown.drag\",r).on(\"touchstart.drag\",i)}function s(r,i,o,a,s){return function(){var u,l=e.event.target.correspondingElement||e.event.target,c=this.parentNode,h=t.of(this,arguments),f=0,d=r(),p=\".drag\"+(null==d?\"\":\"-\"+d),v=e.select(o(l)).on(a+p,function(){var t,e,n=i(c,d);if(!n)return;t=n[0]-y[0],e=n[1]-y[1],f|=t|e,y=n,h({type:\"drag\",x:n[0]+u[0],y:n[1]+u[1],dx:t,dy:e})}).on(s+p,function(){if(!i(c,d))return;v.on(a+p,null).on(s+p,null),g(f),h({type:\"dragend\"})}),g=mt(l),y=i(c,d);u=n?[(u=n.apply(this,arguments)).x-y[0],u.y-y[1]]:[0,0],h({type:\"dragstart\"})}}return o.origin=function(t){return arguments.length?(n=t,o):n},e.rebind(o,t,\"on\")},e.touches=function(t,e){return arguments.length<2&&(e=U().touches),e?r(e).map(function(e){var n=xt(t,e);return n.identifier=e.identifier,n}):[]};var Tt=1e-6,Et=Tt*Tt,Mt=Math.PI,St=2*Mt,Ot=St-Tt,Ct=Mt/2,At=Mt/180,Pt=180/Mt;function Rt(t){return t>0?1:t<0?-1:0}function It(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Dt(t){return t>1?0:t<-1?Mt:Math.acos(t)}function kt(t){return t>1?Ct:t<-1?-Ct:Math.asin(t)}function Nt(t){return((t=Math.exp(t))+1/t)/2}function Lt(t){return(t=Math.sin(t/2))*t}var jt=Math.SQRT2;e.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-i,h=u-o,f=c*c+h*h;if(f<Et)r=Math.log(l/a)/jt,n=function(t){return[i+t*c,o+t*h,a*Math.exp(jt*t*r)]};else{var d=Math.sqrt(f),p=(l*l-a*a+4*f)/(2*a*2*d),v=(l*l-a*a-4*f)/(2*l*2*d),g=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-g)/jt,n=function(t){var e=t*r,n=Nt(g),s=a/(2*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(jt*e+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+s*c,o+s*h,a*n/Nt(jt*e+g)]}}return n.duration=1e3*r,n},e.behavior.zoom=function(){var t,n,r,o,s,u,l,c,h,f={x:0,y:0,k:1},d=[960,500],p=Bt,v=250,g=0,y=\"mousedown.zoom\",_=\"mousemove.zoom\",m=\"mouseup.zoom\",b=\"touchstart.zoom\",x=B(w,\"zoomstart\",\"zoom\",\"zoomend\");function w(t){t.on(y,R).on(Ut+\".zoom\",D).on(\"dblclick.zoom\",k).on(b,I)}function T(t){return[(t[0]-f.x)/f.k,(t[1]-f.y)/f.k]}function E(t){f.k=Math.max(p[0],Math.min(p[1],t))}function M(t,e){e=function(t){return[t[0]*f.k+f.x,t[1]*f.k+f.y]}(e),f.x+=t[0]-e[0],f.y+=t[1]-e[1]}function S(t,r,i,o){t.__chart__={x:f.x,y:f.y,k:f.k},E(Math.pow(2,o)),M(n=r,i),t=e.select(t),v>0&&(t=t.transition().duration(v)),t.call(w.event)}function O(){l&&l.domain(u.range().map(function(t){return(t-f.x)/f.k}).map(u.invert)),h&&h.domain(c.range().map(function(t){return(t-f.y)/f.k}).map(c.invert))}function C(t){g++||t({type:\"zoomstart\"})}function A(t){O(),t({type:\"zoom\",scale:f.k,translate:[f.x,f.y]})}function P(t){--g||(t({type:\"zoomend\"}),n=null)}function R(){var t=this,n=x.of(t,arguments),r=0,i=e.select(a(t)).on(_,function(){r=1,M(e.mouse(t),o),A(n)}).on(m,function(){i.on(_,null).on(m,null),s(r),P(n)}),o=T(e.mouse(t)),s=mt(t);ls.call(t),C(n)}function I(){var t,n=this,r=x.of(n,arguments),i={},o=0,a=\".zoom-\"+e.event.changedTouches[0].identifier,u=\"touchmove\"+a,l=\"touchend\"+a,c=[],h=e.select(n),d=mt(n);function p(){var r=e.touches(n);return t=f.k,r.forEach(function(t){t.identifier in i&&(i[t.identifier]=T(t))}),r}function v(){var t=e.event.target;e.select(t).on(u,g).on(l,_),c.push(t);for(var r=e.event.changedTouches,a=0,h=r.length;a<h;++a)i[r[a].identifier]=null;var d=p(),v=Date.now();if(1===d.length){if(v-s<500){var y=d[0];S(n,y,i[y.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),F()}s=v}else if(d.length>1){y=d[0];var m=d[1],b=y[0]-m[0],x=y[1]-m[1];o=b*b+x*x}}function g(){var a,u,l,c,h=e.touches(n);ls.call(n);for(var f=0,d=h.length;f<d;++f,c=null)if(l=h[f],c=i[l.identifier]){if(u)break;a=l,u=c}if(c){var p=(p=l[0]-a[0])*p+(p=l[1]-a[1])*p,v=o&&Math.sqrt(p/o);a=[(a[0]+l[0])/2,(a[1]+l[1])/2],u=[(u[0]+c[0])/2,(u[1]+c[1])/2],E(v*t)}s=null,M(a,u),A(r)}function _(){if(e.event.touches.length){for(var t=e.event.changedTouches,n=0,o=t.length;n<o;++n)delete i[t[n].identifier];for(var s in i)return void p()}e.selectAll(c).on(a,null),h.on(y,R).on(b,I),d(),P(r)}v(),C(r),h.on(y,null).on(b,v)}function D(){var i=x.of(this,arguments);o?clearTimeout(o):(ls.call(this),t=T(n=r||e.mouse(this)),C(i)),o=setTimeout(function(){o=null,P(i)},50),F(),E(Math.pow(2,.002*Ft())*f.k),M(n,t),A(i)}function k(){var t=e.mouse(this),n=Math.log(f.k)/Math.LN2;S(this,t,T(t),e.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return Ut||(Ut=\"onwheel\"in i?(Ft=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},\"wheel\"):\"onmousewheel\"in i?(Ft=function(){return e.event.wheelDelta},\"mousewheel\"):(Ft=function(){return-e.event.detail},\"MozMousePixelScroll\")),w.event=function(t){t.each(function(){var t=x.of(this,arguments),r=f;fs?e.select(this).transition().each(\"start.zoom\",function(){f=this.__chart__||{x:0,y:0,k:1},C(t)}).tween(\"zoom:zoom\",function(){var i=d[0],o=d[1],a=n?n[0]:i/2,s=n?n[1]:o/2,u=e.interpolateZoom([(a-f.x)/f.k,(s-f.y)/f.k,i/f.k],[(a-r.x)/r.k,(s-r.y)/r.k,i/r.k]);return function(e){var n=u(e),r=i/n[2];this.__chart__=f={x:a-n[0]*r,y:s-n[1]*r,k:r},A(t)}}).each(\"interrupt.zoom\",function(){P(t)}).each(\"end.zoom\",function(){P(t)}):(this.__chart__=f,C(t),A(t),P(t))})},w.translate=function(t){return arguments.length?(f={x:+t[0],y:+t[1],k:f.k},O(),w):[f.x,f.y]},w.scale=function(t){return arguments.length?(f={x:f.x,y:f.y,k:null},E(+t),O(),w):f.k},w.scaleExtent=function(t){return arguments.length?(p=null==t?Bt:[+t[0],+t[1]],w):p},w.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],w):r},w.size=function(t){return arguments.length?(d=t&&[+t[0],+t[1]],w):d},w.duration=function(t){return arguments.length?(v=+t,w):v},w.x=function(t){return arguments.length?(l=t,u=t.copy(),f={x:0,y:0,k:1},w):l},w.y=function(t){return arguments.length?(h=t,c=t.copy(),f={x:0,y:0,k:1},w):h},e.rebind(w,x,\"on\")};var Ft,Ut,Bt=[0,1/0];function Ht(){}function Xt(t,e,n){return this instanceof Xt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Xt?new Xt(t.h,t.s,t.l):ce(\"\"+t,he,Xt):new Xt(t,e,n)}e.color=Ht,Ht.prototype.toString=function(){return this.rgb()+\"\"},e.hsl=Xt;var zt=Xt.prototype=new Ht;function Gt(t,e,n){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new oe(o(t+120),o(t),o(t-120))}function Yt(t,n,r){return this instanceof Yt?(this.h=+t,this.c=+n,void(this.l=+r)):arguments.length<2?t instanceof Yt?new Yt(t.h,t.c,t.l):ee(t instanceof qt?t.l:(t=fe((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Yt(t,n,r)}zt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Xt(this.h,this.s,this.l/t)},zt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Xt(this.h,this.s,t*this.l)},zt.rgb=function(){return Gt(this.h,this.s,this.l)},e.hcl=Yt;var Wt=Yt.prototype=new Ht;function Vt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new qt(n,Math.cos(t*=At)*e,Math.sin(t)*e)}function qt(t,e,n){return this instanceof qt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof qt?new qt(t.l,t.a,t.b):t instanceof Yt?Vt(t.h,t.c,t.l):fe((t=oe(t)).r,t.g,t.b):new qt(t,e,n)}Wt.brighter=function(t){return new Yt(this.h,this.c,Math.min(100,this.l+Zt*(arguments.length?t:1)))},Wt.darker=function(t){return new Yt(this.h,this.c,Math.max(0,this.l-Zt*(arguments.length?t:1)))},Wt.rgb=function(){return Vt(this.h,this.c,this.l).rgb()},e.lab=qt;var Zt=18,Kt=.95047,Jt=1,Qt=1.08883,$t=qt.prototype=new Ht;function te(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new oe(ie(3.2404542*(i=ne(i)*Kt)-1.5371385*(r=ne(r)*Jt)-.4985314*(o=ne(o)*Qt)),ie(-.969266*i+1.8760108*r+.041556*o),ie(.0556434*i-.2040259*r+1.0572252*o))}function ee(t,e,n){return t>0?new Yt(Math.atan2(n,e)*Pt,Math.sqrt(e*e+n*n),t):new Yt(NaN,NaN,t)}function ne(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function re(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ie(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function oe(t,e,n){return this instanceof oe?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof oe?new oe(t.r,t.g,t.b):ce(\"\"+t,oe,Gt):new oe(t,e,n)}function ae(t){return new oe(t>>16,t>>8&255,255&t)}function se(t){return ae(t)+\"\"}$t.brighter=function(t){return new qt(Math.min(100,this.l+Zt*(arguments.length?t:1)),this.a,this.b)},$t.darker=function(t){return new qt(Math.max(0,this.l-Zt*(arguments.length?t:1)),this.a,this.b)},$t.rgb=function(){return te(this.l,this.a,this.b)},e.rgb=oe;var ue=oe.prototype=new Ht;function le(t){return t<16?\"0\"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ce(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\\((.*)\\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(\",\"),r[1]){case\"hsl\":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case\"rgb\":return e(pe(i[0]),pe(i[1]),pe(i[2]))}return(o=ve.get(t))?e(o.r,o.g,o.b):(null==t||\"#\"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function he(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new Xt(r,i,u)}function fe(t,e,n){var r=re((.4124564*(t=de(t))+.3575761*(e=de(e))+.1804375*(n=de(n)))/Kt),i=re((.2126729*t+.7151522*e+.072175*n)/Jt);return qt(116*i-16,500*(r-i),200*(i-re((.0193339*t+.119192*e+.9503041*n)/Qt)))}function de(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pe(t){var e=parseFloat(t);return\"%\"===t.charAt(t.length-1)?Math.round(2.55*e):e}ue.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new oe(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new oe(i,i,i)},ue.darker=function(t){return new oe((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ue.hsl=function(){return he(this.r,this.g,this.b)},ue.toString=function(){return\"#\"+le(this.r)+le(this.g)+le(this.b)};var ve=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ge(t){return\"function\"==typeof t?t:function(){return t}}function ye(t){return function(e,n,r){return 2===arguments.length&&\"function\"==typeof n&&(r=n,n=null),_e(e,n,t,r)}}function _e(t,n,i,o){var a={},s=e.dispatch(\"beforesend\",\"progress\",\"load\",\"error\"),u={},l=new XMLHttpRequest,c=null;function h(){var t,e=l.status;if(!e&&function(t){var e=t.responseType;return e&&\"text\"!==e?t.response:t.responseText}(l)||e>=200&&e<300||304===e){try{t=i.call(a,l)}catch(t){return void s.error.call(a,t)}s.load.call(a,t)}else s.error.call(a,l)}return!this.XDomainRequest||\"withCredentials\"in l||!/^(http(s)?:)?\\/\\//.test(t)||(l=new XDomainRequest),\"onload\"in l?l.onload=l.onerror=h:l.onreadystatechange=function(){l.readyState>3&&h()},l.onprogress=function(t){var n=e.event;e.event=t;try{s.progress.call(a,l)}finally{e.event=n}},a.header=function(t,e){return t=(t+\"\").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+\"\",a)},a.mimeType=function(t){return arguments.length?(n=null==t?null:t+\"\",a):n},a.responseType=function(t){return arguments.length?(c=t,a):c},a.response=function(t){return i=t,a},[\"get\",\"post\"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(r(arguments)))}}),a.send=function(e,r,i){if(2===arguments.length&&\"function\"==typeof r&&(i=r,r=null),l.open(e,t,!0),null==n||\"accept\"in u||(u.accept=n+\",*/*\"),l.setRequestHeader)for(var o in u)l.setRequestHeader(o,u[o]);return null!=n&&l.overrideMimeType&&l.overrideMimeType(n),null!=c&&(l.responseType=c),null!=i&&a.on(\"error\",i).on(\"load\",function(t){i(null,t)}),s.beforesend.call(a,l),l.send(null==r?null:r),a},a.abort=function(){return l.abort(),a},e.rebind(a,s,\"on\"),null==o?a:a.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(o))}ve.forEach(function(t,e){ve.set(t,ae(e))}),e.functor=ge,e.xhr=ye(R),e.dsv=function(t,e){var n=new RegExp('[\"'+t+\"\\n]\"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=_e(t,e,null==n?o:a(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:a(t)):n},i}function o(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function s(e){return e.map(u).join(t)}function u(t){return n.test(t)?'\"'+t.replace(/\\\"/g,'\"\"')+'\"':t}return i.parse=function(t,e){var n;return i.parseRows(t,function(t,r){if(n)return n(t,r-1);var i=new Function(\"d\",\"return {\"+t.map(function(t,e){return JSON.stringify(t)+\": d[\"+e+\"]\"}).join(\",\")+\"}\");n=e?function(t,n){return e(i(t),n)}:i})},i.parseRows=function(t,e){var n,i,o={},a={},s=[],u=t.length,l=0,c=0;function h(){if(l>=u)return a;if(i)return i=!1,o;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return l=n+2,13===(s=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++l):10===s&&(i=!0),t.slice(e+1,n).replace(/\"\"/g,'\"')}for(;l<u;){var s,c=1;if(10===(s=t.charCodeAt(l++)))i=!0;else if(13===s)i=!0,10===t.charCodeAt(l)&&(++l,++c);else if(s!==r)continue;return t.slice(e,l-c)}return t.slice(e)}for(;(n=h())!==a;){for(var f=[];n!==o&&n!==a;)f.push(n),n=h();e&&null==(f=e(f,c++))||s.push(f)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new P,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(u).join(t)].concat(e.map(function(e){return r.map(function(t){return u(e[t])}).join(t)})).join(\"\\n\")},i.formatRows=function(t){return t.map(s).join(\"\\n\")},i},e.csv=e.dsv(\",\",\"text/csv\"),e.tsv=e.dsv(\"\\t\",\"text/tab-separated-values\");var me,be,xe,we,Te=this[D(this,\"requestAnimationFrame\")]||function(t){setTimeout(t,17)};function Ee(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return be?be.n=i:me=i,be=i,xe||(we=clearTimeout(we),xe=1,Te(Me)),i}function Me(){var t=Se(),e=Oe()-t;e>24?(isFinite(e)&&(clearTimeout(we),we=setTimeout(Me,e)),xe=0):(xe=1,Te(Me))}function Se(){for(var t=Date.now(),e=me;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Oe(){for(var t,e=me,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:me=e.n;return be=t,n}function Ce(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}e.timer=function(){Ee.apply(this,arguments)},e.timer.flush=function(){Se(),Oe()},e.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ae=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"].map(function(t,e){var n=Math.pow(10,3*_(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});e.formatPrefix=function(t,n){var r=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=e.round(t,Ce(t,n))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Ae[8+r/3]};var Pe=/(?:([^{])?([<>=^]))?([+\\- ])?([$#])?(0)?(\\d+)?(,)?(\\.-?\\d+)?([a-z%])?/i,Re=e.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,n){return(t=e.round(t,Ce(t,n))).toFixed(Math.max(0,Math.min(20,Ce(t*(1+1e-15),n))))}});function Ie(t){return t+\"\"}var De=e.time={},ke=Date;function Ne(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Ne.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Le.setUTCDate.apply(this._,arguments)},setDay:function(){Le.setUTCDay.apply(this._,arguments)},setFullYear:function(){Le.setUTCFullYear.apply(this._,arguments)},setHours:function(){Le.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Le.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Le.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Le.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Le.setUTCSeconds.apply(this._,arguments)},setTime:function(){Le.setTime.apply(this._,arguments)}};var Le=Date.prototype;function je(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new ke(n-1)),1),n}function o(t,n){return e(t=new ke(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<r;)s.push(new Date(+a)),e(a,1);return s}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var s=t.utc=Fe(t);return s.floor=s,s.round=Fe(r),s.ceil=Fe(i),s.offset=Fe(o),s.range=function(t,e,n){try{ke=Ne;var r=new Ne;return r._=t,a(r,e,n)}finally{ke=Date}},t}function Fe(t){return function(e,n){try{ke=Ne;var r=new Ne;return r._=e,t(r,n)._}finally{ke=Date}}}De.year=je(function(t){return(t=De.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),De.years=De.year.range,De.years.utc=De.year.utc.range,De.day=je(function(t){var e=new ke(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),De.days=De.day.range,De.days.utc=De.day.utc.range,De.dayOfYear=function(t){var e=De.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},[\"sunday\",\"monday\",\"tuesday\",\"wednesday\",\"thursday\",\"friday\",\"saturday\"].forEach(function(t,e){e=7-e;var n=De[t]=je(function(t){return(t=De.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=De.year(t).getDay();return Math.floor((De.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});De[t+\"s\"]=n.range,De[t+\"s\"].utc=n.utc.range,De[t+\"OfYear\"]=function(t){var n=De.year(t).getDay();return Math.floor((De.dayOfYear(t)+(n+e)%7)/7)}}),De.week=De.sunday,De.weeks=De.sunday.range,De.weeks.utc=De.sunday.utc.range,De.weekOfYear=De.sundayOfYear;var Ue={\"-\":\"\",_:\" \",0:\"0\"},Be=/^\\s*\\d+/,He=/^%/;function Xe(t,e,n){var r=t<0?\"-\":\"\",i=(r?-t:t)+\"\",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ze(t){return new RegExp(\"^(?:\"+t.map(e.requote).join(\"|\")+\")\",\"i\")}function Ge(t){for(var e=new b,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ye(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function We(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Ve(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function qe(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ze(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+2));return r?(t.y=function(t){return t+(t>68?1900:2e3)}(+r[0]),n+r[0].length):-1}function Ke(t,e,n){return/^[+-]\\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Je(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Qe(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function $e(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function tn(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function en(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nn(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rn(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function on(t){var e=t.getTimezoneOffset(),n=e>0?\"-\":\"+\",r=_(e)/60|0,i=_(e)%60;return n+Xe(r,\"0\",2)+Xe(i,\"0\",2)}function an(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}e.locale=function(t){return{numberFormat:function(t){var n=t.decimal,r=t.thousands,i=t.grouping,o=t.currency,a=i&&r?function(t,e){for(var n=t.length,o=[],a=0,s=i[0],u=0;n>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(n-=s,n+s)),!((u+=s+1)>e));)s=i[a=(a+1)%i.length];return o.reverse().join(r)}:R;return function(t){var r=Pe.exec(t),i=r[1]||\" \",s=r[2]||\">\",u=r[3]||\"-\",l=r[4]||\"\",c=r[5],h=+r[6],f=r[7],d=r[8],p=r[9],v=1,g=\"\",y=\"\",_=!1,m=!0;switch(d&&(d=+d.substring(1)),(c||\"0\"===i&&\"=\"===s)&&(c=i=\"0\",s=\"=\"),p){case\"n\":f=!0,p=\"g\";break;case\"%\":v=100,y=\"%\",p=\"f\";break;case\"p\":v=100,y=\"%\",p=\"r\";break;case\"b\":case\"o\":case\"x\":case\"X\":\"#\"===l&&(g=\"0\"+p.toLowerCase());case\"c\":m=!1;case\"d\":_=!0,d=0;break;case\"s\":v=-1,p=\"r\"}\"$\"===l&&(g=o[0],y=o[1]),\"r\"!=p||d||(p=\"g\"),null!=d&&(\"g\"==p?d=Math.max(1,Math.min(21,d)):\"e\"!=p&&\"f\"!=p||(d=Math.max(0,Math.min(20,d)))),p=Re.get(p)||Ie;var b=c&&f;return function(t){var r=y;if(_&&t%1)return\"\";var o=t<0||0===t&&1/t<0?(t=-t,\"-\"):\"-\"===u?\"\":u;if(v<0){var l=e.formatPrefix(t,d);t=l.scale(t),r=l.symbol+y}else t*=v;var x,w,T=(t=p(t,d)).lastIndexOf(\".\");if(T<0){var E=m?t.lastIndexOf(\"e\"):-1;E<0?(x=t,w=\"\"):(x=t.substring(0,E),w=t.substring(E))}else x=t.substring(0,T),w=n+t.substring(T+1);!c&&f&&(x=a(x,1/0));var M=g.length+x.length+w.length+(b?0:o.length),S=M<h?new Array(M=h-M+1).join(i):\"\";return b&&(x=a(S+x,S.length?h-w.length:1/0)),o+=g,t=x+w,(\"<\"===s?o+t+S:\">\"===s?S+o+t:\"^\"===s?S.substring(0,M>>=1)+o+t+S.substring(M):o+(b?t:S+t))+r}}}(t),timeFormat:function(t){var n=t.dateTime,r=t.date,i=t.time,o=t.periods,a=t.days,s=t.shortDays,u=t.months,l=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,i,o,a=[],s=-1,u=0;++s<e;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Ue[r=t.charAt(++s)])&&(r=t.charAt(++s)),(o=x[r])&&(r=o(n,null==i?\"e\"===r?\" \":\"0\":i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join(\"\")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(n,t,e,0)!=e.length)return null;\"p\"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&ke!==Ne,i=new(r?Ne:ke);return\"j\"in n?i.setFullYear(n.y,0,n.j):\"W\"in n||\"U\"in n?(\"w\"in n||(n.w=\"W\"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,\"W\"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function h(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;s<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=w[a in Ue?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(t){var e=c(t);function n(t){try{var n=new(ke=Ne);return n._=t,e(n)}finally{ke=Date}}return n.parse=function(t){try{ke=Ne;var n=e.parse(t);return n&&n._}finally{ke=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=sn;var f=e.map(),d=ze(a),p=Ge(a),v=ze(s),g=Ge(s),y=ze(u),_=Ge(u),m=ze(l),b=Ge(l);o.forEach(function(t,e){f.set(t.toLowerCase(),e)});var x={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:c(n),d:function(t,e){return Xe(t.getDate(),e,2)},e:function(t,e){return Xe(t.getDate(),e,2)},H:function(t,e){return Xe(t.getHours(),e,2)},I:function(t,e){return Xe(t.getHours()%12||12,e,2)},j:function(t,e){return Xe(1+De.dayOfYear(t),e,3)},L:function(t,e){return Xe(t.getMilliseconds(),e,3)},m:function(t,e){return Xe(t.getMonth()+1,e,2)},M:function(t,e){return Xe(t.getMinutes(),e,2)},p:function(t){return o[+(t.getHours()>=12)]},S:function(t,e){return Xe(t.getSeconds(),e,2)},U:function(t,e){return Xe(De.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Xe(De.mondayOfYear(t),e,2)},x:c(r),X:c(i),y:function(t,e){return Xe(t.getFullYear()%100,e,2)},Y:function(t,e){return Xe(t.getFullYear()%1e4,e,4)},Z:on,\"%\":function(){return\"%\"}},w={a:function(t,e,n){v.lastIndex=0;var r=v.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){d.lastIndex=0;var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){y.lastIndex=0;var r=y.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return h(t,x.c.toString(),e,n)},d:Qe,e:Qe,H:tn,I:tn,j:$e,L:rn,m:Je,M:en,p:function(t,e,n){var r=f.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:nn,U:We,w:Ye,W:Ve,x:function(t,e,n){return h(t,x.x.toString(),e,n)},X:function(t,e,n){return h(t,x.X.toString(),e,n)},y:Ze,Y:qe,Z:Ke,\"%\":an};return c}(t)}};var un=e.locale({decimal:\".\",thousands:\",\",grouping:[3],currency:[\"$\",\"\"],dateTime:\"%a %b %e %X %Y\",date:\"%m/%d/%Y\",time:\"%H:%M:%S\",periods:[\"AM\",\"PM\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],shortDays:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortMonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]});function ln(){}e.format=un.numberFormat,e.geo={},ln.prototype={s:0,t:0,add:function(t){hn(t,this.t,cn),hn(cn.s,this.s,this),this.s?this.t+=cn.t:this.s=cn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var cn=new ln;function hn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function fn(t,e){t&&pn.hasOwnProperty(t.type)&&pn[t.type](t,e)}e.geo.stream=function(t,e){t&&dn.hasOwnProperty(t.type)?dn[t.type](t,e):fn(t,e)};var dn={Feature:function(t,e){fn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)fn(n[r].geometry,e)}},pn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){vn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)vn(n[r],e,0)},Polygon:function(t,e){gn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)gn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)fn(n[r],e)}};function vn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function gn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)vn(t[n],e,1);e.polygonEnd()}e.geo.area=function(t){return yn=0,e.geo.stream(t,Pn),yn};var yn,_n,mn,bn,xn,wn,Tn,En,Mn,Sn,On,Cn,An=new ln,Pn={sphere:function(){yn+=4*Mt},point:N,lineStart:N,lineEnd:N,polygonStart:function(){An.reset(),Pn.lineStart=Rn},polygonEnd:function(){var t=2*An;yn+=t<0?4*Mt+t:t,Pn.lineStart=Pn.lineEnd=Pn.point=N}};function Rn(){var t,e,n,r,i;function o(t,e){e=e*At/2+Mt/4;var o=(t*=At)-n,a=o>=0?1:-1,s=a*o,u=Math.cos(e),l=Math.sin(e),c=i*l,h=r*u+c*Math.cos(s),f=c*a*Math.sin(s);An.add(Math.atan2(f,h)),n=t,r=u,i=l}Pn.point=function(a,s){Pn.point=o,n=(t=a)*At,r=Math.cos(s=(e=s)*At/2+Mt/4),i=Math.sin(s)},Pn.lineEnd=function(){o(t,e)}}function In(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Dn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function kn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Nn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ln(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function jn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Fn(t){return[Math.atan2(t[1],t[0]),kt(t[2])]}function Un(t,e){return _(t[0]-e[0])<Tt&&_(t[1]-e[1])<Tt}e.geo.bounds=function(){var t,n,r,i,o,a,s,u,l,c,h,f={point:d,lineStart:v,lineEnd:g,polygonStart:function(){f.point=y,f.lineStart=m,f.lineEnd=b,l=0,Pn.polygonStart()},polygonEnd:function(){Pn.polygonEnd(),f.point=d,f.lineStart=v,f.lineEnd=g,An<0?(t=-(r=180),n=-(i=90)):l>Tt?i=90:l<-Tt&&(n=-90),h[0]=t,h[1]=r}};function d(e,o){c.push(h=[t=e,r=e]),o<n&&(n=o),o>i&&(i=o)}function p(e,a){var s=In([e*At,a*At]);if(u){var l=kn(u,s),c=kn([l[1],-l[0],0],l);jn(c),c=Fn(c);var h=e-o,f=h>0?1:-1,p=c[0]*Pt*f,v=_(h)>180;if(v^(f*o<p&&p<f*e))(g=c[1]*Pt)>i&&(i=g);else if(v^(f*o<(p=(p+360)%360-180)&&p<f*e)){var g;(g=-c[1]*Pt)<n&&(n=g)}else a<n&&(n=a),a>i&&(i=a);v?e<o?x(t,e)>x(t,r)&&(r=e):x(e,r)>x(t,r)&&(t=e):r>=t?(e<t&&(t=e),e>r&&(r=e)):e>o?x(t,e)>x(t,r)&&(r=e):x(e,r)>x(t,r)&&(t=e)}else d(e,a);u=s,o=e}function v(){f.point=p}function g(){h[0]=t,h[1]=r,f.point=d,u=null}function y(t,e){if(u){var n=t-o;l+=_(n)>180?n+(n>0?360:-360):n}else a=t,s=e;Pn.point(t,e),p(t,e)}function m(){Pn.lineStart()}function b(){y(a,s),Pn.lineEnd(),_(l)>Tt&&(t=-(r=180)),h[0]=t,h[1]=r,u=null}function x(t,e){return(e-=t)<0?e+360:e}function w(t,e){return t[0]-e[0]}function T(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(o){if(i=r=-(t=n=1/0),c=[],e.geo.stream(o,f),l=c.length){c.sort(w);for(var a=1,s=[v=c[0]];a<l;++a)T((d=c[a])[0],v)||T(d[1],v)?(x(v[0],d[1])>x(v[0],v[1])&&(v[1]=d[1]),x(d[0],v[1])>x(v[0],v[1])&&(v[0]=d[0])):s.push(v=d);for(var u,l,d,p=-1/0,v=(a=0,s[l=s.length-1]);a<=l;v=d,++a)d=s[a],(u=x(v[1],d[0]))>p&&(p=u,t=d[0],r=v[1])}return c=h=null,t===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,n],[r,i]]}}(),e.geo.centroid=function(t){_n=mn=bn=xn=wn=Tn=En=Mn=Sn=On=Cn=0,e.geo.stream(t,Bn);var n=Sn,r=On,i=Cn,o=n*n+r*r+i*i;return o<Et&&(n=Tn,r=En,i=Mn,mn<Tt&&(n=bn,r=xn,i=wn),(o=n*n+r*r+i*i)<Et)?[NaN,NaN]:[Math.atan2(r,n)*Pt,kt(i/Math.sqrt(o))*Pt]};var Bn={sphere:N,point:Hn,lineStart:zn,lineEnd:Gn,polygonStart:function(){Bn.lineStart=Yn},polygonEnd:function(){Bn.lineStart=zn}};function Hn(t,e){t*=At;var n=Math.cos(e*=At);Xn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Xn(t,e,n){bn+=(t-bn)/++_n,xn+=(e-xn)/_n,wn+=(n-wn)/_n}function zn(){var t,e,n;function r(r,i){r*=At;var o=Math.cos(i*=At),a=o*Math.cos(r),s=o*Math.sin(r),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*u-n*s)*l+(l=n*a-t*u)*l+(l=t*s-e*a)*l),t*a+e*s+n*u);mn+=l,Tn+=l*(t+(t=a)),En+=l*(e+(e=s)),Mn+=l*(n+(n=u)),Xn(t,e,n)}Bn.point=function(i,o){i*=At;var a=Math.cos(o*=At);t=a*Math.cos(i),e=a*Math.sin(i),n=Math.sin(o),Bn.point=r,Xn(t,e,n)}}function Gn(){Bn.point=Hn}function Yn(){var t,e,n,r,i;function o(t,e){t*=At;var o=Math.cos(e*=At),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(e),l=r*u-i*s,c=i*a-n*u,h=n*s-r*a,f=Math.sqrt(l*l+c*c+h*h),d=n*a+r*s+i*u,p=f&&-Dt(d)/f,v=Math.atan2(f,d);Sn+=p*l,On+=p*c,Cn+=p*h,mn+=v,Tn+=v*(n+(n=a)),En+=v*(r+(r=s)),Mn+=v*(i+(i=u)),Xn(n,r,i)}Bn.point=function(a,s){t=a,e=s,Bn.point=o,a*=At;var u=Math.cos(s*=At);n=u*Math.cos(a),r=u*Math.sin(a),i=Math.sin(s),Xn(n,r,i)},Bn.lineEnd=function(){o(t,e),Bn.lineEnd=Gn,Bn.point=Hn}}function Wn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Vn(){return!0}function qn(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Un(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);i.lineEnd()}else{var u=new Kn(n,t,null,!0),l=new Kn(n,null,u,!1);u.o=l,o.push(u),a.push(l),l=new Kn(r,null,u=new Kn(r,t,null,!1),!0),u.o=l,o.push(u),a.push(l)}}}),a.sort(e),Zn(o),Zn(a),o.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,h,f=o[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(s=0,l=c.length;s<l;++s)i.point((h=c[s])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(s=(c=d.p.z).length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function Zn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Kn(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Jn(t,n,r,i){return function(o,a){var s,u=n(a),l=o.invert(i[0],i[1]),c={point:h,lineStart:d,lineEnd:p,polygonStart:function(){c.point=b,c.lineStart=x,c.lineEnd=w,s=[],v=[]},polygonEnd:function(){c.point=h,c.lineStart=d,c.lineEnd=p,s=e.merge(s);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;An.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+Mt/4,p=Math.sin(d),v=Math.cos(d),g=1;;){g===c&&(g=0);var y=(t=l[g])[0],_=t[1]/2+Mt/4,m=Math.sin(_),b=Math.cos(_),x=y-f,w=x>=0?1:-1,T=w*x,E=T>Mt,M=p*m;if(An.add(Math.atan2(M*w*Math.sin(T),v*b+M*Math.cos(T))),o+=E?x+w*St:x,E^f>=n^y>=n){var S=kn(In(h),In(t));jn(S);var O=kn(i,S);jn(O);var C=(E^x>=0?-1:1)*kt(O[2]);(r>C||r===C&&(S[0]||S[1]))&&(a+=E^x>=0?1:-1)}if(!g++)break;f=y,p=m,v=b,h=t}}return(o<-Tt||o<Tt&&An<-Tt)^1&a}(l,v);s.length?(m||(a.polygonStart(),m=!0),qn(s,tr,t,r,a)):t&&(m||(a.polygonStart(),m=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),m&&(a.polygonEnd(),m=!1),s=v=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function h(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function f(t,e){var n=o(t,e);u.point(n[0],n[1])}function d(){c.point=f,u.lineStart()}function p(){c.point=h,u.lineEnd()}var v,g,y=$n(),_=n(y),m=!1;function b(t,e){g.push([t,e]);var n=o(t,e);_.point(n[0],n[1])}function x(){_.lineStart(),g=[]}function w(){b(g[0][0],g[0][1]),_.lineEnd();var t,e=_.clean(),n=y.buffer(),r=n.length;if(g.pop(),v.push(g),g=null,r)if(1&e){var i,o=-1;if((r=(t=n[0]).length-1)>0){for(m||(a.polygonStart(),m=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(Qn))}return c}}function Qn(t){return t.length>1}function $n(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:N,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function tr(t,e){return((t=t.x)[0]<0?t[1]-Ct-Tt:Ct-t[1])-((e=e.x)[0]<0?e[1]-Ct-Tt:Ct-e[1])}var er=Jn(Vn,function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Mt:-Mt,u=_(o-n);_(u-Mt)<Tt?(t.point(n,r=(r+a)/2>0?Ct:-Ct),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Mt&&(_(n-i)<Tt&&(n-=i*Tt),_(o-s)<Tt&&(o-=s*Tt),r=function(t,e,n,r){var i,o,a=Math.sin(t-n);return _(a)>Tt?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*Ct,r.point(-Mt,i),r.point(0,i),r.point(Mt,i),r.point(Mt,0),r.point(Mt,-i),r.point(0,-i),r.point(-Mt,-i),r.point(-Mt,0),r.point(-Mt,i);else if(_(t[0]-e[0])>Tt){var o=t[0]<e[0]?Mt:-Mt;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Mt,-Mt/2]);function nr(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=0,h=1,f=s.x-u,d=s.y-l;if(o=t-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=n-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=e-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=r-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return c>0&&(i.a={x:u+c*f,y:l+c*d}),h<1&&(i.b={x:u+h*f,y:l+h*d}),i}}}}}}var rr=1e9;function ir(t,n,r,i){return function(u){var l,c,h,f,d,p,v,g,y,_,m,b=u,x=$n(),w=nr(t,n,r,i),T={point:S,lineStart:function(){T.point=O,c&&c.push(h=[]);_=!0,y=!1,v=g=NaN},lineEnd:function(){l&&(O(f,d),p&&y&&x.rejoin(),l.push(x.buffer()));T.point=S,y&&u.lineEnd()},polygonStart:function(){u=x,l=[],c=[],m=!0},polygonEnd:function(){u=b,l=e.merge(l);var n=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=c[i],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=r?o[1]>r&&It(l,o,t)>0&&++e:o[1]<=r&&It(l,o,t)<0&&--e,l=o;return 0!==e}([t,i]),r=m&&n,o=l.length;(r||o)&&(u.polygonStart(),r&&(u.lineStart(),E(null,null,1,u),u.lineEnd()),o&&qn(l,a,n,E,u),u.polygonEnd()),l=c=h=null}};function E(e,a,u,l){var c=0,h=0;if(null==e||(c=o(e,u))!==(h=o(a,u))||s(e,a)<0^u>0)do{l.point(0===c||3===c?t:r,c>1?i:n)}while((c=(c+u+4)%4)!==h);else l.point(a[0],a[1])}function M(e,o){return t<=e&&e<=r&&n<=o&&o<=i}function S(t,e){M(t,e)&&u.point(t,e)}function O(t,e){var n=M(t=Math.max(-rr,Math.min(rr,t)),e=Math.max(-rr,Math.min(rr,e)));if(c&&h.push([t,e]),_)f=t,d=e,p=n,_=!1,n&&(u.lineStart(),u.point(t,e));else if(n&&y)u.point(t,e);else{var r={a:{x:v,y:g},b:{x:t,y:e}};w(r)?(y||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),m=!1):n&&(u.lineStart(),u.point(t,e),m=!1)}v=t,g=e,y=n}return T};function o(e,i){return _(e[0]-t)<Tt?i>0?0:3:_(e[0]-r)<Tt?i>0?2:1:_(e[1]-n)<Tt?i>0?1:0:i>0?3:2}function a(t,e){return s(t.x,e.x)}function s(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function or(t){var e=0,n=Mt/3,r=Or(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Mt/180,n=t[1]*Mt/180):[e/Mt*180,n/Mt*180]},i}function ar(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,kt((i-(t*t+n*n)*r*r)/(2*r))]},a}e.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(s){return arguments.length?(o=ir(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(e.geo.conicEqualArea=function(){return or(ar)}).raw=ar,e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},e.geo.albersUsa=function(){var t,n,r,i,o=e.geo.albers(),a=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};function l(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}return l.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(t)},l.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},l.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),s.precision(t),l):o.precision()},l.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),s.scale(t),l.translate(o.translate())):o.scale()},l.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),c=+t[0],h=+t[1];return n=o.translate(t).clipExtent([[c-.455*e,h-.238*e],[c+.455*e,h+.238*e]]).stream(u).point,r=a.translate([c-.307*e,h+.201*e]).clipExtent([[c-.425*e+Tt,h+.12*e+Tt],[c-.214*e-Tt,h+.234*e-Tt]]).stream(u).point,i=s.translate([c-.205*e,h+.212*e]).clipExtent([[c-.214*e+Tt,h+.166*e+Tt],[c-.115*e-Tt,h+.234*e-Tt]]).stream(u).point,l},l.scale(1070)};var sr,ur,lr,cr,hr,fr,dr={point:N,lineStart:N,lineEnd:N,polygonStart:function(){ur=0,dr.lineStart=pr},polygonEnd:function(){dr.lineStart=dr.lineEnd=dr.point=N,sr+=_(ur/2)}};function pr(){var t,e,n,r;function i(t,e){ur+=r*t-n*e,n=t,r=e}dr.point=function(o,a){dr.point=i,t=n=o,e=r=a},dr.lineEnd=function(){i(t,e)}}var vr={point:function(t,e){t<lr&&(lr=t);t>hr&&(hr=t);e<cr&&(cr=e);e>fr&&(fr=e)},lineStart:N,lineEnd:N,polygonStart:N,polygonEnd:N};function gr(t){return\"m0,\"+t+\"a\"+t+\",\"+t+\" 0 1,1 0,\"+-2*t+\"a\"+t+\",\"+t+\" 0 1,1 0,\"+2*t+\"z\"}var yr,_r={point:mr,lineStart:br,lineEnd:xr,polygonStart:function(){_r.lineStart=wr},polygonEnd:function(){_r.point=mr,_r.lineStart=br,_r.lineEnd=xr}};function mr(t,e){bn+=t,xn+=e,++wn}function br(){var t,e;function n(n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);Tn+=a*(t+n)/2,En+=a*(e+r)/2,Mn+=a,mr(t=n,e=r)}_r.point=function(r,i){_r.point=n,mr(t=r,e=i)}}function xr(){_r.point=mr}function wr(){var t,e,n,r;function i(t,e){var i=t-n,o=e-r,a=Math.sqrt(i*i+o*o);Tn+=a*(n+t)/2,En+=a*(r+e)/2,Mn+=a,Sn+=(a=r*t-n*e)*(n+t),On+=a*(r+e),Cn+=3*a,mr(n=t,r=e)}_r.point=function(o,a){_r.point=i,mr(t=n=o,e=r=a)},_r.lineEnd=function(){i(t,e)}}function Tr(t){var e=.5,n=Math.cos(30*At),r=16;function i(e){return(r?function(e){var n,i,a,s,u,l,c,h,f,d,p,v,g={point:y,lineStart:_,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=x},polygonEnd:function(){e.polygonEnd(),g.lineStart=_}};function y(n,r){n=t(n,r),e.point(n[0],n[1])}function _(){h=NaN,g.point=m,e.lineStart()}function m(n,i){var a=In([n,i]),s=t(n,i);o(h,f,c,d,p,v,h=s[0],f=s[1],c=n,d=a[0],p=a[1],v=a[2],r,e),e.point(h,f)}function b(){g.point=y,e.lineEnd()}function x(){_(),g.point=w,g.lineEnd=T}function w(t,e){m(n=t,e),i=h,a=f,s=d,u=p,l=v,g.point=m}function T(){o(h,f,c,d,p,v,i,a,n,s,u,l,r,e),g.lineEnd=b,b()}return g}:function(e){return Mr(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})})(e)}function o(r,i,a,s,u,l,c,h,f,d,p,v,g,y){var m=c-r,b=h-i,x=m*m+b*b;if(x>4*e&&g--){var w=s+d,T=u+p,E=l+v,M=Math.sqrt(w*w+T*T+E*E),S=Math.asin(E/=M),O=_(_(E)-1)<Tt||_(a-f)<Tt?(a+f)/2:Math.atan2(T,w),C=t(O,S),A=C[0],P=C[1],R=A-r,I=P-i,D=b*R-m*I;(D*D/x>e||_((m*R+b*I)/x-.5)>.3||s*d+u*p+l*v<n)&&(o(r,i,a,s,u,l,A,P,O,w/=M,T/=M,E,g,y),y.point(A,P),o(A,P,O,w,T,E,c,h,f,d,p,v,g,y))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function Er(t){this.stream=t}function Mr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Sr(t){return Or(function(){return t})()}function Or(t){var n,r,i,o,a,s,u=Tr(function(t,e){return[(t=n(t,e))[0]*l+o,a-t[1]*l]}),l=150,c=480,h=250,f=0,d=0,p=0,v=0,g=0,y=er,m=R,b=null,x=null;function w(t){return[(t=i(t[0]*At,t[1]*At))[0]*l+o,a-t[1]*l]}function T(t){return(t=i.invert((t[0]-o)/l,(a-t[1])/l))&&[t[0]*Pt,t[1]*Pt]}function E(){i=Wn(r=Rr(p,v,g),n);var t=n(f,d);return o=c-t[0]*l,a=h+t[1]*l,M()}function M(){return s&&(s.valid=!1,s=null),w}return w.stream=function(t){return s&&(s.valid=!1),(s=Cr(y(r,u(m(t))))).valid=!0,s},w.clipAngle=function(t){return arguments.length?(y=null==t?(b=t,er):function(t){var e=Math.cos(t),n=e>0,r=_(e)>Tt;return Jn(i,function(t){var e,s,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var d,p=[h,f],v=i(h,f),g=n?v?0:a(h,f):v?a(h+(h<0?Mt:-Mt),f):0;if(!e&&(l=u=v)&&t.lineStart(),v!==u&&(d=o(e,p),(Un(e,d)||Un(p,d))&&(p[0]+=Tt,p[1]+=Tt,v=i(p[0],p[1]))),v!==u)c=0,v?(t.lineStart(),d=o(p,e),t.point(d[0],d[1])):(d=o(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(r&&e&&n^v){var y;g&s||!(y=o(p,e,!0))||(c=0,n?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||e&&Un(e,p)||t.point(p[0],p[1]),e=p,u=v,s=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}},Nr(t,6*At),n?[0,-t]:[-Mt,t-Mt]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,r){var i=[1,0,0],o=kn(In(t),In(n)),a=Dn(o,o),s=o[0],u=a-s*s;if(!u)return!r&&t;var l=e*a/u,c=-e*s/u,h=kn(i,o),f=Ln(i,l);Nn(f,Ln(o,c));var d=h,p=Dn(f,d),v=Dn(d,d),g=p*p-v*(Dn(f,f)-1);if(!(g<0)){var y=Math.sqrt(g),m=Ln(d,(-p-y)/v);if(Nn(m,f),m=Fn(m),!r)return m;var b,x=t[0],w=n[0],T=t[1],E=n[1];w<x&&(b=x,x=w,w=b);var M=w-x,S=_(M-Mt)<Tt;if(!S&&E<T&&(b=T,T=E,E=b),S||M<Tt?S?T+E>0^m[1]<(_(m[0]-x)<Tt?T:E):T<=m[1]&&m[1]<=E:M>Mt^(x<=m[0]&&m[0]<=w)){var O=Ln(d,(-p+y)/v);return Nn(O,f),[m,Fn(O)]}}}function a(e,r){var i=n?t:Mt-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}((b=+t)*At),M()):b},w.clipExtent=function(t){return arguments.length?(x=t,m=t?ir(t[0][0],t[0][1],t[1][0],t[1][1]):R,M()):x},w.scale=function(t){return arguments.length?(l=+t,E()):l},w.translate=function(t){return arguments.length?(c=+t[0],h=+t[1],E()):[c,h]},w.center=function(t){return arguments.length?(f=t[0]%360*At,d=t[1]%360*At,E()):[f*Pt,d*Pt]},w.rotate=function(t){return arguments.length?(p=t[0]%360*At,v=t[1]%360*At,g=t.length>2?t[2]%360*At:0,E()):[p*Pt,v*Pt,g*Pt]},e.rebind(w,u,\"precision\"),function(){return n=t.apply(this,arguments),w.invert=n.invert&&T,E()}}function Cr(t){return Mr(t,function(e,n){t.point(e*At,n*At)})}function Ar(t,e){return[t,e]}function Pr(t,e){return[t>Mt?t-St:t<-Mt?t+St:t,e]}function Rr(t,e,n){return t?e||n?Wn(Dr(t),kr(e,n)):Dr(t):e||n?kr(e,n):Pr}function Ir(t){return function(e,n){return[(e+=t)>Mt?e-St:e<-Mt?e+St:e,n]}}function Dr(t){var e=Ir(t);return e.invert=Ir(-t),e}function kr(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function a(t,e){var a=Math.cos(e),s=Math.cos(t)*a,u=Math.sin(t)*a,l=Math.sin(e),c=l*n+s*r;return[Math.atan2(u*i-c*o,s*n-l*r),kt(c*i+u*o)]}return a.invert=function(t,e){var a=Math.cos(e),s=Math.cos(t)*a,u=Math.sin(t)*a,l=Math.sin(e),c=l*i-u*o;return[Math.atan2(u*i+l*o,s*n+c*r),kt(c*n-s*r)]},a}function Nr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=Lr(n,i),o=Lr(n,o),(a>0?i<o:i>o)&&(i+=a*St)):(i=t+a*St,o=t-.5*u);for(var l,c=i;a>0?c>o:c<o;c-=u)s.point((l=Fn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function Lr(t,e){var n=In(e);n[0]-=t,jn(n);var r=Dt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Tt)%(2*Math.PI)}function jr(t,n,r){var i=e.range(t,n-Tt,r).concat(n);return function(t){return i.map(function(e){return[t,e]})}}function Fr(t,n,r){var i=e.range(t,n-Tt,r).concat(n);return function(t){return i.map(function(e){return[e,t]})}}function Ur(t){return t.source}function Br(t){return t.target}e.geo.path=function(){var t,n,r,i,o,a=4.5;function s(t){return t&&(\"function\"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=r(i)),e.geo.stream(t,o)),i.result()}function u(){return o=null,s}return s.area=function(t){return sr=0,e.geo.stream(t,r(dr)),sr},s.centroid=function(t){return bn=xn=wn=Tn=En=Mn=Sn=On=Cn=0,e.geo.stream(t,r(_r)),Cn?[Sn/Cn,On/Cn]:Mn?[Tn/Mn,En/Mn]:wn?[bn/wn,xn/wn]:[NaN,NaN]},s.bounds=function(t){return hr=fr=-(lr=cr=1/0),e.geo.stream(t,r(vr)),[[lr,cr],[hr,fr]]},s.projection=function(e){return arguments.length?(r=(t=e)?e.stream||function(t){var e=Tr(function(e,n){return t([e*Pt,n*Pt])});return function(t){return Cr(e(t))}}(e):R,u()):t},s.context=function(t){return arguments.length?(i=null==(n=t)?new function(){var t=gr(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=gr(e),n},result:function(){if(e.length){var t=e.join(\"\");return e=[],t}}};function r(n,r){e.push(\"M\",n,\",\",r,t)}function i(t,r){e.push(\"M\",t,\",\",r),n.point=o}function o(t,n){e.push(\"L\",t,\",\",n)}function a(){n.point=r}function s(){e.push(\"Z\")}return n}:new function(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=t,n},result:N};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,St)}function i(e,r){t.moveTo(e,r),n.point=o}function o(e,n){t.lineTo(e,n)}function a(){n.point=r}function s(){t.closePath()}return n}(t),\"function\"!=typeof a&&i.pointRadius(a),u()):n},s.pointRadius=function(t){return arguments.length?(a=\"function\"==typeof t?t:(i.pointRadius(+t),+t),s):a},s.projection(e.geo.albersUsa()).context(null)},e.geo.transform=function(t){return{stream:function(e){var n=new Er(e);for(var r in t)n[r]=t[r];return n}}},Er.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},e.geo.projection=Sr,e.geo.projectionMutator=Or,(e.geo.equirectangular=function(){return Sr(Ar)}).raw=Ar.invert=Ar,e.geo.rotation=function(t){function e(e){return(e=t(e[0]*At,e[1]*At))[0]*=Pt,e[1]*=Pt,e}return t=Rr(t[0]%360*At,t[1]*At,t.length>2?t[2]*At:0),e.invert=function(e){return(e=t.invert(e[0]*At,e[1]*At))[0]*=Pt,e[1]*=Pt,e},e},Pr.invert=Ar,e.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t=\"function\"==typeof n?n.apply(this,arguments):n,r=Rr(-t[0]*At,-t[1]*At,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Pt,t[1]*=Pt}}),{type:\"Polygon\",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=Nr((t=+n)*At,r*At),i):t},i.precision=function(n){return arguments.length?(e=Nr(t*At,(r=+n)*At),i):r},i.angle(90)},e.geo.distance=function(t,e){var n,r=(e[0]-t[0])*At,i=t[1]*At,o=e[1]*At,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},e.geo.graticule=function(){var t,n,r,i,o,a,s,u,l,c,h,f,d=10,p=d,v=90,g=360,y=2.5;function m(){return{type:\"MultiLineString\",coordinates:b()}}function b(){return e.range(Math.ceil(i/v)*v,r,v).map(h).concat(e.range(Math.ceil(u/g)*g,s,g).map(f)).concat(e.range(Math.ceil(n/d)*d,t,d).filter(function(t){return _(t%v)>Tt}).map(l)).concat(e.range(Math.ceil(a/p)*p,o,p).filter(function(t){return _(t%g)>Tt}).map(c))}return m.lines=function(){return b().map(function(t){return{type:\"LineString\",coordinates:t}})},m.outline=function(){return{type:\"Polygon\",coordinates:[h(i).concat(f(s).slice(1),h(r).reverse().slice(1),f(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.majorExtent(t).minorExtent(t):m.minorExtent()},m.majorExtent=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],u=+t[0][1],s=+t[1][1],i>r&&(t=i,i=r,r=t),u>s&&(t=u,u=s,s=t),m.precision(y)):[[i,u],[r,s]]},m.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],o=+e[1][1],n>t&&(e=n,n=t,t=e),a>o&&(e=a,a=o,o=e),m.precision(y)):[[n,a],[t,o]]},m.step=function(t){return arguments.length?m.majorStep(t).minorStep(t):m.minorStep()},m.majorStep=function(t){return arguments.length?(v=+t[0],g=+t[1],m):[v,g]},m.minorStep=function(t){return arguments.length?(d=+t[0],p=+t[1],m):[d,p]},m.precision=function(e){return arguments.length?(y=+e,l=jr(a,o,90),c=Fr(n,t,y),h=jr(u,s,90),f=Fr(i,r,y),m):y},m.majorExtent([[-180,-90+Tt],[180,90-Tt]]).minorExtent([[-180,-80-Tt],[180,80+Tt]])},e.geo.greatArc=function(){var t,n,r=Ur,i=Br;function o(){return{type:\"LineString\",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}return o.distance=function(){return e.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},o.source=function(e){return arguments.length?(r=e,t=\"function\"==typeof e?null:e,o):r},o.target=function(t){return arguments.length?(i=t,n=\"function\"==typeof t?null:t,o):i},o.precision=function(){return arguments.length?o:0},o},e.geo.interpolate=function(t,e){return function(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(Lt(r-e)+i*a*Lt(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,r=n*u+e*c,i=n*l+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Pt,Math.atan2(a,Math.sqrt(r*r+i*i))*Pt]}:function(){return[t*Pt,e*Pt]};return p.distance=f,p}(t[0]*At,t[1]*At,e[0]*At,e[1]*At)},e.geo.length=function(t){return yr=0,e.geo.stream(t,Hr),yr};var Hr={sphere:N,point:N,lineStart:function(){var t,e,n;function r(r,i){var o=Math.sin(i*=At),a=Math.cos(i),s=_((r*=At)-t),u=Math.cos(s);yr+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-e*a*u)*s),e*o+n*a*u),t=r,e=o,n=a}Hr.point=function(i,o){t=i*At,e=Math.sin(o*=At),n=Math.cos(o),Hr.point=r},Hr.lineEnd=function(){Hr.point=Hr.lineEnd=N}},lineEnd:N,polygonStart:N,polygonEnd:N};function Xr(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}var zr=Xr(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(e.geo.azimuthalEqualArea=function(){return Sr(zr)}).raw=zr;var Gr=Xr(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},R);function Yr(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Mt/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return qr;function a(t,e){o>0?e<-Ct+Tt&&(e=-Ct+Tt):e>Ct-Tt&&(e=Ct-Tt);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return a.invert=function(t,e){var n=o-e,r=Rt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Ct]},a}function Wr(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(_(r)<Tt)return Ar;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-Rt(r)*Math.sqrt(t*t+n*n)]},o}(e.geo.azimuthalEquidistant=function(){return Sr(Gr)}).raw=Gr,(e.geo.conicConformal=function(){return or(Yr)}).raw=Yr,(e.geo.conicEquidistant=function(){return or(Wr)}).raw=Wr;var Vr=Xr(function(t){return 1/t},Math.atan);function qr(t,e){return[t,Math.log(Math.tan(Mt/4+e/2))]}function Zr(t){var e,n=Sr(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Mt*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}(e.geo.gnomonic=function(){return Sr(Vr)}).raw=Vr,qr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ct]},(e.geo.mercator=function(){return Zr(qr)}).raw=qr;var Kr=Xr(function(){return 1},Math.asin);(e.geo.orthographic=function(){return Sr(Kr)}).raw=Kr;var Jr=Xr(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function Qr(t,e){return[Math.log(Math.tan(Mt/4+e/2)),-t]}function $r(t){return t[0]}function ti(t){return t[1]}function ei(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&It(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function ni(t,e){return t[0]-e[0]||t[1]-e[1]}(e.geo.stereographic=function(){return Sr(Jr)}).raw=Jr,Qr.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ct]},(e.geo.transverseMercator=function(){var t=Zr(Qr),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=Qr,e.geom={},e.geom.hull=function(t){var e=$r,n=ti;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=ge(e),o=ge(n),a=t.length,s=[],u=[];for(r=0;r<a;r++)s.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(s.sort(ni),r=0;r<a;r++)u.push([s[r][0],-s[r][1]]);var l=ei(s),c=ei(u),h=c[0]===l[0],f=c[c.length-1]===l[l.length-1],d=[];for(r=l.length-1;r>=0;--r)d.push(t[s[l[r]][2]]);for(r=+h;r<c.length-f;++r)d.push(t[s[c[r]][2]]);return d}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},e.geom.polygon=function(t){return X(t,ri),t};var ri=e.geom.polygon.prototype=[];function ii(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function oi(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,h=r[1]-l,f=(s*(u-l)-h*(i-o))/(h*a-s*c);return[i+f*a,u+f*c]}function ai(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}ri.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},ri.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},ri.clip=function(t){for(var e,n,r,i,o,a,s=ai(t),u=-1,l=this.length-ai(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)ii(a=e[n],c,i)?(ii(o,c,i)||t.push(oi(o,a,c,i)),t.push(a)):ii(o,c,i)&&t.push(oi(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var si,ui,li,ci,hi,fi=[],di=[];function pi(t){var e=fi.pop()||new function(){Ri(this),this.edge=this.site=this.circle=null};return e.site=t,e}function vi(t){Ti(t),li.remove(t),fi.push(t),Ri(t)}function gi(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];vi(t);for(var u=o;u.circle&&_(n-u.circle.x)<Tt&&_(r-u.circle.cy)<Tt;)o=u.P,s.unshift(u),vi(u),u=o;s.unshift(u),Ti(u);for(var l=a;l.circle&&_(n-l.circle.x)<Tt&&_(r-l.circle.cy)<Tt;)a=l.N,s.push(l),vi(l),l=a;s.push(l),Ti(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],Ci(l.edge,u.site,l.site,i);u=s[0],(l=s[h-1]).edge=Si(u.site,l.site,null,i),wi(u),wi(l)}function yi(t){for(var e,n,r,i,o=t.x,a=t.y,s=li._;s;)if((r=_i(s,a)-o)>Tt)s=s.L;else{if(!((i=o-mi(s,a))>Tt)){r>-Tt?(e=s.P,n=s):i>-Tt?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=pi(t);if(li.insert(e,u),e||n){if(e===n)return Ti(e),n=pi(e.site),li.insert(u,n),u.edge=n.edge=Si(e.site,u.site),wi(e),void wi(n);if(n){Ti(e),Ti(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=n.site,v=p.x-c,g=p.y-h,y=2*(f*g-d*v),_=f*f+d*d,m=v*v+g*g,b={x:(g*_-d*m)/y+c,y:(f*m-v*_)/y+h};Ci(n.edge,l,p,b),u.edge=Si(l,t,null,b),n.edge=Si(t,p,null,b),wi(e),wi(n)}else u.edge=Si(e.site,u.site)}}function _i(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function mi(t,e){var n=t.N;if(n)return _i(n,e);var r=t.site;return r.y===e?r.x:1/0}function bi(t){this.site=t,this.edges=[]}function xi(t,e){return e.angle-t.angle}function wi(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,h=2*(u*(g=o.y-s)-l*c);if(!(h>=-Et)){var f=u*u+l*l,d=c*c+g*g,p=(g*f-l*d)/h,v=(u*d-c*f)/h,g=v+s,y=di.pop()||new function(){Ri(this),this.x=this.y=this.arc=this.site=this.cy=null};y.arc=t,y.site=i,y.x=p+a,y.y=g+Math.sqrt(p*p+v*v),y.cy=g,t.circle=y;for(var _=null,m=hi._;m;)if(y.y<m.y||y.y===m.y&&y.x<=m.x){if(!m.L){_=m.P;break}m=m.L}else{if(!m.R){_=m;break}m=m.R}hi.insert(_,y),_||(ci=y)}}}}function Ti(t){var e=t.circle;e&&(e.P||(ci=e.N),hi.remove(e),di.push(e),Ri(e),t.circle=null)}function Ei(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,v=h.y,g=(f+p)/2,y=(d+v)/2;if(v===d){if(g<a||g>=s)return;if(f>p){if(o){if(o.y>=l)return}else o={x:g,y:u};n={x:g,y:l}}else{if(o){if(o.y<u)return}else o={x:g,y:l};n={x:g,y:u}}}else if(i=y-(r=(f-p)/(v-d))*g,r<-1||r>1)if(f>p){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(d<v){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Mi(t,e){this.l=t,this.r=e,this.a=this.b=null}function Si(t,e,n,r){var i=new Mi(t,e);return si.push(i),n&&Ci(i,t,e,n),r&&Ci(i,e,t,r),ui[t.i].edges.push(new Ai(i,t,e)),ui[e.i].edges.push(new Ai(i,e,t)),i}function Oi(t,e,n){var r=new Mi(t,null);return r.a=e,r.b=n,si.push(r),r}function Ci(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Ai(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Pi(){this._=null}function Ri(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ii(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Di(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ki(t){for(;t.L;)t=t.L;return t}function Ni(t,e){var n,r,i,o=t.sort(Li).pop();for(si=[],ui=new Array(t.length),li=new Pi,hi=new Pi;;)if(i=ci,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(ui[o.i]=new bi(o),yi(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;gi(i.arc)}e&&(function(t){for(var e,n=si,r=nr(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Ei(e=n[i],t)||!r(e)||_(e.a.x-e.b.x)<Tt&&_(e.a.y-e.b.y)<Tt)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,o,a,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],v=ui,g=v.length;g--;)if((o=v[g])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)r=(c=s[a].end()).x,i=c.y,e=(l=s[++a%u].start()).x,n=l.y,(_(r-e)>Tt||_(i-n)>Tt)&&(s.splice(a,0,new Ai(Oi(o.site,c,_(r-h)<Tt&&p-i>Tt?{x:h,y:_(e-h)<Tt?n:p}:_(i-p)<Tt&&f-r>Tt?{x:_(n-p)<Tt?e:f,y:p}:_(r-f)<Tt&&i-d>Tt?{x:f,y:_(e-f)<Tt?n:d}:_(i-d)<Tt&&r-h>Tt?{x:_(n-d)<Tt?e:h,y:d}:null),o.site,null)),++u)}(e));var a={cells:ui,edges:si};return li=hi=si=ui=null,a}function Li(t,e){return e.y-t.y||e.x-t.x}bi.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(xi),e.length},Ai.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Pi.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ki(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ii(this,n),n=(t=n).U),n.C=!1,r.C=!0,Di(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Di(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ii(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?ki(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ii(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Di(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ii(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Di(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ii(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Di(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},e.geom.voronoi=function(t){var e=$r,n=ti,r=e,i=n,o=ji;if(t)return a(t);function a(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return Ni(s(t),o).cells.forEach(function(o,s){var u=o.edges,l=o.site;(e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=t[s]}),e}function s(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/Tt)*Tt,y:Math.round(i(t,e)/Tt)*Tt,i:e}})}return a.links=function(t){return Ni(s(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},a.triangles=function(t){var e=[];return Ni(s(t)).cells.forEach(function(n,r){for(var i,o=n.site,a=n.edges.sort(xi),s=-1,u=a.length,l=a[u-1].edge,c=l.l===o?l.r:l.l;++s<u;)l,i=c,c=(l=a[s].edge).l===o?l.r:l.l,r<i.i&&r<c.i&&Fi(o,i,c)<0&&e.push([t[r],t[i.i],t[c.i]])}),e},a.x=function(t){return arguments.length?(r=ge(e=t),a):e},a.y=function(t){return arguments.length?(i=ge(n=t),a):n},a.clipExtent=function(t){return arguments.length?(o=null==t?ji:t,a):o===ji?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===ji?null:o&&o[1]},a};var ji=[[-1e6,-1e6],[1e6,1e6]];function Fi(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function Ui(t){return t.x}function Bi(t){return t.y}function Hi(t,n){t=e.rgb(t),n=e.rgb(n);var r=t.r,i=t.g,o=t.b,a=n.r-r,s=n.g-i,u=n.b-o;return function(t){return\"#\"+le(Math.round(r+a*t))+le(Math.round(i+s*t))+le(Math.round(o+u*t))}}function Xi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=Vi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function zi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Gi(t,e){var n,r,i,o=Yi.lastIndex=Wi.lastIndex=0,a=-1,s=[],u=[];for(t+=\"\",e+=\"\";(n=Yi.exec(t))&&(r=Wi.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:zi(n,r)})),o=Wi.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+\"\"}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join(\"\")})}e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(t,e,n,r,i){var o,a=$r,s=ti;if(o=arguments.length)return a=Ui,s=Bi,3===o&&(i=n,r=e,n=e=0),u(t);function u(t){var u,l,c,h,f,d,p,v,g,y=ge(a),m=ge(s);if(null!=e)d=e,p=n,v=r,g=i;else if(v=g=-(d=p=1/0),l=[],c=[],f=t.length,o)for(h=0;h<f;++h)(u=t[h]).x<d&&(d=u.x),u.y<p&&(p=u.y),u.x>v&&(v=u.x),u.y>g&&(g=u.y),l.push(u.x),c.push(u.y);else for(h=0;h<f;++h){var b=+y(u=t[h],h),x=+m(u,h);b<d&&(d=b),x<p&&(p=x),b>v&&(v=b),x>g&&(g=x),l.push(b),c.push(x)}var w=v-d,T=g-p;function E(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(_(u-n)+_(l-r)<.01)M(t,e,n,r,i,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,M(t,c,u,l,i,o,a,s),M(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else M(t,e,n,r,i,o,a,s)}function M(t,e,n,r,i,o,a,s){var u=.5*(i+a),l=.5*(o+s),c=n>=u,h=r>=l,f=h<<1|c;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){E(S,t,+y(t,++h),+m(t,h),d,p,v,g)}}),c?i=u:a=u,h?o=l:s=l,E(t,e,n,r,i,o,a,s)}w>T?g=p+w:v=d+T;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){E(S,t,+y(t,++h),+m(t,h),d,p,v,g)}};if(S.visit=function(t){!function t(e,n,r,i,o,a){if(!e(n,r,i,o,a)){var s=.5*(r+o),u=.5*(i+a),l=n.nodes;l[0]&&t(e,l[0],r,i,s,u),l[1]&&t(e,l[1],s,i,o,u),l[2]&&t(e,l[2],r,u,s,a),l[3]&&t(e,l[3],s,u,o,a)}}(t,S,d,p,v,g)},S.find=function(t){return function(t,e,n,r,i,o,a){var s,u=1/0;return function t(l,c,h,f,d){if(!(c>o||h>a||f<r||d<i)){if(p=l.point){var p,v=e-l.x,g=n-l.y,y=v*v+g*g;if(y<u){var _=Math.sqrt(u=y);r=e-_,i=n-_,o=e+_,a=n+_,s=p}}for(var m=l.nodes,b=.5*(c+f),x=.5*(h+d),w=(n>=x)<<1|e>=b,T=w+4;w<T;++w)if(l=m[3&w])switch(3&w){case 0:t(l,c,h,b,x);break;case 1:t(l,b,h,f,x);break;case 2:t(l,c,x,b,d);break;case 3:t(l,b,x,f,d)}}}(t,r,i,o,a),s}(S,t[0],t[1],d,p,v,g)},h=-1,null==e){for(;++h<f;)E(S,t[h],l[h],c[h],d,p,v,g);--h}else t.forEach(S.add);return l=c=t=u=null,S}return u.x=function(t){return arguments.length?(a=t,u):a},u.y=function(t){return arguments.length?(s=t,u):s},u.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),u):null==e?null:[[e,n],[r,i]]},u.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),u):null==e?null:[r-e,i-n]},u},e.interpolateRgb=Hi,e.interpolateObject=Xi,e.interpolateNumber=zi,e.interpolateString=Gi;var Yi=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Wi=new RegExp(Yi.source,\"g\");function Vi(t,n){for(var r,i=e.interpolators.length;--i>=0&&!(r=e.interpolators[i](t,n)););return r}function qi(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(Vi(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}e.interpolate=Vi,e.interpolators=[function(t,e){var n=typeof e;return(\"string\"===n?ve.has(e.toLowerCase())||/^(#|rgb\\(|hsl\\()/i.test(e)?Hi:Gi:e instanceof Ht?Hi:Array.isArray(e)?qi:\"object\"===n&&isNaN(e)?Xi:zi)(t,e)}],e.interpolateArray=qi;var Zi=function(){return R},Ki=e.map({linear:Zi,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return to},cubic:function(){return eo},sin:function(){return ro},exp:function(){return io},circle:function(){return oo},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/St*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*St/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return ao}}),Ji=e.map({in:R,out:Qi,\"in-out\":$i,\"out-in\":function(t){return $i(Qi(t))}});function Qi(t){return function(e){return 1-t(1-e)}}function $i(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function to(t){return t*t}function eo(t){return t*t*t}function no(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function ro(t){return 1-Math.cos(t*Ct)}function io(t){return Math.pow(2,10*(t-1))}function oo(t){return 1-Math.sqrt(1-t*t)}function ao(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function so(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function uo(t){var e=[t.a,t.b],n=[t.c,t.d],r=co(e),i=lo(e,n),o=co(function(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Pt,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Pt:0}function lo(t,e){return t[0]*e[0]+t[1]*e[1]}function co(t){var e=Math.sqrt(lo(t,t));return e&&(t[0]/=e,t[1]/=e),e}e.ease=function(t){var e=t.indexOf(\"-\"),r=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):\"in\";return r=Ki.get(r)||Zi,function(t){return function(e){return e<=0?0:e>=1?1:t(e)}}((i=Ji.get(i)||R)(r.apply(null,n.call(arguments,1))))},e.interpolateHcl=function(t,n){t=e.hcl(t),n=e.hcl(n);var r=t.h,i=t.c,o=t.l,a=n.h-r,s=n.c-i,u=n.l-o;isNaN(s)&&(s=0,i=isNaN(i)?n.c:i);isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360);return function(t){return Vt(r+a*t,i+s*t,o+u*t)+\"\"}},e.interpolateHsl=function(t,n){t=e.hsl(t),n=e.hsl(n);var r=t.h,i=t.s,o=t.l,a=n.h-r,s=n.s-i,u=n.l-o;isNaN(s)&&(s=0,i=isNaN(i)?n.s:i);isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360);return function(t){return Gt(r+a*t,i+s*t,o+u*t)+\"\"}},e.interpolateLab=function(t,n){t=e.lab(t),n=e.lab(n);var r=t.l,i=t.a,o=t.b,a=n.l-r,s=n.a-i,u=n.b-o;return function(t){return te(r+a*t,i+s*t,o+u*t)+\"\"}},e.interpolateRound=so,e.transform=function(t){var n=i.createElementNS(e.ns.prefix.svg,\"g\");return(e.transform=function(t){if(null!=t){n.setAttribute(\"transform\",t);var e=n.transform.baseVal.consolidate()}return new uo(e?e.matrix:ho)})(t)},uo.prototype.toString=function(){return\"translate(\"+this.translate+\")rotate(\"+this.rotate+\")skewX(\"+this.skew+\")scale(\"+this.scale+\")\"};var ho={a:1,b:0,c:0,d:1,e:0,f:0};function fo(t){return t.length?t.pop()+\",\":\"\"}function po(t,n){var r=[],i=[];return t=e.transform(t),n=e.transform(n),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(\"translate(\",null,\",\",null,\")\");r.push({i:i-4,x:zi(t[0],e[0])},{i:i-2,x:zi(t[1],e[1])})}else(e[0]||e[1])&&n.push(\"translate(\"+e+\")\")}(t.translate,n.translate,r,i),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(fo(n)+\"rotate(\",null,\")\")-2,x:zi(t,e)})):e&&n.push(fo(n)+\"rotate(\"+e+\")\")}(t.rotate,n.rotate,r,i),function(t,e,n,r){t!==e?r.push({i:n.push(fo(n)+\"skewX(\",null,\")\")-2,x:zi(t,e)}):e&&n.push(fo(n)+\"skewX(\"+e+\")\")}(t.skew,n.skew,r,i),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(fo(n)+\"scale(\",null,\",\",null,\")\");r.push({i:i-4,x:zi(t[0],e[0])},{i:i-2,x:zi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(fo(n)+\"scale(\"+e+\")\")}(t.scale,n.scale,r,i),t=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join(\"\")}}function vo(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function go(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function yo(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=_o(t),r=_o(e),i=n.pop(),o=r.pop(),a=null;for(;i===o;)a=i,i=n.pop(),o=r.pop();return a}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function _o(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function mo(t){t.fixed|=2}function bo(t){t.fixed&=-7}function xo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function wo(t){t.fixed&=-5}e.interpolateTransform=po,e.layout={},e.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(yo(t[n]));return e}},e.layout.chord=function(){var t,n,r,i,o,a,s,u={},l=0;function c(){var u,c,f,d,p,v={},g=[],y=e.range(i),_=[];for(t=[],n=[],u=0,d=-1;++d<i;){for(c=0,p=-1;++p<i;)c+=r[d][p];g.push(c),_.push(e.range(i)),u+=c}for(o&&y.sort(function(t,e){return o(g[t],g[e])}),a&&_.forEach(function(t,e){t.sort(function(t,n){return a(r[e][t],r[e][n])})}),u=(St-l*i)/u,c=0,d=-1;++d<i;){for(f=c,p=-1;++p<i;){var m=y[d],b=_[m][p],x=r[m][b],w=c,T=c+=x*u;v[m+\"-\"+b]={index:m,subindex:b,startAngle:w,endAngle:T,value:x}}n[m]={index:m,startAngle:f,endAngle:c,value:g[m]},c+=l}for(d=-1;++d<i;)for(p=d-1;++p<i;){var E=v[d+\"-\"+p],M=v[p+\"-\"+d];(E.value||M.value)&&t.push(E.value<M.value?{source:M,target:E}:{source:E,target:M})}s&&h()}function h(){t.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return u.matrix=function(e){return arguments.length?(i=(r=e)&&r.length,t=n=null,u):r},u.padding=function(e){return arguments.length?(l=e,t=n=null,u):l},u.sortGroups=function(e){return arguments.length?(o=e,t=n=null,u):o},u.sortSubgroups=function(e){return arguments.length?(a=e,t=null,u):a},u.sortChords=function(e){return arguments.length?(s=e,t&&h(),u):s},u.chords=function(){return t||c(),t},u.groups=function(){return n||c(),n},u},e.layout.force=function(){var t,n,r,i,o,a,s={},u=e.dispatch(\"start\",\"tick\",\"end\"),l=[1,1],c=.9,h=To,f=Eo,d=-30,p=Mo,v=.1,g=.64,y=[],_=[];function m(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(s*s/g<u){if(u<p){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&u<p){l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function b(t){t.px=e.event.x,t.py=e.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return t=null,u.end({type:\"end\",alpha:r=0}),!0;var n,s,h,f,p,g,b,x,w,T=y.length,E=_.length;for(s=0;s<E;++s)f=(h=_[s]).source,(g=(x=(p=h.target).x-f.x)*x+(w=p.y-f.y)*w)&&(x*=g=r*o[s]*((g=Math.sqrt(g))-i[s])/g,w*=g,p.x-=x*(b=f.weight+p.weight?f.weight/(f.weight+p.weight):.5),p.y-=w*b,f.x+=x*(b=1-b),f.y+=w*b);if((b=r*v)&&(x=l[0]/2,w=l[1]/2,s=-1,b))for(;++s<T;)(h=y[s]).x+=(x-h.x)*b,h.y+=(w-h.y)*b;if(d)for(!function t(e,n,r){var i=0,o=0;e.charge=0;if(!e.leaf)for(var a,s=e.nodes,u=s.length,l=-1;++l<u;)null!=(a=s[l])&&(t(a,n,r),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,o+=c*e.point.y}e.cx=i/e.charge;e.cy=o/e.charge}(n=e.geom.quadtree(y),r,a),s=-1;++s<T;)(h=y[s]).fixed||n.visit(m(h));for(s=-1;++s<T;)(h=y[s]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*c,h.y-=(h.py-(h.py=h.y))*c);u.tick({type:\"tick\",alpha:r})},s.nodes=function(t){return arguments.length?(y=t,s):y},s.links=function(t){return arguments.length?(_=t,s):_},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(h=\"function\"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f=\"function\"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(d=\"function\"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(v=+t,s):v},s.theta=function(t){return arguments.length?(g=t*t,s):Math.sqrt(g)},s.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,u.end({type:\"end\",alpha:r=0})):e>0&&(u.start({type:\"start\",alpha:r=e}),t=Ee(s.tick)),s):r},s.start=function(){var t,e,n,r=y.length,u=_.length,c=l[0],p=l[1];for(t=0;t<r;++t)(n=y[t]).index=t,n.weight=0;for(t=0;t<u;++t)\"number\"==typeof(n=_[t]).source&&(n.source=y[n.source]),\"number\"==typeof n.target&&(n.target=y[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<r;++t)n=y[t],isNaN(n.x)&&(n.x=v(\"x\",c)),isNaN(n.y)&&(n.y=v(\"y\",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],\"function\"==typeof h)for(t=0;t<u;++t)i[t]=+h.call(this,_[t],t);else for(t=0;t<u;++t)i[t]=h;if(o=[],\"function\"==typeof f)for(t=0;t<u;++t)o[t]=+f.call(this,_[t],t);else for(t=0;t<u;++t)o[t]=f;if(a=[],\"function\"==typeof d)for(t=0;t<r;++t)a[t]=+d.call(this,y[t],t);else for(t=0;t<r;++t)a[t]=d;function v(n,i){if(!e){for(e=new Array(r),l=0;l<r;++l)e[l]=[];for(l=0;l<u;++l){var o=_[l];e[o.source.index].push(o.target),e[o.target.index].push(o.source)}}for(var a,s=e[t],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][n]))return a;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=e.behavior.drag().origin(R).on(\"dragstart.force\",mo).on(\"drag.force\",b).on(\"dragend.force\",bo)),!arguments.length)return n;this.on(\"mouseover.force\",xo).on(\"mouseout.force\",wo).call(n)},e.rebind(s,u,\"on\")};var To=20,Eo=1,Mo=1/0;function So(t,n){return e.rebind(t,n,\"sort\",\"children\",\"value\"),t.nodes=t,t.links=Io,t}function Oo(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Co(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function Ao(t){return t.children}function Po(t){return t.value}function Ro(t,e){return e.value-t.value}function Io(t){return e.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}e.layout.hierarchy=function(){var t=Ro,e=Ao,n=Po;function r(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=e.call(r,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=l}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return Co(i,function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)}),s}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Oo(t,function(t){t.children&&(t.value=0)}),Co(t,function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},r},e.layout.partition=function(){var t=e.layout.hierarchy(),n=[1,1];function r(e,r){var i=t.call(this,e,r);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,u=s.value*r,i),n+=u}}(i[0],0,n[0],n[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(i[0])),i}return r.size=function(t){return arguments.length?(n=t,r):n},So(r,t)},e.layout.pie=function(){var t=Number,n=Do,r=0,i=St,o=0;function a(s){var u,l=s.length,c=s.map(function(e,n){return+t.call(a,e,n)}),h=+(\"function\"==typeof r?r.apply(this,arguments):r),f=(\"function\"==typeof i?i.apply(this,arguments):i)-h,d=Math.min(Math.abs(f)/l,+(\"function\"==typeof o?o.apply(this,arguments):o)),p=d*(f<0?-1:1),v=e.sum(c),g=v?(f-l*p)/v:0,y=e.range(l),_=[];return null!=n&&y.sort(n===Do?function(t,e){return c[e]-c[t]}:function(t,e){return n(s[t],s[e])}),y.forEach(function(t){_[t]={data:s[t],value:u=c[t],startAngle:h,endAngle:h+=u*g+p,padAngle:d}}),_}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(t){return arguments.length?(n=t,a):n},a.startAngle=function(t){return arguments.length?(r=t,a):r},a.endAngle=function(t){return arguments.length?(i=t,a):i},a.padAngle=function(t){return arguments.length?(o=t,a):o},a};var Do={};function ko(t){return t.x}function No(t){return t.y}function Lo(t,e,n){t.y0=e,t.y=n}e.layout.stack=function(){var t=R,n=Uo,r=Bo,i=Lo,o=ko,a=No;function s(u,l){if(!(d=u.length))return u;var c=u.map(function(e,n){return t.call(s,e,n)}),h=c.map(function(t){return t.map(function(t,e){return[o.call(s,t,e),a.call(s,t,e)]})}),f=n.call(s,h,l);c=e.permute(c,f),h=e.permute(h,f);var d,p,v,g,y=r.call(s,h,l),_=c[0].length;for(v=0;v<_;++v)for(i.call(s,c[0][v],g=y[v],h[0][v][1]),p=1;p<d;++p)i.call(s,c[p][v],g+=h[p-1][v][1],h[p][v][1]);return u}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(t){return arguments.length?(n=\"function\"==typeof t?t:jo.get(t)||Uo,s):n},s.offset=function(t){return arguments.length?(r=\"function\"==typeof t?t:Fo.get(t)||Bo,s):r},s.x=function(t){return arguments.length?(o=t,s):o},s.y=function(t){return arguments.length?(a=t,s):a},s.out=function(t){return arguments.length?(i=t,s):i},s};var jo=e.map({\"inside-out\":function(t){var n,r,i=t.length,o=t.map(Ho),a=t.map(Xo),s=e.range(i).sort(function(t,e){return o[t]-o[e]}),u=0,l=0,c=[],h=[];for(n=0;n<i;++n)r=s[n],u<l?(u+=a[r],c.push(r)):(l+=a[r],h.push(r));return h.reverse().concat(c)},reverse:function(t){return e.range(t.length).reverse()},default:Uo}),Fo=e.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,n=1;n<f;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=i?o/i*s:0,u<l&&(l=u)}for(n=0;n<f;++n)d[n]-=l;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Bo});function Uo(t){return e.range(t.length)}function Bo(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Ho(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function Xo(t){return t.reduce(zo,0)}function zo(t,e){return t+e[1]}function Go(t,e){return Yo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Yo(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Wo(t){return[e.min(t),e.max(t)]}function Vo(t,e){return t.value-e.value}function qo(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Zo(t,e){t._pack_next=e,e._pack_prev=t}function Ko(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Jo(t){if((e=t.children)&&(u=e.length)){var e,n,r,i,o,a,s,u,l=1/0,c=-1/0,h=1/0,f=-1/0;if(e.forEach(Qo),(n=e[0]).x=-n.r,n.y=0,m(n),u>1&&((r=e[1]).x=r.r,r.y=0,m(r),u>2))for(ta(n,r,i=e[2]),m(i),qo(n,i),n._pack_prev=i,qo(i,r),r=n._pack_next,o=3;o<u;o++){ta(n,r,i=e[o]);var d=0,p=1,v=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(Ko(a,i)){d=1;break}if(1==d)for(s=n._pack_prev;s!==a._pack_prev&&!Ko(s,i);s=s._pack_prev,v++);d?(p<v||p==v&&r.r<n.r?Zo(n,r=a):Zo(n=s,r),o--):(qo(n,i),r=i,m(i))}var g=(l+c)/2,y=(h+f)/2,_=0;for(o=0;o<u;o++)(i=e[o]).x-=g,i.y-=y,_=Math.max(_,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=_,e.forEach($o)}function m(t){l=Math.min(t.x-t.r,l),c=Math.max(t.x+t.r,c),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}}function Qo(t){t._pack_next=t._pack_prev=t}function $o(t){delete t._pack_next,delete t._pack_prev}function ta(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,u=.5+((r*=r)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function ea(t,e){return t.parent==e.parent?1:2}function na(t){var e=t.children;return e.length?e[0]:t.t}function ra(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ia(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function oa(t,e,n){return t.a.parent===e.parent?t.a:n}function aa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function sa(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function ua(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function la(t){return t.rangeExtent?t.rangeExtent():ua(t.range())}function ca(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function ha(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function fa(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:da}e.layout.histogram=function(){var t=!0,n=Number,r=Wo,i=Go;function o(o,a){for(var s,u,l=[],c=o.map(n,this),h=r.call(this,c,a),f=i.call(this,h,c,a),d=(a=-1,c.length),p=f.length-1,v=t?1:1/d;++a<p;)(s=l[a]=[]).dx=f[a+1]-(s.x=f[a]),s.y=0;if(p>0)for(a=-1;++a<d;)(u=c[a])>=h[0]&&u<=h[1]&&((s=l[e.bisect(f,u,1,p)-1]).y+=v,s.push(o[a]));return l}return o.value=function(t){return arguments.length?(n=t,o):n},o.range=function(t){return arguments.length?(r=ge(t),o):r},o.bins=function(t){return arguments.length?(i=\"number\"==typeof t?function(e){return Yo(e,t)}:ge(t),o):i},o.frequency=function(e){return arguments.length?(t=!!e,o):t},o},e.layout.pack=function(){var t,n=e.layout.hierarchy().sort(Vo),r=0,i=[1,1];function o(e,o){var a=n.call(this,e,o),s=a[0],u=i[0],l=i[1],c=null==t?Math.sqrt:\"function\"==typeof t?t:function(){return t};if(s.x=s.y=0,Co(s,function(t){t.r=+c(t.value)}),Co(s,Jo),r){var h=r*(t?1:Math.max(2*s.r/u,2*s.r/l))/2;Co(s,function(t){t.r+=h}),Co(s,Jo),Co(s,function(t){t.r-=h})}return function t(e,n,r,i){var o=e.children;e.x=n+=i*e.x;e.y=r+=i*e.y;e.r*=i;if(o)for(var a=-1,s=o.length;++a<s;)t(o[a],n,r,i)}(s,u/2,l/2,t?1:1/Math.max(2*s.r/u,2*s.r/l)),a}return o.size=function(t){return arguments.length?(i=t,o):i},o.radius=function(e){return arguments.length?(t=null==e||\"function\"==typeof e?e:+e,o):t},o.padding=function(t){return arguments.length?(r=+t,o):r},So(o,n)},e.layout.tree=function(){var t=e.layout.hierarchy().sort(null).value(null),n=ea,r=[1,1],i=null;function o(e,o){var l=t.call(this,e,o),c=l[0],h=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(c);if(Co(h,a),h.parent.m=-h.z,Oo(h,s),i)Oo(c,u);else{var f=c,d=c,p=c;Oo(c,function(t){t.x<f.x&&(f=t),t.x>d.x&&(d=t),t.depth>p.depth&&(p=t)});var v=n(f,d)/2-f.x,g=r[0]/(d.x+n(d,f)/2+v),y=r[1]/(p.depth||1);Oo(c,function(t){t.x=(t.x+v)*g,t.y=t.depth*y})}return l}function a(t){var e=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(e.length){!function(t){var e,n=0,r=0,i=t.children,o=i.length;for(;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+n(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+n(t._,i._));t.parent.A=function(t,e,r){if(e){for(var i,o=t,a=t,s=e,u=o.parent.children[0],l=o.m,c=a.m,h=s.m,f=u.m;s=ra(s),o=na(o),s&&o;)u=na(u),(a=ra(a)).a=t,(i=s.z+h-o.z-l+n(s._,o._))>0&&(ia(oa(s,t,r),t,i),l+=i,c+=i),h+=s.m,l+=o.m,f+=u.m,c+=a.m;s&&!ra(a)&&(a.t=s,a.m+=h-c),o&&!na(u)&&(u.t=o,u.m+=l-f,r=t)}return r}(t,i,t.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=r[0],t.y=t.depth*r[1]}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(t){return arguments.length?(i=null==(r=t)?u:null,o):i?null:r},o.nodeSize=function(t){return arguments.length?(i=null==(r=t)?null:u,o):i?r:null},So(o,t)},e.layout.cluster=function(){var t=e.layout.hierarchy().sort(null).value(null),n=ea,r=[1,1],i=!1;function o(o,a){var s,u=t.call(this,o,a),l=u[0],c=0;Co(l,function(t){var r=t.children;r&&r.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(r),t.y=function(t){return 1+e.max(t,function(t){return t.y})}(r)):(t.x=s?c+=n(t,s):0,t.y=0,s=t)});var h=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(l),f=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(l),d=h.x-n(h,f)/2,p=f.x+n(f,h)/2;return Co(l,i?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-d)/(p-d)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),u}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(t){return arguments.length?(i=null==(r=t),o):i?null:r},o.nodeSize=function(t){return arguments.length?(i=null!=(r=t),o):i?r:null},So(o,t)},e.layout.treemap=function(){var t,n=e.layout.hierarchy(),r=Math.round,i=[1,1],o=null,a=aa,s=!1,u=\"squarify\",l=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function h(t){var e=t.children;if(e&&e.length){var n,r,i,o=a(t),s=[],l=e.slice(),f=1/0,v=\"slice\"===u?o.dx:\"dice\"===u?o.dy:\"slice-dice\"===u?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(l,o.dx*o.dy/t.value),s.area=0;(i=l.length)>0;)s.push(n=l[i-1]),s.area+=n.area,\"squarify\"!==u||(r=d(s,v))<=f?(l.pop(),f=r):(s.area-=s.pop().area,p(s,v,o,!1),v=Math.min(o.dx,o.dy),s.length=s.area=0,f=1/0);s.length&&(p(s,v,o,!0),s.length=s.area=0),e.forEach(h)}}function f(t){var e=t.children;if(e&&e.length){var n,r=a(t),i=e.slice(),o=[];for(c(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(f)}}function d(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*l/r,r/(e*o*l)):1/0}function p(t,e,n,i){var o,a=-1,s=t.length,u=n.x,l=n.y,c=e?r(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++a<s;)(o=t[a]).x=u,o.y=l,o.dy=c,u+=o.dx=Math.min(n.x+n.dx-u,c?r(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-u,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++a<s;)(o=t[a]).x=u,o.y=l,o.dx=c,l+=o.dy=Math.min(n.y+n.dy-l,c?r(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function v(e){var r=t||n(e),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,t&&n.revalue(o),c([o],o.dx*o.dy/o.value),(t?f:h)(o),s&&(t=r),r}return v.size=function(t){return arguments.length?(i=t,v):i},v.padding=function(t){if(!arguments.length)return o;function e(e){return sa(e,t)}var n;return a=null==(o=t)?aa:\"function\"==(n=typeof t)?function(e){var n=t.call(v,e,e.depth);return null==n?aa(e):sa(e,\"number\"==typeof n?[n,n,n,n]:n)}:\"number\"===n?(t=[t,t,t,t],e):e,v},v.round=function(t){return arguments.length?(r=t?Math.round:Number,v):r!=Number},v.sticky=function(e){return arguments.length?(s=e,t=null,v):s},v.ratio=function(t){return arguments.length?(l=t,v):l},v.mode=function(t){return arguments.length?(u=t+\"\",v):u},So(v,n)},e.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},e.scale={};var da={floor:R,ceil:R};function pa(t,n,r,i){var o=[],a=[],s=0,u=Math.min(t.length,n.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<=u;)o.push(r(t[s-1],t[s])),a.push(i(n[s-1],n[s]));return function(n){var r=e.bisect(t,n,1,u)-1;return a[r](o[r](n))}}function va(t,n){return e.rebind(t,n,\"range\",\"rangeRound\",\"interpolate\",\"clamp\")}function ga(t,e){return ha(t,fa(ya(t,e)[2])),ha(t,fa(ya(t,e)[2])),t}function ya(t,e){null==e&&(e=10);var n=ua(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function _a(t,n){return e.range.apply(e,ya(t,n))}function ma(t,n,r){var i=ya(t,n);if(r){var o=Pe.exec(r);if(o.shift(),\"s\"===o[8]){var a=e.formatPrefix(Math.max(_(i[0]),_(i[1])));return o[7]||(o[7]=\".\"+xa(a.scale(i[2]))),o[8]=\"f\",r=e.format(o.join(\"\")),function(t){return r(a.scale(t))+a.symbol}}o[7]||(o[7]=\".\"+function(t,e){var n=xa(e[2]);return t in ba?Math.abs(n-xa(Math.max(_(e[0]),_(e[1]))))+ +(\"e\"!==t):n-2*(\"%\"===t)}(o[8],i)),r=o.join(\"\")}else r=\",.\"+xa(i[2])+\"f\";return e.format(r)}e.scale.linear=function(){return function t(e,n,r,i){var o,a;function s(){var t=Math.min(e.length,n.length)>2?pa:ca,s=i?go:vo;return o=t(e,n,s,r),a=t(n,e,s,Vi),u}function u(t){return o(t)}u.invert=function(t){return a(t)};u.domain=function(t){return arguments.length?(e=t.map(Number),s()):e};u.range=function(t){return arguments.length?(n=t,s()):n};u.rangeRound=function(t){return u.range(t).interpolate(so)};u.clamp=function(t){return arguments.length?(i=t,s()):i};u.interpolate=function(t){return arguments.length?(r=t,s()):r};u.ticks=function(t){return _a(e,t)};u.tickFormat=function(t,n){return ma(e,t,n)};u.nice=function(t){return ga(e,t),s()};u.copy=function(){return t(e,n,r,i)};return s()}([0,1],[0,1],Vi,!1)};var ba={s:1,g:1,p:1,r:1,e:1};function xa(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}e.scale.log=function(){return function t(n,r,i,o){function a(t){return(i?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(r)}function s(t){return i?Math.pow(r,t):-Math.pow(r,-t)}function u(t){return n(a(t))}u.invert=function(t){return s(n.invert(t))};u.domain=function(t){return arguments.length?(i=t[0]>=0,n.domain((o=t.map(Number)).map(a)),u):o};u.base=function(t){return arguments.length?(r=+t,n.domain(o.map(a)),u):r};u.nice=function(){var t=ha(o.map(a),i?Math:Ta);return n.domain(t),o=t.map(s),u};u.ticks=function(){var t=ua(o),e=[],n=t[0],u=t[1],l=Math.floor(a(n)),c=Math.ceil(a(u)),h=r%1?2:r;if(isFinite(c-l)){if(i){for(;l<c;l++)for(var f=1;f<h;f++)e.push(s(l)*f);e.push(s(l))}else for(e.push(s(l));l++<c;)for(var f=h-1;f>0;f--)e.push(s(l)*f);for(l=0;e[l]<n;l++);for(c=e.length;e[c-1]>u;c--);e=e.slice(l,c)}return e};u.tickFormat=function(t,n){if(!arguments.length)return wa;arguments.length<2?n=wa:\"function\"!=typeof n&&(n=e.format(n));var i=Math.max(1,r*t/u.ticks().length);return function(t){var e=t/s(Math.round(a(t)));return e*r<r-.5&&(e*=r),e<=i?n(t):\"\"}};u.copy=function(){return t(n.copy(),r,i,o)};return va(u,n)}(e.scale.linear().domain([0,1]),10,!0,[1,10])};var wa=e.format(\".0e\"),Ta={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Ea(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}e.scale.pow=function(){return function t(e,n,r){var i=Ea(n),o=Ea(1/n);function a(t){return e(i(t))}a.invert=function(t){return o(e.invert(t))};a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),a):r};a.ticks=function(t){return _a(r,t)};a.tickFormat=function(t,e){return ma(r,t,e)};a.nice=function(t){return a.domain(ga(r,t))};a.exponent=function(t){return arguments.length?(i=Ea(n=t),o=Ea(1/n),e.domain(r.map(i)),a):n};a.copy=function(){return t(e.copy(),n,r)};return va(a,e)}(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return function t(n,r){var i,o,a;function s(t){return o[((i.get(t)||(\"range\"===r.t?i.set(t,n.push(t)):NaN))-1)%o.length]}function u(t,r){return e.range(n.length).map(function(e){return t+r*e})}s.domain=function(t){if(!arguments.length)return n;n=[],i=new b;for(var e,o=-1,a=t.length;++o<a;)i.has(e=t[o])||i.set(e,n.push(e));return s[r.t].apply(s,r.a)};s.range=function(t){return arguments.length?(o=t,a=0,r={t:\"range\",a:arguments},s):o};s.rangePoints=function(t,e){arguments.length<2&&(e=0);var i=t[0],l=t[1],c=n.length<2?(i=(i+l)/2,0):(l-i)/(n.length-1+e);return o=u(i+c*e/2,c),a=0,r={t:\"rangePoints\",a:arguments},s};s.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var i=t[0],l=t[1],c=n.length<2?(i=l=Math.round((i+l)/2),0):(l-i)/(n.length-1+e)|0;return o=u(i+Math.round(c*e/2+(l-i-(n.length-1+e)*c)/2),c),a=0,r={t:\"rangeRoundPoints\",a:arguments},s};s.rangeBands=function(t,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var l=t[1]<t[0],c=t[l-0],h=t[1-l],f=(h-c)/(n.length-e+2*i);return o=u(c+f*i,f),l&&o.reverse(),a=f*(1-e),r={t:\"rangeBands\",a:arguments},s};s.rangeRoundBands=function(t,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var l=t[1]<t[0],c=t[l-0],h=t[1-l],f=Math.floor((h-c)/(n.length-e+2*i));return o=u(c+Math.round((h-c-(n.length-e)*f)/2),f),l&&o.reverse(),a=Math.round(f*(1-e)),r={t:\"rangeRoundBands\",a:arguments},s};s.rangeBand=function(){return a};s.rangeExtent=function(){return ua(r.a[0])};s.copy=function(){return t(n,r)};return s.domain(n)}([],{t:\"range\",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(Ma)},e.scale.category20=function(){return e.scale.ordinal().range(Sa)},e.scale.category20b=function(){return e.scale.ordinal().range(Oa)},e.scale.category20c=function(){return e.scale.ordinal().range(Ca)};var Ma=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(se),Sa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(se),Oa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(se),Ca=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(se);function Aa(){return 0}e.scale.quantile=function(){return function t(n,r){var i;function o(){var t=0,o=r.length;for(i=[];++t<o;)i[t-1]=e.quantile(n,t/o);return a}function a(t){if(!isNaN(t=+t))return r[e.bisect(i,t)]}a.domain=function(t){return arguments.length?(n=t.map(d).filter(p).sort(f),o()):n};a.range=function(t){return arguments.length?(r=t,o()):r};a.quantiles=function(){return i};a.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]};a.copy=function(){return t(n,r)};return o()}([],[])},e.scale.quantize=function(){return function t(e,n,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function s(){return i=r.length/(n-e),o=r.length-1,a}a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]};a.range=function(t){return arguments.length?(r=t,s()):r};a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]};a.copy=function(){return t(e,n,r)};return s()}(0,1,[0,1])},e.scale.threshold=function(){return function t(n,r){function i(t){if(t<=t)return r[e.bisect(n,t)]}i.domain=function(t){return arguments.length?(n=t,i):n};i.range=function(t){return arguments.length?(r=t,i):r};i.invertExtent=function(t){return t=r.indexOf(t),[n[t-1],n[t]]};i.copy=function(){return t(n,r)};return i}([.5],[0,1])},e.scale.identity=function(){return function t(e){function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e};n.ticks=function(t){return _a(e,t)};n.tickFormat=function(t,n){return ma(e,t,n)};n.copy=function(){return t(e)};return n}([0,1])},e.svg={},e.svg.arc=function(){var t=Ra,e=Ia,n=Aa,r=Pa,i=Da,o=ka,a=Na;function s(){var s=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-Ct,h=o.apply(this,arguments)-Ct,f=Math.abs(h-c),d=c>h?0:1;if(l<s&&(p=l,l=s,s=p),f>=Ot)return u(l,d)+(s?u(s,1-d):\"\")+\"Z\";var p,v,g,y,_,m,b,x,w,T,E,M,S=0,O=0,C=[];if((y=(+a.apply(this,arguments)||0)/2)&&(g=r===Pa?Math.sqrt(s*s+l*l):+r.apply(this,arguments),d||(O*=-1),l&&(O=kt(g/l*Math.sin(y))),s&&(S=kt(g/s*Math.sin(y)))),l){_=l*Math.cos(c+O),m=l*Math.sin(c+O),b=l*Math.cos(h-O),x=l*Math.sin(h-O);var A=Math.abs(h-c-2*O)<=Mt?0:1;if(O&&La(_,m,b,x)===d^A){var P=(c+h)/2;_=l*Math.cos(P),m=l*Math.sin(P),b=x=null}}else _=m=0;if(s){w=s*Math.cos(h-S),T=s*Math.sin(h-S),E=s*Math.cos(c+S),M=s*Math.sin(c+S);var R=Math.abs(c-h+2*S)<=Mt?0:1;if(S&&La(w,T,E,M)===1-d^R){var I=(c+h)/2;w=s*Math.cos(I),T=s*Math.sin(I),E=M=null}}else w=T=0;if(f>Tt&&(p=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){v=s<l^d?0:1;var D=p,k=p;if(f<Mt){var N=null==E?[w,T]:null==b?[_,m]:oi([_,m],[E,M],[b,x],[w,T]),L=_-N[0],j=m-N[1],F=b-N[0],U=x-N[1],B=1/Math.sin(Math.acos((L*F+j*U)/(Math.sqrt(L*L+j*j)*Math.sqrt(F*F+U*U)))/2),H=Math.sqrt(N[0]*N[0]+N[1]*N[1]);k=Math.min(p,(s-H)/(B-1)),D=Math.min(p,(l-H)/(B+1))}if(null!=b){var X=ja(null==E?[w,T]:[E,M],[_,m],l,D,d),z=ja([b,x],[w,T],l,D,d);p===D?C.push(\"M\",X[0],\"A\",D,\",\",D,\" 0 0,\",v,\" \",X[1],\"A\",l,\",\",l,\" 0 \",1-d^La(X[1][0],X[1][1],z[1][0],z[1][1]),\",\",d,\" \",z[1],\"A\",D,\",\",D,\" 0 0,\",v,\" \",z[0]):C.push(\"M\",X[0],\"A\",D,\",\",D,\" 0 1,\",v,\" \",z[0])}else C.push(\"M\",_,\",\",m);if(null!=E){var G=ja([_,m],[E,M],s,-k,d),Y=ja([w,T],null==b?[_,m]:[b,x],s,-k,d);p===k?C.push(\"L\",Y[0],\"A\",k,\",\",k,\" 0 0,\",v,\" \",Y[1],\"A\",s,\",\",s,\" 0 \",d^La(Y[1][0],Y[1][1],G[1][0],G[1][1]),\",\",1-d,\" \",G[1],\"A\",k,\",\",k,\" 0 0,\",v,\" \",G[0]):C.push(\"L\",Y[0],\"A\",k,\",\",k,\" 0 0,\",v,\" \",G[0])}else C.push(\"L\",w,\",\",T)}else C.push(\"M\",_,\",\",m),null!=b&&C.push(\"A\",l,\",\",l,\" 0 \",A,\",\",d,\" \",b,\",\",x),C.push(\"L\",w,\",\",T),null!=E&&C.push(\"A\",s,\",\",s,\" 0 \",R,\",\",1-d,\" \",E,\",\",M);return C.push(\"Z\"),C.join(\"\")}function u(t,e){return\"M0,\"+t+\"A\"+t+\",\"+t+\" 0 1,\"+e+\" 0,\"+-t+\"A\"+t+\",\"+t+\" 0 1,\"+e+\" 0,\"+t}return s.innerRadius=function(e){return arguments.length?(t=ge(e),s):t},s.outerRadius=function(t){return arguments.length?(e=ge(t),s):e},s.cornerRadius=function(t){return arguments.length?(n=ge(t),s):n},s.padRadius=function(t){return arguments.length?(r=t==Pa?Pa:ge(t),s):r},s.startAngle=function(t){return arguments.length?(i=ge(t),s):i},s.endAngle=function(t){return arguments.length?(o=ge(t),s):o},s.padAngle=function(t){return arguments.length?(a=ge(t),s):a},s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ct;return[Math.cos(r)*n,Math.sin(r)*n]},s};var Pa=\"auto\";function Ra(t){return t.innerRadius}function Ia(t){return t.outerRadius}function Da(t){return t.startAngle}function ka(t){return t.endAngle}function Na(t){return t&&t.padAngle}function La(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function ja(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,f=e[0]+u,d=e[1]+l,p=(c+f)/2,v=(h+d)/2,g=f-c,y=d-h,_=g*g+y*y,m=n-r,b=c*d-f*h,x=(y<0?-1:1)*Math.sqrt(Math.max(0,m*m*_-b*b)),w=(b*y-g*x)/_,T=(-b*g-y*x)/_,E=(b*y+g*x)/_,M=(-b*g+y*x)/_,S=w-p,O=T-v,C=E-p,A=M-v;return S*S+O*O>C*C+A*A&&(w=E,T=M),[[w-u,T-l],[w*n/m,T*n/m]]}function Fa(t){var e=$r,n=ti,r=Vn,i=Ba,o=i.key,a=.7;function s(o){var s,u=[],l=[],c=-1,h=o.length,f=ge(e),d=ge(n);function p(){u.push(\"M\",i(t(l),a))}for(;++c<h;)r.call(this,s=o[c],c)?l.push([+f.call(this,s,c),+d.call(this,s,c)]):l.length&&(p(),l=[]);return l.length&&p(),u.length?u.join(\"\"):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(n=t,s):n},s.defined=function(t){return arguments.length?(r=t,s):r},s.interpolate=function(t){return arguments.length?(o=\"function\"==typeof t?i=t:(i=Ua.get(t)||Ba).key,s):o},s.tension=function(t){return arguments.length?(a=t,s):a},s}e.svg.line=function(){return Fa(R)};var Ua=e.map({linear:Ba,\"linear-closed\":Ha,step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],\",\",r[1]];for(;++e<n;)i.push(\"H\",(r[0]+(r=t[e])[0])/2,\"V\",r[1]);n>1&&i.push(\"H\",r[0]);return i.join(\"\")},\"step-before\":Xa,\"step-after\":za,basis:Wa,\"basis-open\":function(t){if(t.length<4)return Ba(t);var e,n=[],r=-1,i=t.length,o=[0],a=[0];for(;++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);n.push(Va(Ka,o)+\",\"+Va(Ka,a)),--r;for(;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ja(n,o,a);return n.join(\"\")},\"basis-closed\":function(t){var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];for(;++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);e=[Va(Ka,a),\",\",Va(Ka,s)],--r;for(;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ja(e,a,s);return e.join(\"\")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Wa(t)},cardinal:function(t,e){return t.length<3?Ba(t):t[0]+Ga(t,Ya(t,e))},\"cardinal-open\":function(t,e){return t.length<4?Ba(t):t[1]+Ga(t.slice(1,-1),Ya(t,e))},\"cardinal-closed\":function(t,e){return t.length<3?Ha(t):t[0]+Ga((t.push(t[0]),t),Ya([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ba(t):t[0]+Ga(t,function(t){var e,n,r,i,o=[],a=function(t){var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Qa(i,o);for(;++e<n;)r[e]=(a+(a=Qa(i=o,o=t[e+1])))/2;return r[e]=a,r}(t),s=-1,u=t.length-1;for(;++s<u;)e=Qa(t[s],t[s+1]),_(e)<Tt?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,(i=n*n+r*r)>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));s=-1;for(;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}(t))}});function Ba(t){return t.length>1?t.join(\"L\"):t+\"Z\"}function Ha(t){return t.join(\"L\")+\"Z\"}function Xa(t){for(var e=0,n=t.length,r=t[0],i=[r[0],\",\",r[1]];++e<n;)i.push(\"V\",(r=t[e])[1],\"H\",r[0]);return i.join(\"\")}function za(t){for(var e=0,n=t.length,r=t[0],i=[r[0],\",\",r[1]];++e<n;)i.push(\"H\",(r=t[e])[0],\"V\",r[1]);return i.join(\"\")}function Ga(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ba(t);var n=t.length!=e.length,r=\"\",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+=\"Q\"+(o[0]-2*a[0]/3)+\",\"+(o[1]-2*a[1]/3)+\",\"+o[0]+\",\"+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+=\"C\"+(i[0]+a[0])+\",\"+(i[1]+a[1])+\",\"+(o[0]-s[0])+\",\"+(o[1]-s[1])+\",\"+o[0]+\",\"+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+=\"S\"+(o[0]-s[0])+\",\"+(o[1]-s[1])+\",\"+o[0]+\",\"+o[1]}if(n){var c=t[u];r+=\"Q\"+(o[0]+2*s[0]/3)+\",\"+(o[1]+2*s[1]/3)+\",\"+c[0]+\",\"+c[1]}return r}function Ya(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Wa(t){if(t.length<3)return Ba(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,\",\",o,\"L\",Va(Ka,a),\",\",Va(Ka,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ja(u,a,s);return t.pop(),u.push(\"L\",r),u.join(\"\")}function Va(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Ua.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var qa=[0,2/3,1/3,0],Za=[0,1/3,2/3,0],Ka=[0,1/6,2/3,1/6];function Ja(t,e,n){t.push(\"C\",Va(qa,e),\",\",Va(qa,n),\",\",Va(Za,e),\",\",Va(Za,n),\",\",Va(Ka,e),\",\",Va(Ka,n))}function Qa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function $a(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Ct,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function ts(t){var e=$r,n=$r,r=0,i=ti,o=Vn,a=Ba,s=a.key,u=a,l=\"L\",c=.7;function h(s){var h,f,d,p=[],v=[],g=[],y=-1,_=s.length,m=ge(e),b=ge(r),x=e===n?function(){return f}:ge(n),w=r===i?function(){return d}:ge(i);function T(){p.push(\"M\",a(t(g),c),l,u(t(v.reverse()),c),\"Z\")}for(;++y<_;)o.call(this,h=s[y],y)?(v.push([f=+m.call(this,h,y),d=+b.call(this,h,y)]),g.push([+x.call(this,h,y),+w.call(this,h,y)])):v.length&&(T(),v=[],g=[]);return v.length&&T(),p.length?p.join(\"\"):null}return h.x=function(t){return arguments.length?(e=n=t,h):n},h.x0=function(t){return arguments.length?(e=t,h):e},h.x1=function(t){return arguments.length?(n=t,h):n},h.y=function(t){return arguments.length?(r=i=t,h):i},h.y0=function(t){return arguments.length?(r=t,h):r},h.y1=function(t){return arguments.length?(i=t,h):i},h.defined=function(t){return arguments.length?(o=t,h):o},h.interpolate=function(t){return arguments.length?(s=\"function\"==typeof t?a=t:(a=Ua.get(t)||Ba).key,u=a.reverse||a,l=a.closed?\"M\":\"L\",h):s},h.tension=function(t){return arguments.length?(c=t,h):c},h}function es(t){return t.radius}function ns(t){return[t.x,t.y]}function rs(){return 64}function is(){return\"circle\"}function os(t){var e=Math.sqrt(t/Mt);return\"M0,\"+e+\"A\"+e+\",\"+e+\" 0 1,1 0,\"+-e+\"A\"+e+\",\"+e+\" 0 1,1 0,\"+e+\"Z\"}e.svg.line.radial=function(){var t=Fa($a);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Xa.reverse=za,za.reverse=Xa,e.svg.area=function(){return ts(R)},e.svg.area.radial=function(){var t=ts($a);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},e.svg.chord=function(){var t=Ur,e=Br,n=es,r=Da,i=ka;function o(n,r){var i=a(this,t,n,r),o=a(this,e,n,r);return\"M\"+i.p0+s(i.r,i.p1,i.a1-i.a0)+(function(t,e){return t.a0==e.a0&&t.a1==e.a1}(i,o)?u(i.r,i.p1,i.r,i.p0):u(i.r,i.p1,o.r,o.p0)+s(o.r,o.p1,o.a1-o.a0)+u(o.r,o.p1,i.r,i.p0))+\"Z\"}function a(t,e,o,a){var s=e.call(t,o,a),u=n.call(t,s,a),l=r.call(t,s,a)-Ct,c=i.call(t,s,a)-Ct;return{r:u,a0:l,a1:c,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function s(t,e,n){return\"A\"+t+\",\"+t+\" 0 \"+ +(n>Mt)+\",1 \"+e}function u(t,e,n,r){return\"Q 0,0 \"+r}return o.radius=function(t){return arguments.length?(n=ge(t),o):n},o.source=function(e){return arguments.length?(t=ge(e),o):t},o.target=function(t){return arguments.length?(e=ge(t),o):e},o.startAngle=function(t){return arguments.length?(r=ge(t),o):r},o.endAngle=function(t){return arguments.length?(i=ge(t),o):i},o},e.svg.diagonal=function(){var t=Ur,e=Br,n=ns;function r(r,i){var o=t.call(this,r,i),a=e.call(this,r,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return\"M\"+(u=u.map(n))[0]+\"C\"+u[1]+\" \"+u[2]+\" \"+u[3]}return r.source=function(e){return arguments.length?(t=ge(e),r):t},r.target=function(t){return arguments.length?(e=ge(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=ns,r=t.projection;return t.projection=function(t){return arguments.length?r(function(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Ct;return[n*Math.cos(r),n*Math.sin(r)]}}(n=t)):n},t},e.svg.symbol=function(){var t=is,e=rs;function n(n,r){return(as.get(t.call(this,n,r))||os)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=ge(e),n):t},n.size=function(t){return arguments.length?(e=ge(t),n):e},n};var as=e.map({circle:os,cross:function(t){var e=Math.sqrt(t/5)/2;return\"M\"+-3*e+\",\"+-e+\"H\"+-e+\"V\"+-3*e+\"H\"+e+\"V\"+-e+\"H\"+3*e+\"V\"+e+\"H\"+e+\"V\"+3*e+\"H\"+-e+\"V\"+e+\"H\"+-3*e+\"Z\"},diamond:function(t){var e=Math.sqrt(t/(2*us)),n=e*us;return\"M0,\"+-e+\"L\"+n+\",0 0,\"+e+\" \"+-n+\",0Z\"},square:function(t){var e=Math.sqrt(t)/2;return\"M\"+-e+\",\"+-e+\"L\"+e+\",\"+-e+\" \"+e+\",\"+e+\" \"+-e+\",\"+e+\"Z\"},\"triangle-down\":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return\"M0,\"+n+\"L\"+e+\",\"+-n+\" \"+-e+\",\"+-n+\"Z\"},\"triangle-up\":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return\"M0,\"+-n+\"L\"+e+\",\"+n+\" \"+-e+\",\"+n+\"Z\"}});e.svg.symbolTypes=as.keys();var ss=Math.sqrt(3),us=Math.tan(30*At);V.transition=function(t){for(var e,n,r=fs||++vs,i=_s(t),o=[],a=ds||{time:Date.now(),ease:no,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&ms(n,c,i,r,a),e.push(n)}return hs(o,i,r)},V.interrupt=function(t){return this.each(null==t?ls:cs(_s(t)))};var ls=cs(_s());function cs(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function hs(t,e,n){return X(t,ps),t.namespace=e,t.id=n,t}var fs,ds,ps=[],vs=0;function gs(t,e,n,r){var i=t.id,o=t.namespace;return ct(t,\"function\"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function ys(t){return null==t&&(t=\"\"),function(){this.textContent=t}}function _s(t){return null==t?\"__transition__\":\"__transition_\"+t+\"__\"}function ms(t,e,n,r,i){var o,a,s,u,l,c=t[n]||(t[n]={active:0,count:0}),h=c[r];function f(n){var i=c.active,f=c[i];for(var p in f&&(f.timer.c=null,f.timer.t=NaN,--c.count,delete c[i],f.event&&f.event.interrupt.call(t,t.__data__,f.index)),c)if(+p<r){var v=c[p];v.timer.c=null,v.timer.t=NaN,--c.count,delete c[p]}a.c=d,Ee(function(){return a.c&&d(n||1)&&(a.c=null,a.t=NaN),1},0,o),c.active=r,h.event&&h.event.start.call(t,t.__data__,e),l=[],h.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&l.push(r)}),u=h.ease,s=h.duration}function d(i){for(var o=i/s,a=u(o),f=l.length;f>0;)l[--f].call(t,a);if(o>=1)return h.event&&h.event.end.call(t,t.__data__,e),--c.count?delete c[r]:delete t[n],1}h||(o=i.time,a=Ee(function(t){var e=h.delay;if(a.t=e+o,e<=t)return f(t-e);a.c=f},0,o),h=c[r]={tween:new b,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++c.count)}ps.call=V.call,ps.empty=V.empty,ps.node=V.node,ps.size=V.size,e.transition=function(t,n){return t&&t.transition?fs?t.transition(n):t:e.selection().transition(t)},e.transition.prototype=ps,ps.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=q(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(r=l[c])&&(n=t.call(r,r.__data__,c,s))?(\"__data__\"in r&&(n.__data__=r.__data__),ms(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return hs(a,o,i)},ps.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=Z(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,d=h.length;++f<d;)if(r=h[f]){o=r[s][a],n=t.call(r,r.__data__,f,l),u.push(e=[]);for(var p=-1,v=n.length;++p<v;)(i=n[p])&&ms(i,p,s,a,o),e.push(i)}return hs(u,s,a)},ps.filter=function(t){var e,n,r=[];\"function\"!=typeof t&&(t=lt(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,s=0,u=(a=this[i]).length;s<u;s++)(n=a[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return hs(r,this.namespace,this.id)},ps.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):ct(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},ps.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r=\"transform\"==t?po:Vi,i=e.ns.qualify(t);function o(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}return gs(this,\"attr.\"+t,n,i.local?function(t){return null==t?a:(t+=\"\",function(){var e,n=this.getAttributeNS(i.space,i.local);return n!==t&&(e=r(n,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}:function(t){return null==t?o:(t+=\"\",function(){var e,n=this.getAttribute(i);return n!==t&&(e=r(n,t),function(t){this.setAttribute(i,e(t))})})})},ps.attrTween=function(t,n){var r=e.ns.qualify(t);return this.tween(\"attr.\"+t,r.local?function(t,e){var i=n.call(this,t,e,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}:function(t,e){var i=n.call(this,t,e,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}})},ps.style=function(t,e,n){var r=arguments.length;if(r<3){if(\"string\"!=typeof t){for(n in r<2&&(e=\"\"),t)this.style(n,t[n],e);return this}n=\"\"}function i(){this.style.removeProperty(t)}return gs(this,\"style.\"+t,e,function(e){return null==e?i:(e+=\"\",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=Vi(i,e),function(e){this.style.setProperty(t,r(e),n)})})})},ps.styleTween=function(t,e,n){return arguments.length<3&&(n=\"\"),this.tween(\"style.\"+t,function(r,i){var o=e.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},ps.text=function(t){return gs(this,\"text\",t,ys)},ps.remove=function(){var t=this.namespace;return this.each(\"end.transition\",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},ps.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:(\"function\"!=typeof t&&(t=e.ease.apply(e,arguments)),ct(this,function(e){e[r][n].ease=t}))},ps.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:ct(this,\"function\"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},ps.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:ct(this,\"function\"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},ps.each=function(t,n){var r=this.id,i=this.namespace;if(arguments.length<2){var o=ds,a=fs;try{fs=r,ct(this,function(e,n,o){ds=e[i][r],t.call(e,e.__data__,n,o)})}finally{ds=o,fs=a}}else ct(this,function(o){var a=o[i][r];(a.event||(a.event=e.dispatch(\"start\",\"end\",\"interrupt\"))).on(t,n)});return this},ps.transition=function(){for(var t,e,n,r=this.id,i=++vs,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var l,c=0,h=(l=this[s]).length;c<h;c++)(e=l[c])&&ms(e,c,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return hs(a,o,i)},e.svg.axis=function(){var t,n=e.scale.linear(),i=bs,o=6,a=6,s=3,u=[10],l=null;function c(r){r.each(function(){var r,c=e.select(this),h=this.__chart__||n,f=this.__chart__=n.copy(),d=null==l?f.ticks?f.ticks.apply(f,u):f.domain():l,p=null==t?f.tickFormat?f.tickFormat.apply(f,u):R:t,v=c.selectAll(\".tick\").data(d,f),g=v.enter().insert(\"g\",\".domain\").attr(\"class\",\"tick\").style(\"opacity\",Tt),y=e.transition(v.exit()).style(\"opacity\",Tt).remove(),_=e.transition(v.order()).style(\"opacity\",1),m=Math.max(o,0)+s,b=la(f),x=c.selectAll(\".domain\").data([0]),w=(x.enter().append(\"path\").attr(\"class\",\"domain\"),e.transition(x));g.append(\"line\"),g.append(\"text\");var T,E,M,S,O=g.select(\"line\"),C=_.select(\"line\"),A=v.select(\"text\").text(p),P=g.select(\"text\"),I=_.select(\"text\"),D=\"top\"===i||\"left\"===i?-1:1;if(\"bottom\"===i||\"top\"===i?(r=ws,T=\"x\",M=\"y\",E=\"x2\",S=\"y2\",A.attr(\"dy\",D<0?\"0em\":\".71em\").style(\"text-anchor\",\"middle\"),w.attr(\"d\",\"M\"+b[0]+\",\"+D*a+\"V0H\"+b[1]+\"V\"+D*a)):(r=Ts,T=\"y\",M=\"x\",E=\"y2\",S=\"x2\",A.attr(\"dy\",\".32em\").style(\"text-anchor\",D<0?\"end\":\"start\"),w.attr(\"d\",\"M\"+D*a+\",\"+b[0]+\"H0V\"+b[1]+\"H\"+D*a)),O.attr(S,D*o),P.attr(M,D*m),C.attr(E,0).attr(S,D*o),I.attr(T,0).attr(M,D*m),f.rangeBand){var k=f,N=k.rangeBand()/2;h=f=function(t){return k(t)+N}}else h.rangeBand?h=f:y.call(r,f,h);g.call(r,h,f),_.call(r,f,f)})}return c.scale=function(t){return arguments.length?(n=t,c):n},c.orient=function(t){return arguments.length?(i=t in xs?t+\"\":bs,c):i},c.ticks=function(){return arguments.length?(u=r(arguments),c):u},c.tickValues=function(t){return arguments.length?(l=t,c):l},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(o=+t,a=+arguments[e-1],c):o},c.innerTickSize=function(t){return arguments.length?(o=+t,c):o},c.outerTickSize=function(t){return arguments.length?(a=+t,c):a},c.tickPadding=function(t){return arguments.length?(s=+t,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var bs=\"bottom\",xs={top:1,right:1,bottom:1,left:1};function ws(t,e,n){t.attr(\"transform\",function(t){var r=e(t);return\"translate(\"+(isFinite(r)?r:n(t))+\",0)\"})}function Ts(t,e,n){t.attr(\"transform\",function(t){var r=e(t);return\"translate(0,\"+(isFinite(r)?r:n(t))+\")\"})}e.svg.brush=function(){var t,n,r=B(f,\"brushstart\",\"brush\",\"brushend\"),i=null,o=null,s=[0,0],u=[0,0],l=!0,c=!0,h=Ms[0];function f(t){t.each(function(){var t=e.select(this).style(\"pointer-events\",\"all\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\").on(\"mousedown.brush\",g).on(\"touchstart.brush\",g),n=t.selectAll(\".background\").data([0]);n.enter().append(\"rect\").attr(\"class\",\"background\").style(\"visibility\",\"hidden\").style(\"cursor\",\"crosshair\"),t.selectAll(\".extent\").data([0]).enter().append(\"rect\").attr(\"class\",\"extent\").style(\"cursor\",\"move\");var r=t.selectAll(\".resize\").data(h,R);r.exit().remove(),r.enter().append(\"g\").attr(\"class\",function(t){return\"resize \"+t}).style(\"cursor\",function(t){return Es[t]}).append(\"rect\").attr(\"x\",function(t){return/[ew]$/.test(t)?-3:null}).attr(\"y\",function(t){return/^[ns]/.test(t)?-3:null}).attr(\"width\",6).attr(\"height\",6).style(\"visibility\",\"hidden\"),r.style(\"display\",f.empty()?\"none\":null);var a,s=e.transition(t),u=e.transition(n);i&&(a=la(i),u.attr(\"x\",a[0]).attr(\"width\",a[1]-a[0]),p(s)),o&&(a=la(o),u.attr(\"y\",a[0]).attr(\"height\",a[1]-a[0]),v(s)),d(s)})}function d(t){t.selectAll(\".resize\").attr(\"transform\",function(t){return\"translate(\"+s[+/e$/.test(t)]+\",\"+u[+/^s/.test(t)]+\")\"})}function p(t){t.select(\".extent\").attr(\"x\",s[0]),t.selectAll(\".extent,.n>rect,.s>rect\").attr(\"width\",s[1]-s[0])}function v(t){t.select(\".extent\").attr(\"y\",u[0]),t.selectAll(\".extent,.e>rect,.w>rect\").attr(\"height\",u[1]-u[0])}function g(){var h,g,y=this,_=e.select(e.event.target),m=r.of(y,arguments),b=e.select(y),x=_.datum(),w=!/^(n|s)$/.test(x)&&i,T=!/^(e|w)$/.test(x)&&o,E=_.classed(\"extent\"),M=mt(y),S=e.mouse(y),O=e.select(a(y)).on(\"keydown.brush\",function(){32==e.event.keyCode&&(E||(h=null,S[0]-=s[1],S[1]-=u[1],E=2),F())}).on(\"keyup.brush\",function(){32==e.event.keyCode&&2==E&&(S[0]+=s[1],S[1]+=u[1],E=0,F())});if(e.event.changedTouches?O.on(\"touchmove.brush\",P).on(\"touchend.brush\",I):O.on(\"mousemove.brush\",P).on(\"mouseup.brush\",I),b.interrupt().selectAll(\"*\").interrupt(),E)S[0]=s[0]-S[0],S[1]=u[0]-S[1];else if(x){var C=+/w$/.test(x),A=+/^n/.test(x);g=[s[1-C]-S[0],u[1-A]-S[1]],S[0]=s[C],S[1]=u[A]}else e.event.altKey&&(h=S.slice());function P(){var t=e.mouse(y),n=!1;g&&(t[0]+=g[0],t[1]+=g[1]),E||(e.event.altKey?(h||(h=[(s[0]+s[1])/2,(u[0]+u[1])/2]),S[0]=s[+(t[0]<h[0])],S[1]=u[+(t[1]<h[1])]):h=null),w&&R(t,i,0)&&(p(b),n=!0),T&&R(t,o,1)&&(v(b),n=!0),n&&(d(b),m({type:\"brush\",mode:E?\"move\":\"resize\"}))}function R(e,r,i){var o,a,f=la(r),d=f[0],p=f[1],v=S[i],g=i?u:s,y=g[1]-g[0];if(E&&(d-=v,p-=y+v),o=(i?c:l)?Math.max(d,Math.min(p,e[i])):e[i],E?a=(o+=v)+y:(h&&(v=Math.max(d,Math.min(p,2*h[i]-o))),v<o?(a=o,o=v):a=v),g[0]!=o||g[1]!=a)return i?n=null:t=null,g[0]=o,g[1]=a,!0}function I(){P(),b.style(\"pointer-events\",\"all\").selectAll(\".resize\").style(\"display\",f.empty()?\"none\":null),e.select(\"body\").style(\"cursor\",null),O.on(\"mousemove.brush\",null).on(\"mouseup.brush\",null).on(\"touchmove.brush\",null).on(\"touchend.brush\",null).on(\"keydown.brush\",null).on(\"keyup.brush\",null),M(),m({type:\"brushend\"})}b.style(\"pointer-events\",\"none\").selectAll(\".resize\").style(\"display\",null),e.select(\"body\").style(\"cursor\",_.style(\"cursor\")),m({type:\"brushstart\"}),P()}return f.event=function(i){i.each(function(){var i=r.of(this,arguments),o={x:s,y:u,i:t,j:n},a=this.__chart__||o;this.__chart__=o,fs?e.select(this).transition().each(\"start.brush\",function(){t=a.i,n=a.j,s=a.x,u=a.y,i({type:\"brushstart\"})}).tween(\"brush:brush\",function(){var e=qi(s,o.x),r=qi(u,o.y);return t=n=null,function(t){s=o.x=e(t),u=o.y=r(t),i({type:\"brush\",mode:\"resize\"})}}).each(\"end.brush\",function(){t=o.i,n=o.j,i({type:\"brush\",mode:\"resize\"}),i({type:\"brushend\"})}):(i({type:\"brushstart\"}),i({type:\"brush\",mode:\"resize\"}),i({type:\"brushend\"}))})},f.x=function(t){return arguments.length?(h=Ms[!(i=t)<<1|!o],f):i},f.y=function(t){return arguments.length?(h=Ms[!i<<1|!(o=t)],f):o},f.clamp=function(t){return arguments.length?(i&&o?(l=!!t[0],c=!!t[1]):i?l=!!t:o&&(c=!!t),f):i&&o?[l,c]:i?l:o?c:null},f.extent=function(e){var r,a,l,c,h;return arguments.length?(i&&(r=e[0],a=e[1],o&&(r=r[0],a=a[0]),t=[r,a],i.invert&&(r=i(r),a=i(a)),a<r&&(h=r,r=a,a=h),r==s[0]&&a==s[1]||(s=[r,a])),o&&(l=e[0],c=e[1],i&&(l=l[1],c=c[1]),n=[l,c],o.invert&&(l=o(l),c=o(c)),c<l&&(h=l,l=c,c=h),l==u[0]&&c==u[1]||(u=[l,c])),f):(i&&(t?(r=t[0],a=t[1]):(r=s[0],a=s[1],i.invert&&(r=i.invert(r),a=i.invert(a)),a<r&&(h=r,r=a,a=h))),o&&(n?(l=n[0],c=n[1]):(l=u[0],c=u[1],o.invert&&(l=o.invert(l),c=o.invert(c)),c<l&&(h=l,l=c,c=h))),i&&o?[[r,l],[a,c]]:i?[r,a]:o&&[l,c])},f.clear=function(){return f.empty()||(s=[0,0],u=[0,0],t=n=null),f},f.empty=function(){return!!i&&s[0]==s[1]||!!o&&u[0]==u[1]},e.rebind(f,r,\"on\")};var Es={n:\"ns-resize\",e:\"ew-resize\",s:\"ns-resize\",w:\"ew-resize\",nw:\"nwse-resize\",ne:\"nesw-resize\",se:\"nwse-resize\",sw:\"nesw-resize\"},Ms=[[\"n\",\"e\",\"s\",\"w\",\"nw\",\"ne\",\"se\",\"sw\"],[\"e\",\"w\"],[\"n\",\"s\"],[]],Ss=De.format=un.timeFormat,Os=Ss.utc,Cs=Os(\"%Y-%m-%dT%H:%M:%S.%LZ\");function As(t){return t.toISOString()}function Ps(t,n,r){function i(e){return t(e)}function o(t,r){var i=(t[1]-t[0])/r,o=e.bisect(Is,i);return o==Is.length?[n.year,ya(t.map(function(t){return t/31536e6}),r)[2]]:o?n[i/Is[o-1]<Is[o]/i?o-1:o]:[Ns,ya(t,r)[2]]}return i.invert=function(e){return Rs(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Rs)},i.nice=function(t,e){var n=i.domain(),r=ua(n),a=null==t?o(r,10):\"number\"==typeof t&&o(r,t);function s(n){return!isNaN(n)&&!t.range(n,Rs(+n+1),e).length}return a&&(t=a[0],e=a[1]),i.domain(ha(n,e>1?{floor:function(e){for(;s(e=t.floor(e));)e=Rs(e-1);return e},ceil:function(e){for(;s(e=t.ceil(e));)e=Rs(+e+1);return e}}:t))},i.ticks=function(t,e){var n=ua(i.domain()),r=null==t?o(n,10):\"number\"==typeof t?o(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],Rs(+n[1]+1),e<1?1:e)},i.tickFormat=function(){return r},i.copy=function(){return Ps(t.copy(),n,r)},va(i,t)}function Rs(t){return new Date(t)}Ss.iso=Date.prototype.toISOString&&+new Date(\"2000-01-01T00:00:00.000Z\")?As:Cs,As.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},As.toString=Cs.toString,De.second=je(function(t){return new ke(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),De.seconds=De.second.range,De.seconds.utc=De.second.utc.range,De.minute=je(function(t){return new ke(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),De.minutes=De.minute.range,De.minutes.utc=De.minute.utc.range,De.hour=je(function(t){var e=t.getTimezoneOffset()/60;return new ke(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),De.hours=De.hour.range,De.hours.utc=De.hour.utc.range,De.month=je(function(t){return(t=De.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),De.months=De.month.range,De.months.utc=De.month.utc.range;var Is=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ds=[[De.second,1],[De.second,5],[De.second,15],[De.second,30],[De.minute,1],[De.minute,5],[De.minute,15],[De.minute,30],[De.hour,1],[De.hour,3],[De.hour,6],[De.hour,12],[De.day,1],[De.day,2],[De.week,1],[De.month,1],[De.month,3],[De.year,1]],ks=Ss.multi([[\".%L\",function(t){return t.getMilliseconds()}],[\":%S\",function(t){return t.getSeconds()}],[\"%I:%M\",function(t){return t.getMinutes()}],[\"%I %p\",function(t){return t.getHours()}],[\"%a %d\",function(t){return t.getDay()&&1!=t.getDate()}],[\"%b %d\",function(t){return 1!=t.getDate()}],[\"%B\",function(t){return t.getMonth()}],[\"%Y\",Vn]]),Ns={range:function(t,n,r){return e.range(Math.ceil(t/r)*r,+n,r).map(Rs)},floor:R,ceil:R};Ds.year=De.year,De.scale=function(){return Ps(e.scale.linear(),Ds,ks)};var Ls=Ds.map(function(t){return[t[0].utc,t[1]]}),js=Os.multi([[\".%L\",function(t){return t.getUTCMilliseconds()}],[\":%S\",function(t){return t.getUTCSeconds()}],[\"%I:%M\",function(t){return t.getUTCMinutes()}],[\"%I %p\",function(t){return t.getUTCHours()}],[\"%a %d\",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[\"%b %d\",function(t){return 1!=t.getUTCDate()}],[\"%B\",function(t){return t.getUTCMonth()}],[\"%Y\",Vn]]);function Fs(t){return JSON.parse(t.responseText)}function Us(t){var e=i.createRange();return e.selectNode(i.body),e.createContextualFragment(t.responseText)}Ls.year=De.year.utc,De.scale.utc=function(){return Ps(e.scale.linear(),Ls,js)},e.text=ye(function(t){return t.responseText}),e.json=function(t,e){return _e(t,\"application/json\",Fs,e)},e.html=function(t,e){return _e(t,\"text/html\",Us,e)},e.xml=ye(function(t){return t.responseXML}),\"function\"==typeof define&&define.amd?(this.d3=e,define(e)):\"object\"==typeof t&&t.exports?t.exports=e:this.d3=e}()}"
        },
        {
          "id": "wIuP",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\lib\\addStyles.js",
          "name": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js",
          "index": 6,
          "index2": 3,
          "size": 10006,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "issuerId": "aY+d",
          "issuerName": "./style/visual.less",
          "issuerPath": [
            {
              "id": 0,
              "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "multi ./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
              "name": "./src/visual.ts"
            },
            {
              "id": "aY+d",
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
              "name": "./style/visual.less"
            }
          ],
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "assets": [
          ],
          "reasons": [
            {
              "moduleId": "aY+d",
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
              "module": "./style/visual.less",
              "moduleName": "./style/visual.less",
              "type": "cjs require",
              "userRequest": "!../node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js",
              "loc": "16:13-105"
            }
          ],
          "usedExports": true,
          "providedExports": null,
          "optimizationBailout": [
            "ModuleConcatenation bailout: Module is not an ECMAScript module"
          ],
          "depth": 4,
          "source": "/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n",
          "parsedSrc": "function(t,e,n){var r={},i=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),o=function(t){var e={};return function(t){if(\"function\"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),a=null,s=0,u=[],l=n(\"yxdu\");function c(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(g(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(g(i.parts[a],e));r[i.id]={id:i.id,refs:1,parts:s}}}}function h(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(t,e){var n=o(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var r=u[u.length-1];if(\"top\"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var i=o(t.insertInto+\" \"+t.insertAt.before);n.insertBefore(e,i)}}function d(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function p(t){var e=document.createElement(\"style\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),v(e,t.attrs),f(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var u=s++;n=a||(a=p(e)),r=_.bind(null,n,u,!1),i=_.bind(null,n,u,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),t.attrs.rel=\"stylesheet\",v(e,t.attrs),f(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=l(r));i&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+\" */\");var a=new Blob([r],{type:\"text/css\"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){d(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute(\"media\",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){d(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=h(t,e);return c(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}t&&c(h(t,e),e);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete r[s.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join(\"\\n\")}}();function _(t,e,n,r){var i=n?\"\":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}}"
        },
        {
          "id": "xlo+",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
          "name": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "index": 1,
          "index2": 8,
          "size": 10000,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "issuer": null,
          "issuerId": null,
          "issuerName": null,
          "issuerPath": null,
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "assets": [
          ],
          "reasons": [
            {
              "moduleId": 0,
              "moduleIdentifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "module": "multi ./.tmp/precompile/visualPlugin.ts",
              "moduleName": "multi ./.tmp/precompile/visualPlugin.ts",
              "type": "single entry",
              "userRequest": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "loc": "visual.js[0]"
            }
          ],
          "usedExports": true,
          "providedExports": [
            "default"
          ],
          "optimizationBailout": [
            "ModuleConcatenation bailout: Cannot concat with ./node_modules/d3/d3.js (<- Module is not an ECMAScript module)",
            "ModuleConcatenation bailout: Cannot concat with ../dist/bundle.js (<- Module is not an ECMAScript module)"
          ],
          "depth": 1,
          "modules": [
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "./.tmp/precompile/visualPlugin.ts",
              "index": 1,
              "index2": 8,
              "size": 545,
              "cacheable": true,
              "built": true,
              "optional": false,
              "prefetched": false,
              "chunks": [
              ],
              "issuer": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "issuerId": 0,
              "issuerName": "multi ./.tmp/precompile/visualPlugin.ts",
              "issuerPath": [
                {
                  "id": 0,
                  "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
                  "name": "multi ./.tmp/precompile/visualPlugin.ts"
                }
              ],
              "failed": false,
              "errors": 0,
              "warnings": 0,
              "assets": [
              ],
              "reasons": [
                {
                  "moduleId": 0,
                  "moduleIdentifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
                  "module": "multi ./.tmp/precompile/visualPlugin.ts",
                  "moduleName": "multi ./.tmp/precompile/visualPlugin.ts",
                  "type": "single entry",
                  "userRequest": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
                  "loc": "visual.js[0]"
                }
              ],
              "usedExports": true,
              "providedExports": [
                "default"
              ],
              "optimizationBailout": [
                "ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: multi ./.tmp/precompile/visualPlugin.ts (referenced with single entry)"
              ],
              "depth": 1,
              "source": "import { Visual } from \"../../src/visual\";\r\npowerbi.visuals = powerbi.visuals || {};\r\npowerbi.visuals.plugins = powerbi.visuals.plugins || {};\r\npowerbi.visuals.plugins[\"wishyoulizationwalker\"] = {\r\n    name: 'wishyoulizationwalker',\r\n    displayName: 'Walkers',\r\n    class: 'Visual',\r\n    version: '1.0.0',\r\n    apiVersion: '2.1.0',\r\n    create: (options) => {\r\n        if (Visual) {\r\n            return new Visual(options);\r\n        }\r\n        console.error('Visual instance not found');\r\n    },\r\n    custom: true\r\n};\r\nexport default powerbi;\r\n"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
              "name": "./src/visual.ts",
              "index": 2,
              "index2": 7,
              "size": 9440,
              "cacheable": true,
              "built": true,
              "optional": false,
              "prefetched": false,
              "chunks": [
              ],
              "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "issuerId": null,
              "issuerName": "./.tmp/precompile/visualPlugin.ts",
              "issuerPath": [
                {
                  "id": 0,
                  "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
                  "name": "multi ./.tmp/precompile/visualPlugin.ts"
                },
                {
                  "id": null,
                  "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
                  "name": "./.tmp/precompile/visualPlugin.ts"
                }
              ],
              "failed": false,
              "errors": 0,
              "warnings": 0,
              "assets": [
              ],
              "reasons": [
                {
                  "moduleId": null,
                  "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
                  "module": "./.tmp/precompile/visualPlugin.ts",
                  "moduleName": "./.tmp/precompile/visualPlugin.ts",
                  "type": "harmony side effect evaluation",
                  "userRequest": "../../src/visual",
                  "loc": "1:0-42"
                },
                {
                  "moduleId": null,
                  "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
                  "module": "./.tmp/precompile/visualPlugin.ts",
                  "moduleName": "./.tmp/precompile/visualPlugin.ts",
                  "type": "harmony import specifier",
                  "userRequest": "../../src/visual",
                  "loc": "11:12-18"
                },
                {
                  "moduleId": null,
                  "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
                  "module": "./.tmp/precompile/visualPlugin.ts",
                  "moduleName": "./.tmp/precompile/visualPlugin.ts",
                  "type": "harmony import specifier",
                  "userRequest": "../../src/visual",
                  "loc": "12:23-29"
                }
              ],
              "usedExports": [
                "Visual"
              ],
              "providedExports": [
                "Visual"
              ],
              "optimizationBailout": [
              ],
              "depth": 2,
              "source": "/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n/*\r\n *  This file is based on or incorporates material from the projects listed below (Third Party IP).\r\n *  The original copyright notice and the license under which Microsoft received such Third Party IP,\r\n *  are set forth below. Such licenses and notices are provided for informational purposes only.\r\n *  Microsoft licenses the Third Party IP to you under the licensing terms for the Microsoft product.\r\n *  Microsoft reserves all other rights not expressly granted under this agreement, whether by\r\n *  implication, estoppel or otherwise.\r\n *\r\n *  d3 Force Layout\r\n *  Copyright (c) 2010-2015, Michael Bostock\r\n *  All rights reserved.\r\n *\r\n *  Redistribution and use in source and binary forms, with or without\r\n *  modification, are permitted provided that the following conditions are met:\r\n *\r\n *  * Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer.\r\n *\r\n *  * Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n *  * The name Michael Bostock may not be used to endorse or promote products\r\n *    derived from this software without specific prior written permission.\r\n *\r\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n *  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n *  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n *  DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,\r\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\r\n *  BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n *  DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\r\n *  OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\r\n *  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\nimport \"./../style/visual.less\";\r\nimport * as d3 from \"d3\";\r\nimport constructPage from \"../../dist/bundle.js\";\r\nexport class Visual {\r\n    constructor(options) {\r\n        this.config = {};\r\n        this.host = options.host;\r\n        this.selectionManager = options.host.createSelectionManager();\r\n        this.selectionGroups = [];\r\n        this.selectionManager.registerOnSelectCallback(() => {\r\n            this.syncSelectionState(this.selectionGroups, this.selectionManager.getSelectionIds());\r\n        });\r\n        this.colorPalette = options.host.colorPalette;\r\n        this.init(options);\r\n    }\r\n    init(options) {\r\n        let appContainer = d3.select(options.element).append(\"div\").attr(\"id\", \"appContainer\");\r\n        appContainer.style(\"width\", \"100%\")\r\n            .style(\"height\", \"100%\")\r\n            .style(\"overflow\", \"auto\");\r\n        appContainer.append(\"div\").attr(\"id\", \"app\");\r\n    }\r\n    syncSelectionState(selection, selectionIds) {\r\n        /*\r\n         Selection = [\r\n             {\r\n                 selectionId:id,\r\n                 show:func,\r\n                 hide:func\r\n             }\r\n         ]\r\n        */\r\n        if (!selection || !selectionIds) {\r\n            return;\r\n        }\r\n        if (!selectionIds.length) {\r\n            for (let i = 0; i < selection.length; i++) {\r\n                selection[i].show();\r\n            }\r\n            return;\r\n        }\r\n        const self = this;\r\n        for (let i = 0; i < selection.length; i++) {\r\n            const isSelected = self.isSelectionIdInArray(selectionIds, selection[i].selectionId);\r\n            if (isSelected) {\r\n                selection[i].show();\r\n            }\r\n            else {\r\n                selection[i].hide();\r\n            }\r\n        }\r\n    }\r\n    isSelectionIdInArray(selectionIds, selectionId) {\r\n        if (!selectionIds || !selectionId) {\r\n            return false;\r\n        }\r\n        return selectionIds.some((currentSelectionId) => {\r\n            return currentSelectionId.includes(selectionId);\r\n        });\r\n    }\r\n    static getSelectionIds(dataView, host) {\r\n        return dataView.table.identity.map((identity) => {\r\n            const categoryColumn = {\r\n                source: dataView.table.columns[0],\r\n                values: null,\r\n                identity: [identity]\r\n            };\r\n            return host.createSelectionIdBuilder()\r\n                .withCategory(categoryColumn, 0)\r\n                .createSelectionId();\r\n        });\r\n    }\r\n    getObjectFromDataView(dv) {\r\n        let selectionIds = Visual.getSelectionIds(dv, this.host);\r\n        let that = this;\r\n        let all = [];\r\n        for (let c = 0; c < dv.table.columns.length; c++) {\r\n            let currC = dv.table.columns[c];\r\n            let field = d3.keys(currC.roles)[0];\r\n            currC.displayName = field;\r\n        }\r\n        for (let r = 0; r < dv.table.rows.length; r++) {\r\n            let currR = dv.table.rows[r];\r\n            let item = {};\r\n            item[\"selectionId\"] = selectionIds[r];\r\n            for (let c = 0; c < dv.table.columns.length; c++) {\r\n                let currC = dv.table.columns[c];\r\n                item[currC.displayName] = currR[c];\r\n            }\r\n            all.push(item);\r\n        }\r\n        console.log(all);\r\n        return {\r\n            data: all\r\n        };\r\n    }\r\n    getConfig() {\r\n        let configString = \"{}\";\r\n        if (this.dv && this.dv.metadata.objects && this.dv.metadata.objects.chartSettings && this.dv.metadata.objects.chartSettings.config) {\r\n            configString = this.dv.metadata.objects.chartSettings.config;\r\n        }\r\n        console.log(\"saved cofig is: \", JSON.parse(configString));\r\n        return JSON.parse(configString);\r\n    }\r\n    setConfig(config) {\r\n        let configString = JSON.stringify(config) || \"\";\r\n        console.log(\"config to save is: \", configString);\r\n        let objects = {\r\n            merge: [\r\n                {\r\n                    objectName: \"chartSettings\",\r\n                    selector: null,\r\n                    properties: { \"config\": configString },\r\n                }\r\n            ]\r\n        };\r\n        this.host.persistProperties(objects);\r\n    }\r\n    manageMySelections(customSelectionObjsArray) {\r\n        this.selectionGroups = customSelectionObjsArray;\r\n    }\r\n    customClickHandler(event, selectionElm) {\r\n        if (this.host.allowInteractions) {\r\n            const isCtrlPressed = event.data.originalEvent.ctrlKey || false;\r\n            if (selectionElm) {\r\n                this.selectionManager\r\n                    .select(selectionElm.selectionId, isCtrlPressed)\r\n                    .then((ids) => {\r\n                    this.syncSelectionState(this.selectionGroups, ids);\r\n                });\r\n            }\r\n            else {\r\n                this.selectionManager\r\n                    .clear()\r\n                    .then(() => {\r\n                    this.syncSelectionState(this.selectionGroups, []);\r\n                });\r\n            }\r\n            event.data.originalEvent.stopPropagation();\r\n        }\r\n    }\r\n    update(options) {\r\n        if (!options\r\n            || !options.dataViews\r\n            || !options.dataViews[0]) {\r\n            return;\r\n        }\r\n        this.dv = options.dataViews[0];\r\n        let results = this.getObjectFromDataView(options.dataViews[0]);\r\n        // console.log(options, results);\r\n        window.constructPage(results.data, {\r\n            get: this.getConfig.bind(this),\r\n            set: this.setConfig.bind(this),\r\n            edit: options.editMode ? true : false,\r\n            manageMySelections: this.manageMySelections.bind(this),\r\n            customClickHandler: this.customClickHandler.bind(this),\r\n        });\r\n        let needToLoad = constructPage;\r\n    }\r\n    enumerateObjectInstances(options) {\r\n        let objectName = options.objectName;\r\n        let objectEnumeration = [];\r\n        switch (objectName) {\r\n            case \"chartSettings\":\r\n                // ignore\r\n                break;\r\n        }\r\n        return objectEnumeration;\r\n    }\r\n    destroy() {\r\n    }\r\n}\r\n"
            }
          ],
          "filteredModules": 0,
          "parsedSrc": "function(t,e,n){\"use strict\";n.r(e);n(\"aY+d\");var r=n(\"bljh\"),i=n(\"7X+3\"),o=n.n(i);class a{constructor(t){this.config={},this.host=t.host,this.selectionManager=t.host.createSelectionManager(),this.selectionGroups=[],this.selectionManager.registerOnSelectCallback(()=>{this.syncSelectionState(this.selectionGroups,this.selectionManager.getSelectionIds())}),this.colorPalette=t.host.colorPalette,this.init(t)}init(t){let e=r.select(t.element).append(\"div\").attr(\"id\",\"appContainer\");e.style(\"width\",\"100%\").style(\"height\",\"100%\").style(\"overflow\",\"auto\"),e.append(\"div\").attr(\"id\",\"app\")}syncSelectionState(t,e){if(!t||!e)return;if(!e.length){for(let e=0;e<t.length;e++)t[e].show();return}const n=this;for(let r=0;r<t.length;r++){n.isSelectionIdInArray(e,t[r].selectionId)?t[r].show():t[r].hide()}}isSelectionIdInArray(t,e){return!(!t||!e)&&t.some(t=>t.includes(e))}static getSelectionIds(t,e){return t.table.identity.map(n=>{const r={source:t.table.columns[0],values:null,identity:[n]};return e.createSelectionIdBuilder().withCategory(r,0).createSelectionId()})}getObjectFromDataView(t){let e=a.getSelectionIds(t,this.host),n=[];for(let e=0;e<t.table.columns.length;e++){let n=t.table.columns[e],i=r.keys(n.roles)[0];n.displayName=i}for(let r=0;r<t.table.rows.length;r++){let i=t.table.rows[r],o={};o.selectionId=e[r];for(let e=0;e<t.table.columns.length;e++){o[t.table.columns[e].displayName]=i[e]}n.push(o)}return console.log(n),{data:n}}getConfig(){let t=\"{}\";return this.dv&&this.dv.metadata.objects&&this.dv.metadata.objects.chartSettings&&this.dv.metadata.objects.chartSettings.config&&(t=this.dv.metadata.objects.chartSettings.config),console.log(\"saved cofig is: \",JSON.parse(t)),JSON.parse(t)}setConfig(t){let e=JSON.stringify(t)||\"\";console.log(\"config to save is: \",e);let n={merge:[{objectName:\"chartSettings\",selector:null,properties:{config:e}}]};this.host.persistProperties(n)}manageMySelections(t){this.selectionGroups=t}customClickHandler(t,e){if(this.host.allowInteractions){const n=t.data.originalEvent.ctrlKey||!1;e?this.selectionManager.select(e.selectionId,n).then(t=>{this.syncSelectionState(this.selectionGroups,t)}):this.selectionManager.clear().then(()=>{this.syncSelectionState(this.selectionGroups,[])}),t.data.originalEvent.stopPropagation()}}update(t){if(!t||!t.dataViews||!t.dataViews[0])return;this.dv=t.dataViews[0];let e=this.getObjectFromDataView(t.dataViews[0]);window.constructPage(e.data,{get:this.getConfig.bind(this),set:this.setConfig.bind(this),edit:!!t.editMode,manageMySelections:this.manageMySelections.bind(this),customClickHandler:this.customClickHandler.bind(this)});o.a}enumerateObjectInstances(t){t.objectName;return[]}destroy(){}}powerbi.visuals=powerbi.visuals||{},powerbi.visuals.plugins=powerbi.visuals.plugins||{},powerbi.visuals.plugins.wishyoulizationwalker={name:\"wishyoulizationwalker\",displayName:\"Walkers\",class:\"Visual\",version:\"1.0.0\",apiVersion:\"2.1.0\",create:t=>{if(a)return new a(t);console.error(\"Visual instance not found\")},custom:!0};e.default=powerbi}"
        },
        {
          "id": "yxdu",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\lib\\urls.js",
          "name": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/urls.js",
          "index": 7,
          "index2": 2,
          "size": 3013,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\lib\\addStyles.js",
          "issuerId": "wIuP",
          "issuerName": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js",
          "issuerPath": [
            {
              "id": 0,
              "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "multi ./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
              "name": "./src/visual.ts"
            },
            {
              "id": "aY+d",
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
              "name": "./style/visual.less"
            },
            {
              "id": "wIuP",
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\lib\\addStyles.js",
              "name": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js"
            }
          ],
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "assets": [
          ],
          "reasons": [
            {
              "moduleId": "wIuP",
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\lib\\addStyles.js",
              "module": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js",
              "moduleName": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js",
              "type": "cjs require",
              "userRequest": "./urls",
              "loc": "64:14-31"
            }
          ],
          "usedExports": true,
          "providedExports": null,
          "optimizationBailout": [
            "ModuleConcatenation bailout: Module is not an ECMAScript module"
          ],
          "depth": 5,
          "source": "\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n",
          "parsedSrc": "function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,r=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var i,o=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(o)?t:(i=0===o.indexOf(\"//\")?o:0===o.indexOf(\"/\")?n+o:r+o.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(i)+\")\")})}}"
        },
        {
          "id": 0,
          "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "multi ./.tmp/precompile/visualPlugin.ts",
          "index": 0,
          "index2": 9,
          "size": 28,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
            0
          ],
          "issuer": null,
          "issuerId": null,
          "issuerName": null,
          "issuerPath": null,
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "assets": [
          ],
          "reasons": [
            {
              "moduleId": null,
              "moduleIdentifier": null,
              "module": null,
              "moduleName": null,
              "type": "multi entry"
            }
          ],
          "usedExports": true,
          "providedExports": null,
          "optimizationBailout": [
            "ModuleConcatenation bailout: Module is not an ECMAScript module"
          ],
          "depth": 0,
          "parsedSrc": "function(t,e,n){t.exports=n(\"xlo+\")}"
        }
      ],
      "filteredModules": 0,
      "origins": [
        {
          "module": "",
          "moduleIdentifier": "",
          "moduleName": "",
          "loc": "visual.js",
          "request": null,
          "reasons": [
          ]
        }
      ]
    }
  ],
  "modules": [
    {
      "id": "7X+3",
      "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\dist\\bundle.js",
      "name": "../dist/bundle.js",
      "index": 9,
      "index2": 6,
      "size": 678635,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
      "issuerId": null,
      "issuerName": "./src/visual.ts",
      "issuerPath": [
        {
          "id": 0,
          "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "multi ./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
          "name": "./src/visual.ts"
        }
      ],
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "assets": [
      ],
      "reasons": [
        {
          "moduleId": "xlo+",
          "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
          "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "type": "harmony side effect evaluation",
          "userRequest": "../../dist/bundle.js",
          "loc": "64:0-49"
        },
        {
          "moduleId": "xlo+",
          "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
          "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "type": "harmony import specifier",
          "userRequest": "../../dist/bundle.js",
          "loc": "219:25-38"
        }
      ],
      "usedExports": [
        "default"
      ],
      "providedExports": null,
      "optimizationBailout": [
        "ModuleConcatenation bailout: Module is not an ECMAScript module"
      ],
      "depth": 3,
      "source": "!function(t){var e=window.webpackHotUpdate;window.webpackHotUpdate=function(t,n){!function(t,e){if(!x[t]||!m[t])return;for(var n in m[t]=!1,e)Object.prototype.hasOwnProperty.call(e,n)&&(v[n]=e[n]);0==--y&&0===g&&S()}(t,n),e&&e(t,n)};var n,r=!0,i=\"6ea7670d5e0e8ce86f66\",o=1e4,a={},s=[],u=[];function l(t){var e=O[t];if(!e)return C;var r=function(r){return e.hot.active?(O[r]?-1===O[r].parents.indexOf(t)&&O[r].parents.push(t):(s=[t],n=r),-1===e.children.indexOf(r)&&e.children.push(r)):(console.warn(\"[HMR] unexpected require(\"+r+\") from disposed module \"+t),s=[]),C(r)},i=function(t){return{configurable:!0,enumerable:!0,get:function(){return C[t]},set:function(e){C[t]=e}}};for(var o in C)Object.prototype.hasOwnProperty.call(C,o)&&\"e\"!==o&&\"t\"!==o&&Object.defineProperty(r,o,i(o));return r.e=function(t){return\"ready\"===f&&d(\"prepare\"),g++,C.e(t).then(e,function(t){throw e(),t});function e(){g--,\"prepare\"===f&&(b[t]||E(t),0===g&&0===y&&S())}},r.t=function(t,e){return 1&e&&(t=r(t)),C.t(t,-2&e)},r}function h(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(t,n){if(void 0===t)e._selfAccepted=!0;else if(\"function\"==typeof t)e._selfAccepted=t;else if(\"object\"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n||function(){};else e._acceptedDependencies[t]=n||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if(\"object\"==typeof t)for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:T,apply:M,status:function(t){if(!t)return f;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var e=c.indexOf(t);e>=0&&c.splice(e,1)},data:a[t]};return n=void 0,e}var c=[],f=\"idle\";function d(t){f=t;for(var e=0;e<c.length;e++)c[e].call(null,t)}var p,v,_,y=0,g=0,b={},m={},x={};function w(t){return+t+\"\"===t?+t:t}function T(t){if(\"idle\"!==f)throw new Error(\"check() is only allowed in idle status\");return r=t,d(\"check\"),(e=o,e=e||1e4,new Promise(function(t,n){if(\"undefined\"==typeof XMLHttpRequest)return n(new Error(\"No browser support\"));try{var r=new XMLHttpRequest,o=C.p+\"\"+i+\".hot-update.json\";r.open(\"GET\",o,!0),r.timeout=e,r.send(null)}catch(t){return n(t)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error(\"Manifest request to \"+o+\" timed out.\"));else if(404===r.status)t();else if(200!==r.status&&304!==r.status)n(new Error(\"Manifest request to \"+o+\" failed.\"));else{try{var e=JSON.parse(r.responseText)}catch(t){return void n(t)}t(e)}}})).then(function(t){if(!t)return d(\"idle\"),null;m={},b={},x=t.c,_=t.h,d(\"prepare\");var e=new Promise(function(t,e){p={resolve:t,reject:e}});v={};return E(0),\"prepare\"===f&&0===g&&0===y&&S(),e});var e}function E(t){x[t]?(m[t]=!0,y++,function(t){var e=document.createElement(\"script\");e.charset=\"utf-8\",e.src=C.p+\"\"+t+\".\"+i+\".hot-update.js\",document.head.appendChild(e)}(t)):b[t]=!0}function S(){d(\"ready\");var t=p;if(p=null,t)if(r)Promise.resolve().then(function(){return M(r)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&e.push(w(n));t.resolve(e)}}function M(e){if(\"ready\"!==f)throw new Error(\"apply() is only allowed in ready status\");var n,r,o,u,l;function h(t){for(var e=[t],n={},r=e.slice().map(function(t){return{chain:[t],id:t}});r.length>0;){var i=r.pop(),o=i.id,a=i.chain;if((u=O[o])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:\"self-declined\",chain:a,moduleId:o};if(u.hot._main)return{type:\"unaccepted\",chain:a,moduleId:o};for(var s=0;s<u.parents.length;s++){var l=u.parents[s],h=O[l];if(h){if(h.hot._declinedDependencies[o])return{type:\"declined\",chain:a.concat([l]),moduleId:o,parentId:l};-1===e.indexOf(l)&&(h.hot._acceptedDependencies[o]?(n[l]||(n[l]=[]),c(n[l],[o])):(delete n[l],e.push(l),r.push({chain:a.concat([l]),id:l})))}}}}return{type:\"accepted\",moduleId:t,outdatedModules:e,outdatedDependencies:n}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];-1===t.indexOf(r)&&t.push(r)}}e=e||{};var p={},y=[],g={},b=function(){console.warn(\"[HMR] unexpected require(\"+T.moduleId+\") to disposed module\")};for(var m in v)if(Object.prototype.hasOwnProperty.call(v,m)){var T;l=w(m);var E=!1,S=!1,M=!1,A=\"\";switch((T=v[m]?h(l):{type:\"disposed\",moduleId:m}).chain&&(A=\"\\nUpdate propagation: \"+T.chain.join(\" -> \")),T.type){case\"self-declined\":e.onDeclined&&e.onDeclined(T),e.ignoreDeclined||(E=new Error(\"Aborted because of self decline: \"+T.moduleId+A));break;case\"declined\":e.onDeclined&&e.onDeclined(T),e.ignoreDeclined||(E=new Error(\"Aborted because of declined dependency: \"+T.moduleId+\" in \"+T.parentId+A));break;case\"unaccepted\":e.onUnaccepted&&e.onUnaccepted(T),e.ignoreUnaccepted||(E=new Error(\"Aborted because \"+l+\" is not accepted\"+A));break;case\"accepted\":e.onAccepted&&e.onAccepted(T),S=!0;break;case\"disposed\":e.onDisposed&&e.onDisposed(T),M=!0;break;default:throw new Error(\"Unexception type \"+T.type)}if(E)return d(\"abort\"),Promise.reject(E);if(S)for(l in g[l]=v[l],c(y,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,l)&&(p[l]||(p[l]=[]),c(p[l],T.outdatedDependencies[l]));M&&(c(y,[T.moduleId]),g[l]=b)}var P,R=[];for(r=0;r<y.length;r++)l=y[r],O[l]&&O[l].hot._selfAccepted&&R.push({module:l,errorHandler:O[l].hot._selfAccepted});d(\"dispose\"),Object.keys(x).forEach(function(t){!1===x[t]&&function(t){delete installedChunks[t]}(t)});for(var I,D,k=y.slice();k.length>0;)if(l=k.pop(),u=O[l]){var L={},N=u.hot._disposeHandlers;for(o=0;o<N.length;o++)(n=N[o])(L);for(a[l]=L,u.hot.active=!1,delete O[l],delete p[l],o=0;o<u.children.length;o++){var F=O[u.children[o]];F&&((P=F.parents.indexOf(l))>=0&&F.parents.splice(P,1))}}for(l in p)if(Object.prototype.hasOwnProperty.call(p,l)&&(u=O[l]))for(D=p[l],o=0;o<D.length;o++)I=D[o],(P=u.children.indexOf(I))>=0&&u.children.splice(P,1);for(l in d(\"apply\"),i=_,g)Object.prototype.hasOwnProperty.call(g,l)&&(t[l]=g[l]);var j=null;for(l in p)if(Object.prototype.hasOwnProperty.call(p,l)&&(u=O[l])){D=p[l];var B=[];for(r=0;r<D.length;r++)if(I=D[r],n=u.hot._acceptedDependencies[I]){if(-1!==B.indexOf(n))continue;B.push(n)}for(r=0;r<B.length;r++){n=B[r];try{n(D)}catch(t){e.onErrored&&e.onErrored({type:\"accept-errored\",moduleId:l,dependencyId:D[r],error:t}),e.ignoreErrored||j||(j=t)}}}for(r=0;r<R.length;r++){var U=R[r];l=U.module,s=[l];try{C(l)}catch(t){if(\"function\"==typeof U.errorHandler)try{U.errorHandler(t)}catch(n){e.onErrored&&e.onErrored({type:\"self-accept-error-handler-errored\",moduleId:l,error:n,originalError:t}),e.ignoreErrored||j||(j=n),j||(j=t)}else e.onErrored&&e.onErrored({type:\"self-accept-errored\",moduleId:l,error:t}),e.ignoreErrored||j||(j=t)}}return j?(d(\"fail\"),Promise.reject(j)):(d(\"idle\"),new Promise(function(t){t(y)}))}var O={};function C(e){if(O[e])return O[e].exports;var n=O[e]={i:e,l:!1,exports:{},hot:h(e),parents:(u=s,s=[],u),children:[]};return t[e].call(n.exports,n,n.exports,l(e)),n.l=!0,n.exports}C.m=t,C.c=O,C.d=function(t,e,n){C.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},C.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},C.t=function(t,e){if(1&e&&(t=C(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(C.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)C.d(n,r,function(e){return t[e]}.bind(null,r));return n},C.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return C.d(e,\"a\",e),e},C.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},C.p=\"/\",C.h=function(){return i},l(199)(C.s=199)}([function(t,e,n){\"use strict\";e.__esModule=!0;e.VERSION=\"4.8.6\",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\\.(\\w{3,4})(?:$|\\?|#)/i,e.DATA_URI=/^\\s*data:(?:([\\w-]+)\\/([\\w+.-]+))?(?:;charset=([\\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\\s(width|height)=('|\")(\\d*(?:\\.\\d+)?)(?:px)?('|\"))[^>]*(?:\\s(width|height)=('|\")(\\d*(?:\\.\\d+)?)(?:px)?('|\"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:\"lowp\",MEDIUM:\"mediump\",HIGH:\"highp\"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,n){\"use strict\";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var r=n(0);Object.keys(r).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(4);Object.keys(i).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=n(5);Object.defineProperty(e,\"glCore\",{enumerable:!0,get:function(){return z(o).default}});var a=n(27);Object.defineProperty(e,\"Bounds\",{enumerable:!0,get:function(){return z(a).default}});var s=n(50);Object.defineProperty(e,\"DisplayObject\",{enumerable:!0,get:function(){return z(s).default}});var u=n(11);Object.defineProperty(e,\"Container\",{enumerable:!0,get:function(){return z(u).default}});var l=n(52);Object.defineProperty(e,\"Transform\",{enumerable:!0,get:function(){return z(l).default}});var h=n(51);Object.defineProperty(e,\"TransformStatic\",{enumerable:!0,get:function(){return z(h).default}});var c=n(29);Object.defineProperty(e,\"TransformBase\",{enumerable:!0,get:function(){return z(c).default}});var f=n(31);Object.defineProperty(e,\"Sprite\",{enumerable:!0,get:function(){return z(f).default}});var d=n(121);Object.defineProperty(e,\"CanvasSpriteRenderer\",{enumerable:!0,get:function(){return z(d).default}});var p=n(17);Object.defineProperty(e,\"CanvasTinter\",{enumerable:!0,get:function(){return z(p).default}});var v=n(124);Object.defineProperty(e,\"SpriteRenderer\",{enumerable:!0,get:function(){return z(v).default}});var _=n(139);Object.defineProperty(e,\"Text\",{enumerable:!0,get:function(){return z(_).default}});var y=n(66);Object.defineProperty(e,\"TextStyle\",{enumerable:!0,get:function(){return z(y).default}});var g=n(67);Object.defineProperty(e,\"TextMetrics\",{enumerable:!0,get:function(){return z(g).default}});var b=n(141);Object.defineProperty(e,\"Graphics\",{enumerable:!0,get:function(){return z(b).default}});var m=n(68);Object.defineProperty(e,\"GraphicsData\",{enumerable:!0,get:function(){return z(m).default}});var x=n(143);Object.defineProperty(e,\"GraphicsRenderer\",{enumerable:!0,get:function(){return z(x).default}});var w=n(150);Object.defineProperty(e,\"CanvasGraphicsRenderer\",{enumerable:!0,get:function(){return z(w).default}});var T=n(151);Object.defineProperty(e,\"Spritesheet\",{enumerable:!0,get:function(){return z(T).default}});var E=n(8);Object.defineProperty(e,\"Texture\",{enumerable:!0,get:function(){return z(E).default}});var S=n(64);Object.defineProperty(e,\"TextureMatrix\",{enumerable:!0,get:function(){return z(S).default}});var M=n(10);Object.defineProperty(e,\"BaseTexture\",{enumerable:!0,get:function(){return z(M).default}});var O=n(34);Object.defineProperty(e,\"RenderTexture\",{enumerable:!0,get:function(){return z(O).default}});var C=n(58);Object.defineProperty(e,\"BaseRenderTexture\",{enumerable:!0,get:function(){return z(C).default}});var A=n(55);Object.defineProperty(e,\"VideoBaseTexture\",{enumerable:!0,get:function(){return z(A).default}});var P=n(56);Object.defineProperty(e,\"TextureUvs\",{enumerable:!0,get:function(){return z(P).default}});var R=n(59);Object.defineProperty(e,\"CanvasRenderTarget\",{enumerable:!0,get:function(){return z(R).default}});var I=n(14);Object.defineProperty(e,\"Shader\",{enumerable:!0,get:function(){return z(I).default}});var D=n(13);Object.defineProperty(e,\"WebGLManager\",{enumerable:!0,get:function(){return z(D).default}});var k=n(18);Object.defineProperty(e,\"ObjectRenderer\",{enumerable:!0,get:function(){return z(k).default}});var L=n(20);Object.defineProperty(e,\"RenderTarget\",{enumerable:!0,get:function(){return z(L).default}});var N=n(65);Object.defineProperty(e,\"Quad\",{enumerable:!0,get:function(){return z(N).default}});var F=n(61);Object.defineProperty(e,\"SpriteMaskFilter\",{enumerable:!0,get:function(){return z(F).default}});var j=n(62);Object.defineProperty(e,\"Filter\",{enumerable:!0,get:function(){return z(j).default}});var B=n(69);Object.defineProperty(e,\"Application\",{enumerable:!0,get:function(){return z(B).default}});var U=n(70);Object.defineProperty(e,\"autoDetectRenderer\",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var X=V(n(2)),H=V(n(33)),G=z(n(3)),W=z(n(12)),Y=z(n(19));function V(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function z(t){return t&&t.__esModule?t:{default:t}}e.settings=G.default,e.utils=X,e.ticker=H,e.CanvasRenderer=W.default,e.WebGLRenderer=Y.default},function(t,e,n){\"use strict\";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++p},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),\"#\"+(t=\"000000\".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var n=i.default.RETINA_PREFIX.exec(t);if(n)return parseFloat(n[1]);return void 0!==e?e:1},e.decomposeDataUri=function(t){var e=r.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]};return},e.getUrlFileExtension=function(t){var e=r.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase();return},e.getSvgSize=function(t){var e=r.SVG_SIZE.exec(t),n={};e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7])));return n},e.skipHello=function(){v=!0},e.sayHello=function(t){if(v)return;if(navigator.userAgent.toLowerCase().indexOf(\"chrome\")>-1){var e=[\"\\n %c %c %c PixiJS \"+r.VERSION+\" - ✰ \"+t+\" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \\n\\n\",\"background: #ff66a5; padding:5px 0;\",\"background: #ff66a5; padding:5px 0;\",\"color: #ff66a5; background: #030307; padding:5px 0;\",\"background: #ff66a5; padding:5px 0;\",\"background: #ffc3dc; padding:5px 0;\",\"background: #ff66a5; padding:5px 0;\",\"color: #ff2424; background: #fff; padding:5px 0;\",\"color: #ff2424; background: #fff; padding:5px 0;\",\"color: #ff2424; background: #fff; padding:5px 0;\"];window.console.log.apply(console,e)}else window.console&&window.console.log(\"PixiJS \"+r.VERSION+\" - \"+t+\" - http://www.pixijs.com/\");v=!0},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement(\"canvas\"),n=e.getContext(\"webgl\",t)||e.getContext(\"experimental-webgl\",t),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension(\"WEBGL_lose_context\");i&&i.loseContext()}return n=null,r}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in _)_[t].destroy();for(t in y)y[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in _)delete _[t];for(t in y)delete y[t]},e.correctBlendMode=function(t,e){return g[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,r=t>>8&255,i=255&t;return(255*e<<24)+((n=n*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(i=i*e+.5|0)},e.premultiplyRgba=function(t,e,n,r){n=n||new Float32Array(4),r||void 0===r?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]);return n[3]=e,n},e.premultiplyTintToRgba=function(t,e,n,r){(n=n||new Float32Array(4))[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(r||void 0===r)&&(n[0]*=e,n[1]*=e,n[2]*=e);return n[3]=e,n};var r=n(0),i=d(n(3)),o=d(n(9)),a=d(n(109)),s=f(n(110)),u=f(n(28)),l=d(n(111)),h=d(n(112)),c=d(n(30));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=!1;e.isMobile=u,e.removeItems=l.default,e.EventEmitter=o.default,e.pluginTarget=a.default,e.mixins=s,e.earcut=c.default;var _=e.TextureCache=Object.create(null),y=e.BaseTextureCache=Object.create(null);var g=e.premultiplyBlendMode=(0,h.default)()},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(107)),i=o(n(108));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,r.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:\"highp\",PRECISION_FRAGMENT:\"mediump\",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(23);Object.defineProperty(e,\"Point\",{enumerable:!0,get:function(){return f(r).default}});var i=n(39);Object.defineProperty(e,\"ObservablePoint\",{enumerable:!0,get:function(){return f(i).default}});var o=n(24);Object.defineProperty(e,\"Matrix\",{enumerable:!0,get:function(){return f(o).default}});var a=n(40);Object.defineProperty(e,\"GroupD8\",{enumerable:!0,get:function(){return f(a).default}});var s=n(97);Object.defineProperty(e,\"Circle\",{enumerable:!0,get:function(){return f(s).default}});var u=n(98);Object.defineProperty(e,\"Ellipse\",{enumerable:!0,get:function(){return f(u).default}});var l=n(99);Object.defineProperty(e,\"Polygon\",{enumerable:!0,get:function(){return f(l).default}});var h=n(25);Object.defineProperty(e,\"Rectangle\",{enumerable:!0,get:function(){return f(h).default}});var c=n(100);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"RoundedRectangle\",{enumerable:!0,get:function(){return f(c).default}})},function(t,e,n){var r={createContext:n(101),setVertexAttribArrays:n(41),GLBuffer:n(102),GLFramebuffer:n(103),GLShader:n(104),GLTexture:n(42),VertexArrayObject:n(105),shader:n(106)};t.exports&&(t.exports=r),\"undefined\"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},function(t,e,n){\"use strict\";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var r=n(91);Object.keys(r).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(1);Object.keys(i).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o,a=n(152),s=(o=a)&&o.__esModule?o:{default:o},u=y(n(153)),l=y(n(155)),h=y(n(72)),c=y(n(165)),f=y(n(172)),d=y(n(174)),p=y(n(178)),v=y(n(183)),_=y(n(188));function y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}i.utils.mixins.performMixins();var g=d.shared||null;e.accessibility=u,e.extract=l,e.extras=h,e.filters=c,e.interaction=f,e.loaders=d,e.mesh=p,e.particles=v,e.prepare=_,e.loader=g,\"function\"==typeof s.default&&(0,s.default)(e),t.PIXI=e}).call(this,n(22))},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];\".\"===i?t.splice(r,1):\"..\"===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift(\"..\");return t}var r=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/,i=function(t){return r.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e=\"\",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:t.cwd();if(\"string\"!=typeof a)throw new TypeError(\"Arguments to path.resolve must be strings\");a&&(e=a+\"/\"+e,r=\"/\"===a.charAt(0))}return(r?\"/\":\"\")+(e=n(o(e.split(\"/\"),function(t){return!!t}),!r).join(\"/\"))||\".\"},e.normalize=function(t){var r=e.isAbsolute(t),i=\"/\"===a(t,-1);return(t=n(o(t.split(\"/\"),function(t){return!!t}),!r).join(\"/\"))||r||(t=\".\"),t&&i&&(t+=\"/\"),(r?\"/\":\"\")+t},e.isAbsolute=function(t){return\"/\"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"Arguments to path.join must be strings\");return t}).join(\"/\"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&\"\"===t[e];e++);for(var n=t.length-1;n>=0&&\"\"===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split(\"/\")),o=r(n.split(\"/\")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push(\"..\");return(l=l.concat(o.slice(s))).join(\"/\")},e.sep=\"/\",e.delimiter=\":\",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):\".\"},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var a=\"b\"===\"ab\".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(63))},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(10)),o=c(n(55)),a=c(n(56)),s=c(n(9)),u=n(4),l=n(2),h=c(n(3));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(n,r,i,o,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));if(l.noFrame=!1,r||(l.noFrame=!0,r=new u.Rectangle(0,0,1,1)),n instanceof e&&(n=n.baseTexture),l.baseTexture=n,l._frame=r,l.trim=o,l.valid=!1,l.requiresUpdate=!1,l._uvs=null,l.orig=i||r,l._rotate=Number(a||0),!0===a)l._rotate=2;else if(l._rotate%2!=0)throw new Error(\"attempt to use diamond-shaped UVs. If you are sure, set rotation manually\");return n.hasLoaded?(l.noFrame&&(r=new u.Rectangle(0,0,n.width,n.height),n.on(\"update\",l.onBaseTextureUpdated,l)),l.frame=r):n.once(\"loaded\",l.onBaseTextureLoaded,l),l.defaultAnchor=s?new u.Point(s.x,s.y):new u.Point(0,0),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on(\"update\",this.onBaseTextureUpdated,this),this.emit(\"update\",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit(\"update\",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(l.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off(\"update\",this.onBaseTextureUpdated,this),this.baseTexture.off(\"loaded\",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new a.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,n,r,o){var a=l.TextureCache[t];return a||(a=new e(i.default.fromImage(t,n,r,o)),e.addToCache(a,t)),a},e.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId \"'+t+'\" does not exist in the texture cache');return e},e.fromCanvas=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"canvas\";return new e(i.default.fromCanvas(t,n,r))},e.fromVideo=function(t,n,r,i){return\"string\"==typeof t?e.fromVideoUrl(t,n,r,i):new e(o.default.fromVideo(t,n,i))},e.fromVideoUrl=function(t,n,r,i){return new e(o.default.fromUrl(t,n,r,i))},e.from=function(t){if(\"string\"==typeof t){var n=l.TextureCache[t];return n||(null!==t.match(/\\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(i.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,h.default.SCALE_MODE,\"HTMLCanvasElement\"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof i.default?new e(t):t},e.fromLoader=function(t,n,r){var o=new i.default(t,void 0,(0,l.getResolutionOfUrl)(n)),a=new e(o);return o.imageUrl=n,r||(r=n),i.default.addToCache(a.baseTexture,r),e.addToCache(a,r),r!==n&&(i.default.addToCache(a.baseTexture,n),e.addToCache(a,n)),a},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),l.TextureCache[e]&&console.warn(\"Texture added to the cache with an id [\"+e+\"] that already had an entry\"),l.TextureCache[e]=t)},e.removeFromCache=function(t){if(\"string\"==typeof t){var e=l.TextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete l.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)l.TextureCache[t.textureCacheIds[r]]===t&&delete l.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},r(e,[{key:\"frame\",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,r=t.width,i=t.height,o=e+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?\"and\":\"or\",u=\"X: \"+e+\" + \"+r+\" = \"+(e+r)+\" > \"+this.baseTexture.width,l=\"Y: \"+n+\" + \"+i+\" = \"+(n+i)+\" > \"+this.baseTexture.height;throw new Error(\"Texture Error: frame does not fit inside the base Texture dimensions: \"+u+\" \"+s+\" \"+l)}this.valid=r&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:\"rotate\",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:\"width\",get:function(){return this.orig.width}},{key:\"height\",get:function(){return this.orig.height}}]),e}(s.default);function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new i.default),d(f.EMPTY),d(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement(\"canvas\");t.width=10,t.height=10;var e=t.getContext(\"2d\");return e.fillStyle=\"white\",e.fillRect(0,0,10,10),new f(new i.default(t))}(),d(f.WHITE),d(f.WHITE.baseTexture)},function(t,e,n){\"use strict\";var r=Object.prototype.hasOwnProperty,i=\"~\";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},s.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,l,h=this._events[s],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,r),!0;case 5:return h.fn.call(h.context,e,n,r,o),!0;case 6:return h.fn.call(h.context,e,n,r,o,a),!0}for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,d=h.length;for(l=0;l<d;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,n);break;case 4:h[l].fn.call(h[l].context,e,n,r);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},s.prototype.on=function(t,e,n){var r=new a(e,n||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.once=function(t,e,n){var r=new a(e,n||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.removeListener=function(t,e,n,r){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var u=0,l=[],h=s.length;u<h;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,t.exports=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(2),i=u(n(3)),o=u(n(9)),a=u(n(53)),s=u(n(32));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return s.uid=(0,r.uid)(),s.touched=0,s.resolution=a||i.default.RESOLUTION,s.width=100,s.height=100,s.realWidth=100,s.realHeight=100,s.scaleMode=void 0!==o?o:i.default.SCALE_MODE,s.hasLoaded=!1,s.isLoading=!1,s.source=null,s.origSource=null,s.imageType=null,s.sourceScale=1,s.premultipliedAlpha=!0,s.imageUrl=null,s.isPowerOfTwo=!1,s.mipmap=i.default.MIPMAP_TEXTURES,s.wrapMode=i.default.WRAP_MODE,s._glTextures={},s._enabled=0,s._virtalBoundId=-1,s._destroyed=!1,s.textureCacheIds=[],n&&s.loadSource(n),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){\"svg\"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit(\"update\",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=s.default.isPow2(this.realWidth)&&s.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),\"svg\"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit(\"loaded\",this);else if(!t.getContext){this.isLoading=!0;var r=this;if(t.onload=function(){r._updateImageType(),t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),\"svg\"!==r.imageType?r.emit(\"loaded\",r):r._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit(\"error\",r))},t.complete&&t.src){if(t.onload=null,t.onerror=null,\"svg\"===r.imageType)return void r._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit(\"loaded\",this)):e&&this.emit(\"error\",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,r.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&\"image\"===t.mediaType){var n=t.subType.split(\"+\")[0];if(!(e=(0,r.getUrlFileExtension)(\".\"+n)))throw new Error(\"Invalid image type in data URI.\")}else(e=(0,r.getUrlFileExtension)(this.imageUrl))||(e=\"png\");this.imageType=e}},e.prototype._loadSvgSource=function(){if(\"svg\"===this.imageType){var t=(0,r.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if(\"base64\"===t.encoding){if(!atob)throw new Error(\"Your browser doesn't support base64 conversions.\");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error(\"Failed to load SVG using XHR.\");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit(\"error\",t)},e.open(\"GET\",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var n=(0,r.getSvgSize)(t),i=n.width,o=n.height;if(!i||!o)throw new Error(\"The SVG image must have width and height defined (in pixels), canvas API needs them.\");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var a=document.createElement(\"canvas\");a.width=this.realWidth,a.height=this.realHeight,a._pixiId=\"canvas_\"+(0,r.uid)(),a.getContext(\"2d\").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=a,e.addToCache(this,a._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit(\"loaded\",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete r.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src=\"\")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit(\"dispose\",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,n,i,o){var s=r.BaseTextureCache[t];if(!s){var u=new Image;void 0===n&&0!==t.indexOf(\"data:\")?u.crossOrigin=(0,a.default)(t):n&&(u.crossOrigin=\"string\"==typeof n?n:\"anonymous\"),(s=new e(u,i)).imageUrl=t,o&&(s.sourceScale=o),s.resolution=(0,r.getResolutionOfUrl)(t),u.src=t,e.addToCache(s,t)}return s},e.fromCanvas=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"canvas\";t._pixiId||(t._pixiId=i+\"_\"+(0,r.uid)());var o=r.BaseTextureCache[t._pixiId];return o||(o=new e(t,n),e.addToCache(o,t._pixiId)),o},e.from=function(t,n,i){if(\"string\"==typeof t)return e.fromImage(t,void 0,n,i);if(t instanceof HTMLImageElement){var o=t.src,a=r.BaseTextureCache[o];return a||((a=new e(t,n)).imageUrl=o,i&&(a.sourceScale=i),a.resolution=(0,r.getResolutionOfUrl)(o),e.addToCache(a,o)),a}return t instanceof HTMLCanvasElement?e.fromCanvas(t,n):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),r.BaseTextureCache[e]&&console.warn(\"BaseTexture added to the cache with an id [\"+e+\"] that already had an entry\"),r.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if(\"string\"==typeof t){var e=r.BaseTextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete r.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete r.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2),a=n(50);var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return n.children=[],n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.addChild(arguments[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit(\"added\",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+\"addChildAt: The index \"+e+\" supplied is out of bounds \"+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit(\"added\",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error(\"The supplied DisplayObject must be a child of the caller\");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error(\"The index \"+e+\" supplied is out of bounds \"+this.children.length);var n=this.getChildIndex(t);(0,o.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error(\"getChildAt: Index (\"+t+\") does not exist.\");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.removeChild(arguments[n]);else{var r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit(\"removed\",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit(\"removed\",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=t,r=\"number\"==typeof e?e:this.children.length,i=r-n,o=void 0;if(i>0&&i<=r){o=this.children.splice(n,i);for(var a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var s=0;s<o.length;++s)o[s].emit(\"removed\",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError(\"removeChildren: numeric values are outside the acceptable range.\")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}n&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),n&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var n=\"boolean\"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(e)},i(e,[{key:\"width\",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:\"height\",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s,s.prototype.containerUpdateTransform=s.prototype.updateTransform},function(t,e,n){\"use strict\";e.__esModule=!0;var r=h(n(57)),i=h(n(122)),o=h(n(59)),a=h(n(123)),s=n(2),u=n(0),l=h(n(3));function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"Canvas\",n,r,o));return s.type=u.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext(\"2d\",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new i.default(s),s.smoothProperty=\"imageSmoothingEnabled\",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty=\"webkitImageSmoothingEnabled\":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty=\"mozImageSmoothingEnabled\":s.rootContext.oImageSmoothingEnabled?s.smoothProperty=\"oImageSmoothingEnabled\":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty=\"msImageSmoothingEnabled\")),s.initPlugins(),s.blendModes=(0,a.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,n,r,i){if(this.view){this.renderingToScreen=!e,this.emit(\"prerender\");var a=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!i){var l=t.parent,h=this._tempDisplayObjectParent.transform.worldTransform;r?(r.copy(h),this._tempDisplayObjectParent.transform._worldID=-1):h.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=l}s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle=\"black\",s.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=s,t.renderCanvas(this),this.context=c,s.restore(),this.resolution=a,this.emit(\"postrender\")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=l.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(r.default);e.default=c,s.pluginTarget.mixin(c)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,this.renderer.on(\"context\",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off(\"context\",this.onContextChange,this),this.renderer=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(5),o=n(3),a=(r=o)&&r.__esModule?r:{default:r};function s(t,e){if(t instanceof Array){if(\"precision\"!==t[0].substring(0,9)){var n=t.slice(0);return n.unshift(\"precision \"+e+\" float;\"),n}}else if(\"precision\"!==t.trim().substring(0,9))return\"precision \"+e+\" float;\\n\"+t;return t}var u=function(t){function e(n,r,i,o,u){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,s(r,u||a.default.PRECISION_VERTEX),s(i,u||a.default.PRECISION_FRAGMENT),void 0,o))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);e.default=u},function(t,e,n){\"use strict\";var r=n(175).Loader,i=n(36).Resource,o=n(85),a=n(86);r.Resource=i,r.async=o,r.encodeBinary=a,r.base64=a,t.exports=r,t.exports.Loader=r,t.exports.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),a=n(8),s=(r=a)&&r.__esModule?r:{default:r};var u=new o.Point,l=new o.Polygon,h=function(t){function e(n,r,i,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return l._texture=n||s.default.EMPTY,l.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),l.vertices=r||new Float32Array([0,0,100,0,100,100,0,100]),l.indices=a||new Uint16Array([0,1,3,2]),l.dirty=0,l.indexDirty=0,l.vertexDirty=0,l.autoUpdate=!0,l.blendMode=o.BLEND_MODES.NORMAL,l.canvasPadding=o.settings.MESH_CANVAS_PADDING,l.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,l.shader=null,l.tintRgb=new Float32Array([1,1,1]),l._glDatas={},l._uvTransform=new o.TextureMatrix(l._texture),l.uploadUvTransform=!1,l.pluginName=\"mesh\",l}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,u);for(var n=this.vertices,r=l.points,i=this.indices,o=this.indices.length,a=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<o;s+=a){var h=2*i[s],c=2*i[s+1],f=2*i[s+2];if(r[0]=n[h],r[1]=n[h+1],r[2]=n[c],r[3]=n[c+1],r[4]=n[f],r[5]=n[f+1],l.contains(u.x,u.y))return!0}return!1},e.prototype.destroy=function(e){for(var n in this._glDatas){var r=this._glDatas[n];r.destroy?r.destroy():(r.vertexBuffer&&(r.vertexBuffer.destroy(),r.vertexBuffer=null),r.indexBuffer&&(r.indexBuffer.destroy(),r.indexBuffer=null),r.uvBuffer&&(r.uvBuffer.destroy(),r.uvBuffer=null),r.vao&&(r.vao.destroy(),r.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,e)},i(e,[{key:\"texture\",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once(\"update\",this._onTextureUpdate,this)))}},{key:\"tint\",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);e.default=h,h.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(2),o=n(60);var a={getTintedTexture:function(t,e){var n=t._texture,r=\"#\"+(\"00000\"+(0|(e=a.roundColor(e))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var i=n.tintCache[r],o=void 0;if(i){if(i.tintId===n._updateID)return n.tintCache[r];o=n.tintCache[r]}else o=a.canvas||document.createElement(\"canvas\");if(a.tintMethod(n,e,o),o.tintId=n._updateID,a.convertTintToImage){var s=new Image;s.src=o.toDataURL(),n.tintCache[r]=s}else n.tintCache[r]=o,a.canvas=null;return o},tintWithMultiply:function(t,e,n){var r=n.getContext(\"2d\"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.fillStyle=\"#\"+(\"00000\"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation=\"multiply\",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation=\"destination-atop\",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(t,e,n){var r=n.getContext(\"2d\"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation=\"copy\",r.fillStyle=\"#\"+(\"00000\"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation=\"destination-atop\",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(t,e,n){var r=n.getContext(\"2d\"),o=t._frame.clone(),a=t.baseTexture.resolution;o.x*=a,o.y*=a,o.width*=a,o.height*=a,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),r.save(),r.globalCompositeOperation=\"copy\",r.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),r.restore();for(var s=(0,i.hex2rgb)(e),u=s[0],l=s[1],h=s[2],c=r.getImageData(0,0,o.width,o.height),f=c.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=l,f[d+2]*=h;r.putImageData(c,0,0)},roundColor:function(t){var e=a.cacheStepsPerColorChannel,n=(0,i.hex2rgb)(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),(0,i.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((r=o)&&r.__esModule?r:{default:r}).default)(),tintMethod:0};a.tintMethod=a.canUseMultiply?a.tintWithMultiply:a.tintWithPerPixel,e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(13);var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=g(n(57)),i=g(n(125)),o=g(n(127)),a=g(n(128)),s=g(n(20)),u=g(n(18)),l=g(n(130)),h=g(n(10)),c=g(n(131)),f=g(n(132)),d=g(n(134)),p=g(n(135)),v=n(2),_=g(n(5)),y=n(0);function g(t){return t&&t.__esModule?t:{default:t}}var b=0,m=function(t){function e(n,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"WebGL\",n,r,a));return s.legacy=s.options.legacy,s.legacy&&(_.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=y.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener(\"webglcontextlost\",s.handleContextLost,!1),s.view.addEventListener(\"webglcontextrestored\",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&\"notMultiplied\"!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer,powerPreference:s.options.powerPreference},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new i.default(s),s.stencilManager=new o.default(s),s.emptyRenderer=new u.default(s),s.currentRenderer=s.emptyRenderer,s.textureManager=null,s.filterManager=null,s.initPlugins(),s.options.context&&(0,p.default)(s.options.context),s.gl=s.options.context||_.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=b++,s.state=new f.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.drawModes=(0,d.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension(\"WEBGL_lose_context\")&&t.getExtension(\"WEBGL_lose_context\").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this._unknownBoundTextures=!1,this.textureManager=new l.default(this),this.filterManager=new a.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new s.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new _.default.GLTexture.fromData(t,null,1,1),r={_glTextures:{}};r._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new h.default;o._glTextures[this.CONTEXT_UID]=n,this.boundTextures[i]=r,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit(\"context\",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,n,r,i){if(this.renderingToScreen=!e,this.emit(\"prerender\"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,r),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit(\"postrender\")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){r.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var n=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var n=void 0;if(t){var r=t.baseTexture;r._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(r,0),this.unbindTexture(r),(n=r._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else n=this.rootRenderTarget;return n.transform=e,this.bindRenderTarget(n),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,n){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,n)e=e||0;else{for(var r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===t)return r;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;if(t=t.baseTexture||t,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===this.emptyTextures[n]&&(e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture))}for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new _.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener(\"webglcontextlost\",this.handleContextLost),this.view.removeEventListener(\"webglcontextrestored\",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension(\"WEBGL_lose_context\")&&this.gl.getExtension(\"WEBGL_lose_context\").loseContext(),this.gl=null},e}(r.default);e.default=m,v.pluginTarget.mixin(m)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(4),o=n(0),a=n(3),s=(r=a)&&r.__esModule?r:{default:r},u=n(5);var l=function(){function t(e,n,r,a,l,h){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=l||s.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey=\"\",this.scaleMode=void 0!==a?a:s.default.SCALE_MODE,this.root=h||!1,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,r)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var n=this.projectionMatrix;e=e||t,n.identity(),this.root?(n.a=1/t.width*2,n.d=-1/t.height*2,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2,n.d=1/t.height*2,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},t.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){t.nativeLines?function(t,e){var n=0,r=t.points;if(0===r.length)return;var o=e.points,a=r.length/2,s=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,l=s[0]*u,h=s[1]*u,c=s[2]*u;for(n=1;n<a;n++){var f=r[2*(n-1)],d=r[2*(n-1)+1],p=r[2*n],v=r[2*n+1];o.push(f,d),o.push(l,h,c,u),o.push(p,v),o.push(l,h,c,u)}}(t,n):function(t,e){var n=t.points;if(0===n.length)return;var o=new r.Point(n[0],n[1]),a=new r.Point(n[n.length-2],n[n.length-1]);if(o.x===a.x&&o.y===a.y){(n=n.slice()).pop(),n.pop();var s=(a=new r.Point(n[n.length-2],n[n.length-1])).x+.5*(o.x-a.x),u=a.y+.5*(o.y-a.y);n.unshift(s,u),n.push(s,u)}var l=e.points,h=e.indices,c=n.length/2,f=n.length,d=l.length/6,p=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),_=t.lineAlpha,y=v[0]*_,g=v[1]*_,b=v[2]*_,m=n[0],x=n[1],w=n[2],T=n[3],E=0,S=0,M=-(x-T),O=m-w,C=0,A=0,P=0,R=0,I=Math.sqrt(M*M+O*O);M/=I,O/=I,M*=p,O*=p;var D=t.lineAlignment,k=2*(1-D),L=2*D;l.push(m-M*k,x-O*k,y,g,b,_),l.push(m+M*L,x+O*L,y,g,b,_);for(var N=1;N<c-1;++N){m=n[2*(N-1)],x=n[2*(N-1)+1],w=n[2*N],T=n[2*N+1],E=n[2*(N+1)],S=n[2*(N+1)+1],M=-(x-T),O=m-w,I=Math.sqrt(M*M+O*O),M/=I,O/=I,M*=p,O*=p,C=-(T-S),A=w-E,I=Math.sqrt(C*C+A*A),C/=I,A/=I;var F=-O+x-(-O+T),j=-M+w-(-M+m),B=(-M+m)*(-O+T)-(-M+w)*(-O+x),U=-(A*=p)+S-(-A+T),X=-(C*=p)+w-(-C+E),H=(-C+E)*(-A+T)-(-C+w)*(-A+S),G=F*X-U*j;if(Math.abs(G)<.1)G+=10.1,l.push(w-M*k,T-O*k,y,g,b,_),l.push(w+M*L,T+O*L,y,g,b,_);else{var W=(j*H-X*B)/G,Y=(U*B-F*H)/G,V=(W-w)*(W-w)+(Y-T)*(Y-T);V>196*p*p?(P=M-C,R=O-A,I=Math.sqrt(P*P+R*R),P/=I,R/=I,P*=p,R*=p,l.push(w-P*k,T-R*k),l.push(y,g,b,_),l.push(w+P*L,T+R*L),l.push(y,g,b,_),l.push(w-P*L*k,T-R*k),l.push(y,g,b,_),f++):(l.push(w+(W-w)*k,T+(Y-T)*k),l.push(y,g,b,_),l.push(w-(W-w)*L,T-(Y-T)*L),l.push(y,g,b,_))}}m=n[2*(c-2)],x=n[2*(c-2)+1],w=n[2*(c-1)],T=n[2*(c-1)+1],M=-(x-T),O=m-w,I=Math.sqrt(M*M+O*O),M/=I,O/=I,M*=p,O*=p,l.push(w-M*k,T-O*k),l.push(y,g,b,_),l.push(w+M*L,T+O*L),l.push(y,g,b,_),h.push(d);for(var z=0;z<f;++z)h.push(d++);h.push(d-1)}(t,e)};var r=n(4),i=n(2)},function(t,e){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(23),a=(r=o)&&r.__esModule?r:{default:r},s=n(0);var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new a.default;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new a.default;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,i=t.y;return e.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,n,r,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(n*this.a+r*this.c),this.ty=e-(n*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),a=Math.atan2(n,e),u=Math.abs(o+a);return u<1e-5||Math.abs(s.PI_2-u)<1e-5?(t.rotation=a,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(r*r+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:\"IDENTITY\",get:function(){return new t}},{key:\"TEMP_MATRIX\",get:function(){return new t}}]),t}();e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(o),this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(n-e,0),this.y=r,this.height=Math.max(i-r,0)},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=n-e,this.y=r,this.height=i-r},t.prototype.ceil=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,n=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=r-this.y},r(t,[{key:\"left\",get:function(){return this.x}},{key:\"right\",get:function(){return this.x+this.width}},{key:\"top\",get:function(){return this.y}},{key:\"bottom\",get:function(){return this.y+this.height}}],[{key:\"EMPTY\",get:function(){return new t(0,0,0,0)}}]),t}();e.default=o},function(t,e){var n=null,r={FLOAT:\"float\",FLOAT_VEC2:\"vec2\",FLOAT_VEC3:\"vec3\",FLOAT_VEC4:\"vec4\",INT:\"int\",INT_VEC2:\"ivec2\",INT_VEC3:\"ivec3\",INT_VEC4:\"ivec4\",BOOL:\"bool\",BOOL_VEC2:\"bvec2\",BOOL_VEC3:\"bvec3\",BOOL_VEC4:\"bvec4\",FLOAT_MAT2:\"mat2\",FLOAT_MAT3:\"mat3\",FLOAT_MAT4:\"mat4\",SAMPLER_2D:\"sampler2D\"};t.exports=function(t,e){if(!n){var i=Object.keys(r);n={};for(var o=0;o<i.length;++o){var a=i[o];n[t[a]]=r[a]}}return n[e]}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:((t=t||new r.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[2])<e?o:e,n=(a=t[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[4])<e?o:e,n=(a=t[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[6])<e?o:e,n=(a=t[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},t.prototype.addFrame=function(t,e,n,r,i){var o=t.worldTransform,a=o.a,s=o.b,u=o.c,l=o.d,h=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,_=a*e+u*n+h,y=s*e+l*n+c;f=_<f?_:f,d=y<d?y:d,p=_>p?_:p,v=y>v?y:v,f=(_=a*r+u*n+h)<f?_:f,d=(y=s*r+l*n+c)<d?y:d,p=_>p?_:p,v=y>v?y:v,f=(_=a*e+u*i+h)<f?_:f,d=(y=s*e+l*i+c)<d?y:d,p=_>p?_:p,v=y>v?y:v,f=(_=a*r+u*i+h)<f?_:f,d=(y=s*r+l*i+c)<d?y:d,p=_>p?_:p,v=y>v?y:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,n,r){for(var i=t.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,h=i.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=n;v<r;v+=2){var _=e[v],y=e[v+1],g=o*_+s*y+l,b=u*y+a*_+h;c=g<c?g:c,f=b<f?b:f,d=g>d?g:d,p=b>p?b:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t}();e.default=i},function(t,e,n){var r,i,o;!function(n){var a=/iPhone/i,s=/iPod/i,u=/iPad/i,l=/\\bAndroid(?:.+)Mobile\\b/i,h=/Android/i,c=/\\bAndroid(?:.+)SD4930UR\\b/i,f=/\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i,d=/Windows Phone/i,p=/\\bWindows(?:.+)ARM\\b/i,v=/BlackBerry/i,_=/BB10/i,y=/Opera Mini/i,g=/\\b(CriOS|Chrome)(?:.+)Mobile/i,b=/\\Mobile(?:.+)Firefox\\b/i;function m(t,e){return t.test(e)}function x(t){var e=t||(\"undefined\"!=typeof navigator?navigator.userAgent:\"\"),n=e.split(\"[FBAN\");void 0!==n[1]&&(e=n[0]),void 0!==(n=e.split(\"Twitter\"))[1]&&(e=n[0]);var r={apple:{phone:m(a,e)&&!m(d,e),ipod:m(s,e),tablet:!m(a,e)&&m(u,e)&&!m(d,e),device:(m(a,e)||m(s,e)||m(u,e))&&!m(d,e)},amazon:{phone:m(c,e),tablet:!m(c,e)&&m(f,e),device:m(c,e)||m(f,e)},android:{phone:!m(d,e)&&m(c,e)||!m(d,e)&&m(l,e),tablet:!m(d,e)&&!m(c,e)&&!m(l,e)&&(m(f,e)||m(h,e)),device:!m(d,e)&&(m(c,e)||m(f,e)||m(l,e)||m(h,e))},windows:{phone:m(d,e),tablet:m(p,e),device:m(d,e)||m(p,e)},other:{blackberry:m(v,e),blackberry10:m(_,e),opera:m(y,e),firefox:m(b,e),chrome:m(g,e),device:m(v,e)||m(_,e)||m(y,e)||m(b,e)||m(g,e)}};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}t.exports&&\"undefined\"==typeof window?t.exports=x:t.exports&&\"undefined\"!=typeof window?t.exports=x():(i=[],r=n.isMobile=x(),void 0===(o=\"function\"==typeof r?r.apply(e,i):r)||(t.exports=o))}(this)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,n=this.worldTransform,r=this.localTransform;n.a=r.a*e.a+r.b*e.c,n.b=r.a*e.b+r.b*e.d,n.c=r.c*e.a+r.d*e.c,n.d=r.c*e.b+r.d*e.d,n.tx=r.tx*e.a+r.ty*e.c+e.tx,n.ty=r.tx*e.b+r.ty*e.d+e.ty,this._worldID++},t}();e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(t,e,n){\"use strict\";function r(t,e,n){n=n||2;var r,s,u,l,h,d,v,_=e&&e.length,y=_?e[0]*n:t.length,g=i(t,0,y,n,!0),b=[];if(!g||g.next===g.prev)return b;if(_&&(g=function(t,e,n,r){var a,s,u,l,h,d=[];for(a=0,s=e.length;a<s;a++)u=e[a]*r,l=a<s-1?e[a+1]*r:t.length,(h=i(t,u,l,r,!1))===h.next&&(h.steiner=!0),d.push(p(h));for(d.sort(c),a=0;a<d.length;a++)f(d[a],n),n=o(n,n.next);return n}(t,e,g,n)),t.length>80*n){r=u=t[0],s=l=t[1];for(var m=n;m<y;m+=n)(h=t[m])<r&&(r=h),(d=t[m+1])<s&&(s=d),h>u&&(u=h),d>l&&(l=d);v=0!==(v=Math.max(u-r,l-s))?1/v:0}return a(g,b,n,r,s,v),b}function i(t,e,n,r,i){var o,a;if(i===S(t,e,n,r)>0)for(o=e;o<n;o+=r)a=w(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=w(o,t[o],t[o+1],a);return a&&g(a,a.next)&&(T(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!g(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(T(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,c,f){if(t){!f&&c&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,c);for(var p,v,_=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?u(t,r,i,c):s(t))e.push(p.i/n),e.push(t.i/n),e.push(v.i/n),T(t),t=v.next,_=v.next;else if((t=v)===_){f?1===f?a(t=l(t,e,n),e,n,r,i,c,2):2===f&&h(t,e,n,r,i,c):a(o(t),e,n,r,i,c,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(y(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,h=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,c=d(s,u,e,n,r),f=d(l,h,e,n,r),p=t.prevZ,_=t.nextZ;p&&p.z>=c&&_&&_.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,_!==t.prev&&_!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,_.x,_.y)&&y(_.prev,_,_.next)>=0)return!1;_=_.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;_&&_.z<=f;){if(_!==t.prev&&_!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,_.x,_.y)&&y(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!g(i,o)&&b(i,r,r.next,o)&&m(i,o)&&m(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),T(r),T(r.next),r=t=o),r=r.next}while(r!==t);return r}function h(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&_(u,l)){var h=x(u,l);return u=o(u,u.next),h=o(h,h.next),a(u,e,n,r,i,s),void a(h,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,h=n.x,c=n.y,f=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=h&&i!==r.x&&v(o<c?i:a,o,h,c,o<c?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&m(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=x(e,t);o(n,n.next)}}function d(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function v(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&m(t,e)&&m(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function y(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,r){return!!(g(t,e)&&g(n,r)||g(t,r)&&g(n,e))||y(t,e,n)>0!=y(t,e,r)>0&&y(n,r,t)>0!=y(n,r,e)>0}function m(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function x(t,e){var n=new E(t.i,t.x,t.y),r=new E(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function w(t,e,n,r){var i=new E(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=r,t.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(S(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,h=s<u-1?e[s+1]*n:t.length;a-=Math.abs(S(t,l,h,n))}var c=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(4),o=n(2),a=n(0),s=l(n(8)),u=l(n(11));function l(t){return t&&t.__esModule?t:{default:t}}var h=new i.Point,c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._anchor=new i.ObservablePoint(r._onAnchorUpdate,r,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=a.BLEND_MODES.NORMAL,r.shader=null,r.cachedTint=16777215,r.texture=n||s.default.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.pluginName=\"sprite\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,l=t.trim,h=t.orig,c=this._anchor,f=0,d=0,p=0,v=0;l?(f=(d=l.x-c._x*h.width)+l.width,p=(v=l.y-c._y*h.height)+l.height):(f=(d=-c._x*h.width)+h.width,p=(v=-c._y*h.height)+h.height),u[0]=n*d+i*v+a,u[1]=o*v+r*d+s,u[2]=n*f+i*v+a,u[3]=o*v+r*f+s,u[4]=n*f+i*p+a,u[5]=o*p+r*f+s,u[6]=n*d+i*p+a,u[7]=o*p+r*d+s}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,h=i.ty,c=-r._x*n.width,f=c+n.width,d=-r._y*n.height,p=d+n.height;e[0]=o*c+s*d+l,e[1]=u*d+a*c+h,e[2]=o*f+s*d+l,e[3]=u*d+a*f+h,e[4]=o*f+s*p+l,e[5]=u*p+a*f+h,e[6]=o*c+s*p+l,e[7]=u*p+a*c+h},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var e=this._texture.orig.width,n=this._texture.orig.height,r=-e*this.anchor.x,i=0;return h.x>=r&&h.x<r+e&&(i=-n*this.anchor.y,h.y>=i&&h.y<i+n)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off(\"update\",this._onTextureUpdate,this),this._anchor=null,\"boolean\"==typeof e?e:e&&e.texture){var n=\"boolean\"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},e.from=function(t){return new e(s.default.from(t))},e.fromFrame=function(t){var n=o.TextureCache[t];if(!n)throw new Error('The frameId \"'+t+'\" does not exist in the texture cache');return new e(n)},e.fromImage=function(t,n,r){return new e(s.default.fromImage(t,n,r))},r(e,[{key:\"width\",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:\"height\",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:\"anchor\",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:\"tint\",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:\"texture\",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||s.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once(\"update\",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=c},function(t,e,n){\"use strict\";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){\"use strict\";e.__esModule=!0,e.Ticker=e.shared=void 0;var r,i=n(119),o=(r=i)&&r.__esModule?r:{default:r};var a=new o.default;a.autoStart=!0,a.destroy=function(){},e.shared=a,e.Ticker=o.default},function(t,e,n){\"use strict\";e.__esModule=!0;var r=i(n(58));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o=null;if(!(n instanceof r.default)){var a=arguments[1],s=arguments[2],u=arguments[3],l=arguments[4];console.warn(\"Please use RenderTexture.create(\"+a+\", \"+s+\") instead of the ctor directly.\"),o=arguments[0],i=null,n=new r.default(a,s,u,l)}var h=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,i));return h.legacyRenderer=o,h.valid=!0,h._updateUvs(),h}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,n){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,n,i,o){return new e(new r.default(t,n,i,o))},e}(i(n(8)).default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){for(var e=6*t,n=new Uint16Array(e),r=0,i=0;r<e;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}},function(t,e,n){\"use strict\";e.__esModule=!0,e.Resource=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(84)),o=a(n(83));function a(t){return t&&t.__esModule?t:{default:t}}var s=!(!window.XDomainRequest||\"withCredentials\"in new XMLHttpRequest),u=null;function l(){}var h=e.Resource=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),\"string\"!=typeof e||\"string\"!=typeof n)throw new Error(\"Both name and url are required for constructing a resource.\");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf(\"data:\")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?\"anonymous\":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=l,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,n){c(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){c(t._xhrTypeMap,e,n)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var n=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(n)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&\"string\"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement(\"image\");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement(\"audio\");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement(\"video\");break;case t.LOAD_TYPE.XHR:default:s&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener(\"error\",this._boundOnError,!1),this.data.removeEventListener(\"load\",this._boundComplete,!1),this.data.removeEventListener(\"progress\",this._boundOnProgress,!1),this.data.removeEventListener(\"canplaythrough\",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener(\"error\",this._boundXhrOnError,!1),this.xhr.removeEventListener(\"timeout\",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener(\"abort\",this._boundXhrOnAbort,!1),this.xhr.removeEventListener(\"progress\",this._boundOnProgress,!1),this.xhr.removeEventListener(\"load\",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error(\"Complete called again for an already completed resource.\");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:\"image\"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener(\"error\",this._boundOnError,!1),this.data.addEventListener(\"load\",this._boundComplete,!1),this.data.addEventListener(\"progress\",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:\"audio\"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener(\"error\",this._boundOnError,!1),this.data.addEventListener(\"load\",this._boundComplete,!1),this.data.addEventListener(\"progress\",this._boundOnProgress,!1),this.data.addEventListener(\"canplaythrough\",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort(\"Unsupported element: \"+t)},t.prototype._loadXhr=function(){\"string\"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open(\"GET\",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener(\"error\",this._boundXhrOnError,!1),e.addEventListener(\"timeout\",this._boundXhrOnTimeout,!1),e.addEventListener(\"abort\",this._boundXhrOnAbort,!1),e.addEventListener(\"progress\",this._boundOnProgress,!1),e.addEventListener(\"load\",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){\"string\"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open(\"GET\",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,n){n||(n=t+\"/\"+this._getExtension(e));var r=document.createElement(\"source\");return r.src=e,r.type=n,r},t.prototype._onError=function(t){this.abort(\"Failed to load element using: \"+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort(\"Load timed out.\")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+\" Request failed. Status: \"+t.status+', text: \"'+t.statusText+'\"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(f(t)+\" Request timed out.\")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(f(t)+\" Request was aborted by the user.\")},t.prototype._xhrOnLoad=function(){var e=this.xhr,n=\"\",r=void 0===e.status?200:e.status;if(\"\"!==e.responseType&&\"text\"!==e.responseType&&void 0!==e.responseType||(n=e.responseText),0===r&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(t){return void this.abort(\"Error trying to parse loaded json: \"+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,\"text/xml\")}else{var o=document.createElement(\"div\");o.innerHTML=n,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort(\"Error trying to parse loaded xml: \"+t)}else this.data=e.response||n;this.complete()}else this.abort(\"[\"+e.status+\"] \"+e.statusText+\": \"+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf(\"data:\"))return\"\";if(window.origin!==window.location.origin)return\"anonymous\";e=e||window.location,u||(u=document.createElement(\"a\")),u.href=t;var n=!(t=(0,i.default)(u.href,{strictMode:!0})).port&&\"\"===e.port||t.port===e.port,r=t.protocol?t.protocol+\":\":\"\";return t.host===e.hostname&&n&&r===e.protocol?\"\":\"anonymous\"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e=\"\";if(this.isDataUrl){var n=t.indexOf(\"/\");e=t.substring(n+1,t.indexOf(\";\",n))}else{var r=t.indexOf(\"?\"),i=t.indexOf(\"#\"),o=Math.min(r>-1?r:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(\".\")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return\"application/octet-binary\";case t.XHR_RESPONSE_TYPE.BLOB:return\"application/blob\";case t.XHR_RESPONSE_TYPE.DOCUMENT:return\"application/xml\";case t.XHR_RESPONSE_TYPE.JSON:return\"application/json\";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return\"text/plain\"}},r(t,[{key:\"isDataUrl\",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:\"isComplete\",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:\"isLoading\",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,n){e&&0===e.indexOf(\".\")&&(e=e.substring(1)),e&&(t[e]=n)}function f(t){return t.toString().replace(\"object \",\"\")}h.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},h.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},h.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},h.XHR_RESPONSE_TYPE={DEFAULT:\"text\",BUFFER:\"arraybuffer\",BLOB:\"blob\",DOCUMENT:\"document\",JSON:\"json\",TEXT:\"text\"},h._loadTypeMap={gif:h.LOAD_TYPE.IMAGE,png:h.LOAD_TYPE.IMAGE,bmp:h.LOAD_TYPE.IMAGE,jpg:h.LOAD_TYPE.IMAGE,jpeg:h.LOAD_TYPE.IMAGE,tif:h.LOAD_TYPE.IMAGE,tiff:h.LOAD_TYPE.IMAGE,webp:h.LOAD_TYPE.IMAGE,tga:h.LOAD_TYPE.IMAGE,svg:h.LOAD_TYPE.IMAGE,\"svg+xml\":h.LOAD_TYPE.IMAGE,mp3:h.LOAD_TYPE.AUDIO,ogg:h.LOAD_TYPE.AUDIO,wav:h.LOAD_TYPE.AUDIO,mp4:h.LOAD_TYPE.VIDEO,webm:h.LOAD_TYPE.VIDEO},h._xhrTypeMap={xhtml:h.XHR_RESPONSE_TYPE.DOCUMENT,html:h.XHR_RESPONSE_TYPE.DOCUMENT,htm:h.XHR_RESPONSE_TYPE.DOCUMENT,xml:h.XHR_RESPONSE_TYPE.DOCUMENT,tmx:h.XHR_RESPONSE_TYPE.DOCUMENT,svg:h.XHR_RESPONSE_TYPE.DOCUMENT,tsx:h.XHR_RESPONSE_TYPE.DOCUMENT,gif:h.XHR_RESPONSE_TYPE.BLOB,png:h.XHR_RESPONSE_TYPE.BLOB,bmp:h.XHR_RESPONSE_TYPE.BLOB,jpg:h.XHR_RESPONSE_TYPE.BLOB,jpeg:h.XHR_RESPONSE_TYPE.BLOB,tif:h.XHR_RESPONSE_TYPE.BLOB,tiff:h.XHR_RESPONSE_TYPE.BLOB,webp:h.XHR_RESPONSE_TYPE.BLOB,tga:h.XHR_RESPONSE_TYPE.BLOB,json:h.XHR_RESPONSE_TYPE.JSON,text:h.XHR_RESPONSE_TYPE.TEXT,txt:h.XHR_RESPONSE_TYPE.TEXT,ttf:h.XHR_RESPONSE_TYPE.BUFFER,otf:h.XHR_RESPONSE_TYPE.BUFFER},h.EMPTY_GIF=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\",t.exports.default=h},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(90),a=(r=o)&&r.__esModule?r:{default:r};var s=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var u=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.limiter=new a.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(p),this.registerFindHook(v),this.registerFindHook(l),this.registerFindHook(h),this.registerFindHook(c),this.registerUploadHook(f),this.registerUploadHook(d)}return t.prototype.upload=function(t,e){\"function\"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,s.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)s.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var a=0,u=o.length;a<u;a++)o[a]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.Container)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},t.prototype.destroy=function(){this.ticking&&s.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function l(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof i.Texture){var o=t._textures[r].baseTexture;-1===e.indexOf(o)&&(e.push(o),n=!0)}return n}function h(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function c(t,e){if(t._texture&&t._texture instanceof i.Texture){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function f(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function d(t,e){if(e instanceof i.TextStyle){var n=e.toFontString();return i.TextMetrics.measureFont(n),!0}return!1}function p(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function v(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=u},function(t,e,n){(t.exports=n(195)(!1)).push([t.i,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\\n/* Document\\r\\n   ========================================================================== */\\n/**\\r\\n * 1. Correct the line height in all browsers.\\r\\n * 2. Prevent adjustments of font size after orientation changes in iOS.\\r\\n */\\nhtml {\\n  line-height: 1.15;\\n  /* 1 */\\n  -webkit-text-size-adjust: 100%;\\n  /* 2 */ }\\n\\n/* Sections\\r\\n   ========================================================================== */\\n/**\\r\\n * Remove the margin in all browsers.\\r\\n */\\nbody {\\n  margin: 0; }\\n\\n/**\\r\\n * Render the `main` element consistently in IE.\\r\\n */\\nmain {\\n  display: block; }\\n\\n/**\\r\\n * Correct the font size and margin on `h1` elements within `section` and\\r\\n * `article` contexts in Chrome, Firefox, and Safari.\\r\\n */\\nh1 {\\n  font-size: 2em;\\n  margin: 0.67em 0; }\\n\\n/* Grouping content\\r\\n   ========================================================================== */\\n/**\\r\\n * 1. Add the correct box sizing in Firefox.\\r\\n * 2. Show the overflow in Edge and IE.\\r\\n */\\nhr {\\n  box-sizing: content-box;\\n  /* 1 */\\n  height: 0;\\n  /* 1 */\\n  overflow: visible;\\n  /* 2 */ }\\n\\n/**\\r\\n * 1. Correct the inheritance and scaling of font size in all browsers.\\r\\n * 2. Correct the odd `em` font sizing in all browsers.\\r\\n */\\npre {\\n  font-family: monospace, monospace;\\n  /* 1 */\\n  font-size: 1em;\\n  /* 2 */ }\\n\\n/* Text-level semantics\\r\\n   ========================================================================== */\\n/**\\r\\n * Remove the gray background on active links in IE 10.\\r\\n */\\na {\\n  background-color: transparent; }\\n\\n/**\\r\\n * 1. Remove the bottom border in Chrome 57-\\r\\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\\r\\n */\\nabbr[title] {\\n  border-bottom: none;\\n  /* 1 */\\n  text-decoration: underline;\\n  /* 2 */\\n  text-decoration: underline dotted;\\n  /* 2 */ }\\n\\n/**\\r\\n * Add the correct font weight in Chrome, Edge, and Safari.\\r\\n */\\nb,\\nstrong {\\n  font-weight: bolder; }\\n\\n/**\\r\\n * 1. Correct the inheritance and scaling of font size in all browsers.\\r\\n * 2. Correct the odd `em` font sizing in all browsers.\\r\\n */\\ncode,\\nkbd,\\nsamp {\\n  font-family: monospace, monospace;\\n  /* 1 */\\n  font-size: 1em;\\n  /* 2 */ }\\n\\n/**\\r\\n * Add the correct font size in all browsers.\\r\\n */\\nsmall {\\n  font-size: 80%; }\\n\\n/**\\r\\n * Prevent `sub` and `sup` elements from affecting the line height in\\r\\n * all browsers.\\r\\n */\\nsub,\\nsup {\\n  font-size: 75%;\\n  line-height: 0;\\n  position: relative;\\n  vertical-align: baseline; }\\n\\nsub {\\n  bottom: -0.25em; }\\n\\nsup {\\n  top: -0.5em; }\\n\\n/* Embedded content\\r\\n   ========================================================================== */\\n/**\\r\\n * Remove the border on images inside links in IE 10.\\r\\n */\\nimg {\\n  border-style: none; }\\n\\n/* Forms\\r\\n   ========================================================================== */\\n/**\\r\\n * 1. Change the font styles in all browsers.\\r\\n * 2. Remove the margin in Firefox and Safari.\\r\\n */\\nbutton,\\ninput,\\noptgroup,\\nselect,\\ntextarea {\\n  font-family: inherit;\\n  /* 1 */\\n  font-size: 100%;\\n  /* 1 */\\n  line-height: 1.15;\\n  /* 1 */\\n  margin: 0;\\n  /* 2 */ }\\n\\n/**\\r\\n * Show the overflow in IE.\\r\\n * 1. Show the overflow in Edge.\\r\\n */\\nbutton,\\ninput {\\n  /* 1 */\\n  overflow: visible; }\\n\\n/**\\r\\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\\r\\n * 1. Remove the inheritance of text transform in Firefox.\\r\\n */\\nbutton,\\nselect {\\n  /* 1 */\\n  text-transform: none; }\\n\\n/**\\r\\n * Correct the inability to style clickable types in iOS and Safari.\\r\\n */\\nbutton,\\n[type=\"button\"],\\n[type=\"reset\"],\\n[type=\"submit\"] {\\n  -webkit-appearance: button; }\\n\\n/**\\r\\n * Remove the inner border and padding in Firefox.\\r\\n */\\nbutton::-moz-focus-inner,\\n[type=\"button\"]::-moz-focus-inner,\\n[type=\"reset\"]::-moz-focus-inner,\\n[type=\"submit\"]::-moz-focus-inner {\\n  border-style: none;\\n  padding: 0; }\\n\\n/**\\r\\n * Restore the focus styles unset by the previous rule.\\r\\n */\\nbutton:-moz-focusring,\\n[type=\"button\"]:-moz-focusring,\\n[type=\"reset\"]:-moz-focusring,\\n[type=\"submit\"]:-moz-focusring {\\n  outline: 1px dotted ButtonText; }\\n\\n/**\\r\\n * Correct the padding in Firefox.\\r\\n */\\nfieldset {\\n  padding: 0.35em 0.75em 0.625em; }\\n\\n/**\\r\\n * 1. Correct the text wrapping in Edge and IE.\\r\\n * 2. Correct the color inheritance from `fieldset` elements in IE.\\r\\n * 3. Remove the padding so developers are not caught out when they zero out\\r\\n *    `fieldset` elements in all browsers.\\r\\n */\\nlegend {\\n  box-sizing: border-box;\\n  /* 1 */\\n  color: inherit;\\n  /* 2 */\\n  display: table;\\n  /* 1 */\\n  max-width: 100%;\\n  /* 1 */\\n  padding: 0;\\n  /* 3 */\\n  white-space: normal;\\n  /* 1 */ }\\n\\n/**\\r\\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\\r\\n */\\nprogress {\\n  vertical-align: baseline; }\\n\\n/**\\r\\n * Remove the default vertical scrollbar in IE 10+.\\r\\n */\\ntextarea {\\n  overflow: auto; }\\n\\n/**\\r\\n * 1. Add the correct box sizing in IE 10.\\r\\n * 2. Remove the padding in IE 10.\\r\\n */\\n[type=\"checkbox\"],\\n[type=\"radio\"] {\\n  box-sizing: border-box;\\n  /* 1 */\\n  padding: 0;\\n  /* 2 */ }\\n\\n/**\\r\\n * Correct the cursor style of increment and decrement buttons in Chrome.\\r\\n */\\n[type=\"number\"]::-webkit-inner-spin-button,\\n[type=\"number\"]::-webkit-outer-spin-button {\\n  height: auto; }\\n\\n/**\\r\\n * 1. Correct the odd appearance in Chrome and Safari.\\r\\n * 2. Correct the outline style in Safari.\\r\\n */\\n[type=\"search\"] {\\n  -webkit-appearance: textfield;\\n  /* 1 */\\n  outline-offset: -2px;\\n  /* 2 */ }\\n\\n/**\\r\\n * Remove the inner padding in Chrome and Safari on macOS.\\r\\n */\\n[type=\"search\"]::-webkit-search-decoration {\\n  -webkit-appearance: none; }\\n\\n/**\\r\\n * 1. Correct the inability to style clickable types in iOS and Safari.\\r\\n * 2. Change font properties to `inherit` in Safari.\\r\\n */\\n::-webkit-file-upload-button {\\n  -webkit-appearance: button;\\n  /* 1 */\\n  font: inherit;\\n  /* 2 */ }\\n\\n/* Interactive\\r\\n   ========================================================================== */\\n/*\\r\\n * Add the correct display in Edge, IE 10+, and Firefox.\\r\\n */\\ndetails {\\n  display: block; }\\n\\n/*\\r\\n * Add the correct display in all browsers.\\r\\n */\\nsummary {\\n  display: list-item; }\\n\\n/* Misc\\r\\n   ========================================================================== */\\n/**\\r\\n * Add the correct display in IE 10+.\\r\\n */\\ntemplate {\\n  display: none; }\\n\\n/**\\r\\n * Add the correct display in IE 10.\\r\\n */\\n[hidden] {\\n  display: none; }\\n\\n*,\\n*:after,\\n*:before {\\n  box-sizing: border-box; }\\n\\nhtml,\\nbody {\\n  margin: 0px;\\n  padding: 0px; }\\n\\n#AppCanvas {\\n  margin: 4px; }\\n\\n*::-webkit-scrollbar-track {\\n  background-color: #F5F5F5; }\\n\\n*::-webkit-scrollbar {\\n  width: 8px;\\n  height: 8px;\\n  background-color: #F5F5F5; }\\n\\n*::-webkit-scrollbar-thumb {\\n  background-color: #bcbcbc; }\\n',\"\"])},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._x=r,this._y=i,this.cb=e,this.scope=n}return t.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t(e||this.cb,n||this.scope,this._x,this._y)},t.prototype.set=function(t,e){var n=t||0,r=e||(0!==e?n:0);this._x===n&&this._y===r||(this._x=n,this._y=r,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},r(t,[{key:\"x\",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:\"y\",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(24),o=(r=i)&&r.__esModule?r:{default:r};var a=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],l=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],c=[];function f(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var n=0;n<16;n++)for(var r=f(a[t]*a[n]+u[t]*s[n]),i=f(s[t]*a[n]+l[t]*s[n]),d=f(a[t]*u[n]+u[t]*l[n]),p=f(s[t]*u[n]+l[t]*l[n]),v=0;v<16;v++)if(a[v]===r&&s[v]===i&&u[v]===d&&l[v]===p){e.push(v);break}}for(var _=0;_<16;_++){var y=new o.default;y.set(a[_],s[_],u[_],l[_],0,0),h.push(y)}}();var d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return a[t]},uY:function(t){return s[t]},vX:function(t){return u[t]},vY:function(t){return l[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][d.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW},matrixAppendRotationInv:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=h[d.inv(e)];i.tx=n,i.ty=r,t.append(i)}};e.default=d},function(t,e){t.exports=function(t,e,n){var r;if(n){var i=n.tempAttribState,o=n.attribState;for(r=0;r<i.length;r++)i[r]=!1;for(r=0;r<e.length;r++)i[e[r].attribute.location]=!0;for(r=0;r<o.length;r++)o[r]!==i[r]&&(o[r]=i[r],n.attribState[r]?t.enableVertexAttribArray(r):t.disableVertexAttribArray(r))}else for(r=0;r<e.length;r++){var a=e[r];t.enableVertexAttribArray(a.attribute.location)}}},function(t,e){var n=function(t,e,n,r,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=n||-1,this.format=r||t.RGBA,this.type=i||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=t.videoWidth||t.width,r=t.videoHeight||t.height;r!==this.height||n!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=n,this.height=r};var r=!1;n.prototype.uploadData=function(t,e,n){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!r){if(!i.getExtension(\"OES_texture_float\"))throw new Error(\"floating point textures not available\");r=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||n!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,n,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,n,this.format,this.type,t||null),this.width=e,this.height=n},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},n.fromSource=function(t,e,r){var i=new n(t);return i.premultiplyAlpha=r||!1,i.upload(e),i},n.fromData=function(t,e,r,i){var o=new n(t);return o.uploadData(e,r,i),o},t.exports=n},function(t,e){var n=function(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(t.getShaderInfoLog(r)),null)};t.exports=function(t,e,r,i){var o=n(t,t.VERTEX_SHADER,e),a=n(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,o),t.attachShader(s,a),i)for(var u in i)t.bindAttribLocation(s,i[u],u);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error(\"Pixi.js Error: Could not initialize shader.\"),console.error(\"gl.VALIDATE_STATUS\",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error(\"gl.getError()\",t.getError()),\"\"!==t.getProgramInfoLog(s)&&console.warn(\"Pixi.js Warning: gl.getProgramInfoLog()\",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(o),t.deleteShader(a),s}},function(t,e,n){var r=n(26),i=n(45),o=function(t,e,n,r){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,n||0,r||0)};t.exports=function(t,e){for(var n={},a=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var u=t.getActiveAttrib(e,s),l=r(t,u.type);n[u.name]={type:l,size:i(l),location:t.getAttribLocation(e,u.name),pointer:o}}return n}},function(t,e){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return n[t]}},function(t,e,n){var r=n(26),i=n(47);t.exports=function(t,e){for(var n={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=t.getActiveUniform(e,a),u=s.name.replace(/\\[.*?\\]/,\"\"),l=r(t,s.type);n[u]={type:l,size:s.size,location:t.getUniformLocation(e,u),value:i(l,s.size)}}return n}},function(t,e){var n=function(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e};t.exports=function(t,e){switch(t){case\"float\":return 0;case\"vec2\":return new Float32Array(2*e);case\"vec3\":return new Float32Array(3*e);case\"vec4\":return new Float32Array(4*e);case\"int\":case\"sampler2D\":return 0;case\"ivec2\":return new Int32Array(2*e);case\"ivec3\":return new Int32Array(3*e);case\"ivec4\":return new Int32Array(4*e);case\"bool\":return!1;case\"bvec2\":return n(2*e);case\"bvec3\":return n(3*e);case\"bvec4\":return n(4*e);case\"mat2\":return new Float32Array([1,0,0,1]);case\"mat3\":return new Float32Array([1,0,0,0,1,0,0,0,1]);case\"mat4\":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e){t.exports=function(t,e){return\"precision\"!==t.substring(0,9)?\"precision \"+e+\" float;\\n\"+t:t}},function(t,e){var n=function(t){return function(){return this.data[t].value}},r={float:function(t,e,n){t.uniform1f(e,n)},vec2:function(t,e,n){t.uniform2f(e,n[0],n[1])},vec3:function(t,e,n){t.uniform3f(e,n[0],n[1],n[2])},vec4:function(t,e,n){t.uniform4f(e,n[0],n[1],n[2],n[3])},int:function(t,e,n){t.uniform1i(e,n)},ivec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},ivec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},ivec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},bool:function(t,e,n){t.uniform1i(e,n)},bvec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},bvec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},bvec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},mat2:function(t,e,n){t.uniformMatrix2fv(e,!1,n)},mat3:function(t,e,n){t.uniformMatrix3fv(e,!1,n)},mat4:function(t,e,n){t.uniformMatrix4fv(e,!1,n)},sampler2D:function(t,e,n){t.uniform1i(e,n)}},i={float:function(t,e,n){t.uniform1fv(e,n)},vec2:function(t,e,n){t.uniform2fv(e,n)},vec3:function(t,e,n){t.uniform3fv(e,n)},vec4:function(t,e,n){t.uniform4fv(e,n)},int:function(t,e,n){t.uniform1iv(e,n)},ivec2:function(t,e,n){t.uniform2iv(e,n)},ivec3:function(t,e,n){t.uniform3iv(e,n)},ivec4:function(t,e,n){t.uniform4iv(e,n)},bool:function(t,e,n){t.uniform1iv(e,n)},bvec2:function(t,e,n){t.uniform2iv(e,n)},bvec3:function(t,e,n){t.uniform3iv(e,n)},bvec4:function(t,e,n){t.uniform4iv(e,n)},sampler2D:function(t,e,n){t.uniform1iv(e,n)}};function o(t,e){return function(n){this.data[t].value=n;var o=this.data[t].location;1===e.size?r[e.type](this.gl,o,n):i[e.type](this.gl,o,n)}}function a(t,e){for(var n=e,r=0;r<t.length-1;r++){var i=n[t[r]]||{data:{}};n[t[r]]=i,n=i}return n}t.exports=function(t,e){var r={data:{}};r.gl=t;for(var i=Object.keys(e),s=0;s<i.length;s++){var u=i[s],l=u.split(\".\"),h=l[l.length-1],c=a(l,r),f=e[u];c.data[h]=f,c.gl=t,Object.defineProperty(c,h,{get:n(h),set:o(h,f)})}return r}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(9)),o=n(0),a=c(n(3)),s=c(n(51)),u=c(n(52)),l=c(n(27)),h=n(4);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this)),r=a.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?s.default:u.default;return n.tempDisplayObjectParent=null,n.transform=new r,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new l.default,n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._destroyed=!1,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new h.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new h.Rectangle),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=n,this.transform=e,r},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,r){return e&&(t=e.toGlobal(t,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error(\"setParent: Argument must be a Container\");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},r(e,[{key:\"_tempDisplayObjectParent\",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:\"x\",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:\"y\",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:\"worldTransform\",get:function(){return this.transform.worldTransform}},{key:\"localTransform\",get:function(){return this.transform.localTransform}},{key:\"position\",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:\"scale\",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:\"pivot\",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:\"skew\",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:\"rotation\",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:\"worldVisible\",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:\"mask\",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:\"filters\",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(i.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4),a=n(29);var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return n.position=new o.ObservablePoint(n.onChange,n,0,0),n.scale=new o.ObservablePoint(n.onChange,n,1,1),n.pivot=new o.ObservablePoint(n.onChange,n,0,0),n.skew=new o.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n._localID=0,n._currentLocalID=0,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(e,[{key:\"rotation\",get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4),a=n(29);var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return n.position=new o.Point(0,0),n.scale=new o.Point(1,1),n.skew=new o.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new o.Point(0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},i(e,[{key:\"rotation\",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf(\"data:\"))return\"\";e=e||window.location,a||(a=document.createElement(\"a\"));a.href=t;var n=!(t=o.default.parse(a.href)).port&&\"\"===e.port||t.port===e.port;if(t.hostname!==e.hostname||!n||t.protocol!==e.protocol)return\"anonymous\";return\"\"};var r,i=n(54),o=(r=i)&&r.__esModule?r:{default:r};var a=void 0},function(t,e,n){\"use strict\";var r=n(113),i=n(115);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,l=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),h=[\"'\"].concat(l),c=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(h),f=[\"/\",\"?\",\"#\"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,\"javascript:\":!0},_={javascript:!0,\"javascript:\":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},g=n(116);function b(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof t);var o=t.indexOf(\"?\"),s=-1!==o&&o<t.indexOf(\"#\")?\"?\":\"#\",l=t.split(s);l[0]=l[0].replace(/\\\\/g,\"/\");var b=t=l.join(s);if(b=b.trim(),!n&&1===t.split(\"#\").length){var m=u.exec(b);if(m)return this.path=b,this.href=b,this.pathname=m[1],m[2]?(this.search=m[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search=\"\",this.query={}),this}var x=a.exec(b);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,b=b.substr(x.length)}if(n||x||b.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var T=\"//\"===b.substr(0,2);!T||x&&_[x]||(b=b.substr(2),this.slashes=!0)}if(!_[x]&&(T||x&&!y[x])){for(var E,S,M=-1,O=0;O<f.length;O++){-1!==(C=b.indexOf(f[O]))&&(-1===M||C<M)&&(M=C)}-1!==(S=-1===M?b.lastIndexOf(\"@\"):b.lastIndexOf(\"@\",M))&&(E=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(E)),M=-1;for(O=0;O<c.length;O++){var C;-1!==(C=b.indexOf(c[O]))&&(-1===M||C<M)&&(M=C)}-1===M&&(M=b.length),this.host=b.slice(0,M),b=b.slice(M),this.parseHost(),this.hostname=this.hostname||\"\";var A=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!A)for(var P=this.hostname.split(/\\./),R=(O=0,P.length);O<R;O++){var I=P[O];if(I&&!I.match(d)){for(var D=\"\",k=0,L=I.length;k<L;k++)I.charCodeAt(k)>127?D+=\"x\":D+=I[k];if(!D.match(d)){var N=P.slice(0,O),F=P.slice(O+1),j=I.match(p);j&&(N.push(j[1]),F.unshift(j[2])),F.length&&(b=\"/\"+F.join(\".\")+b),this.hostname=N.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var B=this.port?\":\"+this.port:\"\",U=this.hostname||\"\";this.host=U+B,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==b[0]&&(b=\"/\"+b))}if(!v[w])for(O=0,R=h.length;O<R;O++){var X=h[O];if(-1!==b.indexOf(X)){var H=encodeURIComponent(X);H===X&&(H=escape(X)),b=b.split(X).join(H)}}var G=b.indexOf(\"#\");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var W=b.indexOf(\"?\");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),e&&(this.query=g.parse(this.query)),b=b.slice(0,W)):e&&(this.search=\"\",this.query={}),b&&(this.pathname=b),y[w]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){B=this.pathname||\"\";var Y=this.search||\"\";this.path=B+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||\"\";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,\":\"),t+=\"@\");var e=this.protocol||\"\",n=this.pathname||\"\",r=this.hash||\"\",o=!1,a=\"\";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(o+=\":\"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=g.stringify(this.query));var s=this.search||a&&\"?\"+a||\"\";return e&&\":\"!==e.substr(-1)&&(e+=\":\"),this.slashes||(!e||y[e])&&!1!==o?(o=\"//\"+(o||\"\"),n&&\"/\"!==n.charAt(0)&&(n=\"/\"+n)):o||(o=\"\"),r&&\"#\"!==r.charAt(0)&&(r=\"#\"+r),s&&\"?\"!==s.charAt(0)&&(s=\"?\"+s),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace(\"#\",\"%23\"))+r},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,\"\"===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var h=u[l];\"protocol\"!==h&&(n[h]=t[h])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname=\"/\"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||_[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||\"\").split(\"/\");p.length&&!(t.host=p.shift()););t.host||(t.host=\"\"),t.hostname||(t.hostname=\"\"),\"\"!==p[0]&&p.unshift(\"\"),p.length<2&&p.unshift(\"\"),n.pathname=p.join(\"/\")}if(n.search=t.search,n.query=t.query,n.host=t.host||\"\",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||\"\",g=n.search||\"\";n.path=v+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&\"/\"===n.pathname.charAt(0),m=t.host||t.pathname&&\"/\"===t.pathname.charAt(0),x=m||b||n.host&&t.pathname,w=x,T=n.pathname&&n.pathname.split(\"/\")||[],E=(p=t.pathname&&t.pathname.split(\"/\")||[],n.protocol&&!y[n.protocol]);if(E&&(n.hostname=\"\",n.port=null,n.host&&(\"\"===T[0]?T[0]=n.host:T.unshift(n.host)),n.host=\"\",t.protocol&&(t.hostname=null,t.port=null,t.host&&(\"\"===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(\"\"===p[0]||\"\"===T[0])),m)n.host=t.host||\"\"===t.host?t.host:n.host,n.hostname=t.hostname||\"\"===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(E)n.hostname=n.host=T.shift(),(A=!!(n.host&&n.host.indexOf(\"@\")>0)&&n.host.split(\"@\"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:\"\")+(n.search?n.search:\"\")),n.href=n.format(),n}if(!T.length)return n.pathname=null,n.search?n.path=\"/\"+n.search:n.path=null,n.href=n.format(),n;for(var S=T.slice(-1)[0],M=(n.host||t.host||T.length>1)&&(\".\"===S||\"..\"===S)||\"\"===S,O=0,C=T.length;C>=0;C--)\".\"===(S=T[C])?T.splice(C,1):\"..\"===S?(T.splice(C,1),O++):O&&(T.splice(C,1),O--);if(!x&&!w)for(;O--;O)T.unshift(\"..\");!x||\"\"===T[0]||T[0]&&\"/\"===T[0].charAt(0)||T.unshift(\"\"),M&&\"/\"!==T.join(\"/\").substr(-1)&&T.push(\"\");var A,P=\"\"===T[0]||T[0]&&\"/\"===T[0].charAt(0);E&&(n.hostname=n.host=P?\"\":T.length?T.shift():\"\",(A=!!(n.host&&n.host.indexOf(\"@\")>0)&&n.host.split(\"@\"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift()));return(x=x||n.host&&T.length)&&!P&&T.unshift(\"\"),T.length?n.pathname=T.join(\"/\"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:\"\")+(n.search?n.search:\"\")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(\":\"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(10)),o=n(2),a=n(33),s=n(0),u=l(n(53));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(n,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),!n)throw new Error(\"No video source element specified.\");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var o=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,r));return o.width=n.videoWidth,o.height=n.videoHeight,o._autoUpdate=!0,o._isAutoUpdating=!1,o.autoPlay=i,o.update=o.update.bind(o),o._onCanPlay=o._onCanPlay.bind(o),n.addEventListener(\"play\",o._onPlayStart.bind(o)),n.addEventListener(\"pause\",o._onPlayStop.bind(o)),o.hasLoaded=!1,o.__loaded=!1,o._isSourceReady()?o._onCanPlay():(n.addEventListener(\"canplay\",o._onCanPlay),n.addEventListener(\"canplaythrough\",o._onCanPlay)),o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener(\"canplay\",this._onCanPlay),this.source.removeEventListener(\"canplaythrough\",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit(\"loaded\",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&a.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src=\"\",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,n,r){t._pixiId||(t._pixiId=\"video_\"+(0,o.uid)());var a=o.BaseTextureCache[t._pixiId];return a||(a=new e(t,n,r),i.default.addToCache(a,t._pixiId)),a},e.fromUrl=function(t,n,r,i){var o=document.createElement(\"video\");o.setAttribute(\"webkit-playsinline\",\"\"),o.setAttribute(\"playsinline\",\"\");var a=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===r&&0!==a.indexOf(\"data:\")?o.crossOrigin=(0,u.default)(a):r&&(o.crossOrigin=\"string\"==typeof r?r:\"anonymous\"),Array.isArray(t))for(var s=0;s<t.length;++s)o.appendChild(c(t[s].src||t[s],t[s].mime));else o.appendChild(c(a,t.mime));return o.load(),e.fromVideo(o,n,i)},r(e,[{key:\"autoUpdate\",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(i.default);function c(t,e){if(!e){var n=t.split(\"?\").shift().toLowerCase();e=\"video/\"+n.substr(n.lastIndexOf(\".\")+1)}var r=document.createElement(\"source\");return r.src=t,r.type=e,r}e.default=h,h.fromUrls=h.fromUrl},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(40),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,n){var r=e.width,i=e.height;if(n){var a=t.width/2/r,s=t.height/2/i,u=t.x/r+a,l=t.y/i+s;n=o.default.add(n,o.default.NW),this.x0=u+a*o.default.uX(n),this.y0=l+s*o.default.uY(n),n=o.default.add(n,2),this.x1=u+a*o.default.uX(n),this.y1=l+s*o.default.uY(n),n=o.default.add(n,2),this.x2=u+a*o.default.uX(n),this.y2=l+s*o.default.uY(n),n=o.default.add(n,2),this.x3=u+a*o.default.uX(n),this.y3=l+s*o.default.uY(n)}else this.x0=t.x/r,this.y0=t.y/i,this.x1=(t.x+t.width)/r,this.y1=t.y/i,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/i,this.x3=t.x/r,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=n(4),a=n(0),s=c(n(3)),u=c(n(11)),l=c(n(34)),h=c(n(9));function c(t){return t&&t.__esModule?t:{default:t}}var f=new o.Matrix,d=function(t){function e(n,r,l,h){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return(0,i.sayHello)(n),\"number\"==typeof r&&(r=Object.assign({width:r,height:l||s.default.RENDER_OPTIONS.height},h)),r=Object.assign({},s.default.RENDER_OPTIONS,r),c.options=r,c.type=a.RENDERER_TYPE.UNKNOWN,c.screen=new o.Rectangle(0,0,r.width,r.height),c.view=r.view||document.createElement(\"canvas\"),c.resolution=r.resolution||s.default.RESOLUTION,c.transparent=r.transparent,c.autoResize=r.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=r.preserveDrawingBuffer,c.clearBeforeRender=r.clearBeforeRender,c.roundPixels=r.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString=\"#000000\",c.backgroundColor=r.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new u.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+\"px\",this.view.style.height=e+\"px\")},e.prototype.generateTexture=function(t,e,n,r){r=r||t.getLocalBounds();var i=l.default.create(0|r.width,0|r.height,e,n);return f.tx=-r.x,f.ty=-r.y,this.render(t,i,!1,f,!!t.parent),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},r(e,[{key:\"width\",get:function(){return this.view.width}},{key:\"height\",get:function(){return this.view.height}},{key:\"backgroundColor\",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,i.hex2string)(t),(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(h.default);e.default=d},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(10)),i=o(n(3));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],a=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,null,o));return s.resolution=a||i.default.RESOLUTION,s.width=Math.ceil(n),s.height=Math.ceil(r),s.realWidth=s.width*s.resolution,s.realHeight=s.height*s.resolution,s.scaleMode=void 0!==o?o:i.default.SCALE_MODE,s.hasLoaded=!0,s._glRenderTargets={},s._canvasRenderTarget=null,s.valid=!1,s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit(\"update\",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(r.default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(3),a=(r=o)&&r.__esModule?r:{default:r};var s=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.canvas=document.createElement(\"canvas\"),this.context=this.canvas.getContext(\"2d\"),this.resolution=r||a.default.RESOLUTION,this.resize(e,n)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:\"width\",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:\"height\",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=s},function(t,e,n){\"use strict\";function r(t){var e=document.createElement(\"canvas\");e.width=6,e.height=1;var n=e.getContext(\"2d\");return n.fillStyle=t,n.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if(\"undefined\"==typeof document)return!1;var t=r(\"#ff00ff\"),e=r(\"#ffff00\"),n=document.createElement(\"canvas\");n.width=6,n.height=1;var i=n.getContext(\"2d\");i.globalCompositeOperation=\"multiply\",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var a=o.data;return 255===a[0]&&0===a[1]&&0===a[2]}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=a(n(62)),i=n(4),o=(n(7),a(n(64)));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=new i.Matrix,o=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 otherMatrix;\\n\\nvarying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\n}\\n\",\"varying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform sampler2D mask;\\nuniform float alpha;\\nuniform vec4 maskClamp;\\n\\nvoid main(void)\\n{\\n    float clip = step(3.5,\\n        step(maskClamp.x, vMaskCoord.x) +\\n        step(maskClamp.y, vMaskCoord.y) +\\n        step(vMaskCoord.x, maskClamp.z) +\\n        step(vMaskCoord.y, maskClamp.w));\\n\\n    vec4 original = texture2D(uSampler, vTextureCoord);\\n    vec4 masky = texture2D(mask, vMaskCoord);\\n\\n    original *= (masky.r * masky.a * alpha * clip);\\n\\n    gl_FragColor = original;\\n}\\n\"));return n.renderable=!1,o.maskSprite=n,o.maskMatrix=r,o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){var i=this.maskSprite,a=this.maskSprite.texture;a.valid&&(a.transform||(a.transform=new o.default(a,0)),a.transform.update(),this.uniforms.mask=a,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(a.transform.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=a.transform.uClampFrame,t.applyFilter(this,e,n,r))},e}(r.default);e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(126)),o=n(2),a=n(0),s=u(n(3));function u(t){return t&&t.__esModule?t:{default:t}}var l={},h=function(){function t(e,n,r){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this._blendMode=a.BLEND_MODES.NORMAL,this.uniformData=r||(0,i.default)(this.vertexSrc,this.fragmentSrc,\"projectionMatrix|uSampler\"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},l[this.vertexSrc+this.fragmentSrc]||(l[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=l[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=s.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,n,r,i){t.applyFilter(this,e,n,r)},r(t,[{key:\"blendMode\",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:\"defaultVertexSrc\",get:function(){return[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"uniform mat3 projectionMatrix;\",\"uniform mat3 filterMatrix;\",\"varying vec2 vTextureCoord;\",\"varying vec2 vFilterCoord;\",\"void main(void){\",\"   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\",\"   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\",\"   vTextureCoord = aTextureCoord ;\",\"}\"].join(\"\\n\")}},{key:\"defaultFragmentSrc\",get:function(){return[\"varying vec2 vTextureCoord;\",\"varying vec2 vFilterCoord;\",\"uniform sampler2D uSampler;\",\"uniform sampler2D filterSampler;\",\"void main(void){\",\"   vec4 masky = texture2D(filterSampler, vFilterCoord);\",\"   vec4 sample = texture2D(uSampler, vTextureCoord);\",\"   vec4 color;\",\"   if(mod(vFilterCoord.x, 1.0) > 0.5)\",\"   {\",\"     color = vec4(1.0, 0.0, 0.0, 1.0);\",\"   }\",\"   else\",\"   {\",\"     color = vec4(0.0, 1.0, 0.0, 1.0);\",\"   }\",\"   gl_FragColor = mix(sample, masky, 0.5);\",\"   gl_FragColor *= sample.a;\",\"}\"].join(\"\\n\")}}]),t}();e.default=h},function(t,e){var n,r,i=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],h=!1,c=-1;function f(){h&&u&&(h=!1,u.length?l=u.concat(l):c=-1,l.length&&d())}function d(){if(!h){var t=s(f);h=!0;for(var e=l.length;e;){for(u=l,l=[];++c<e;)u&&u[c].run();c=-1,e=l.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||h||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(t){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(24),a=(r=o)&&r.__esModule?r:{default:r};var s=new a.default,u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._texture=e,this.mapCoord=new a.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===n?.5:n}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,r=0;r<t.length;r+=2){var i=t[r],o=t[r+1];e[r]=i*n.a+o*n.c+n.tx,e[r+1]=i*n.b+o*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=e.orig,i=e.trim;i&&(s.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(s));var o=e.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(e._frame.x+u+l)/o.width,a[1]=(e._frame.y+u+l)/o.height,a[2]=(e._frame.x+e._frame.width-u+l)/o.width,a[3]=(e._frame.y+e._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0},i(t,[{key:\"texture\",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(5)),i=o(n(35));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=r.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(e,n)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(2);var a={align:\"left\",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:\"black\",dropShadowDistance:5,fill:\"black\",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:\"Arial\",fontSize:26,fontStyle:\"normal\",fontVariant:\"normal\",fontWeight:\"normal\",letterSpacing:0,lineHeight:0,lineJoin:\"miter\",miterLimit:10,padding:0,stroke:\"black\",strokeThickness:0,textBaseline:\"alphabetic\",trim:!1,whiteSpace:\"pre\",wordWrap:!1,wordWrapWidth:100,leading:0},s=[\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\"],u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.styleID=0,this.reset(),c(this,e,e)}return t.prototype.clone=function(){var e={};return c(e,this,a),new t(e)},t.prototype.reset=function(){c(this,a,a)},t.prototype.toFontString=function(){var t=\"number\"==typeof this.fontSize?this.fontSize+\"px\":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(\",\"));for(var n=e.length-1;n>=0;n--){var r=e[n].trim();!/([\\\"\\'])[^\\'\\\"]+\\1/.test(r)&&s.indexOf(r)<0&&(r='\"'+r+'\"'),e[n]=r}return this.fontStyle+\" \"+this.fontVariant+\" \"+this.fontWeight+\" \"+t+\" \"+e.join(\",\")},r(t,[{key:\"align\",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:\"breakWords\",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:\"dropShadow\",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:\"dropShadowAlpha\",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:\"dropShadowAngle\",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:\"dropShadowBlur\",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:\"dropShadowColor\",get:function(){return this._dropShadowColor},set:function(t){var e=h(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:\"dropShadowDistance\",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:\"fill\",get:function(){return this._fill},set:function(t){var e=h(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:\"fillGradientType\",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:\"fillGradientStops\",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:\"fontFamily\",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:\"fontSize\",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:\"fontStyle\",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:\"fontVariant\",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:\"fontWeight\",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:\"letterSpacing\",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:\"lineHeight\",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:\"leading\",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:\"lineJoin\",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:\"miterLimit\",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:\"padding\",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:\"stroke\",get:function(){return this._stroke},set:function(t){var e=h(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:\"strokeThickness\",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:\"textBaseline\",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:\"trim\",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:\"whiteSpace\",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:\"wordWrap\",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:\"wordWrapWidth\",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function l(t){return\"number\"==typeof t?(0,o.hex2string)(t):(\"string\"==typeof t&&0===t.indexOf(\"0x\")&&(t=t.replace(\"0x\",\"#\")),t)}function h(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=l(t[e]);return t}return l(t)}function c(t,e,n){for(var r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e,n,r,i,o,a,s,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.text=e,this.style=n,this.width=r,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=l}return t.measureText=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;r=null==r?n.wordWrap:r;var o=n.toFontString(),a=t.measureFont(o),s=i.getContext(\"2d\");s.font=o;for(var u=(r?t.wordWrap(e,n,i):e).split(/(?:\\r\\n|\\r|\\n)/),l=new Array(u.length),h=0,c=0;c<u.length;c++){var f=s.measureText(u[c]).width+(u[c].length-1)*n.letterSpacing;l[c]=f,h=Math.max(h,f)}var d=h+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||a.fontSize+n.strokeThickness,v=Math.max(p,a.fontSize+n.strokeThickness)+(u.length-1)*(p+n.leading);return n.dropShadow&&(v+=n.dropShadowDistance),new t(e,n,d,v,u,l,p+n.leading,h,a)},t.wordWrap=function(e,n){for(var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext(\"2d\"),i=0,o=\"\",a=\"\",s={},u=n.letterSpacing,l=n.whiteSpace,h=t.collapseSpaces(l),c=t.collapseNewlines(l),f=!h,d=n.wordWrapWidth+u,p=t.tokenize(e),v=0;v<p.length;v++){var _=p[v];if(t.isNewline(_)){if(!c){a+=t.addLine(o),f=!h,o=\"\",i=0;continue}_=\" \"}if(h){var y=t.isBreakingSpace(_),g=t.isBreakingSpace(o[o.length-1]);if(y&&g)continue}var b=t.getFromCache(_,u,s,r);if(b>d)if(\"\"!==o&&(a+=t.addLine(o),o=\"\",i=0),t.canBreakWords(_,n.breakWords))for(var m=_.split(\"\"),x=0;x<m.length;x++){for(var w=m[x],T=1;m[x+T];){var E=m[x+T],S=w[w.length-1];if(t.canBreakChars(S,E,_,x,n.breakWords))break;w+=E,T++}x+=w.length-1;var M=t.getFromCache(w,u,s,r);M+i>d&&(a+=t.addLine(o),f=!1,o=\"\",i=0),o+=w,i+=M}else{o.length>0&&(a+=t.addLine(o),o=\"\",i=0);var O=v===p.length-1;a+=t.addLine(_,!O),f=!1,o=\"\",i=0}else b+i>d&&(f=!1,a+=t.addLine(o),o=\"\",i=0),(o.length>0||!t.isBreakingSpace(_)||f)&&(o+=_,i+=b)}return a+=t.addLine(o,!1)},t.addLine=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),e=n?e+\"\\n\":e},t.getFromCache=function(t,e,n,r){var i=n[t];if(void 0===i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t.collapseSpaces=function(t){return\"normal\"===t||\"pre-line\"===t},t.collapseNewlines=function(t){return\"normal\"===t},t.trimRight=function(e){if(\"string\"!=typeof e)return\"\";for(var n=e.length-1;n>=0;n--){var r=e[n];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return\"string\"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return\"string\"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],r=\"\";if(\"string\"!=typeof e)return n;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(\"\"!==r&&(n.push(r),r=\"\"),n.push(o)):r+=o}return\"\"!==r&&n.push(r),n},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,r,i){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={},r=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*s;s=s*t.BASELINE_MULTIPLIER|0,r.width=a,r.height=u,i.fillStyle=\"#f00\",i.fillRect(0,0,a,u),i.font=e,i.textBaseline=\"alphabetic\",i.fillStyle=\"#000\",i.fillText(o,0,s);var l=i.getImageData(0,0,a,u).data,h=l.length,c=4*a,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var v=0;v<c;v+=4)if(255!==l[d+v]){p=!0;break}if(p)break;d+=c}for(n.ascent=s-f,d=h-c,p=!1,f=u;f>s;--f){for(var _=0;_<c;_+=4)if(255!==l[d+_]){p=!0;break}if(p)break;d-=c}return n.descent=f-s,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";e?delete t._fonts[e]:t._fonts={}},t}();e.default=r;var i=document.createElement(\"canvas\");i.width=i.height=10,r._canvas=i,r._context=i.getContext(\"2d\"),r._fonts={},r.METRICS_STRING=\"|Éq\",r.BASELINE_SYMBOL=\"M\",r.BASELINE_MULTIPLIER=1.4,r._newlines=[10,13],r._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e,n,r,i,o,a,s,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.lineWidth=e,this.lineAlignment=l,this.nativeLines=s,this.lineColor=n,this.lineAlpha=r,this._lineTint=n,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=a,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(70),o=l(n(11)),a=n(33),s=l(n(3)),u=n(0);function l(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,n,r,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),\"number\"==typeof e&&(e=Object.assign({width:e,height:n||s.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!l},r)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?a.shared:new a.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},r(t,[{key:\"ticker\",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:\"view\",get:function(){return this.renderer.view}},{key:\"screen\",get:function(){return this.renderer.screen}}]),t}();e.default=h},function(t,e,n){\"use strict\";e.__esModule=!0,e.autoDetectRenderer=function(t,e,n,a){var s=t&&t.forceCanvas;void 0!==a&&(s=a);if(!s&&r.isWebGLSupported())return new o.default(t,e,n);return new i.default(t,e,n)};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(2)),i=a(n(12)),o=a(n(19));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,n){\"use strict\";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var r=n(158);Object.defineProperty(e,\"AnimatedSprite\",{enumerable:!0,get:function(){return s(r).default}});var i=n(159);Object.defineProperty(e,\"TilingSprite\",{enumerable:!0,get:function(){return s(i).default}});var o=n(160);Object.defineProperty(e,\"TilingSpriteRenderer\",{enumerable:!0,get:function(){return s(o).default}});var a=n(161);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"BitmapText\",{enumerable:!0,get:function(){return s(a).default}}),n(162),n(163),n(164)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=u(n(74)),a=u(n(75)),s=u(n(76));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),u=u||5;var l=(0,o.default)(u,!0),h=(0,a.default)(u),c=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,l,h));return c.resolution=s||i.settings.RESOLUTION,c._quality=0,c.quality=r||4,c.strength=n||8,c.firstRun=!0,c}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,u=(0,s.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,a.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var l=t.getRenderTarget(!0),h=e,c=l,f=0;f<this.passes-1;f++){t.applyFilter(this,h,c,!0);var d=c;c=h,h=d}t.applyFilter(this,h,n,r),t.returnRenderTarget(l)}},r(e,[{key:\"blur\",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:\"quality\",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n=Math.ceil(t/2),i=r,o=\"\",a=void 0;a=e?\"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);\":\"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);\";for(var s=0;s<t;s++){var u=a.replace(\"%index%\",s);u=u.replace(\"%sampleIndex%\",s-(n-1)+\".0\"),o+=u,o+=\"\\n\"}return i=(i=i.replace(\"%blur%\",o)).replace(\"%size%\",t)};var r=[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"uniform float strength;\",\"uniform mat3 projectionMatrix;\",\"varying vec2 vBlurTexCoords[%size%];\",\"void main(void)\",\"{\",\"gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\",\"%blur%\",\"}\"].join(\"\\n\")},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){for(var e=r[t],n=e.length,o=i,a=\"\",s=void 0,u=0;u<t;u++){var l=\"gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;\".replace(\"%index%\",u);s=u,u>=n&&(s=t-u-1),l=l.replace(\"%value%\",e[s]),a+=l,a+=\"\\n\"}return o=(o=o.replace(\"%blur%\",a)).replace(\"%size%\",t)};var r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=[\"varying vec2 vBlurTexCoords[%size%];\",\"uniform sampler2D uSampler;\",\"void main(void)\",\"{\",\"    gl_FragColor = vec4(0.0);\",\"    %blur%\",\"}\"].join(\"\\n\")},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),n=15;for(;n>e;)n-=2;return n}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=u(n(74)),a=u(n(75)),s=u(n(76));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),u=u||5;var l=(0,o.default)(u,!1),h=(0,a.default)(u),c=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,l,h));return c.resolution=s||i.settings.RESOLUTION,c._quality=0,c.quality=r||4,c.strength=n||8,c.firstRun=!0,c}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,u=(0,s.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,a.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var l=t.getRenderTarget(!0),h=e,c=l,f=0;f<this.passes-1;f++){t.applyFilter(this,h,c,!0);var d=c;c=h,h=d}t.applyFilter(this,h,n,r),t.returnRenderTarget(l)}},r(e,[{key:\"blur\",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:\"quality\",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},r(t,[{key:\"pointerId\",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},r(t,[{key:\"pointerId\",get:function(){return this._pointerId}},{key:\"flags\",get:function(){return this._flags},set:function(t){this._flags=t}},{key:\"none\",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:\"over\",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:\"rightDown\",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:\"leftDown\",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,n){\"use strict\";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return\"pointer\"===this.cursor},set buttonMode(t){t?this.cursor=\"pointer\":\"pointer\"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,n){\"use strict\";e.__esModule=!0,e.parse=a,e.default=function(){return function(t,e){if(t.data&&t.type===i.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName(\"page\").length&&0!==t.data.getElementsByTagName(\"info\").length&&null!==t.data.getElementsByTagName(\"info\")[0].getAttribute(\"face\")){var n=t.isDataUrl?\"\":r.dirname(t.url);t.isDataUrl&&(\".\"===n&&(n=\"\"),this.baseUrl&&n&&\"/\"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+=\"/\")),(n=n.replace(this.baseUrl,\"\"))&&\"/\"!==n.charAt(n.length-1)&&(n+=\"/\");for(var o=t.data.getElementsByTagName(\"page\"),s={},u=function(n){s[n.metadata.pageFile]=n.texture,Object.keys(s).length===o.length&&(a(t,s),e())},l=0;l<o.length;++l){var h=o[l].getAttribute(\"file\"),c=n+h,f=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===c){p.metadata.pageFile=h,p.texture?u(p):p.onAfterMiddleware.add(u),f=!0;break}}if(!f){var v={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},t.metadata.imageMetadata),parentResource:t};this.add(c,v,u)}}}else e();else e()}};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7)),i=n(15),o=n(72);function a(t,e){t.bitmapFont=o.BitmapText.registerFont(t.data,e)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var o=function(){function t(e,n,r){void 0===n&&(n=!1),i(this,t),this._fn=e,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return r(t,[{key:\"detach\",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function a(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:\"handlers\",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n}},{key:\"has\",value:function(t){if(!(t instanceof o))throw new Error(\"MiniSignal#has(): First arg must be a MiniSignalBinding object.\");return t._owner===this}},{key:\"dispatch\",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:\"add\",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(\"function\"!=typeof t)throw new Error(\"MiniSignal#add(): First arg must be a Function.\");return a(this,new o(t,!1,e))}},{key:\"once\",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(\"function\"!=typeof t)throw new Error(\"MiniSignal#once(): First arg must be a Function.\");return a(this,new o(t,!0,e))}},{key:\"detach\",value:function(t){if(!(t instanceof o))throw new Error(\"MiniSignal#detach(): First arg must be a MiniSignalBinding object.\");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:\"detachAll\",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=o,e.default=s,t.exports=e.default},function(t,e,n){\"use strict\";t.exports=function(t,e){e=e||{};for(var n={key:[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],q:{name:\"queryKey\",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?\"strict\":\"loose\"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||\"\";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(t,e,r){e&&(i[n.q.name][e]=r)}),i}},function(t,e,n){\"use strict\";function r(){}function i(t){return function(){if(null===t)throw new Error(\"Callback was already called.\");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,n,r){var i=0,o=t.length;!function a(s){s||i===o?n&&n(s):r?setTimeout(function(){e(t[i++],a)},1):e(t[i++],a)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error(\"Concurrency must not be zero\");var n=0,o={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(t,e){a(t,!1,e)},kill:function(){n=0,o.drain=r,o.started=!1,o._tasks=[]},unshift:function(t,e){a(t,!0,e)},process:function(){for(;!o.paused&&n<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(n+=1)===o.concurrency&&o.saturated(),t(e.data,i(s(e)))}},length:function(){return o._tasks.length},running:function(){return n},idle:function(){return o._tasks.length+n===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function a(t,e,n){if(null!=n&&\"function\"!=typeof n)throw new Error(\"task callback must be a function\");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var i={data:t,callback:\"function\"==typeof n?n:r};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout(function(){return o.process()},1)}}function s(t){return function(){n-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),n<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,n){\"use strict\";e.__esModule=!0,e.encodeBinary=i;var r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";function i(t){for(var e=\"\",n=0;n<t.length;){for(var i=[0,0,0],o=[0,0,0,0],a=0;a<i.length;++a)n<t.length?i[a]=255&t.charCodeAt(n++):i[a]=0;switch(o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2],n-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var s=0;s<o.length;++s)e+=r.charAt(o[s])}return e}t.exports.default=i},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){return function(t,e){var n=t.name+\"_image\";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[n]){var r={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=u(t,this.baseUrl);this.add(n,o,r,function(n){if(n.error)e(n.error);else{var r=new s.Spritesheet(n.texture.baseTexture,t.data,t.url);r.parse(function(){t.spritesheet=r,t.textures=r.textures,e()})}})}else e()}},e.getResourcePath=u;var r,i=n(15),o=n(54),a=(r=o)&&r.__esModule?r:{default:r},s=n(1);function u(t,e){return t.isDataUrl?t.data.meta.image:a.default.resolve(t.url.replace(e,\"\"),t.data.meta.image)}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=a.default.fromLoader(t.data,t.url,t.name)),e()}};var r,i=n(15),o=n(8),a=(r=o)&&r.__esModule?r:{default:r}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(16),o=(r=i)&&r.__esModule?r:{default:r};var a=function(t){function e(n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return a._ready=!0,a.verticesX=r||10,a.verticesY=i||10,a.drawMode=o.default.DRAW_MODES.TRIANGLES,a.refresh(),a}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,n=[],r=[],i=[],o=this.verticesX-1,a=this.verticesY-1,s=t.width/o,u=t.height/a,l=0;l<e;l++){var h=l%this.verticesX,c=l/this.verticesX|0;n.push(h*s,c*u),r.push(h/o,c/a)}for(var f=o*a,d=0;d<f;d++){var p=d%o,v=d/o|0,_=v*this.verticesX+p,y=v*this.verticesX+p+1,g=(v+1)*this.verticesX+p,b=(v+1)*this.verticesX+p+1;i.push(_,y,g),i.push(y,b,g)}this.vertices=new Float32Array(n),this.uvs=new Float32Array(r),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(o.default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=r},function(t,e,n){\"use strict\";n(92),n(94),n(95),n(96),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,n){\"use strict\";var r,i=n(93),o=(r=i)&&r.__esModule?r:{default:r};Object.assign||(Object.assign=o.default)},function(t,e,n){\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String(\"abc\");if(t[5]=\"de\",\"5\"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e[\"_\"+String.fromCharCode(n)]=n;if(\"0123456789\"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(\"\"))return!1;var r={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(t){r[t]=t}),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},r)).join(\"\")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null==t)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(s[a[h]]=n[a[h]])}}return s}},function(t,e,n){\"use strict\";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var n=Date.now(),r=[\"ms\",\"moz\",\"webkit\",\"o\"],i=0;i<r.length&&!t.requestAnimationFrame;++i){var o=r[i];t.requestAnimationFrame=t[o+\"RequestAnimationFrame\"],t.cancelAnimationFrame=t[o+\"CancelAnimationFrame\"]||t[o+\"CancelRequestAnimationFrame\"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if(\"function\"!=typeof t)throw new TypeError(t+\"is not a function\");var e=Date.now(),r=16+n-e;return r<0&&(r=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,n(22))},function(t,e,n){\"use strict\";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,n){\"use strict\";Number.isInteger||(Number.isInteger=function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(25),o=(r=i)&&r.__esModule?r:{default:r},a=n(0);var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n,this.radius=r,this.type=a.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-t,i=this.y-e;return(r*=r)+(i*=i)<=n},t.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(25),o=(r=i)&&r.__esModule?r:{default:r},a=n(0);var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n,this.width=r,this.height=i,this.type=a.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return(n*=n)+(r*=r)<=1},t.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(23),o=(r=i)&&r.__esModule?r:{default:r},a=n(0);var s=function(){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),Array.isArray(n[0])&&(n=n[0]),n[0]instanceof o.default){for(var i=[],s=0,u=n.length;s<u;s++)i.push(n[s].x,n[s].y);n=i}this.closed=!0,this.points=n,this.type=a.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];s>e!=l>e&&t<(e-s)/(l-s)*(u-a)+a&&(n=!n)}return n},t}();e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(0);var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.x=e,this.y=n,this.width=i,this.height=o,this.radius=a,this.type=r.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),r=e-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=t-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=e-(this.y+this.height-this.radius))*r<=i)return!0;if((n=t-(this.x+this.radius))*n+r*r<=i)return!0}return!1},t}();e.default=i},function(t,e){t.exports=function(t,e){var n=t.getContext(\"webgl\",e)||t.getContext(\"experimental-webgl\",e);if(!n)throw new Error(\"This browser does not support webGL. Try using the canvas renderer\");return n}},function(t,e){var n=new ArrayBuffer(0),r=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r),this._updateID=0};r.prototype.upload=function(t,e,n){n||this.bind();var r=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?r.bufferSubData(this.type,e,t):r.bufferData(this.type,t,this.drawType),this.data=t},r.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(t,e,n){return new r(t,t.ARRAY_BUFFER,e,n)},r.createIndexBuffer=function(t,e,n){return new r(t,t.ELEMENT_ARRAY_BUFFER,e,n)},r.create=function(t,e,n,i){return new r(t,e,n,i)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=r},function(t,e,n){var r=n(42),i=function(t,e,n){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=n||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new r(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,n,r){this.bind();var i=this.gl;i.clearColor(t,e,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var n=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,n,o){var a=r.fromData(t,null,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},i.createFloat32=function(t,e,n,o){var a=new r.fromData(t,o,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},t.exports=i},function(t,e,n){var r=n(43),i=n(44),o=n(46),a=n(48),s=n(49),u=function(t,e,n,u,l){this.gl=t,u&&(e=a(e,u),n=a(n,u)),this.program=r(t,e,n,l),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=s(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,n){var r=n(41);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension(\"OES_vertex_array_object\")||t.getExtension(\"MOZ_OES_vertex_array_object\")||t.getExtension(\"WEBKIT_OES_vertex_array_object\")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,n=0;n<this.attributes.length;n++){var i=this.attributes[n];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return r(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,n,r,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,n){var r=this.gl;return this.indexBuffer?r.drawElements(t,e||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(n||0)):r.drawArrays(t,n,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,n){t.exports={compileProgram:n(43),defaultValue:n(47),extractAttributes:n(44),extractUniforms:n(46),generateUniformAccessObject:n(49),setPrecision:n(48),mapSize:n(45),mapType:n(26)}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){if(o.default.tablet||o.default.phone)return 4;return t};var r,i=n(28),o=(r=i)&&r.__esModule?r:{default:r}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,n){\"use strict\";function r(t,e){if(t&&e)for(var n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=r,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)r(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,n){\"use strict\";t.exports=function(t,e,n){var r,i=t.length;if(!(e>=i||0===n)){var o=i-(n=e+n>i?i-e:n);for(r=e;r<o;++r)t[r]=t[r+n];t.length=o}}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[r.BLEND_MODES.NORMAL_NPM]=r.BLEND_MODES.NORMAL,t[r.BLEND_MODES.ADD_NPM]=r.BLEND_MODES.ADD,t[r.BLEND_MODES.SCREEN_NPM]=r.BLEND_MODES.SCREEN,e[r.BLEND_MODES.NORMAL]=r.BLEND_MODES.NORMAL_NPM,e[r.BLEND_MODES.ADD]=r.BLEND_MODES.ADD_NPM,e[r.BLEND_MODES.SCREEN]=r.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var r=n(0)},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var a=\"object\"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,h=1,c=26,f=38,d=700,p=72,v=128,_=\"-\",y=/^xn--/,g=/[^\\x20-\\x7E]/,b=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,m={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},x=l-h,w=Math.floor,T=String.fromCharCode;function E(t){throw new RangeError(m[t])}function S(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function M(t,e){var n=t.split(\"@\"),r=\"\";return n.length>1&&(r=n[0]+\"@\",t=n[1]),r+S((t=t.replace(b,\".\")).split(\".\"),e).join(\".\")}function O(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function C(t){return S(t,function(t){var e=\"\";return t>65535&&(e+=T((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=T(t)}).join(\"\")}function A(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,n){var r=0;for(t=n?w(t/d):t>>1,t+=w(t/e);t>x*c>>1;r+=l)t=w(t/x);return w(r+(x+1)*t/(t+f))}function R(t){var e,n,r,i,o,a,s,f,d,y,g,b=[],m=t.length,x=0,T=v,S=p;for((n=t.lastIndexOf(_))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&E(\"not-basic\"),b.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=x,a=1,s=l;i>=m&&E(\"invalid-input\"),((f=(g=t.charCodeAt(i++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:l)>=l||f>w((u-x)/a))&&E(\"overflow\"),x+=f*a,!(f<(d=s<=S?h:s>=S+c?c:s-S));s+=l)a>w(u/(y=l-d))&&E(\"overflow\"),a*=y;S=P(x-o,e=b.length+1,0==o),w(x/e)>u-T&&E(\"overflow\"),T+=w(x/e),x%=e,b.splice(x++,0,T)}return C(b)}function I(t){var e,n,r,i,o,a,s,f,d,y,g,b,m,x,S,M=[];for(b=(t=O(t)).length,e=v,n=0,o=p,a=0;a<b;++a)(g=t[a])<128&&M.push(T(g));for(r=i=M.length,i&&M.push(_);r<b;){for(s=u,a=0;a<b;++a)(g=t[a])>=e&&g<s&&(s=g);for(s-e>w((u-n)/(m=r+1))&&E(\"overflow\"),n+=(s-e)*m,e=s,a=0;a<b;++a)if((g=t[a])<e&&++n>u&&E(\"overflow\"),g==e){for(f=n,d=l;!(f<(y=d<=o?h:d>=o+c?c:d-o));d+=l)S=f-y,x=l-y,M.push(T(A(y+S%x,0))),f=w(S/x);M.push(T(A(f,0))),o=P(n,m,r==i),n=0,++r}++n,++e}return M.join(\"\")}s={version:\"1.4.1\",ucs2:{decode:O,encode:C},decode:R,encode:I,toASCII:function(t){return M(t,function(t){return g.test(t)?\"xn--\"+I(t):t})},toUnicode:function(t){return M(t,function(t){return y.test(t)?R(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(114)(t),n(22))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){\"use strict\";t.exports={isString:function(t){return\"string\"==typeof t},isObject:function(t){return\"object\"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){\"use strict\";e.decode=e.parse=n(117),e.encode=e.stringify=n(118)},function(t,e,n){\"use strict\";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||\"&\",n=n||\"=\";var a={};if(\"string\"!=typeof t||0===t.length)return a;var s=/\\+/g;t=t.split(e);var u=1e3;o&&\"number\"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var h=0;h<l;++h){var c,f,d,p,v=t[h].replace(s,\"%20\"),_=v.indexOf(n);_>=0?(c=v.substr(0,_),f=v.substr(_+1)):(c=v,f=\"\"),d=decodeURIComponent(c),p=decodeURIComponent(f),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}},function(t,e,n){\"use strict\";var r=function(t){switch(typeof t){case\"string\":return t;case\"boolean\":return t?\"true\":\"false\";case\"number\":return isFinite(t)?t:\"\";default:return\"\"}};t.exports=function(t,e,n,s){return e=e||\"&\",n=n||\"=\",null===t&&(t=void 0),\"object\"==typeof t?o(a(t),function(a){var s=encodeURIComponent(r(a))+n;return i(t[a])?o(t[a],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[a]))}).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):\"\"};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(3)),o=n(0),a=s(n(120));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,n))},t.prototype.addOnce=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},r(t,[{key:\"FPS\",get:function(){return 1e3/this.elapsedMS}},{key:\"minFPS\",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.fn=e,this.context=n,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=s(n(12)),i=n(0),o=n(4),a=s(n(17));function s(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,n=this.renderer,r=e._frame.width,s=e._frame.height,l=t.transform.worldTransform,h=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(n.setBlendMode(t.blendMode),e.valid)){n.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==f&&(n.context[n.smoothProperty]=f),e.trim?(h=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(h=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(l.copy(u),l=u,o.GroupD8.matrixAppendRotationInv(l,e.rotate,h,c),h=0,c=0),h-=r/2,c-=s/2,n.roundPixels?(n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution|0,l.ty*n.resolution|0),h|=0,c|=0):n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution,l.ty*n.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=a.default.getTintedTexture(t,t.tint)),n.context.drawImage(t.tintedTexture,0,0,r*d,s*d,h*n.resolution,c*n.resolution,r*n.resolution,s*n.resolution)):n.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,r*d,s*d,h*n.resolution,c*n.resolution,r*n.resolution,s*n.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=l,r.default.registerPlugin(\"sprite\",l)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(0);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var n=t.alpha,r=t.transform.worldTransform,i=e.resolution;e.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=n},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,n=t.graphicsData.length;if(0!==n){e.beginPath();for(var i=0;i<n;i++){var o=t.graphicsData[i],a=o.shape;if(o.type===r.SHAPES.POLY){var s=a.points,u=o.holes,l=void 0,h=void 0;e.moveTo(s[0],s[1]);for(var c=2;c<s.length;c+=2)e.lineTo(s[c],s[c+1]);if(s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath(),u.length>0){l=0;for(var f=0;f<s.length;f+=2)l+=s[f]*s[f+3]-s[f+1]*s[f+2];for(var d=0;d<u.length;d++){s=u[d].points,h=0;for(var p=0;p<s.length;p+=2)h+=s[p]*s[p+3]-s[p+1]*s[p+2];if(e.moveTo(s[0],s[1]),h*l<0)for(var v=2;v<s.length;v+=2)e.lineTo(s[v],s[v+1]);else for(var _=s.length-2;_>=2;_-=2)e.lineTo(s[_],s[_+1])}}}else if(o.type===r.SHAPES.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(o.type===r.SHAPES.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(o.type===r.SHAPES.ELIP){var y=2*a.width,g=2*a.height,b=a.x-y/2,m=a.y-g/2,x=y/2*.5522848,w=g/2*.5522848,T=b+y,E=m+g,S=b+y/2,M=m+g/2;e.moveTo(b,M),e.bezierCurveTo(b,M-w,S-x,m,S,m),e.bezierCurveTo(S+x,m,T,M-w,T,M),e.bezierCurveTo(T,M+w,S+x,E,S,E),e.bezierCurveTo(S-x,E,b,M+w,b,M),e.closePath()}else if(o.type===r.SHAPES.RREC){var O=a.x,C=a.y,A=a.width,P=a.height,R=a.radius,I=Math.min(A,P)/2|0;R=R>I?I:R,e.moveTo(O,C+R),e.lineTo(O,C+P-R),e.quadraticCurveTo(O,C+P,O+R,C+P),e.lineTo(O+A-R,C+P),e.quadraticCurveTo(O+A,C+P,O+A,C+P-R),e.lineTo(O+A,C+R),e.quadraticCurveTo(O+A,C,O+A-R,C),e.lineTo(O+R,C),e.quadraticCurveTo(O,C,O,C+R),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,a.default)()?(t[i.BLEND_MODES.NORMAL]=\"source-over\",t[i.BLEND_MODES.ADD]=\"lighter\",t[i.BLEND_MODES.MULTIPLY]=\"multiply\",t[i.BLEND_MODES.SCREEN]=\"screen\",t[i.BLEND_MODES.OVERLAY]=\"overlay\",t[i.BLEND_MODES.DARKEN]=\"darken\",t[i.BLEND_MODES.LIGHTEN]=\"lighten\",t[i.BLEND_MODES.COLOR_DODGE]=\"color-dodge\",t[i.BLEND_MODES.COLOR_BURN]=\"color-burn\",t[i.BLEND_MODES.HARD_LIGHT]=\"hard-light\",t[i.BLEND_MODES.SOFT_LIGHT]=\"soft-light\",t[i.BLEND_MODES.DIFFERENCE]=\"difference\",t[i.BLEND_MODES.EXCLUSION]=\"exclusion\",t[i.BLEND_MODES.HUE]=\"hue\",t[i.BLEND_MODES.SATURATION]=\"saturate\",t[i.BLEND_MODES.COLOR]=\"color\",t[i.BLEND_MODES.LUMINOSITY]=\"luminosity\"):(t[i.BLEND_MODES.NORMAL]=\"source-over\",t[i.BLEND_MODES.ADD]=\"lighter\",t[i.BLEND_MODES.MULTIPLY]=\"source-over\",t[i.BLEND_MODES.SCREEN]=\"source-over\",t[i.BLEND_MODES.OVERLAY]=\"source-over\",t[i.BLEND_MODES.DARKEN]=\"source-over\",t[i.BLEND_MODES.LIGHTEN]=\"source-over\",t[i.BLEND_MODES.COLOR_DODGE]=\"source-over\",t[i.BLEND_MODES.COLOR_BURN]=\"source-over\",t[i.BLEND_MODES.HARD_LIGHT]=\"source-over\",t[i.BLEND_MODES.SOFT_LIGHT]=\"source-over\",t[i.BLEND_MODES.DIFFERENCE]=\"source-over\",t[i.BLEND_MODES.EXCLUSION]=\"source-over\",t[i.BLEND_MODES.HUE]=\"source-over\",t[i.BLEND_MODES.SATURATION]=\"source-over\",t[i.BLEND_MODES.COLOR]=\"source-over\",t[i.BLEND_MODES.LUMINOSITY]=\"source-over\");return t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var r,i=n(0),o=n(60),a=(r=o)&&r.__esModule?r:{default:r}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=d(n(18)),i=d(n(19)),o=d(n(35)),a=d(n(136)),s=d(n(137)),u=d(n(138)),l=d(n(3)),h=n(2),c=d(n(5)),f=d(n(32));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=0,_=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));r.vertSize=5,r.vertByteSize=4*r.vertSize,r.size=l.default.SPRITE_BATCH_SIZE,r.buffers=[];for(var i=1;i<=f.default.nextPow2(r.size);i*=2)r.buffers.push(new u.default(4*i*r.vertByteSize));r.indices=(0,o.default)(r.size),r.shader=null,r.currentIndex=0,r.groups=[];for(var a=0;a<r.size;a++)r.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return r.sprites=[],r.vertexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.on(\"prerender\",r.onPrerender,r),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,s.default)(this.MAX_TEXTURES,t)),this.shader=(0,a.default)(t,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,n=0;n<this.vaoMax;n++){var r=this.vertexBuffers[n]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(r,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(r,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,n=f.default.nextPow2(this.currentIndex),r=f.default.log2(n),i=this.buffers[r],o=this.sprites,a=this.groups,s=i.float32View,u=i.uint32View,d=this.boundTextures,_=this.renderer.boundTextures,y=this.renderer.textureGC.count,g=0,b=void 0,m=void 0,x=1,w=0,T=a[0],E=void 0,S=void 0,M=h.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];T.textureCount=0,T.start=0,T.blend=M,p++;var O=void 0;for(O=0;O<e;++O){var C=_[O];C._enabled!==p?(d[O]=C,C._virtalBoundId=O,C._enabled=p):d[O]=this.renderer.emptyTextures[O]}for(p++,O=0;O<this.currentIndex;++O){var A=o[O];o[O]=null,b=A._texture.baseTexture;var P=h.premultiplyBlendMode[Number(b.premultipliedAlpha)][A.blendMode];if(M!==P&&(M=P,m=null,w=e,p++),m!==b&&(m=b,b._enabled!==p)){if(w===e&&(p++,T.size=O-T.start,w=0,(T=a[x++]).blend=M,T.textureCount=0,T.start=O),b.touched=y,-1===b._virtalBoundId)for(var R=0;R<e;++R){var I=(R+v)%e,D=d[I];if(D._enabled!==p){v++,D._virtalBoundId=-1,b._virtalBoundId=I,d[I]=b;break}}b._enabled=p,T.textureCount++,T.ids[w]=b._virtalBoundId,T.textures[w++]=b}if(E=A.vertexData,S=A._texture._uvs.uvsUint32,this.renderer.roundPixels){var k=this.renderer.resolution;s[g]=(E[0]*k|0)/k,s[g+1]=(E[1]*k|0)/k,s[g+5]=(E[2]*k|0)/k,s[g+6]=(E[3]*k|0)/k,s[g+10]=(E[4]*k|0)/k,s[g+11]=(E[5]*k|0)/k,s[g+15]=(E[6]*k|0)/k,s[g+16]=(E[7]*k|0)/k}else s[g]=E[0],s[g+1]=E[1],s[g+5]=E[2],s[g+6]=E[3],s[g+10]=E[4],s[g+11]=E[5],s[g+15]=E[6],s[g+16]=E[7];u[g+2]=S[0],u[g+7]=S[1],u[g+12]=S[2],u[g+17]=S[3];var L=Math.min(A.worldAlpha,1),N=L<1&&b.premultipliedAlpha?(0,h.premultiplyTint)(A._tintRGB,L):A._tintRGB+(255*L<<24);u[g+3]=u[g+8]=u[g+13]=u[g+18]=N,s[g+4]=s[g+9]=s[g+14]=s[g+19]=b._virtalBoundId,g+=20}if(T.size=O-T.start,l.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,j=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),B=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(j,F.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(j,F.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(j,F.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&B.addAttribute(j,F.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=B}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(O=0;O<e;++O)_[O]._virtalBoundId=-1;for(O=0;O<x;++O){for(var U=a[O],X=U.textureCount,H=0;H<X;H++)m=U.textures[H],_[U.ids[H]]!==m&&this.renderer.bindTexture(m,U.ids[H],!0),m._virtalBoundId=-1;this.renderer.state.setBlendMode(U.blend),t.drawElements(t.TRIANGLES,6*U.size,t.UNSIGNED_SHORT,6*U.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),l.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off(\"prerender\",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},e}(r.default);e.default=_,i.default.registerPlugin(\"sprite\",_)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(13)),i=o(n(61));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.scissor=!1,r.scissorData=null,r.scissorRenderTarget=null,r.enableScissor=!0,r.alphaMaskPool=[],r.alphaMaskIndex=0,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var n=e.worldTransform,r=Math.atan2(n.b,n.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e;var r=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,n),t.filterArea=r,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var n=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(n.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(r.x*i,(n.root?n.size.height-r.y-r.height:r.y)*i,r.width*i,r.height*i),this.scissorRenderTarget=n,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(r.default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var r=a(t),i=a(e);return Object.assign(r,i)};var r,i=n(5);var o=((r=i)&&r.__esModule?r:{default:r}).default.shader.defaultValue;function a(t){for(var e=new RegExp(\"^(projectionMatrix|uSampler|filterArea|filterClamp)$\"),n={},r=void 0,i=t.replace(/\\s+/g,\" \").split(/\\s*;\\s*/),a=0;a<i.length;a++){var s=i[a].trim();if(s.indexOf(\"uniform\")>-1){var u=s.split(\" \"),l=u[1],h=u[2],c=1;h.indexOf(\"[\")>-1&&(r=h.split(/\\[|]/),h=r[0],c*=Number(r[1])),h.match(e)||(n[h]={value:o(l,c),name:h,type:l})}}return n}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(13),o=(r=i)&&r.__esModule?r:{default:r};var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.stencilMaskStack=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,n,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(o.default);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=h(n(13)),i=h(n(20)),o=h(n(65)),a=n(4),s=h(n(14)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(129)),l=h(n(32));function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var f=function(){function t(){c(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new a.Rectangle,this.destinationFrame=new a.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),d=function(t){function e(n){c(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.gl=r.renderer.gl,r.quad=new o.default(r.gl,n.state.attribState),r.shaderCache={},r.pool={},r.filterData=null,r.managedFilters=[],r.renderer.on(\"prerender\",r.onPrerender,r),r._screenWidth=n.view.width,r._screenHeight=n.view.height,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var n=this.renderer,r=this.filterData;if(!r){r=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=r={index:0,stack:[i]},this.filterData=r}var o=r.stack[++r.index],a=r.stack[0].destinationFrame;o||(o=r.stack[r.index]=new f);var s=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===n.screen.width&&t.filterArea.height===n.screen.height,u=e[0].resolution,l=0|e[0].padding,h=s?n.screen:t.filterArea||t.getBounds(!0),c=o.sourceFrame,d=o.destinationFrame;c.x=(h.x*u|0)/u,c.y=(h.y*u|0)/u,c.width=(h.width*u|0)/u,c.height=(h.height*u|0)/u,s||(r.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(a),c.pad(l)),d.width=c.width,d.height=c.height;var p=this.getPotRenderTarget(n.gl,c.width,c.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=p,p.setFrame(d,c),n.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],n=t.stack[t.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var r=n.filters;if(1===r.length)r[0].apply(this,n.renderTarget,e.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var i=n.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);o.setFrame(n.destinationFrame,n.sourceFrame),o.clear();var a=0;for(a=0;a<r.length-1;++a){r[a].apply(this,i,o,!0,n);var s=i;i=o,o=s}r[a].apply(this,i,e.renderTarget,!1,n),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}n.clear(),t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,n,r){var i=this.renderer,o=i.gl,a=t.glShaders[i.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new s.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[i.CONTEXT_UID]=new s.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(n),r&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),n===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(a,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var n=e.uniformData,r=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=s}for(var u in n)if(t.uniforms.data[u]){var l=n[u].type;if(\"sampler2d\"===l&&0!==r[u]){if(r[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(r[u].baseTexture,i);else{t.uniforms[u]=i;var h=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],h.activeTexture(h.TEXTURE0+i),r[u].texture.bind()}i++}else if(\"mat3\"===l)void 0!==r[u].a?t.uniforms[u]=r[u].toArray(!0):t.uniforms[u]=r[u];else if(\"vec2\"===l)if(void 0!==r[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=r[u].x,c[1]=r[u].y,t.uniforms[u]=c}else t.uniforms[u]=r[u];else\"float\"===l?t.uniforms.data[u].value!==n[u]&&(t.uniforms[u]=r[u]):t.uniforms[u]=r[u]}},e.prototype.getRenderTarget=function(t,e){var n=this.filterData.stack[this.filterData.index],r=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,e||n.resolution);return r.setFrame(n.destinationFrame,n.sourceFrame),r},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var n=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,n.sourceFrame,n.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,n=this.managedFilters;e.off(\"prerender\",this.onPrerender,this);for(var r=0;r<n.length;r++)t||n[r].glShaders[e.CONTEXT_UID].destroy(),delete n[r].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,n,r){var o=\"screen\";n*=r,(e*=r)===this._screenWidth&&n===this._screenHeight||(o=(65535&(e=l.default.nextPow2(e)))<<16|65535&(n=l.default.nextPow2(n))),this.pool[o]||(this.pool[o]=[]);var a=this.pool[o].pop();if(!a){var s=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),a=new i.default(t,e,n,null,1),t.bindTexture(t.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return a.resolution=r,a.defaultFrame.width=a.size.width=e/r,a.defaultFrame.height=a.size.height=n/r,a.filterPoolKey=o,a},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var n=0;n<e.length;n++)e[n].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(r.default);e.default=d},function(t,e,n){\"use strict\";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,n){var r=t.identity();return r.translate(e.x/n.width,e.y/n.height),r.scale(n.width,n.height),r},e.calculateNormalizedScreenSpaceMatrix=function(t,e,n){var r=t.identity();r.translate(e.x/n.width,e.y/n.height);var i=n.width/e.width,o=n.height/e.height;return r.scale(i,o),r},e.calculateSpriteMatrix=function(t,e,n,i){var o=i._texture.orig,a=t.set(n.width,0,0,n.height,e.x,e.y),s=i.worldTransform.copy(r.Matrix.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(i.anchor.x,i.anchor.y),a};var r=n(4)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(5),o=n(0),a=n(20),s=(r=a)&&r.__esModule?r:{default:r},u=n(2);var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var n=this.gl,r=!!t._glRenderTargets;if(!t.hasLoaded)return null;var a=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<a.length;++u)if(a[u]===t){e=u;break}}a[e]=t,n.activeTexture(n.TEXTURE0+e);var l=t._glTextures[this.renderer.CONTEXT_UID];if(l)r?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):l.upload(t.source);else{if(r){var h=new s.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);h.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=h,l=h.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(l=new i.GLTexture(this.gl,null,null,null,null)).bind(e),l.premultiplyAlpha=!0,l.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=l,t.on(\"update\",this.updateTexture,this),t.on(\"dispose\",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&l.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?l.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?l.enableWrapRepeat():l.enableWrapMirrorRepeat()):l.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?l.enableNearestScaling():l.enableLinearScaling()}return l},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var n=this.renderer,r=n.CONTEXT_UID,i=t._glTextures,o=t._glRenderTargets;if(i[r]&&(n.unbindTexture(t),i[r].destroy(),t.off(\"update\",this.updateTexture,this),t.off(\"dispose\",this.destroyTexture,this),delete i[r],!e)){var a=this._managedTextures.indexOf(t);-1!==a&&(0,u.removeItems)(this._managedTextures,a,1)}o&&o[r]&&(n._activeRenderTarget===o[r]&&n.bindRenderTarget(n.rootRenderTarget),o[r].destroy(),delete o[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off(\"update\",this.updateTexture,this),e.off(\"dispose\",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(0),o=n(3),a=(r=o)&&r.__esModule?r:{default:r};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=a.default.GC_MAX_IDLE,this.checkCountMax=a.default.GC_MAX_CHECK_COUNT,this.mode=a.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,n=!1,r=0;r<e.length;r++){var i=e[r];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},t}();e.default=s},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(133),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(e),this.nativeVaoExtension=e.getExtension(\"OES_vertex_array_object\")||e.getExtension(\"MOZ_OES_vertex_array_object\")||e.getExtension(\"WEBKIT_OES_vertex_array_object\")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?\"enable\":\"disable\"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?\"enable\":\"disable\"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?\"enable\":\"disable\"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?\"CW\":\"CCW\"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[r.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[r.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var r=n(0)},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[r.DRAW_MODES.POINTS]=t.POINTS,e[r.DRAW_MODES.LINES]=t.LINES,e[r.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[r.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[r.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[r.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[r.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var r=n(0)},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn(\"Provided WebGL context does not have a stencil buffer, masks may not render correctly\")}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n=a;n=(n=n.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e=\"\";e+=\"\\n\",e+=\"\\n\";for(var n=0;n<t;n++)n>0&&(e+=\"\\nelse \"),n<t-1&&(e+=\"if(textureId == \"+n+\".0)\"),e+=\"\\n{\",e+=\"\\n\\tcolor = texture2D(uSamplers[\"+n+\"], vTextureCoord);\",e+=\"\\n}\";return e+=\"\\n\",e+=\"\\n\"}(e));for(var r=new o.default(t,\"precision highp float;\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec4 aColor;\\nattribute float aTextureId;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\nvarying float vTextureId;\\n\\nvoid main(void){\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vTextureId = aTextureId;\\n    vColor = aColor;\\n}\\n\",n),i=[],s=0;s<e;s++)i[s]=s;return r.bind(),r.uniforms.uSamplers=i,r};var r,i=n(14),o=(r=i)&&r.__esModule?r:{default:r};n(7);var a=[\"varying vec2 vTextureCoord;\",\"varying vec4 vColor;\",\"varying float vTextureId;\",\"uniform sampler2D uSamplers[%count%];\",\"void main(void){\",\"vec4 color;\",\"float textureId = floor(vTextureId+0.5);\",\"%forloop%\",\"gl_FragColor = color * vColor;\",\"}\"].join(\"\\n\")},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n=!e;if(0===t)throw new Error(\"Invalid value of `0` passed to `checkMaxIfStatementsInShader`\");if(n){var r=document.createElement(\"canvas\");r.width=1,r.height=1,e=o.default.createContext(r)}var i=e.createShader(e.FRAGMENT_SHADER);for(;;){var u=a.replace(/%forloop%/gi,s(t));if(e.shaderSource(i,u),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}n&&e.getExtension(\"WEBGL_lose_context\")&&e.getExtension(\"WEBGL_lose_context\").loseContext();return t};var r,i=n(5),o=(r=i)&&r.__esModule?r:{default:r};var a=[\"precision mediump float;\",\"void main(void){\",\"float test = 0.1;\",\"%forloop%\",\"gl_FragColor = vec4(0.0);\",\"}\"].join(\"\\n\");function s(t){for(var e=\"\",n=0;n<t;++n)n>0&&(e+=\"\\nelse \"),n<t-1&&(e+=\"if(test == \"+n+\".0){}\");return e}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=r},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=d(n(31)),o=d(n(8)),a=n(4),s=n(2),u=n(0),l=d(n(3)),h=d(n(66)),c=d(n(67)),f=d(n(140));function d(t){return t&&t.__esModule?t:{default:t}}var p={texture:!0,children:!1,baseTexture:!0},v=function(t){function e(n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(i=i||document.createElement(\"canvas\")).width=3,i.height=3;var s=o.default.fromCanvas(i,l.default.SCALE_MODE,\"text\");s.orig=new a.Rectangle,s.trim=new a.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,s));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=i,u.context=u.canvas.getContext(\"2d\"),u.resolution=l.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font=\"\",u.text=n,u.style=r,u.localStyleID=-1,u}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var n=this.context,r=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=r.width,o=r.height,a=r.lines,s=r.lineHeight,u=r.lineWidths,l=r.maxLineWidth,h=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=e.stroke,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;var f=void 0,d=void 0;if(e.dropShadow){n.fillStyle=e.dropShadowColor,n.globalAlpha=e.dropShadowAlpha,n.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(n.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,_=0;_<a.length;_++)f=e.strokeThickness/2,d=e.strokeThickness/2+_*s+h.ascent,\"right\"===e.align?f+=l-u[_]:\"center\"===e.align&&(f+=(l-u[_])/2),e.fill&&(this.drawLetterSpacing(a[_],f+p+e.padding,d+v+e.padding),e.stroke&&e.strokeThickness&&(n.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(a[_],f+p+e.padding,d+v+e.padding,!0),n.strokeStyle=e.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(e,a);for(var y=0;y<a.length;y++)f=e.strokeThickness/2,d=e.strokeThickness/2+y*s+h.ascent,\"right\"===e.align?f+=l-u[y]:\"center\"===e.align&&(f+=(l-u[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[y],f+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(a[y],f+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(t,\"\"),a=e,s=0,u=\"\";s<t.length;)u=o[s++],r?this.context.strokeText(u,a,n):this.context.fillText(u,a,n),a+=this.context.measureText(u).width+i;else r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,n.trim.width=n._frame.width=t.width/this.resolution,n.trim.height=n._frame.height=t.height/this.resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.emit(\"update\",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var n=void 0,r=void 0,i=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,l=t.fill.slice(),h=t.fillGradientStops.slice();if(!h.length)for(var c=l.length+1,f=1;f<c;++f)h.push(f/c);if(l.unshift(t.fill[0]),h.unshift(0),l.push(t.fill[t.fill.length-1]),h.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,0,a/2,s),r=(l.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<l.length;p++)o=\"number\"==typeof h[p]?h[p]/e.length+d/e.length:i/r,n.addColorStop(o,l[p]),i++}}else{n=this.context.createLinearGradient(0,s/2,a,s/2),r=l.length+1,i=1;for(var v=0;v<l.length;v++)o=\"number\"==typeof h[v]?h[v]:i/r,n.addColorStop(o,l[v]),i++}return n},e.prototype.destroy=function(e){\"boolean\"==typeof e&&(e={children:e}),e=Object.assign({},p,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},r(e,[{key:\"width\",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,s.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:\"height\",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,s.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:\"style\",get:function(){return this._style},set:function(t){(t=t||{})instanceof h.default?this._style=t:this._style=new h.default(t),this.localStyleID=-1,this.dirty=!0}},{key:\"text\",get:function(){return this._text},set:function(t){t=String(\"\"===t||null==t?\" \":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(i.default);e.default=v},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=t.width,n=t.height,r=t.getContext(\"2d\"),i=r.getImageData(0,0,e,n).data,o=i.length,a={top:null,left:null,right:null,bottom:null},s=null,u=void 0,l=void 0,h=void 0;for(u=0;u<o;u+=4)0!==i[u+3]&&(l=u/4%e,h=~~(u/4/e),null===a.top&&(a.top=h),null===a.left?a.left=l:l<a.left&&(a.left=l),null===a.right?a.right=l+1:a.right<l&&(a.right=l+1),null===a.bottom?a.bottom=h:a.bottom<h&&(a.bottom=h));null!==a.top&&(e=a.right-a.left,n=a.bottom-a.top+1,s=r.getImageData(a.left,a.top,e,n));return{height:n,width:e,data:s}}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=p(n(11)),i=p(n(34)),o=p(n(8)),a=p(n(68)),s=p(n(31)),u=n(4),l=n(2),h=n(0),c=p(n(27)),f=p(n(142)),d=p(n(12));function p(t){return t&&t.__esModule?t:{default:t}}var v=void 0,_=new u.Matrix,y=new u.Point,g=new Float32Array(4),b=new Float32Array(4),m=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r.fillAlpha=1,r.lineWidth=0,r.nativeLines=n,r.lineColor=0,r.lineAlignment=.5,r.graphicsData=[],r.tint=16777215,r._prevTint=16777215,r.blendMode=h.BLEND_MODES.NORMAL,r.currentPath=null,r._webGL={},r.isMask=!1,r.boundsPadding=0,r._localBounds=new c.default,r.dirty=0,r.fastRectDirty=-1,r.clearDirty=0,r.boundsDirty=-1,r.cachedSpriteDirty=!1,r._spriteRect=null,r._fastRect=!1,r._prevRectTint=null,r._prevRectFillColor=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var n=0;n<this.graphicsData.length;++n)t.graphicsData.push(this.graphicsData[n].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,n,r,i,o){var a=t-2*n+i,s=e-2*r+o,u=2*n-2*t,l=2*r-2*e,h=4*(a*a+s*s),c=4*(a*u+s*l),f=u*u+l*l,d=2*Math.sqrt(h+c+f),p=Math.sqrt(h),v=2*h*p,_=2*Math.sqrt(f),y=c/p;return(v*d+p*c*(d-_)+(4*f*h-c*c)*Math.log((2*p+y+d)/(y+_)))/(4*v)},e.prototype._bezierCurveLength=function(t,e,n,r,i,o,a,s){for(var u=0,l=0,h=0,c=0,f=0,d=0,p=0,v=0,_=0,y=0,g=0,b=t,m=e,x=1;x<=10;++x)y=b-(v=(p=(d=(f=1-(l=x/10))*f)*f)*t+3*d*l*n+3*f*(h=l*l)*i+(c=h*l)*a),g=m-(_=p*e+3*d*l*r+3*f*h*o+c*s),b=v,m=_,u+=Math.sqrt(y*y+g*g);return u},e.prototype._segmentsCount=function(t){var n=Math.ceil(t/e.CURVES.maxLength);return n<e.CURVES.minSegments?n=e.CURVES.minSegments:n>e.CURVES.maxSegments&&(n=e.CURVES.maxSegments),n},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this.lineAlignment=r,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var n=new u.Polygon([t,e]);return n.closed=!1,this.drawShape(n),this},e.prototype.lineTo=function(t,e){var n=this.currentPath.shape.points,r=n[n.length-2],i=n[n.length-1];return r===t&&i===e||(n.push(t,e),this.dirty++),this},e.prototype.quadraticCurveTo=function(t,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,a=0,s=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],l=o[o.length-1],h=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(u,l,t,n,r,i)):20,c=1;c<=h;++c){var f=c/h;a=u+(t-u)*f,s=l+(n-l)*f,o.push(a+(t+(r-t)*f-a)*f,s+(n+(i-n)*f-s)*f)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,n,r,i,o,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,u=s[s.length-2],l=s[s.length-1];s.length-=2;var h=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(u,l,t,n,r,i,o,a)):20;return(0,f.default)(u,l,t,n,r,i,o,a,h,s),this.dirty++,this},e.prototype.arcTo=function(t,e,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1]-e,u=a-t,l=r-e,h=n-t,c=Math.abs(s*h-u*l);if(c<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=s*s+u*u,d=l*l+h*h,p=s*l+u*h,v=i*Math.sqrt(f)/c,_=i*Math.sqrt(d)/c,y=v*p/f,g=_*p/d,b=v*h+_*u,m=v*l+_*s,x=u*(_+y),w=s*(_+y),T=h*(v+g),E=l*(v+g),S=Math.atan2(w-m,x-b),M=Math.atan2(E-m,T-b);this.arc(b+t,m+e,i,S,M,u*l>h*s)}return this.dirty++,this},e.prototype.arc=function(t,n,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===o)return this;!a&&o<=i?o+=h.PI_2:a&&i<=o&&(i+=h.PI_2);var s=o-i,u=e.CURVES.adaptive?this._segmentsCount(Math.abs(s)*r):40*Math.ceil(Math.abs(s)/h.PI_2);if(0===s)return this;var l=t+Math.cos(i)*r,c=n+Math.sin(i)*r,f=this.currentPath?this.currentPath.shape.points:null;if(f){var d=Math.abs(f[f.length-2]-l),p=Math.abs(f[f.length-1]-c);d<.001&&p<.001||f.push(l,c)}else this.moveTo(l,c),f=this.currentPath.shape.points;for(var v=s/(2*u),_=2*v,y=Math.cos(v),g=Math.sin(v),b=u-1,m=b%1/b,x=0;x<=b;++x){var w=v+i+_*(x+m*x),T=Math.cos(w),E=-Math.sin(w);f.push((y*T+g*E)*r+t,(y*-E+g*T)*r+n)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,n,r){return this.drawShape(new u.Rectangle(t,e,n,r)),this},e.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new u.RoundedRectangle(t,e,n,r,i)),this},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new u.Circle(t,e,n)),this},e.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new u.Ellipse(t,e,n,r)),this},e.prototype.drawPolygon=function(t){var e=t,n=!0;if(e instanceof u.Polygon&&(n=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}var i=new u.Polygon(e);return i.closed=n,this.drawShape(i),this},e.prototype.drawStar=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||r/2;for(var a=-1*Math.PI/2+o,s=2*n,u=h.PI_2/s,l=[],c=0;c<s;c++){var f=c%2?i:r,d=c*u+a;l.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(l)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===h.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new s.default(new o.default(o.default.WHITE)));var n=this._spriteRect,r=this.graphicsData[0].fillColor;if(16777215===this.tint)n.tint=r;else if(this.tint!==this._prevRectTint||r!==this._prevRectFillColor){var i=g,a=b;(0,l.hex2rgb)(r,i),(0,l.hex2rgb)(this.tint,a),i[0]*=a[0],i[1]*=a[1],i[2]*=a[2],n.tint=(0,l.rgb2hex)(i),this._prevRectTint=this.tint,this._prevRectFillColor=r}n.alpha=this.graphicsData[0].fillAlpha,n.worldAlpha=this.worldAlpha*n.alpha,n.blendMode=this.blendMode,n._texture._frame.width=e.width,n._texture._frame.height=e.height,n.transform.worldTransform=this.transform.worldTransform,n.anchor.set(-e.x/e.width,-e.y/e.height),n._onAnchorUpdate(),n._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,y);for(var e=this.graphicsData,n=0;n<e.length;++n){var r=e[n];if(r.fill&&(r.shape&&r.shape.contains(y.x,y.y))){if(r.holes)for(var i=0;i<r.holes.length;i++){if(r.holes[i].contains(y.x,y.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0;if(this.graphicsData.length)for(var i=0,o=0,a=0,s=0,u=0,l=0;l<this.graphicsData.length;l++){var c=this.graphicsData[l],f=c.type,d=c.lineWidth*c.lineAlignment;if(i=c.shape,f===h.SHAPES.RECT||f===h.SHAPES.RREC)o=i.x-d,a=i.y-d,t=o<t?o:t,e=o+(s=i.width+2*d)>e?o+s:e,n=a<n?a:n,r=a+(u=i.height+2*d)>r?a+u:r;else if(f===h.SHAPES.CIRC)o=i.x,a=i.y,t=o-(s=i.radius+d)<t?o-s:t,e=o+s>e?o+s:e,n=a-(u=i.radius+d)<n?a-u:n,r=a+u>r?a+u:r;else if(f===h.SHAPES.ELIP)o=i.x,a=i.y,t=o-(s=i.width+d)<t?o-s:t,e=o+s>e?o+s:e,n=a-(u=i.height+d)<n?a-u:n,r=a+u>r?a+u:r;else for(var p=i.points,v=0,_=0,y=0,g=0,b=0,m=0,x=0,w=0,T=0;T+2<p.length;T+=2)o=p[T],a=p[T+1],v=p[T+2],_=p[T+3],y=Math.abs(v-o),g=Math.abs(_-a),u=2*d,(s=Math.sqrt(y*y+g*g))<1e-9||(t=(x=(v+o)/2)-(b=(u/s*g+y)/2)<t?x-b:t,e=x+b>e?x+b:e,n=(w=(_+a)/2)-(m=(u/s*y+g)/2)<n?w-m:n,r=w+m>r?w+m:r)}else t=0,e=0,n=0,r=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=n-E,this._localBounds.maxY=r+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===h.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),r=i.default.create(n.width,n.height,t,e);v||(v=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(_),_.invert(),_.tx-=n.x,_.ty-=n.y,v.render(this,r,!0,_);var a=o.default.fromCanvas(r.baseTexture._canvasRenderTarget.canvas,t,\"graphics\");return a.baseTexture.resolution=e,a.baseTexture.update(),a},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(var r in this._webGL)for(var i=0;i<this._webGL[r].data.length;++i)this._webGL[r].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(r.default);e.default=m,m._SPRITE_TEXTURE=null,m.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n,r,i,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],h=0,c=0,f=0,d=0,p=0;l.push(t,e);for(var v=1,_=0;v<=u;++v)f=(c=(h=1-(_=v/u))*h)*h,p=(d=_*_)*_,l.push(f*t+3*c*_*n+3*h*d*i+p*a,f*e+3*c*_*r+3*h*d*o+p*s);return l}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(2),i=n(0),o=d(n(18)),a=d(n(19)),s=d(n(144)),u=d(n(145)),l=d(n(146)),h=d(n(147)),c=d(n(148)),f=d(n(149));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.graphicsDataPool=[],r.primitiveShader=null,r.gl=n.gl,r.CONTEXT_UID=0,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,n=e.gl,i=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var a=this.primitiveShader;e.bindShader(a),e.state.setBlendMode(t.blendMode);for(var s=0,u=o.data.length;s<u;s++){var l=(i=o.data[s]).shader;e.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,r.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?n.drawArrays(n.LINES,0,i.points.length/6):i.vao.draw(n.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,n=t._webGL[this.CONTEXT_UID];if(n||(n=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),n.dirty=t.dirty,t.clearDirty!==n.clearDirty){n.clearDirty=t.clearDirty;for(var r=0;r<n.data.length;r++)this.graphicsDataPool.push(n.data[r]);n.data.length=0,n.lastIndex=0}for(var o=void 0,a=void 0,s=n.lastIndex;s<t.graphicsData.length;s++){var u=t.graphicsData[s];o=this.getWebGLData(n,0),u.nativeLines&&u.lineWidth&&(a=this.getWebGLData(n,0,!0),n.lastIndex++),u.type===i.SHAPES.POLY&&(0,l.default)(u,o,a),u.type===i.SHAPES.RECT?(0,h.default)(u,o,a):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,f.default)(u,o,a):u.type===i.SHAPES.RREC&&(0,c.default)(u,o,a),n.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<n.data.length;d++)(o=n.data[d]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,n){var r=t.data[t.data.length-1];return(!r||r.nativeLines!==n||r.points.length>32e4)&&((r=this.graphicsDataPool.pop()||new s.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=n,r.reset(e),t.data.push(r)),r.dirty=!0,r},e}(o.default);e.default=p,a.default.registerPlugin(\"graphics\",p)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(5),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new o.default.VertexArrayObject(e,r).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(14);var o=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,[\"attribute vec2 aVertexPosition;\",\"attribute vec4 aColor;\",\"uniform mat3 translationMatrix;\",\"uniform mat3 projectionMatrix;\",\"uniform float alpha;\",\"uniform vec3 tint;\",\"varying vec4 vColor;\",\"void main(void){\",\"   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\",\"   vColor = aColor * vec4(tint * alpha, alpha);\",\"}\"].join(\"\\n\"),[\"varying vec4 vColor;\",\"void main(void){\",\"   gl_FragColor = vColor;\",\"}\"].join(\"\\n\")))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){t.points=t.shape.points.slice();var a=t.points;if(t.fill&&a.length>=6){for(var s=[],u=t.holes,l=0;l<u.length;l++){var h=u[l];s.push(a.length/2),a=a.concat(h.points)}var c=e.points,f=e.indices,d=a.length/2,p=(0,i.hex2rgb)(t.fillColor),v=t.fillAlpha,_=p[0]*v,y=p[1]*v,g=p[2]*v,b=(0,o.default)(a,s,2);if(!b)return;for(var m=c.length/6,x=0;x<b.length;x+=3)f.push(b[x]+m),f.push(b[x]+m),f.push(b[x+1]+m),f.push(b[x+2]+m),f.push(b[x+2]+m);for(var w=0;w<d;w++)c.push(a[2*w],a[2*w+1],_,y,g,v)}t.lineWidth>0&&(0,r.default)(t,e,n)};var r=a(n(21)),i=n(2),o=a(n(30));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var r=t.shape,i=r.x,s=r.y,u=r.width,l=r.height;if(t.fill){var h=(0,a.hex2rgb)(t.fillColor),c=t.fillAlpha,f=h[0]*c,d=h[1]*c,p=h[2]*c,v=e.points,_=e.indices,y=v.length/6;v.push(i,s),v.push(f,d,p,c),v.push(i+u,s),v.push(f,d,p,c),v.push(i,s+l),v.push(f,d,p,c),v.push(i+u,s+l),v.push(f,d,p,c),_.push(y,y,y+1,y+2,y+3,y+3)}if(t.lineWidth){var g=t.points;t.points=[i,s,i+u,s,i+u,s+l,i,s+l,i,s],(0,o.default)(t,e,n),t.points=g}};var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r},a=n(2)},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var a=t.shape,s=a.x,l=a.y,h=a.width,c=a.height,f=a.radius,d=[];if(d.push(s+f,l),u(s+h-f,l,s+h,l,s+h,l+f,d),u(s+h,l+c-f,s+h,l+c,s+h-f,l+c,d),u(s+f,l+c,s,l+c,s,l+c-f,d),u(s,l+f,s,l,s+f+1e-10,l,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,_=p[0]*v,y=p[1]*v,g=p[2]*v,b=e.points,m=e.indices,x=b.length/6,w=(0,r.default)(d,null,2),T=0,E=w.length;T<E;T+=3)m.push(w[T]+x),m.push(w[T]+x),m.push(w[T+1]+x),m.push(w[T+2]+x),m.push(w[T+2]+x);for(var S=0,M=d.length;S<M;S++)b.push(d[S],d[++S],_,y,g,v)}if(t.lineWidth){var O=t.points;t.points=d,(0,i.default)(t,e,n),t.points=O}};var r=a(n(30)),i=a(n(21)),o=n(2);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){return t+(e-t)*n}function u(t,e,n,r,i,o){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,l=0,h=0,c=0,f=0,d=0,p=0,v=0;p<=20;++p)u=s(t,n,v=p/20),l=s(e,r,v),h=s(n,i,v),c=s(r,o,v),f=s(u,h,v),d=s(l,c,v),a.push(f,d);return a}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e,n){var r=t.shape,i=r.x,u=r.y,l=void 0,h=void 0;t.type===a.SHAPES.CIRC?(l=r.radius,h=r.radius):(l=r.width,h=r.height);if(0===l||0===h)return;var c=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),f=2*Math.PI/c;if(t.fill){var d=(0,s.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,_=d[1]*p,y=d[2]*p,g=e.points,b=e.indices,m=g.length/6;b.push(m);for(var x=0;x<c+1;x++)g.push(i,u,v,_,y,p),g.push(i+Math.sin(f*x)*l,u+Math.cos(f*x)*h,v,_,y,p),b.push(m++,m++);b.push(m-1)}if(t.lineWidth){var w=t.points;t.points=[];for(var T=0;T<c;T++)t.points.push(i+Math.sin(f*-T)*l,u+Math.cos(f*-T)*h);t.points.push(t.points[0],t.points[1]),(0,o.default)(t,e,n),t.points=w}};var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r},a=n(0),s=n(2)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(12),o=(r=i)&&r.__esModule?r:{default:r},a=n(0);var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;n.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var s=0;s<t.graphicsData.length;s++){var u=t.graphicsData[s],l=u.shape,h=u._fillTint,c=u._lineTint;if(n.lineWidth=u.lineWidth,u.type===a.SHAPES.POLY){n.beginPath();var f=l.points,d=u.holes,p=void 0,v=void 0;n.moveTo(f[0],f[1]);for(var _=2;_<f.length;_+=2)n.lineTo(f[_],f[_+1]);if(l.closed&&n.closePath(),d.length>0){p=0;for(var y=0;y<f.length;y+=2)p+=f[y]*f[y+3]-f[y+1]*f[y+2];for(var g=0;g<d.length;g++){f=d[g].points,v=0;for(var b=0;b<f.length;b+=2)v+=f[b]*f[b+3]-f[b+1]*f[b+2];if(n.moveTo(f[0],f[1]),v*p<0)for(var m=2;m<f.length;m+=2)n.lineTo(f[m],f[m+1]);else for(var x=f.length-2;x>=2;x-=2)n.lineTo(f[x],f[x+1]);d[g].closed&&n.closePath()}}u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.stroke())}else if(u.type===a.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.fillRect(l.x,l.y,l.width,l.height)),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.strokeRect(l.x,l.y,l.width,l.height));else if(u.type===a.SHAPES.CIRC)n.beginPath(),n.arc(l.x,l.y,l.radius,0,2*Math.PI),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.stroke());else if(u.type===a.SHAPES.ELIP){var w=2*l.width,T=2*l.height,E=l.x-w/2,S=l.y-T/2;n.beginPath();var M=w/2*.5522848,O=T/2*.5522848,C=E+w,A=S+T,P=E+w/2,R=S+T/2;n.moveTo(E,R),n.bezierCurveTo(E,R-O,P-M,S,P,S),n.bezierCurveTo(P+M,S,C,R-O,C,R),n.bezierCurveTo(C,R+O,P+M,A,P,A),n.bezierCurveTo(P-M,A,E,R+O,E,R),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.stroke())}else if(u.type===a.SHAPES.RREC){var I=l.x,D=l.y,k=l.width,L=l.height,N=l.radius,F=Math.min(k,L)/2|0;N=N>F?F:N,n.beginPath(),n.moveTo(I,D+N),n.lineTo(I,D+L-N),n.quadraticCurveTo(I,D+L,I+N,D+L),n.lineTo(I+k-N,D+L),n.quadraticCurveTo(I+k,D+L,I+k,D+L-N),n.lineTo(I+k,D+N),n.quadraticCurveTo(I+k,D,I+k-N,D),n.lineTo(I+N,D),n.quadraticCurveTo(I,D,I,D+N),n.closePath(),(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle=\"#\"+(\"00000\"+(0|h).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle=\"#\"+(\"00000\"+(0|c).toString(16)).substr(-6),n.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,r=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*r*255,o._lineTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*r*255}},t.prototype.renderPolygon=function(t,e,n){n.moveTo(t[0],t[1]);for(var r=1;r<t.length/2;++r)n.lineTo(t[2*r],t[2*r+1]);e&&n.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=s,o.default.registerPlugin(\"graphics\",s)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o=n(2);var a=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=n,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r(t,null,[{key:\"BATCH_SIZE\",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,n=(0,o.getResolutionOfUrl)(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,r=t.BATCH_SIZE,o=this.baseTexture.sourceScale;n-e<r&&n<this._frameKeys.length;){var a=this._frameKeys[n],s=this._frames[a],u=s.frame;if(u){var l=null,h=null,c=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,f=new i.Rectangle(0,0,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution);l=s.rotated?new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(h=new i.Rectangle(Math.floor(s.spriteSourceSize.x*o)/this.resolution,Math.floor(s.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[a]=new i.Texture(this.baseTexture,l,f,h,s.rotated?2:0,s.anchor),i.Texture.addToCache(this.textures[a],a)}n++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];var n=t[e],r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;this.animations[e].push(this.textures[a])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t){var e=t.mesh,n=t.particles,r=t.extras,o=t.filters,a=t.prepare,s=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError(\"SpriteBatch does not exist any more, please use the new ParticleContainer instead.\")}},AssetLoader:{get:function(){throw new ReferenceError(\"The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.\")}},Stage:{get:function(){return i(\"You do not need to use a PIXI Stage any more, you can simply render any container.\"),t.Container}},DisplayObjectContainer:{get:function(){return i(\"DisplayObjectContainer has been shortened to Container, please use Container from now on.\"),t.Container}},Strip:{get:function(){return i(\"The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.\"),e.Mesh}},Rope:{get:function(){return i(\"The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.\"),e.Rope}},ParticleContainer:{get:function(){return i(\"The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.\"),n.ParticleContainer}},MovieClip:{get:function(){return i(\"The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.\"),r.AnimatedSprite}},TilingSprite:{get:function(){return i(\"The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.\"),r.TilingSprite}},BitmapText:{get:function(){return i(\"The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.\"),r.BitmapText}},blendModes:{get:function(){return i(\"The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.\"),t.BLEND_MODES}},scaleModes:{get:function(){return i(\"The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.\"),t.SCALE_MODES}},BaseTextureCache:{get:function(){return i(\"The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.\"),t.utils.BaseTextureCache}},TextureCache:{get:function(){return i(\"The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.\"),t.utils.TextureCache}},math:{get:function(){return i(\"The math namespace is deprecated, please access members already accessible on PIXI.\"),t}},AbstractFilter:{get:function(){return i(\"AstractFilter has been renamed to Filter, please use PIXI.Filter\"),t.Filter}},TransformManual:{get:function(){return i(\"TransformManual has been renamed to TransformBase, please update your pixi-spine\"),t.TransformBase}},TARGET_FPMS:{get:function(){return i(\"PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS\"),t.settings.TARGET_FPMS},set:function(e){i(\"PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS\"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return i(\"PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION\"),t.settings.FILTER_RESOLUTION},set:function(e){i(\"PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION\"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return i(\"PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION\"),t.settings.RESOLUTION},set:function(e){i(\"PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION\"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return i(\"PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES\"),t.settings.MIPMAP_TEXTURES},set:function(e){i(\"PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES\"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return i(\"PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE\"),t.settings.SPRITE_BATCH_SIZE},set:function(e){i(\"PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE\"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return i(\"PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES\"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){i(\"PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES\"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return i(\"PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX\"),t.settings.RETINA_PREFIX},set:function(e){i(\"PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX\"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return i(\"PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS\"),t.settings.RENDER_OPTIONS}}});for(var l=[{parent:\"TRANSFORM_MODE\",target:\"TRANSFORM_MODE\"},{parent:\"GC_MODES\",target:\"GC_MODE\"},{parent:\"WRAP_MODES\",target:\"WRAP_MODE\"},{parent:\"SCALE_MODES\",target:\"SCALE_MODE\"},{parent:\"PRECISION\",target:\"PRECISION_FRAGMENT\"}],h=function(e){var n=l[e];Object.defineProperty(t[n.parent],\"DEFAULT\",{get:function(){return i(\"PIXI.\"+n.parent+\".DEFAULT has been deprecated, please use PIXI.settings.\"+n.target),t.settings[n.target]},set:function(e){i(\"PIXI.\"+n.parent+\".DEFAULT has been deprecated, please use PIXI.settings.\"+n.target),t.settings[n.target]=e}})},c=0;c<l.length;c++)h(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return i(\"PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT\"),t.settings.PRECISION_FRAGMENT},set:function(e){i(\"PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT\"),t.settings.PRECISION_FRAGMENT=e}}}),r.AnimatedSprite&&Object.defineProperties(r,{MovieClip:{get:function(){return i(\"The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.\"),r.AnimatedSprite}}});r&&Object.defineProperties(r,{TextureTransform:{get:function(){return i(\"The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on.\"),t.TextureMatrix}}});t.DisplayObject.prototype.generateTexture=function(t,e,n){return i(\"generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)\"),t.generateTexture(this,e,n)},t.Graphics.prototype.generateTexture=function(t,e){return i(\"graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture\"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return i(\"GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical\"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,n,r){this.legacyRenderer.render(t,this,n,e,!r),i(\"RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)\")},t.RenderTexture.prototype.getImage=function(t){return i(\"RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)\"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return i(\"RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)\"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return i(\"RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)\"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return i(\"RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)\"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,i(\"setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;\")},r.BitmapText&&(r.BitmapText.prototype.setText=function(t){this.text=t,i(\"setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';\")});t.Text.prototype.setText=function(t){this.text=t,i(\"setText is now deprecated, please use the text property, e.g : myText.text = 'my text';\")},t.Text.calculateFontProperties=function(e){return i(\"Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont\"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return i(\"Text.fontPropertiesCache is deprecated\"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i(\"Text.fontPropertiesCanvas is deprecated\"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i(\"Text.fontPropertiesContext is deprecated\"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,i(\"setStyle is now deprecated, please use the style property, e.g : myText.style = style;\")},t.Text.prototype.determineFontProperties=function(e){return i(\"determineFontProperties is now deprecated, please use TextMetrics.measureFont method\"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return i(\"getFontStyle is now deprecated, please use TextStyle.toFontString() instead\"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){i(\"text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on\");var t=\"number\"==typeof this._fontSize?this._fontSize+\"px\":this._fontSize;return this._fontStyle+\" \"+this._fontVariant+\" \"+this._fontWeight+\" \"+t+\" \"+this._fontFamily},set:function(t){i(\"text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on\"),t.indexOf(\"italic\")>1?this._fontStyle=\"italic\":t.indexOf(\"oblique\")>-1?this._fontStyle=\"oblique\":this._fontStyle=\"normal\",t.indexOf(\"small-caps\")>-1?this._fontVariant=\"small-caps\":this._fontVariant=\"normal\";var e=t.split(\" \"),n=-1;this._fontSize=26;for(var r=0;r<e.length;++r)if(e[r].match(/(px|pt|em|%)/)){n=r,this._fontSize=e[r];break}this._fontWeight=\"normal\";for(var o=0;o<n;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(n>-1&&n<e.length-1){this._fontFamily=\"\";for(var a=n+1;a<e.length;++a)this._fontFamily+=e[a]+\" \";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily=\"Arial\";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,i(\"setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;\")},t.Texture.addTextureToCache=function(e,n){t.Texture.addToCache(e,n),i(\"Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.\")},t.Texture.removeTextureFromCache=function(e){return i(\"Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache\"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return i(\"AstractFilter has been renamed to Filter, please use PIXI.Filter\"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return i(\"filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.\"),t.SpriteMaskFilter}},VoidFilter:{get:function(){return i(\"VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter\"),o.AlphaFilter}}}),t.utils.uuid=function(){return i(\"utils.uuid() is deprecated, please use utils.uid() from now on.\"),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i(\"utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on\"),t.CanvasTinter.canUseMultiply};var f=!0;Object.defineProperty(t.utils,\"_saidHello\",{set:function(t){t&&(i(\"PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()\"),this.skipHello()),f=t},get:function(){return f}}),a.BasePrepare&&(a.BasePrepare.prototype.register=function(t,e){return i(\"renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook\"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this});a.canvas&&Object.defineProperty(a.canvas,\"UPLOADS_PER_FRAME\",{set:function(){i(\"PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer\")},get:function(){return i(\"PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter\"),NaN}});a.webgl&&Object.defineProperty(a.webgl,\"UPLOADS_PER_FRAME\",{set:function(){i(\"PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer\")},get:function(){return i(\"PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter\"),NaN}});if(s.Loader){var d=s.Resource,p=s.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return i(\"The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.\"),this.type===d.TYPE.JSON}},isXml:{get:function(){return i(\"The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.\"),this.type===d.TYPE.XML}},isImage:{get:function(){return i(\"The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.\"),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return i(\"The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.\"),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return i(\"The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.\"),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return i(\"The before() method is deprecated, please use pre().\"),this.pre}},after:{get:function(){return i(\"The after() method is deprecated, please use use().\"),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,\"defaultCursor\",{set:function(t){i(\"Property defaultCursor has been replaced with 'cursor'. \"),this.cursor=t},get:function(){return i(\"Property defaultCursor has been replaced with 'cursor'. \"),this.cursor}});u.InteractionManager&&(Object.defineProperty(u.InteractionManager,\"defaultCursorStyle\",{set:function(t){i(\"Property defaultCursorStyle has been replaced with 'cursorStyles.default'. \"),this.cursorStyles.default=t},get:function(){return i(\"Property defaultCursorStyle has been replaced with 'cursorStyles.default'. \"),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,\"currentCursorStyle\",{set:function(t){i(\"Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.\"),this.currentCursorMode=t},get:function(){return i(\"Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.\"),this.currentCursorMode}}))};var r={};function i(t){if(!r[t]){var e=(new Error).stack;void 0===e?console.warn(\"Deprecation Warning: \",t):(e=e.split(\"\\n\").splice(3).join(\"\\n\"),console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):(console.warn(\"Deprecation Warning: \",t),console.warn(e))),r[t]=!0}}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(71);Object.defineProperty(e,\"accessibleTarget\",{enumerable:!0,get:function(){return o(r).default}});var i=n(154);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"AccessibilityManager\",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=a(n(28)),o=a(n(71));function a(t){return t&&t.__esModule?t:{default:t}}r.utils.mixins.delayMixin(r.DisplayObject.prototype,o.default);var s=100,u=0,l=0,h=2,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var n=document.createElement(\"div\");n.style.width=s+\"px\",n.style.height=s+\"px\",n.style.position=\"absolute\",n.style.top=u+\"px\",n.style.left=l+\"px\",n.style.zIndex=h,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener(\"keydown\",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement(\"button\");e.style.width=\"1px\",e.style.height=\"1px\",e.style.position=\"absolute\",e.style.top=\"-1000px\",e.style.left=\"-1000px\",e.style.zIndex=2,e.style.backgroundColor=\"#FF0000\",e.title=\"HOOK DIV\",e.addEventListener(\"focus\",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener(\"mousemove\",this._onMouseMove,!0),window.removeEventListener(\"keydown\",this._onKeyDown,!1),this.renderer.on(\"postrender\",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener(\"mousemove\",this._onMouseMove,!0),window.addEventListener(\"keydown\",this._onKeyDown,!1),this.renderer.off(\"postrender\",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,n=t.height/this.renderer.height,i=this.div;i.style.left=t.left+\"px\",i.style.top=t.top+\"px\",i.style.width=this.renderer.width+\"px\",i.style.height=this.renderer.height+\"px\";for(var o=0;o<this.children.length;o++){var a=this.children[o];if(a.renderId!==this.renderId)a._accessibleActive=!1,r.utils.removeItems(this.children,o,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=a._accessibleDiv;var s=a.hitArea,u=a.worldTransform;a.hitArea?(i.style.left=(u.tx+s.x*u.a)*e+\"px\",i.style.top=(u.ty+s.y*u.d)*n+\"px\",i.style.width=s.width*u.a*e+\"px\",i.style.height=s.height*u.d*n+\"px\"):(s=a.getBounds(),this.capHitArea(s),i.style.left=s.x*e+\"px\",i.style.top=s.y*n+\"px\",i.style.width=s.width*e+\"px\",i.style.height=s.height*n+\"px\",i.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(i.title=a.accessibleTitle),i.getAttribute(\"aria-label\")!==a.accessibleHint&&null!==a.accessibleHint&&i.setAttribute(\"aria-label\",a.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement(\"button\")).style.width=s+\"px\",e.style.height=s+\"px\",e.style.backgroundColor=this.debug?\"rgba(255,0,0,0.5)\":\"transparent\",e.style.position=\"absolute\",e.style.zIndex=h,e.style.borderStyle=\"none\",navigator.userAgent.toLowerCase().indexOf(\"chrome\")>-1?e.setAttribute(\"aria-live\",\"off\"):e.setAttribute(\"aria-live\",\"polite\"),navigator.userAgent.match(/rv:.*Gecko\\//)?e.setAttribute(\"aria-relevant\",\"additions\"):e.setAttribute(\"aria-relevant\",\"text\"),e.addEventListener(\"click\",this._onClick.bind(this)),e.addEventListener(\"focus\",this._onFocus.bind(this)),e.addEventListener(\"focusout\",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title=\"displayObject \"+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute(\"aria-label\",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,\"click\",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute(\"aria-live\",\"off\")||t.target.setAttribute(\"aria-live\",\"assertive\");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,\"mouseover\",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute(\"aria-live\",\"off\")||t.target.setAttribute(\"aria-live\",\"polite\");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,\"mouseout\",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener(\"mousemove\",this._onMouseMove,!0),window.removeEventListener(\"keydown\",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=c,r.WebGLRenderer.registerPlugin(\"accessibility\",c),r.CanvasRenderer.registerPlugin(\"accessibility\",c)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(156);Object.defineProperty(e,\"webgl\",{enumerable:!0,get:function(){return o(r).default}});var i=n(157);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"canvas\",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));var i=new r.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=!1,u=void 0,l=!1;t&&(t instanceof r.RenderTexture?u=t:(u=this.renderer.generateTexture(t),l=!0)),u?(o=(n=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=u.frame,s=!1):(o=(n=this.renderer.rootRenderTarget).resolution,s=!0,(a=i).width=n.size.width,a.height=n.size.height);var h=a.width*o,c=a.height*o,f=new r.CanvasRenderTarget(h,c,1);if(n){e.bindRenderTarget(n);var d=new Uint8Array(4*h*c),p=e.gl;p.readPixels(a.x*o,a.y*o,h,c,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,h,c);v.data.set(d),f.context.putImageData(v,0,0),s&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return l&&u.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0,u=!1;t&&(t instanceof r.RenderTexture?s=t:(s=this.renderer.generateTexture(t),u=!0)),s?(o=(n=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=s.frame):(o=(n=this.renderer.rootRenderTarget).resolution,(a=i).width=n.size.width,a.height=n.size.height);var l=a.width*o,h=a.height*o,c=new Uint8Array(4*l*h);if(n){e.bindRenderTarget(n);var f=e.gl;f.readPixels(a.x*o,a.y*o,l,h,f.RGBA,f.UNSIGNED_BYTE,c)}return u&&s.destroy(!0),c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,r.WebGLRenderer.registerPlugin(\"extract\",o)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));var i=new r.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0;t&&(s=t instanceof r.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,o=e.resolution,(a=i).width=this.renderer.width,a.height=this.renderer.height);var u=a.width*o,l=a.height*o,h=new r.CanvasRenderTarget(u,l,1),c=n.getImageData(a.x*o,a.y*o,u,l);return h.context.putImageData(c,0,0),h.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0;return t&&(s=t instanceof r.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,(a=i).width=e.width,a.height=e.height),n.getImageData(0,0,a.width*o,a.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,r.CanvasRenderer.registerPlugin(\"extract\",o)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));var o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n[0]instanceof i.Texture?n[0]:n[0].texture));return o._textures=null,o._durations=null,o.textures=n,o._autoUpdate=!1!==r,o.animationSpeed=1,o.loop=!0,o.updateAnchor=!1,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.Texture.fromFrame(t[r]));return new e(n)},e.fromImages=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.Texture.fromImage(t[r]));return new e(n)},r(e,[{key:\"totalFrames\",get:function(){return this._textures.length}},{key:\"textures\",get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:\"currentFrame\",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(i.Sprite);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),a=n(17),s=(r=a)&&r.__esModule?r:{default:r};var u=new o.Point,l=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return a.tileTransform=new o.TransformStatic,a._width=r,a._height=i,a._canvasPattern=null,a.uvTransform=n.transform||new o.TextureMatrix(n),a.pluginName=\"tilingSprite\",a.uvRespectAnchor=!1,a}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var n=t.context,r=this.worldTransform,i=t.resolution,a=2===e.rotate,u=e.baseTexture,l=u.resolution,h=this.tilePosition.x/this.tileScale.x%e.orig.width*l,c=this.tilePosition.y/this.tileScale.y%e.orig.height*l;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var f=new o.CanvasRenderTarget(e.orig.width,e.orig.height,l);if(16777215!==this.tint)this.tintedTexture=s.default.getTintedTexture(this,this.tint),f.context.drawImage(this.tintedTexture,0,0);else{var d=e._frame.x*l,p=e._frame.y*l,v=e._frame.width*l,_=e._frame.height*l,y=(e.trim?e.trim.width:e.orig.width)*l,g=(e.trim?e.trim.height:e.orig.height)*l,b=(e.trim?e.trim.x:0)*l,m=(e.trim?e.trim.y:0)*l;a?(f.context.rotate(-Math.PI/2),f.context.translate(-g,0),f.context.drawImage(u.source,d,p,v,_,-m,b,g,y)):f.context.drawImage(u.source,d,p,v,_,b,m,y,g)}this.cachedTint=this.tint,this._canvasPattern=f.context.createPattern(f.canvas,\"repeat\")}n.globalAlpha=this.worldAlpha,n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.scale(this.tileScale.x/l,this.tileScale.y/l);var x=this.anchor.x*-this._width*l,w=this.anchor.y*-this._height*l;this.uvRespectAnchor?(n.translate(h,c),n.fillRect(-h+x,-c+w,this._width/this.tileScale.x*l,this._height/this.tileScale.y*l)):(n.translate(h+x,c+w),n.fillRect(-h,-c,this._width/this.tileScale.x*l,this._height/this.tileScale.y*l))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._width,n=this._height,r=-e*this.anchor._x;if(u.x>=r&&u.x<r+e){var i=-n*this.anchor._y;if(u.y>=i&&u.y<i+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,n,r){return new e(o.Texture.from(t),n,r)},e.fromFrame=function(t,n,r){var i=o.utils.TextureCache[t];if(!i)throw new Error('The frameId \"'+t+'\" does not exist in the texture cache '+this);return new e(i,n,r)},e.fromImage=function(t,n,r,i,a){return new e(o.Texture.fromImage(t,i,a),n,r)},i(e,[{key:\"clampMargin\",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:\"tileScale\",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:\"tilePosition\",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:\"width\",get:function(){return this._width},set:function(t){this._width=t}},{key:\"height\",get:function(){return this._height},set:function(t){this._height=t}}]),e}(o.Sprite);e.default=l},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=n(0);n(7);var o=new r.Matrix,a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.shader=null,r.simpleShader=null,r.quad=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r.Shader(t,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\",\"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 uColor;\\nuniform mat3 uMapCoord;\\nuniform vec4 uClampFrame;\\nuniform vec2 uClampOffset;\\n\\nvoid main(void)\\n{\\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\\n\\n    vec4 sample = texture2D(uSampler, coord);\\n    gl_FragColor = sample * uColor;\\n}\\n\"),this.simpleShader=new r.Shader(t,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\",\"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 uColor;\\n\\nvoid main(void)\\n{\\n    vec4 sample = texture2D(uSampler, vTextureCoord);\\n    gl_FragColor = sample * uColor;\\n}\\n\"),this.renderer.bindVao(null),this.quad=new r.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,n=this.quad;e.bindVao(n.vao);var a=n.vertices;a[0]=a[6]=t._width*-t.anchor.x,a[1]=a[3]=t._height*-t.anchor.y,a[2]=a[4]=t._width*(1-t.anchor.x),a[5]=a[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((a=n.uvs)[0]=a[6]=-t.anchor.x,a[1]=a[3]=-t.anchor.y,a[2]=a[4]=1-t.anchor.x,a[5]=a[7]=1-t.anchor.y),n.upload();var s=t._texture,u=s.baseTexture,l=t.tileTransform.localTransform,h=t.uvTransform,c=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;c&&(u._glTextures[e.CONTEXT_UID]?c=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));var f=c?this.simpleShader:this.shader;e.bindShader(f);var d=s.width,p=s.height,v=t._width,_=t._height;o.set(l.a*d/v,l.b*d/_,l.c*p/v,l.d*p/_,l.tx/v,l.ty/_),o.invert(),c?o.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=o.toArray(!0),f.uniforms.uColor=r.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(s),e.setBlendMode(r.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(r.ObjectRenderer);e.default=a,r.WebGLRenderer.registerPlugin(\"tilingSprite\",a)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=u(n(39)),a=n(2),s=u(n(3));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||\"left\",name:null,size:0},i.font=r.font,i._text=n,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],n=this._font.size/t.size,r=new i.Point,o=[],a=[],s=this.text.replace(/(?:\\r\\n|\\r)/g,\"\\n\"),u=s.length,l=this._maxWidth*t.size/this._font.size,h=null,c=0,f=0,d=0,p=-1,v=0,_=0,y=0,g=0;g<u;g++){var b=s.charCodeAt(g),m=s.charAt(g);if(/(?:\\s)/.test(m)&&(p=g,v=c),\"\\r\"!==m&&\"\\n\"!==m){var x=t.chars[b];x&&(h&&x.kerning[h]&&(r.x+=x.kerning[h]),o.push({texture:x.texture,line:d,charCode:b,position:new i.Point(r.x+x.xOffset+this._letterSpacing/2,r.y+x.yOffset)}),r.x+=x.xAdvance+this._letterSpacing,c=r.x,y=Math.max(y,x.yOffset+x.texture.height),h=b,-1!==p&&l>0&&r.x>l&&(++_,i.utils.removeItems(o,1+p-_,1+g-p),g=p,p=-1,a.push(v),f=Math.max(f,v),d++,r.x=0,r.y+=t.lineHeight,h=null))}else a.push(c),f=Math.max(f,c),++d,++_,r.x=0,r.y+=t.lineHeight,h=null}var w=s.charAt(s.length-1);\"\\r\"!==w&&\"\\n\"!==w&&(/(?:\\s)/.test(w)&&(c=v),a.push(c),f=Math.max(f,c));for(var T=[],E=0;E<=d;E++){var S=0;\"right\"===this._font.align?S=f-a[E]:\"center\"===this._font.align&&(S=(f-a[E])/2),T.push(S)}for(var M=o.length,O=this.tint,C=0;C<M;C++){var A=this._glyphs[C];A?A.texture=o[C].texture:(A=new i.Sprite(o[C].texture),this._glyphs.push(A)),A.position.x=(o[C].position.x+T[o[C].line])*n,A.position.y=o[C].position.y*n,A.scale.x=A.scale.y=n,A.tint=O,A.parent||this.addChild(A)}for(var P=M;P<this._glyphs.length;++P)this.removeChild(this._glyphs[P]);if(this._textWidth=f*n,this._textHeight=(r.y+t.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var R=0;R<M;R++)this._glyphs[R].x-=this._textWidth*this.anchor.x,this._glyphs[R].y-=this._textHeight*this.anchor.y;this._maxLineHeight=y*n},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,n){var r={},o=t.getElementsByTagName(\"info\")[0],u=t.getElementsByTagName(\"common\")[0],l=t.getElementsByTagName(\"page\"),h=(0,a.getResolutionOfUrl)(l[0].getAttribute(\"file\"),s.default.RESOLUTION),c={};r.font=o.getAttribute(\"face\"),r.size=parseInt(o.getAttribute(\"size\"),10),r.lineHeight=parseInt(u.getAttribute(\"lineHeight\"),10)/h,r.chars={},n instanceof i.Texture&&(n=[n]);for(var f=0;f<l.length;f++){var d=l[f].getAttribute(\"id\"),p=l[f].getAttribute(\"file\");c[d]=n instanceof Array?n[f]:n[p]}for(var v=t.getElementsByTagName(\"char\"),_=0;_<v.length;_++){var y=v[_],g=parseInt(y.getAttribute(\"id\"),10),b=y.getAttribute(\"page\")||0,m=new i.Rectangle(parseInt(y.getAttribute(\"x\"),10)/h+c[b].frame.x/h,parseInt(y.getAttribute(\"y\"),10)/h+c[b].frame.y/h,parseInt(y.getAttribute(\"width\"),10)/h,parseInt(y.getAttribute(\"height\"),10)/h);r.chars[g]={xOffset:parseInt(y.getAttribute(\"xoffset\"),10)/h,yOffset:parseInt(y.getAttribute(\"yoffset\"),10)/h,xAdvance:parseInt(y.getAttribute(\"xadvance\"),10)/h,kerning:{},texture:new i.Texture(c[b].baseTexture,m),page:b}}for(var x=t.getElementsByTagName(\"kerning\"),w=0;w<x.length;w++){var T=x[w],E=parseInt(T.getAttribute(\"first\"),10)/h,S=parseInt(T.getAttribute(\"second\"),10)/h,M=parseInt(T.getAttribute(\"amount\"),10)/h;r.chars[S]&&(r.chars[S].kerning[E]=M)}return e.fonts[r.font]=r,r},r(e,[{key:\"tint\",get:function(){return this._font.tint},set:function(t){this._font.tint=\"number\"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:\"align\",get:function(){return this._font.align},set:function(t){this._font.align=t||\"left\",this.dirty=!0}},{key:\"anchor\",get:function(){return this._anchor},set:function(t){\"number\"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:\"font\",get:function(){return this._font},set:function(t){t&&(\"string\"==typeof t?(t=t.split(\" \"),this._font.name=1===t.length?t[0]:t.slice(1).join(\" \"),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size=\"number\"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:\"text\",get:function(){return this._text},set:function(t){t=t.toString()||\" \",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:\"maxWidth\",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:\"maxLineHeight\",get:function(){return this.validate(),this._maxLineHeight}},{key:\"textWidth\",get:function(){return this.validate(),this._textWidth}},{key:\"letterSpacing\",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:\"textHeight\",get:function(){return this.validate(),this._textHeight}}]),e}(i.Container);e.default=l,l.fonts={}},function(t,e,n){\"use strict\";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=s(n(8)),o=s(n(10)),a=n(2);function s(t){return t&&t.__esModule?t:{default:t}}var u=r.DisplayObject,l=new r.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var h=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new h),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var n=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var s=this._filters[0].padding;n.pad(s)}n.ceil(r.settings.RESOLUTION);var u=t._activeRenderTarget,h=t.filterManager.filterStack,c=r.RenderTexture.create(n.width,n.height),f=\"cacheAsBitmap_\"+(0,a.uid)();this._cacheData.textureCacheId=f,o.default.addToCache(c.baseTexture,f),i.default.addToCache(c,f);var d=l;d.tx=-n.x,d.ty=-n.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,c,!0,d,!0),t.bindRenderTarget(u),t.filterManager.filterStack=h,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var p=new r.Sprite(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-n.x/n.width,p.anchor.y=-n.y/n.height,p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),n=this.alpha;this.alpha=1;var s=t.context;e.ceil(r.settings.RESOLUTION);var u=r.RenderTexture.create(e.width,e.height),h=\"cacheAsBitmap_\"+(0,a.uid)();this._cacheData.textureCacheId=h,o.default.addToCache(u.baseTexture,h),i.default.addToCache(u,h);var c=l;this.transform.localTransform.copy(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,c,!1),t.context=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var f=new r.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}},u.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,n){\"use strict\";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,n){\"use strict\";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));r.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new r.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(166);Object.defineProperty(e,\"FXAAFilter\",{enumerable:!0,get:function(){return c(r).default}});var i=n(167);Object.defineProperty(e,\"NoiseFilter\",{enumerable:!0,get:function(){return c(i).default}});var o=n(168);Object.defineProperty(e,\"DisplacementFilter\",{enumerable:!0,get:function(){return c(o).default}});var a=n(169);Object.defineProperty(e,\"BlurFilter\",{enumerable:!0,get:function(){return c(a).default}});var s=n(73);Object.defineProperty(e,\"BlurXFilter\",{enumerable:!0,get:function(){return c(s).default}});var u=n(77);Object.defineProperty(e,\"BlurYFilter\",{enumerable:!0,get:function(){return c(u).default}});var l=n(170);Object.defineProperty(e,\"ColorMatrixFilter\",{enumerable:!0,get:function(){return c(l).default}});var h=n(171);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"AlphaFilter\",{enumerable:!0,get:function(){return c(h).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nuniform vec4 filterArea;\\n\\nvarying vec2 vTextureCoord;\\n\\nvec2 mapCoord( vec2 coord )\\n{\\n    coord *= filterArea.xy;\\n    coord += filterArea.zw;\\n\\n    return coord;\\n}\\n\\nvec2 unmapCoord( vec2 coord )\\n{\\n    coord -= filterArea.zw;\\n    coord /= filterArea.xy;\\n\\n    return coord;\\n}\\n\\nvoid texcoords(vec2 fragCoord, vec2 resolution,\\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\\n               out vec2 v_rgbM) {\\n    vec2 inverseVP = 1.0 / resolution.xy;\\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\\n    v_rgbM = vec2(fragCoord * inverseVP);\\n}\\n\\nvoid main(void) {\\n\\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n   vTextureCoord = aTextureCoord;\\n\\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\\n\\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n}\",'varying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nvarying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform vec4 filterArea;\\n\\n/**\\n Basic FXAA implementation based on the code on geeks3d.com with the\\n modification that the texture2DLod stuff was removed since it\\'s\\n unsupported by WebGL.\\n \\n --\\n \\n From:\\n https://github.com/mitsuhiko/webgl-meincraft\\n \\n Copyright (c) 2011 by Armin Ronacher.\\n \\n Some rights reserved.\\n \\n Redistribution and use in source and binary forms, with or without\\n modification, are permitted provided that the following conditions are\\n met:\\n \\n * Redistributions of source code must retain the above copyright\\n notice, this list of conditions and the following disclaimer.\\n \\n * Redistributions in binary form must reproduce the above\\n copyright notice, this list of conditions and the following\\n disclaimer in the documentation and/or other materials provided\\n with the distribution.\\n \\n * The names of the contributors may not be used to endorse or\\n promote products derived from this software without specific\\n prior written permission.\\n \\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\\n \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\\n */\\n\\n#ifndef FXAA_REDUCE_MIN\\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\\n#endif\\n#ifndef FXAA_REDUCE_MUL\\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\\n#endif\\n#ifndef FXAA_SPAN_MAX\\n#define FXAA_SPAN_MAX     8.0\\n#endif\\n\\n//optimized version for mobile, where dependent\\n//texture reads can be a bottleneck\\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\\n          vec2 v_rgbNW, vec2 v_rgbNE,\\n          vec2 v_rgbSW, vec2 v_rgbSE,\\n          vec2 v_rgbM) {\\n    vec4 color;\\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\\n    vec4 texColor = texture2D(tex, v_rgbM);\\n    vec3 rgbM  = texColor.xyz;\\n    vec3 luma = vec3(0.299, 0.587, 0.114);\\n    float lumaNW = dot(rgbNW, luma);\\n    float lumaNE = dot(rgbNE, luma);\\n    float lumaSW = dot(rgbSW, luma);\\n    float lumaSE = dot(rgbSE, luma);\\n    float lumaM  = dot(rgbM,  luma);\\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\\n    \\n    mediump vec2 dir;\\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n    \\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\\n    \\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n                  dir * rcpDirMin)) * inverseVP;\\n    \\n    vec3 rgbA = 0.5 * (\\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\\n    \\n    float lumaB = dot(rgbB, luma);\\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\\n        color = vec4(rgbA, texColor.a);\\n    else\\n        color = vec4(rgbB, texColor.a);\\n    return color;\\n}\\n\\nvoid main() {\\n\\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\\n\\n      vec4 color;\\n\\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n\\n      gl_FragColor = color;\\n}\\n'))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.Filter);e.default=i},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"precision highp float;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\n\\nuniform float uNoise;\\nuniform float uSeed;\\nuniform sampler2D uSampler;\\n\\nfloat rand(vec2 co)\\n{\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\n}\\n\\nvoid main()\\n{\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\\n    float diff = (randomValue - 0.5) * uNoise;\\n\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (color.a > 0.0) {\\n        color.rgb /= color.a;\\n    }\\n\\n    color.r += diff;\\n    color.g += diff;\\n    color.b += diff;\\n\\n    // Premultiply alpha again.\\n    color.rgb *= color.a;\\n\\n    gl_FragColor = color;\\n}\\n\"));return i.noise=n,i.seed=r,i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:\"noise\",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:\"seed\",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(i.Filter);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o=new i.Matrix;n.renderable=!1;var a=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 filterMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec2 vFilterCoord;\\n\\nvoid main(void)\\n{\\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\n   vTextureCoord = aTextureCoord;\\n}\",\"varying vec2 vFilterCoord;\\nvarying vec2 vTextureCoord;\\n\\nuniform vec2 scale;\\n\\nuniform sampler2D uSampler;\\nuniform sampler2D mapSampler;\\n\\nuniform vec4 filterArea;\\nuniform vec4 filterClamp;\\n\\nvoid main(void)\\n{\\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\\n\\n  map -= 0.5;\\n  map.xy *= scale / filterArea.xy;\\n\\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\\n}\\n\"));return a.maskSprite=n,a.maskMatrix=o,a.uniforms.mapSampler=n._texture,a.uniforms.filterMatrix=o,a.uniforms.scale={x:1,y:1},null==r&&(r=20),a.scale=new i.Point(r,r),a}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,n)},r(e,[{key:\"map\",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(i.Filter);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=s(n(73)),a=s(n(77));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return l.blurXFilter=new o.default(n,r,s,u),l.blurYFilter=new a.default(n,r,s,u),l.padding=0,l.resolution=s||i.settings.RESOLUTION,l.quality=r||4,l.blur=n||8,l}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){var r=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,r,!0),this.blurYFilter.apply(t,r,n,!1),t.returnRenderTarget(r)},r(e,[{key:\"blur\",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:\"quality\",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:\"blurX\",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:\"blurY\",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:\"blendMode\",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(i.Filter);e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"varying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform float m[20];\\nuniform float uAlpha;\\n\\nvoid main(void)\\n{\\n    vec4 c = texture2D(uSampler, vTextureCoord);\\n\\n    if (uAlpha == 0.0) {\\n        gl_FragColor = c;\\n        return;\\n    }\\n\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (c.a > 0.0) {\\n      c.rgb /= c.a;\\n    }\\n\\n    vec4 result;\\n\\n    result.r = (m[0] * c.r);\\n        result.r += (m[1] * c.g);\\n        result.r += (m[2] * c.b);\\n        result.r += (m[3] * c.a);\\n        result.r += m[4];\\n\\n    result.g = (m[5] * c.r);\\n        result.g += (m[6] * c.g);\\n        result.g += (m[7] * c.b);\\n        result.g += (m[8] * c.a);\\n        result.g += m[9];\\n\\n    result.b = (m[10] * c.r);\\n       result.b += (m[11] * c.g);\\n       result.b += (m[12] * c.b);\\n       result.b += (m[13] * c.a);\\n       result.b += m[14];\\n\\n    result.a = (m[15] * c.r);\\n       result.a += (m[16] * c.g);\\n       result.a += (m[17] * c.b);\\n       result.a += (m[18] * c.a);\\n       result.a += m[19];\\n\\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\\n\\n    // Premultiply alpha again.\\n    rgb *= result.a;\\n\\n    gl_FragColor = vec4(rgb, result.a);\\n}\\n\"));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n.alpha=1,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=2*t/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,u=((r=r||3375104)>>16&255)/255,l=(r>>8&255)/255,h=(255&r)/255,c=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,u,l,h,e=e||.15,0,o-u,a-l,s-h,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},r(e,[{key:\"matrix\",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:\"alpha\",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n(7);var o=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform float uAlpha;\\n\\nvoid main(void)\\n{\\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\\n}\\n\"));return r.alpha=n,r.glShaderKey=\"alpha\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:\"alpha\",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(78);Object.defineProperty(e,\"InteractionData\",{enumerable:!0,get:function(){return u(r).default}});var i=n(173);Object.defineProperty(e,\"InteractionManager\",{enumerable:!0,get:function(){return u(i).default}});var o=n(81);Object.defineProperty(e,\"interactiveTarget\",{enumerable:!0,get:function(){return u(o).default}});var a=n(80);Object.defineProperty(e,\"InteractionTrackingData\",{enumerable:!0,get:function(){return u(a).default}});var s=n(79);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"InteractionEvent\",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=h(n(78)),a=h(n(79)),s=h(n(80)),u=h(n(9)),l=h(n(81));function h(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,l.default);var c=1,f={target:null,data:{global:null}},d=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r=r||{},s.renderer=n,s.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,s.interactionFrequency=r.interactionFrequency||10,s.mouse=new o.default,s.mouse.identifier=c,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[c]=s.mouse,s.interactionDataPool=[],s.eventData=new a.default,s.interactionDOMElement=null,s.moveWhenInside=!1,s.eventsAdded=!1,s.mouseOverRenderer=!1,s.supportsTouchEvents=\"ontouchstart\"in window,s.supportsPointerEvents=!!window.PointerEvent,s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={default:\"inherit\",pointer:\"pointer\"},s.currentCursorMode=null,s.cursor=null,s._tempPoint=new i.Point,s.resolution=1,s.setTargetElement(s.renderer.view,s.renderer.resolution),s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style[\"-ms-content-zooming\"]=\"none\",this.interactionDOMElement.style[\"-ms-touch-action\"]=\"none\"):this.supportsPointerEvents&&(this.interactionDOMElement.style[\"touch-action\"]=\"none\"),this.supportsPointerEvents?(window.document.addEventListener(\"pointermove\",this.onPointerMove,!0),this.interactionDOMElement.addEventListener(\"pointerdown\",this.onPointerDown,!0),this.interactionDOMElement.addEventListener(\"pointerleave\",this.onPointerOut,!0),this.interactionDOMElement.addEventListener(\"pointerover\",this.onPointerOver,!0),window.addEventListener(\"pointercancel\",this.onPointerCancel,!0),window.addEventListener(\"pointerup\",this.onPointerUp,!0)):(window.document.addEventListener(\"mousemove\",this.onPointerMove,!0),this.interactionDOMElement.addEventListener(\"mousedown\",this.onPointerDown,!0),this.interactionDOMElement.addEventListener(\"mouseout\",this.onPointerOut,!0),this.interactionDOMElement.addEventListener(\"mouseover\",this.onPointerOver,!0),window.addEventListener(\"mouseup\",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener(\"touchstart\",this.onPointerDown,!0),this.interactionDOMElement.addEventListener(\"touchcancel\",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener(\"touchend\",this.onPointerUp,!0),this.interactionDOMElement.addEventListener(\"touchmove\",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style[\"-ms-content-zooming\"]=\"\",this.interactionDOMElement.style[\"-ms-touch-action\"]=\"\"):this.supportsPointerEvents&&(this.interactionDOMElement.style[\"touch-action\"]=\"\"),this.supportsPointerEvents?(window.document.removeEventListener(\"pointermove\",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener(\"pointerdown\",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener(\"pointerleave\",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener(\"pointerover\",this.onPointerOver,!0),window.removeEventListener(\"pointercancel\",this.onPointerCancel,!0),window.removeEventListener(\"pointerup\",this.onPointerUp,!0)):(window.document.removeEventListener(\"mousemove\",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener(\"mousedown\",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener(\"mouseout\",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener(\"mouseover\",this.onPointerOver,!0),window.removeEventListener(\"mouseup\",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener(\"touchstart\",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener(\"touchcancel\",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener(\"touchend\",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener(\"touchmove\",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&\"touch\"!==n.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||\"default\",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?\"undefined\":r(e)){case\"string\":this.interactionDOMElement.style.cursor=e;break;case\"function\":e(t);break;case\"object\":Object.assign(this.interactionDOMElement.style,e)}else\"string\"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.mapPositionToPoint=function(t,e,n){var r=void 0;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*i,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},e.prototype.processInteractive=function(t,e,n,r,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i,u=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,u=!1)),s=!1):e._mask&&r&&(e._mask.containsPoint(o)||(r=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,h=l.length-1;h>=0;h--){var c=l[h],f=this.processInteractive(t,c,n,r,s);if(f){if(!c.parent)continue;s=!1,f&&(t.target&&(r=!1),a=!0)}}return i&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),n&&n(t,e,!!a))),a},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||\"touch\"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit(\"pointerdown\",a),\"touch\"===i.pointerType)this.emit(\"touchstart\",a);else if(\"mouse\"===i.pointerType||\"pen\"===i.pointerType){var s=2===i.button;this.emit(s?\"rightdown\":\"mousedown\",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var r=t.data,i=t.data.identifier;if(n)if(e.trackedPointers[i]||(e.trackedPointers[i]=new s.default(i)),this.dispatchEvent(e,\"pointerdown\",t),\"touch\"===r.pointerType)this.dispatchEvent(e,\"touchstart\",t);else if(\"mouse\"===r.pointerType||\"pen\"===r.pointerType){var o=2===r.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?\"rightdown\":\"mousedown\",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var r=this.normalizeToPointerData(t),i=r.length,o=t.target!==this.interactionDOMElement?\"outside\":\"\",a=0;a<i;a++){var s=r[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=t,this.processInteractive(l,this.renderer._lastObjectRendered,n,e||!o),this.emit(e?\"pointercancel\":\"pointerup\"+o,l),\"mouse\"===s.pointerType||\"pen\"===s.pointerType){var h=2===s.button;this.emit(h?\"rightup\"+o:\"mouseup\"+o,l)}else\"touch\"===s.pointerType&&(this.emit(e?\"touchcancel\":\"touchend\"+o,l),this.releaseInteractionDataForPointerId(s.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&\"touch\"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,\"pointercancel\",t),\"touch\"===n.pointerType&&this.dispatchEvent(e,\"touchcancel\",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&\"touch\"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var r=t.data,i=t.data.identifier,o=e.trackedPointers[i],a=\"touch\"===r.pointerType,u=\"mouse\"===r.pointerType||\"pen\"===r.pointerType,l=!1;if(u){var h=2===r.button,c=s.default.FLAGS,f=h?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==o&&o.flags&f;n?(this.dispatchEvent(e,h?\"rightup\":\"mouseup\",t),d&&(this.dispatchEvent(e,h?\"rightclick\":\"click\",t),l=!0)):d&&this.dispatchEvent(e,h?\"rightupoutside\":\"mouseupoutside\",t),o&&(h?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(e,\"pointerup\",t),a&&this.dispatchEvent(e,\"touchend\",t),o&&(u&&!l||this.dispatchEvent(e,\"pointertap\",t),a&&(this.dispatchEvent(e,\"tap\",t),o.over=!1))):o&&(this.dispatchEvent(e,\"pointerupoutside\",t),a&&this.dispatchEvent(e,\"touchendoutside\",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||\"touch\"!==t.pointerType){var e=this.normalizeToPointerData(t);\"mouse\"!==e[0].pointerType&&\"pen\"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t;var s=\"touch\"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit(\"pointermove\",a),\"touch\"===i.pointerType&&this.emit(\"touchmove\",a),\"mouse\"!==i.pointerType&&\"pen\"!==i.pointerType||this.emit(\"mousemove\",a)}\"mouse\"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var r=t.data,i=\"touch\"===r.pointerType,o=\"mouse\"===r.pointerType||\"pen\"===r.pointerType;o&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,\"pointermove\",t),i&&this.dispatchEvent(e,\"touchmove\",t),o&&this.dispatchEvent(e,\"mousemove\",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||\"touch\"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];\"mouse\"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit(\"pointerout\",r),\"mouse\"===e.pointerType||\"pen\"===e.pointerType?this.emit(\"mouseout\",r):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var r=t.data,i=t.data.identifier,o=\"mouse\"===r.pointerType||\"pen\"===r.pointerType,a=e.trackedPointers[i];n&&!a&&(a=e.trackedPointers[i]=new s.default(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(e,\"pointerover\",t),o&&this.dispatchEvent(e,\"mouseover\",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,\"pointerout\",this.eventData),o&&this.dispatchEvent(e,\"mouseout\",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,\"mouse\"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit(\"pointerover\",r),\"mouse\"!==e.pointerType&&\"pen\"!==e.pointerType||this.emit(\"mouseover\",r)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,n=void 0;return e===c||\"mouse\"===t.pointerType?n=this.mouse:this.activeInteractionData[e]?n=this.activeInteractionData[e]:((n=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=n),n.copyEvent(t),n},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),navigator.isCocoonJS&&\"touch\"===e.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),\"touch\"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,r=t.changedTouches.length;n<r;n++){var i=t.changedTouches[n];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&\"touchstart\"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType=\"touch\"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType=\"mouse\"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=d,i.WebGLRenderer.registerPlugin(\"interaction\",d),i.CanvasRenderer.registerPlugin(\"interaction\",d)},function(t,e,n){\"use strict\";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var r=n(82);Object.defineProperty(e,\"bitmapFontParser\",{enumerable:!0,get:function(){return l(r).default}}),Object.defineProperty(e,\"parseBitmapFontData\",{enumerable:!0,get:function(){return r.parse}});var i=n(87);Object.defineProperty(e,\"spritesheetParser\",{enumerable:!0,get:function(){return l(i).default}}),Object.defineProperty(e,\"getResourcePath\",{enumerable:!0,get:function(){return i.getResourcePath}});var o=n(88);Object.defineProperty(e,\"textureParser\",{enumerable:!0,get:function(){return l(o).default}});var a=n(15);Object.defineProperty(e,\"Resource\",{enumerable:!0,get:function(){return a.Resource}});var s=l(n(69)),u=l(n(176));function l(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var h=new u.default;h.destroy=function(){},e.shared=h;var c=s.default.prototype;c._loader=null,Object.defineProperty(c,\"loader\",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?h:new u.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},function(t,e,n){\"use strict\";e.__esModule=!0,e.Loader=void 0;var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(n(83)),a=l(n(84)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(85)),u=n(36);function l(t){return t&&t.__esModule?t:{default:t}}var h=/(#[\\w-]+)?$/,c=e.Loader=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString=\"\",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,n){return e._loadResource(t,n)},this._queue=s.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default;for(var i=0;i<t._defaultBeforeMiddleware.length;++i)this.pre(t._defaultBeforeMiddleware[i]);for(var a=0;a<t._defaultAfterMiddleware.length;++a)this.use(t._defaultAfterMiddleware[a])}return t.prototype.add=function(t,e,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if(\"object\"===(void 0===t?\"undefined\":r(t))&&(i=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),\"string\"!=typeof e&&(i=n,n=e,e=t),\"string\"!=typeof e)throw new Error(\"No url passed to add resource to loader.\");if(\"function\"==typeof n&&(i=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error(\"Cannot add resources while the loader is running.\");if(this.resources[t])throw new Error('Resource named \"'+t+'\" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.Resource(t,e,n),\"function\"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,s=[],l=0;l<a.children.length;++l)a.children[l].isComplete||s.push(a.children[l]);var h=a.progressChunk*(s.length+1)/(s.length+2);a.children.push(this.resources[t]),a.progressChunk=h;for(var c=0;c<s.length;++c)s[c].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if(\"function\"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,a.default)(t,{strictMode:!0}),n=void 0;if(n=e.protocol||!e.path||0===t.indexOf(\"//\")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf(\"/\")!==this.baseUrl.length-1&&\"/\"!==t.charAt(0)?this.baseUrl+\"/\"+t:this.baseUrl+t,this.defaultQueryString){var r=h.exec(n)[0];-1!==(n=n.substr(0,n.length-r.length)).indexOf(\"?\")?n+=\"&\"+this.defaultQueryString:n+=\"?\"+this.defaultQueryString,n+=r}return n},t.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,s.eachSeries(this._beforeMiddleware,function(e,r){e.call(n,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),s.eachSeries(this._afterMiddleware,function(n,r){n.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},i(t,[{key:\"concurrency\",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();c._defaultBeforeMiddleware=[],c._defaultAfterMiddleware=[],c.pre=function(t){return c._defaultBeforeMiddleware.push(t),c},c.use=function(t){return c._defaultAfterMiddleware.push(t),c}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=l(n(15)),i=n(177),o=l(n(9)),a=l(n(88)),s=l(n(87)),u=l(n(82));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,r));o.default.call(i);for(var a=0;a<e._pixiMiddleware.length;++a)i.use(e._pixiMiddleware[a]());return i.onStart.add(function(t){return i.emit(\"start\",t)}),i.onProgress.add(function(t,e){return i.emit(\"progress\",t,e)}),i.onError.add(function(t,e,n){return i.emit(\"error\",t,e,n)}),i.onLoad.add(function(t,e){return i.emit(\"load\",t,e)}),i.onComplete.add(function(t,e){return i.emit(\"complete\",t,e)}),i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(r.default);for(var c in e.default=h,o.default.prototype)h.prototype[c]=o.default.prototype[c];h._pixiMiddleware=[i.blobMiddlewareFactory,a.default,s.default,u.default];var f=r.default.Resource;f.setExtensionXhrType(\"fnt\",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,n){\"use strict\";e.__esModule=!0,e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===r.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&\"string\"!=typeof t.data){if(0===t.data.type.indexOf(\"image\")){var n=o.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=r.Resource.TYPE.IMAGE,void(t.data.onload=function(){o.revokeObjectURL(n),t.data.onload=null,e()})}}else{var a=t.xhr.getResponseHeader(\"content-type\");if(a&&0===a.indexOf(\"image\"))return t.data=new Image,t.data.src=\"data:\"+a+\";base64,\"+(0,i.encodeBinary)(t.xhr.responseText),t.type=r.Resource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}};var r=n(36),i=n(86),o=window.URL||window.webkitURL},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(16);Object.defineProperty(e,\"Mesh\",{enumerable:!0,get:function(){return l(r).default}});var i=n(179);Object.defineProperty(e,\"MeshRenderer\",{enumerable:!0,get:function(){return l(i).default}});var o=n(180);Object.defineProperty(e,\"CanvasMeshRenderer\",{enumerable:!0,get:function(){return l(o).default}});var a=n(89);Object.defineProperty(e,\"Plane\",{enumerable:!0,get:function(){return l(a).default}});var s=n(181);Object.defineProperty(e,\"NineSlicePlane\",{enumerable:!0,get:function(){return l(s).default}});var u=n(182);function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"Rope\",{enumerable:!0,get:function(){return l(u).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=a(n(5)),o=a(n(16));n(7);function a(t){return t&&t.__esModule?t:{default:t}}var s=r.Matrix.IDENTITY,u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.shader=null,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r.Shader(t,\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\",\"varying vec2 vTextureCoord;\\nuniform vec4 uColor;\\n\\nuniform sampler2D uSampler;\\n\\nvoid main(void)\\n{\\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\\n}\\n\")},e.prototype.render=function(t){var e=this.renderer,n=e.gl,a=t._texture;if(a.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(n,t.vertices,n.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(n,t.uvs,n.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(n,t.indices,n.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty}).vao=new i.default.VertexArrayObject(n).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),t.vertexDirty!==u.vertexDirty&&(u.vertexDirty=t.vertexDirty,u.vertexBuffer.upload(t.vertices)),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(a),e.state.setBlendMode(r.utils.correctBlendMode(t.blendMode,a.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=s.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,a.baseTexture.premultipliedAlpha);var l=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;u.vao.draw(l,t.indices.length,0)}},e}(r.ObjectRenderer);e.default=u,r.WebGLRenderer.registerPlugin(\"mesh\",u)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(16),a=(r=o)&&r.__esModule?r:{default:r};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldTransform,i=e.resolution;e.roundPixels?n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i|0,r.ty*i|0):n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===a.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,n=0;n<e-2;n++){var r=2*n;this._renderDrawTriangle(t,r,r+2,r+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,n=e.length,r=0;r<n;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2];this._renderDrawTriangle(t,i,o,a)}},t.prototype._renderDrawTriangle=function(t,e,n,r){var i=this.renderer.context,o=t.uvs,a=t.vertices,s=t._texture;if(s.valid){var u=s.baseTexture,l=u.source,h=u.width,c=u.height,f=void 0,d=void 0,p=void 0,v=void 0,_=void 0,y=void 0;if(t.uploadUvTransform){var g=t._uvTransform.mapCoord;f=(o[e]*g.a+o[e+1]*g.c+g.tx)*u.width,d=(o[n]*g.a+o[n+1]*g.c+g.tx)*u.width,p=(o[r]*g.a+o[r+1]*g.c+g.tx)*u.width,v=(o[e]*g.b+o[e+1]*g.d+g.ty)*u.height,_=(o[n]*g.b+o[n+1]*g.d+g.ty)*u.height,y=(o[r]*g.b+o[r+1]*g.d+g.ty)*u.height}else f=o[e]*u.width,d=o[n]*u.width,p=o[r]*u.width,v=o[e+1]*u.height,_=o[n+1]*u.height,y=o[r+1]*u.height;var b=a[e],m=a[n],x=a[r],w=a[e+1],T=a[n+1],E=a[r+1],S=t.canvasPadding/this.renderer.resolution;if(S>0){var M=S/Math.abs(t.worldTransform.a),O=S/Math.abs(t.worldTransform.d),C=(b+m+x)/3,A=(w+T+E)/3,P=b-C,R=w-A,I=Math.sqrt(P*P+R*R);b=C+P/I*(I+M),w=A+R/I*(I+O),R=T-A,m=C+(P=m-C)/(I=Math.sqrt(P*P+R*R))*(I+M),T=A+R/I*(I+O),R=E-A,x=C+(P=x-C)/(I=Math.sqrt(P*P+R*R))*(I+M),E=A+R/I*(I+O)}i.save(),i.beginPath(),i.moveTo(b,w),i.lineTo(m,T),i.lineTo(x,E),i.closePath(),i.clip();var D=f*_+v*p+d*y-_*p-v*d-f*y,k=b*_+v*x+m*y-_*x-v*m-b*y,L=f*m+b*p+d*x-m*p-b*d-f*x,N=f*_*x+v*m*p+b*d*y-b*_*p-v*d*x-f*m*y,F=w*_+v*E+T*y-_*E-v*T-w*y,j=f*T+w*p+d*E-T*p-w*d-f*E,B=f*_*E+v*T*p+w*d*y-w*_*p-v*d*E-f*T*y;i.transform(k/D,F/D,L/D,j/D,N/D,B/D),i.drawImage(l,0,0,h*u.resolution,c*u.resolution,0,0,h,c),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,n=t.vertices,r=n.length/2;e.beginPath();for(var i=1;i<r-2;++i){var o=2*i,a=n[o],s=n[o+1],u=n[o+2],l=n[o+3],h=n[o+4],c=n[o+5];e.moveTo(a,s),e.lineTo(u,l),e.lineTo(h,c)}e.fillStyle=\"#FF0000\",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=s,i.CanvasRenderer.registerPlugin(\"mesh\",s)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(89)),o=a(n(17));function a(t){return t&&t.__esModule?t:{default:t}}var s=10,u=function(t){function e(n,r,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,4,4));return u._origWidth=n.orig.width,u._origHeight=n.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth=void 0!==r?r:s,u._rightWidth=void 0!==o?o:s,u._topHeight=void 0!==i?i:s,u._bottomHeight=void 0!==a?a:s,u._cachedTint=16777215,u._tintedTexture=null,u._canvasUvs=null,u.refresh(!0),u}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,n=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*n,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*n,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*n,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*n,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context,n=this.worldTransform,r=t.resolution,i=16777215!==this.tint,a=this._texture;i&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=o.default.getTintedTexture(this,this.tint));var s=i?this._tintedTexture:a.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var u=this.vertices,l=this._canvasUvs,h=i?0:a.frame.x,c=i?0:a.frame.y,f=h+a.frame.width,d=c+a.frame.height;l[0]=h,l[1]=h+this._leftWidth,l[2]=f-this._rightWidth,l[3]=f,l[4]=c,l[5]=c+this._topHeight,l[6]=d-this._bottomHeight,l[7]=d;for(var p=0;p<8;p++)l[p]*=a.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.roundPixels?e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r|0,n.ty*r|0):e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r);for(var v=0;v<3;v++)for(var _=0;_<3;_++){var y=2*_+8*v,g=Math.max(1,l[_+1]-l[_]),b=Math.max(1,l[v+5]-l[v+4]),m=Math.max(1,u[y+10]-u[y]),x=Math.max(1,u[y+11]-u[y+1]);e.drawImage(s,l[_],l[v+4],g,b,u[y],u[y+1],m,x)}},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,n=this._texture;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},r(e,[{key:\"width\",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:\"height\",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:\"leftWidth\",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:\"rightWidth\",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:\"topHeight\",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:\"bottomHeight\",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(i.default);e.default=u},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(16);var o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return i.points=r,i.vertices=new Float32Array(4*r.length),i.uvs=new Float32Array(4*r.length),i.colors=new Float32Array(2*r.length),i.indices=new Uint16Array(2*r.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,n=this.indices,r=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,r[0]=1,r[1]=1,n[0]=0,n[1]=1;for(var i=t.length,o=1;o<i;o++){var a=4*o,s=o/(i-1);e[a]=s,e[a+1]=0,e[a+2]=s,e[a+3]=1,r[a=2*o]=1,r[a+1]=1,n[a=2*o]=a,n[a+1]=a+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],n=void 0,r=0,i=0,o=this.vertices,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s;i=-((n=s<t.length-1?t[s+1]:u).x-e.x),r=n.y-e.y;var h=10*(1-s/(a-1));h>1&&(h=1);var c=Math.sqrt(r*r+i*i),f=this._texture.height/2;r/=c,i/=c,r*=f,i*=f,o[l]=u.x+r,o[l+1]=u.y+i,o[l+2]=u.x-r,o[l+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(184);Object.defineProperty(e,\"ParticleContainer\",{enumerable:!0,get:function(){return o(r).default}});var i=n(185);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"ParticleRenderer\",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(2);var a=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,r=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>n&&(o=n),s._properties=[!1,!0,!1,!1,!1],s._maxSize=n,s._batchSize=o,s._glBuffers={},s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=i.BLEND_MODES.NORMAL,s.autoResize=a,s.roundPixels=!0,s.baseTexture=null,s.setProperties(r),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]=\"vertices\"in t||\"scale\"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]=\"position\"in t?!!t.position:this._properties[1],this._properties[2]=\"rotation\"in t?!!t.rotation:this._properties[2],this._properties[3]=\"uvs\"in t?!!t.uvs:this._properties[3],this._properties[4]=\"tint\"in t||\"alpha\"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once(\"update\",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,n=this.worldTransform,r=!0,i=0,o=0,a=0,s=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var l=this.children[u];if(l.visible){var h=l._texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)==0)r&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx*t.resolution,n.ty*t.resolution),r=!1),i=l.anchor.x*(-h.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-h.height*l.scale.y)+l.position.y+.5,a=h.width*l.scale.x,s=h.height*l.scale.y;else{r||(r=!0),l.displayObjectUpdateTransform();var c=l.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),i=l.anchor.x*-h.width+.5,o=l.anchor.y*-h.height+.5,a=h.width,s=h.height}var f=l._texture.baseTexture.resolution;e.drawImage(l._texture.baseTexture.source,h.x*f,h.y*f,h.width*f,h.height*f,i*t.resolution,o*t.resolution,a*t.resolution,s*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r(e,[{key:\"tint\",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(i.Container);e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=s(n(186)),o=s(n(187)),a=n(2);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new r.Matrix,i.CONTEXT_UID=0,i}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,n=t._maxSize,i=t._batchSize,o=this.renderer,a=e.length;if(0!==a){a>n&&(a=n);var s=t._glBuffers[o.CONTEXT_UID];s||(s=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(r.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var l=o.gl,h=t.worldTransform.copy(this.tempMatrix);h.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=h.toArray(!0),this.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var c=!1,f=0,d=0;f<a;f+=i,d+=1){var p=a-f;if(p>i&&(p=i),d>=s.length){if(!t.autoResize)break;s.push(this._generateOneMoreBuffer(t))}var v=s[d];v.uploadDynamic(e,f,p);var _=t._bufferUpdateIDs[d]||0;(c=c||v._updateID<_)&&(v._updateID=t._updateID,v.uploadStatic(e,f,p)),o.bindVao(v.vao),v.vao.draw(l.TRIANGLES,6*p)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,n=[],r=t._maxSize,i=t._batchSize,a=t._properties,s=0;s<r;s+=i)n.push(new o.default(e,this.properties,a,i));return n},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,n=t._batchSize,r=t._properties;return new o.default(e,this.properties,r,n)},e.prototype.uploadVertices=function(t,e,n,r,i,o){for(var a=0,s=0,u=0,l=0,h=0;h<n;++h){var c=t[e+h],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,_=f.orig;v?(a=(s=v.x-c.anchor.x*_.width)+v.width,u=(l=v.y-c.anchor.y*_.height)+v.height):(a=_.width*(1-c.anchor.x),s=_.width*-c.anchor.x,u=_.height*(1-c.anchor.y),l=_.height*-c.anchor.y),r[o]=s*d,r[o+1]=l*p,r[o+i]=a*d,r[o+i+1]=l*p,r[o+2*i]=a*d,r[o+2*i+1]=u*p,r[o+3*i]=s*d,r[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,n,r,i,o){for(var a=0;a<n;++a){var s=t[e+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,n,r,i,o){for(var s=0;s<n;++s){var u=t[e+s],l=u._texture.baseTexture.premultipliedAlpha,h=u.alpha,c=h<1&&l?(0,a.premultiplyTint)(u._tintRGB,h):u._tintRGB+(255*h<<24);r[o]=c,r[o+i]=c,r[o+2*i]=c,r[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(r.ObjectRenderer);e.default=u,r.WebGLRenderer.registerPlugin(\"particle\",u)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(14);var o=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"attribute vec4 aColor;\",\"attribute vec2 aPositionCoord;\",\"attribute float aRotation;\",\"uniform mat3 projectionMatrix;\",\"uniform vec4 uColor;\",\"varying vec2 vTextureCoord;\",\"varying vec4 vColor;\",\"void main(void){\",\"   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\",\"   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\",\"   vec2 v = vec2(x, y);\",\"   v = v + aPositionCoord;\",\"   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\",\"   vTextureCoord = aTextureCoord;\",\"   vColor = aColor * uColor;\",\"}\"].join(\"\\n\"),[\"varying vec2 vTextureCoord;\",\"varying vec4 vColor;\",\"uniform sampler2D uSampler;\",\"void main(void){\",\"  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\",\"  gl_FragColor = color;\",\"}\"].join(\"\\n\")))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=o},function(t,e,n){\"use strict\";e.__esModule=!0;var r=o(n(5)),i=o(n(35));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<n.length;++o){var a=n[o];a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,unsignedByte:a.unsignedByte,offset:a.offset},r[o]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,i.default)(this.size),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var o=this.dynamicProperties[n];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=r.default.GLBuffer.createVertexBuffer(t,a,t.STREAM_DRAW);var s=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var l=this.staticProperties[u];l.offset=s,s+=l.size,this.staticStride+=l.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=r.default.GLBuffer.createVertexBuffer(t,h,t.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var f=this.dynamicProperties[c];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(t,e,n,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(t,e,n,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=a},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(189);Object.defineProperty(e,\"webgl\",{enumerable:!0,get:function(){return u(r).default}});var i=n(190);Object.defineProperty(e,\"canvas\",{enumerable:!0,get:function(){return u(i).default}});var o=n(37);Object.defineProperty(e,\"BasePrepare\",{enumerable:!0,get:function(){return u(o).default}});var a=n(90);Object.defineProperty(e,\"CountLimiter\",{enumerable:!0,get:function(){return u(a).default}});var s=n(191);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"TimeLimiter\",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(37);var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.uploadHookHelper=r.renderer,r.registerFindHook(l),r.registerUploadHook(s),r.registerUploadHook(u),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);function s(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function u(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function l(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}e.default=a,i.WebGLRenderer.registerPlugin(\"prepare\",a)},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(37),a=(r=o)&&r.__esModule?r:{default:r};var s=16,u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n));return r.uploadHookHelper=r,r.canvas=document.createElement(\"canvas\"),r.canvas.width=s,r.canvas.height=s,r.ctx=r.canvas.getContext(\"2d\"),r.registerUploadHook(l),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(a.default);function l(t,e){if(e instanceof i.BaseTexture){var n=e.source,r=0===n.width?t.canvas.width:Math.min(t.canvas.width,n.width),o=0===n.height?t.canvas.height:Math.min(t.canvas.height,n.height);return t.ctx.drawImage(n,0,0,r,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=u,i.CanvasRenderer.registerPlugin(\"prepare\",u)},function(t,e,n){\"use strict\";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=r},function(t,e,n){(function(n){var r,i=function(){this._tweens={},this._tweensAddedDuringUpdate={}};i.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:a.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]];i&&!1===i.update(t)&&(i._isPlaying=!1,e||delete this._tweens[n[r]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var o,a=new i;a.Group=i,a._nextId=0,a.nextId=function(){return a._nextId++},\"undefined\"==typeof window&&void 0!==n&&n.hrtime?a.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e6}:\"undefined\"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?a.now=window.performance.now.bind(window.performance):void 0!==Date.now?a.now=Date.now:a.now=function(){return(new Date).getTime()},a.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=a.Easing.Linear.None,this._interpolationFunction=a.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||a,this._id=a.nextId()},a.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=t,void 0!==e&&(this._duration=e),this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?\"string\"==typeof t?a.now()+parseFloat(t):t:a.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,n,r;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n,r=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[e]){var i=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,r):(\"string\"==typeof o&&(o=\"+\"===o.charAt(0)||\"-\"===o.charAt(0)?i+parseFloat(o):parseFloat(o)),\"number\"==typeof o&&(this._object[e]=i+(o-i)*r))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1===n){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if(\"string\"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var a=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=a}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,u=this._chainedTweens.length;s<u;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}return!0}},a.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-a.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*a.Easing.Bounce.In(2*t):.5*a.Easing.Bounce.Out(2*t-1)+.5}}},a.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=a.Interpolation.Utils.Bernstein,s=0;s<=r;s++)n+=i(1-e,r-s)*i(e,s)*t[s]*o(r,s);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=a.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(o=[1],function(t){var e=1;if(o[t])return o[t];for(var n=t;n>1;n--)e*=n;return o[t]=e,e}),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i;return(2*e-2*n+o+a)*(i*s)+(-3*e+3*n-2*o-a)*s+o*i+e}}},void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}).call(this,n(63))},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"/\",e(e.s=26)}([function(t,e,n){\"use strict\";var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};t.exports=new function(){var t=this;this.noop=function(){},this.get=function(e,n,r){var i=Array.isArray(n)?n:n.split(\".\");if(!i.length)return e;var o=i.shift();return e&&e.hasOwnProperty(o)?t.get(e[o],i,r):r},this.has=function(e,n){var r=Array.isArray(n)?n:n.split(\".\");if(!r.length)return!0;var i=r.shift();return!(!e||!e.hasOwnProperty(i))&&t.has(e[i],r)},this.set=function(e,n,r){var i=Array.isArray(n)?n:n.split(\".\"),o=i.shift();if(i.length){if(!e.hasOwnProperty(o)){var a=i[0];e[o]=t.isNumeric(a)?[]:{}}t.set(e[o],i,r)}else e[o]=r},this.clone=function(t){return JSON.parse(JSON.stringify(t))},this.includes=function(t,e){if(Array.isArray(t))return t.indexOf(e)>-1;var n=!0,r=!1,o=void 0;try{for(var a,s=Object.entries(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=i(a.value,2);if(u[0],e===u[1])return!0}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!1},this.isObject=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":r(t))&&!Array.isArray(t)},this.isNumber=function(t){return\"number\"==typeof t&&!isNaN(t)},this.isNumeric=function(t){return!isNaN(parseInt(t))};var e=function(e){var n=e,r=Array.isArray(e)&&1===e.length||\"string\"==typeof e,i=Array.isArray(e)&&e.length>1;if(r){var o=Array.isArray(e)?e[0]:e;n=function(e,n){return t.has(e,o)}}else i&&(n=function(n,r){return t.get(n,e[0])===e[1]});return n};this.findIndex=function(t,n,r){r=r||0;var i=e(n);r<0&&(r=t.length+r);for(var o=r;o<t.length;o++)if(i(t[o],o))return o;return-1},this.findLastIndex=function(n,r,i){i=t.isNumber(i)?i:n.length-1;var o=e(r);i<0&&(i=n.length+i);for(var a=i;a>-1;a--)if(o(n[a],a))return a;return-1},this.find=function(e,n,r){return e[t.findIndex(e,n,r)]},this.findLast=function(e,n,r){return e[t.findLastIndex(e,n,r)]},this.findPropertyIndex=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.findIndex(e,function(e){return t.has(e,n)},r)},this.findLastPropertyIndex=function(e,n,r){return r=r||e.length-1,t.findLastIndex(e,function(e){return t.has(e,n)},r)},this.pull=function(t,e){var n=void 0;if(t)for(;t.indexOf(e)>-1;)(n=t.indexOf(e))>-1&&t.splice(n,1)},this.lowerFirst=function(t){return t?t.charAt(0).toLowerCase()+t.substring(1):t},this.forEach=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},this.map=function(e,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];\"string\"==typeof n?r.push(t.get(o,n)):r.push(n(o,i))}return r},this.keys=function(t){return t?Object.keys(t):[]},this.sortBy=function(t,e){return Array.isArray(t)?t.sort(function(t,n){var r=t[e],i=n[e];return void 0===r?1:void 0===i?-1:r<i?-1:r>i?1:0}):t}}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=n(2),a=r(o),s=n(3),u=r(s),l=n(7),h={r:0,g:0,b:0,a:255},c=new function(){var t=this;this.name=\"rgb\",this.className=\"Rgb\",this.parent=null,this.test=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":i(t))&&t.hasOwnProperty(\"r\")&&t.hasOwnProperty(\"g\")&&t.hasOwnProperty(\"b\")&&t.r>=0&&t.r<=255&&t.g>=0&&t.g<=255&&t.b>=0&&t.b<=255&&(!t.hasOwnProperty(\"a\")||t.a>=0&&t.a<=255)},this.gradient=function(e){return a.default.createGradient(e,{mixColors:t.mix,defaultColor:h})},this.gradientData=function(t,e){return e=e||h,new u.default(t,e)},this.draw=function(e,n){var r=(0,l.getCanvasGradient)(t,n),i=(0,l.getCanvasTarget)(e);if(i&&r){for(var o=i.width,a=i.height,s=i.getContext(\"2d\"),u=s.createImageData(o,a),h=u.data.buffer,c=new Uint32Array(h),f=new Uint8ClampedArray(h),d=0;d<o;d++)for(var p=0;p<a;p++)c[p*o+d]=t.to.intabgr(r(d,p));u.data.set(f),s.putImageData(u,0,0)}},this.hueColors=function(){return[{a:255,b:0,g:0,r:255},{a:255,b:0,g:255,r:255},{a:255,b:0,g:255,r:0},{a:255,b:255,g:255,r:0},{a:255,b:255,g:0,r:0},{a:255,b:255,g:0,r:255},{a:255,b:0,g:0,r:255}]},this.hue=function(e){var n=a.default.partialGradient(c.hueColors(),c.to.hsv(e).h);return t.mix(n.item1,n.item2,n.position)},this.mix=function(t,e,n){return{r:t.r-n*(t.r-e.r),g:t.g-n*(t.g-e.g),b:t.b-n*(t.b-e.b),a:t.a-n*(t.a-e.a)}},this.to={int:function(t){return t.r<<16|t.g<<8|t.b},hex:function(t){return\"#\"+(1<<24|t.r<<16|t.g<<8|t.b).toString(16).slice(1)},cssrgb:function(t){return\"rgb(\"+Math.round(t.r)+\",\"+Math.round(t.g)+\",\"+Math.round(t.b)+\")\"},cssrgba:function(t){return\"rgba(\"+Math.round(t.r)+\",\"+Math.round(t.g)+\",\"+Math.round(t.b)+\",\"+t.a/255+\")\"},uintabgr:function(t){return(t.a<<24|t.b<<16|t.g<<8|t.r)>>>0},uintabgrOpaque:function(t){return(4278190080|t.b<<16|t.g<<8|t.r)>>>0},uintrgba:function(t){return(t.r<<24|t.g<<16|t.b<<8|t.a)>>>0},intabgr:function(t){return t.a<<24|t.b<<16|t.g<<8|t.r},intabgrOpaque:function(t){return 4278190080|t.b<<16|t.g<<8|t.r},intrgba:function(t){return t.r<<24|t.g<<16|t.b<<8|t.a},hsl:function(t){var e=t.r,n=t.g,r=t.b,i=t.a;e/=255,n/=255,r/=255,i=isNaN(parseInt(i))?1:i/255;var o=Math.max(e,n,r),a=Math.min(e,n,r),s=o-a,u=(o+a)/2,l=0,h=0;return s>0&&(l=s/(1-Math.abs(2*u-1)),r===o?h=(e-n)/s+4:n===o?h=(r-e)/s+2:e===o&&(h=(n-r)/s+(n<r?6:0))<0&&(h+=360),h/=6),{h:h,s:l,l:u,a:i}},hsv:function(t){var e=t.r,n=t.g,r=t.b,i=t.a;e/=255,n/=255,r/=255,i=isNaN(parseInt(i))?1:i/255;var o=Math.max(e,n,r),a=Math.min(e,n,r),s=o-a,u=0,l=0;return s>0&&(u=s/o,r===o?l=(e-n)/s+4:n===o?l=(r-e)/s+2:e===o&&(l=(n-r)/s+(n<r?6:0))<0&&(l+=360),l/=6),{h:l,s:u,v:o,a:i}}}};e.default=c,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(0),o=r(i),a=n(9),s=r(a),u=n(3),l=r(u);e.default=new function(){var t=this,e=2*Math.PI;this.createGradient=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};var r=o.default.includes([\"linear\",\"circular\"],e.type)?e.type:\"linear\",i=o.default.get(e,\"verify\",!1),a=(o.default.get(e,\"validate\",!0),e.onValidationComplete||o.default.noop),u=null,h=null;if(e.colors instanceof l.default)h=e.colors;else{var c=e.defaultColor||n.defaultColor;h=new l.default(e.colors,c)}i&&h.verify();var f=h.matrix?h.object2d:h.flat1d;a(f);var d=0,p=0;\"circular\"===r?u=h.matrix?t.circularMatrixGradient:t.circularGradient:(d=e.centerX||0,p=e.centerY||0,u=h.matrix?t.linearMatrixGradient:t.linearGradient);var v=e.width||100,_=e.height||100,y=e.scaleX||e.scale||1,g=e.scaleY||e.scale||1,b=v*y,m=_*g,x=e.translateX||0,w=e.translateY||0;\"circular\"===r&&(b=v*(y/=2),m=_*(g/=2),x*=2,w*=2),e.centralize?(\"linear\"===r&&(d=.5,p=.5),x=.5/y+x-d,w=.5/g+w-p):(x-=d,w-=p);var T={colors:f,centerX:d||0,centerY:p||0,translateX:x,translateY:w,rotation:e.rotation||0,repeatX:e.repeatX||s.default.repeat,repeatY:e.repeatY||s.default.repeat,mixColors:n.mixColors};return function(t,e){return u(t/b,e/m,T)}},this.partialGradient=function(t,e){var n=t.length-1,r=e*n|0,i=1/n*1e3,o=1e3*e%i/i,a=t[r];return{item1:a,item2:void 0!==t[r+1]?t[r+1]:a,position:o}},this.partialGradientWithStops=function(t,e,n){for(var r=0;t[r][n]<e;)r++;var i=void 0!==t[r-1]?t[r-1]:t[r],o=t[r],a=o[n]-i[n];return{item1:i,item2:o,position:(e-i[n])/a||0}},this.linearGradient=function(n,r,i){var o=i.rotation*e,a=Math.cos(o),s=Math.sin(o),u=n-i.centerX-i.translateX,l=r-i.centerY-i.translateY;n=i.repeatX(i.centerX+u*a-l*s);var h=t.partialGradientWithStops(i.colors,n,\"x\");return i.mixColors(h.item1,h.item2,h.position)},this.linearMatrixGradient=function(n,r,i){var o=i.rotation*e,a=Math.cos(o),s=Math.sin(o),u=n-i.centerX-i.translateX,l=r-i.centerY-i.translateY;n=i.repeatX(i.centerX+u*a-l*s),r=i.repeatY(i.centerY+u*s+l*a);var h=t.partialGradientWithStops(i.colors,r,\"y\"),c=t.partialGradientWithStops(h.item1.colors,n,\"x\"),f=t.partialGradientWithStops(h.item2.colors,n,\"x\"),d=i.mixColors(c.item1,c.item2,c.position),p=i.mixColors(f.item1,f.item2,f.position);return i.mixColors(d,p,h.position)},this.circularGradient=function(n,r,i){var o=i.translateX,a=i.translateY,s=i.repeatX((Math.atan2(a-r,o-n)+Math.PI)/e-i.rotation),u=t.partialGradientWithStops(i.colors,s,\"x\");return i.mixColors(u.item1,u.item2,u.position)},this.circularMatrixGradient=function(n,r,i){var o=i.translateX,a=i.translateY,s=o-n,u=a-r,l=i.repeatY(Math.sqrt(s*s+u*u)),h=i.repeatX((Math.atan2(u,s)+Math.PI)/e-i.rotation),c=t.partialGradientWithStops(i.colors,l,\"y\"),f=t.partialGradientWithStops(c.item1.colors,h,\"x\"),d=t.partialGradientWithStops(c.item2.colors,h,\"x\"),p=i.mixColors(f.item1,f.item2,f.position),v=i.mixColors(d.item1,d.item2,d.position);return i.mixColors(p,v,c.position)}},t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=r(o),s=n(13),u=r(s),l=n(15),h=r(l),c=n(12),f=r(c),d=n(14),p=r(d),v=[u.default,h.default,f.default,p.default],_=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!Array.isArray(e)||!e.length)throw new Error(\"GradientData: Argument should be and array with at least one item.\");if(this.dataType=this._getDataTypeFromFirstSample(e),!this.dataType)throw new Error(\"GradientData: One sample was tested and it did not match any supported data structures.\");this.data=e,this.defaultColor=n}return i(t,[{key:\"typeName\",get:function(){return this.dataType.name}},{key:\"matrix\",get:function(){return this.dataType.matrix}},{key:\"flat1d\",get:function(){return a.default.has(this.dataType,\"toFlat1d\")?this.dataType.toFlat1d(this.data,this.defaultColor):new t(this.dataType.toObject2d(this.data,this.defaultColor),this.defaultColor).flat1d}},{key:\"flat2d\",get:function(){return a.default.has(this.dataType,\"toFlat2d\")?this.dataType.toFlat2d(this.data,this.defaultColor):new t(this.dataType.toObject2d(this.data,this.defaultColor),this.defaultColor).flat2d}},{key:\"array2d\",get:function(){return a.default.has(this.dataType,\"toArray2d\")?this.dataType.toArray2d(this.data,this.defaultColor):new t(this.dataType.toObject2d(this.data,this.defaultColor),this.defaultColor).array2d}},{key:\"object2d\",get:function(){return this.dataType.toObject2d(this.data,this.defaultColor)}}],[{key:\"types\",get:function(){return v}}]),i(t,[{key:\"verify\",value:function(){return this.dataType.verify(this.data)}},{key:\"_getDataTypeFromFirstSample\",value:function(t){return a.default.find(v,function(e){return e.testStructure(t)})}}]),t}();e.default=_,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return r(t,null,[{key:\"addDefaultColorsForMatrix\",value:function(t,e){var n=o.default.keys(e);o.default.forEach(t,function(t){o.default.forEach(t.colors,function(t){o.default.forEach(n,function(n){o.default.has(t,n)||(t[n]=e[n])})})})}},{key:\"addDefaultColors\",value:function(t,e){var n=o.default.keys(e);o.default.forEach(t,function(t){o.default.forEach(n,function(n){o.default.has(t,n)||(t[n]=e[n])})})}},{key:\"verify\",value:function(t,e){if(!this._verifyExpectedDataStructureInAllSamples(t,e))throw new Error(\"Color data structure is not consistent / valid\");return!0}},{key:\"_verifyExpectedDataStructureInAllSamples\",value:function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(!e.testStructureSingleSample(r))return!1}return!0}},{key:\"addMissingStopsXY\",value:function(t){var e=this;return t=this.addMissingStops(t,\"y\"),o.default.forEach(t,function(t){t.colors=e.addMissingStops(t.colors,\"x\")}),t}},{key:\"addMissingStops\",value:function(t,e){1===(t=o.default.clone(t)).length&&(delete t[0][e],t.push(o.default.clone(t[0])));var n=o.default.findPropertyIndex(t,e),r=t[0],i=void 0;n>0||-1===n?r[e]=0:0!==r[e]&&((i=o.default.clone(r))[e]=0,t.unshift(i));var a=o.default.findLastPropertyIndex(t,e),s=t[t.length-1];a<t.length-1?s[e]=1:1!==s[e]&&((i=o.default.clone(s))[e]=1,t.push(i));for(var u=0,l=0;l>-1;)u=o.default.findPropertyIndex(t,e,u),(l=o.default.findPropertyIndex(t,e,u+1))>-1&&this._addStopsBetweenIndexes(t,e,u,l),u=l;return t}},{key:\"_addStopsBetweenIndexes\",value:function(t,e,n,r){for(var i=t[n][e],o=t[r][e],a=r-n,s=(o-i)/a,u=1;u<a;u++)t[n+u][e]=i+u*s}}]),t}();e.default=a,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return r(t,null,[{key:\"convert\",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Array.isArray(t)?t.map(function(t){return e.convert.apply(e,[t].concat(r))}):r.reduce(function(t,e){return e(t)},t)}},{key:\"convertAny\",value:function(t,e,n){var r=this.getColorType(t,n);if(!r||r===e)return t;if(\"function\"==typeof r.to[e.name])return r.to[e.name](t);var i=this._getConversionPathThroughParentType(r,e,n);return this.convert.apply(this,[t].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(i)))}},{key:\"getColorType\",value:function(t,e){return o.default.find(e,function(e){return e.test(t)})}},{key:\"_getConversionPathThroughParentType\",value:function(t,e,n){var r=this._getPathToRoot(t),i=this._getPathToRoot(e).reverse(),a=r[r.length-1],s=i[0],u=a===s,l=\"function\"==typeof a.to[s.name];if(u)i.shift();else if(!l)throw new Error(\"Path should be implemented from \"+a.name+\" to \"+s.name);var h=r.concat(i),c=[],f=void 0;return o.default.forEach(h,function(t,e){(f=h[e+1])&&c.push(t.to[f.name])}),c}},{key:\"_getPathToRoot\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.push(t),t.parent?this._getPathToRoot(t.parent,e):e}}]),t}();e.default=a,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return{h:t.h-n*(t.h-e.h),s:t.s-n*(t.s-e.s),l:t.l-n*(t.l-e.l),a:t.a-n*(t.a-e.a)}}Object.defineProperty(e,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},a=n(1),s=r(a),u=n(2),l=r(u),h=n(3),c=r(h),f=n(7),d={h:0,s:0,l:0,a:1},p=new function(){var t=this;this.name=\"hsl\",this.className=\"Hsl\",this.parent=null,this.test=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":o(t))&&t.hasOwnProperty(\"h\")&&t.hasOwnProperty(\"s\")&&t.hasOwnProperty(\"l\")&&t.h>=0&&t.h<=1&&t.s>=0&&t.s<=1&&t.l>=0&&t.l<=1&&(!t.hasOwnProperty(\"a\")||t.a>=0&&t.a<=1)},this.gradient=function(t){return l.default.createGradient(t,{mixColors:i,defaultColor:d})},this.gradientData=function(t,e){return e=e||d,new c.default(t,e)},this.draw=function(e,n){var r=(0,f.getCanvasGradient)(t,n),i=(0,f.getCanvasTarget)(e);if(i&&r){for(var o=i.width,a=i.height,u=i.getContext(\"2d\"),l=u.createImageData(o,a),h=l.data.buffer,c=new Uint32Array(h),d=new Uint8ClampedArray(h),p=0;p<o;p++)for(var v=0;v<a;v++){var _=r(p,v),y=t.to.rgb(_);c[v*o+p]=s.default.to.intabgr(y)}l.data.set(d),u.putImageData(l,0,0)}},this.to={rgb:function(t){var e=t.h,n=t.s,r=t.l,i=t.a,o=(1-Math.abs(2*r-1))*n,a=o*(1-Math.abs(6*e%2-1)),s=r-o/2,u=void 0,l=void 0,h=void 0;return e<1/6?(u=o,l=a,h=0):e<2/6?(u=a,l=o,h=0):e<.5?(u=0,l=o,h=a):e<4/6?(u=0,l=a,h=o):e<5/6?(u=a,l=0,h=o):(u=o,l=0,h=a),{r:255*(u+s),g:255*(l+s),b:255*(h+s),a:void 0===i?255:255*i}},hsv:function(t){var e=t.h,n=t.s,r=t.l,i=t.a,o=(2*r+n*(1-Math.abs(2*r-1)))/2;return{h:e,s:n=2*(o-r)/o,v:o,a:void 0===i?1:i}},csshsl:function(t){return\"hsl(\"+Math.round(360*t.h)+\",\"+Math.round(100*t.s)+\"%,\"+Math.round(100*t.l)+\"%)\"},csshsla:function(t){return\"hsla(\"+Math.round(360*t.h)+\",\"+Math.round(100*t.s)+\"%,\"+Math.round(100*t.l)+\"%,\"+t.a+\")\"}}};e.default=p,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getCanvasTarget=e.getCanvasGradient=void 0;var r=n(0),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.getCanvasGradient=function(t,e){return i.default.isObject(e)?t.gradient(e):\"function\"==typeof e?e:null},e.getCanvasTarget=function t(e){return e instanceof HTMLCanvasElement?e:\"string\"==typeof e?t(document.querySelector(e)):null}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.TYPES_ALL=e.TYPES=void 0;var i=n(1),o=r(i),a=n(23),s=r(a),u=n(21),l=r(u),h=n(19),c=r(h),f=n(20),d=r(f),p=n(6),v=r(p),_=n(17),y=r(_),g=n(18),b=r(g),m=n(22),x=r(m),w=n(24),T=r(w),E=n(25),S=r(E),M=[o.default,s.default,l.default,v.default,x.default,d.default,c.default,b.default,y.default],O=M.concat([T.default,S.default]);e.TYPES=M,e.TYPES_ALL=O},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={none:function(t){return t},stop:function(t){return t<0?0:t>1?1:t},repeat:function(t){return t<0?1+t%1:t>1?t%1:t}},t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(5),o=r(i),a=n(2),s=(r(a),n(9)),u=r(s),l=n(11),h=r(l),c=n(0),f=r(c),d=n(16),p=r(d),v=n(8),_=function(){var t=new ArrayBuffer(2),e=new Uint8Array(t),n=new Uint16Array(t);return e[0]=170,e[1]=187,48042===n[0]?0:43707===n[0]?1:UNKNOW_ENDIAN}(),y={any:p.default,endian:_,convert:o.default.convert,colorType:function(t){return o.default.getColorType(t,v.TYPES)},repeat:u.default,color:function(t){return new h.default(t)}};f.default.forEach(v.TYPES_ALL,function(t){y[t.name]=t}),e.default=y,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(8),a=n(1),s=r(a),u=n(2),l=r(u),h=n(5),c=r(h),f=n(0),d=r(f),p=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e instanceof t)this._primaryColor=d.default.clone(e._primaryColor),this._cache=this._cloneCache(e);else{var n=c.default.getColorType(e,o.TYPES);n||(n=\"Rgb\",e={r:0,g:0,b:0,a:255}),this._primaryColor=e,this._cache={},this._cache[n.name]=e}}return i(t,[{key:\"clone\",value:function(){return new t(this)}},{key:\"hueFromColor\",value:function(e){var n=this.hsv;return n.h=new t(e).hsv.h,new t(n)}},{key:\"hueFromValue\",value:function(e){var n=this.hsv;return n.h=e>1?1:e<0?0:e,new t(n)}},{key:\"hue\",value:function(){var e=this;return this._cacheValue(\"hue\",function(){var n=l.default.partialGradient(s.default.hueColors(),e.hsv.h);return new t(s.default.mix(n.item1,n.item2,n.position))}),this._cache.hue}}]),t}();p.prototype._cacheValue=function(t,e){if(!d.default.has(this._cache,t)){var n=e();this._cache[t]=n}},p.prototype._cloneCache=function(t){var e=t._cache.hue,n=d.default.clone(t._cache);return e&&(n.hue=e.clone()),n},d.default.forEach(o.TYPES,function(t){var e=t.name;Object.defineProperty(p.prototype,e,{get:function(){var n=this;return this._cacheValue(e,function(){return c.default.convertAny(n._primaryColor,t,o.TYPES)}),this._cache[e]}})}),e.default=p,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=r(o),s=n(4),u=r(s),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=a.default.get(t,\"0\");return this.testStructureSingleSample(e)}},{key:\"verify\",value:function(t){return u.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){var e=t,n=Array.isArray(t)&&e.length>0;if(!n)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(!(n=a.default.isObject(i)))return!1}return!0}},{key:\"toObject2d\",value:function(t,e){var n=t.map(function(t){var e={};return a.default.isNumber(t.y)&&(e.y=t.y),e.colors=t,e});return n=u.default.addMissingStopsXY(n),u.default.addDefaultColorsForMatrix(n,e),n}},{key:\"name\",get:function(){return\"array2d\"}},{key:\"matrix\",get:function(){return!0}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=r(o),s=n(4),u=r(s),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=a.default.get(t,\"0\");return this.testStructureSingleSample(e)&&this._testStructureAllSamples(t)}},{key:\"verify\",value:function(t){return u.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){return a.default.isObject(t)&&!a.default.has(t,\"colors\")}},{key:\"_testStructureAllSamples\",value:function(t){return-1===a.default.findPropertyIndex(t,\"y\")}},{key:\"toFlat1d\",value:function(t,e){var n=u.default.addMissingStops(t,\"x\");return u.default.addDefaultColors(n,e),n}},{key:\"toObject2d\",value:function(t,e){var n=this.toFlat1d(t,e);return[{y:0,colors:n},{y:1,colors:n}]}},{key:\"name\",get:function(){return\"flat1d\"}},{key:\"matrix\",get:function(){return!1}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=r(o),s=n(4),u=r(s),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=a.default.get(t,\"0\");return this.testStructureSingleSample(e)&&this._testStructureAllSamples(t)}},{key:\"verify\",value:function(t){return u.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){return a.default.isObject(t)&&!a.default.has(t,\"colors\")}},{key:\"_testStructureAllSamples\",value:function(t){return a.default.findPropertyIndex(t,\"y\")>-1}},{key:\"toObject2d\",value:function(t,e){t=a.default.clone(t);var n=[],r=0,i=void 0;return a.default.forEach(t,function(t){i=a.default.isNumber(t.y)?t.y:r;var e=a.default.find(n,[\"y\",i]);e?e.colors.push(t):n.push({y:i,colors:[t]}),r=i,delete t.y}),n=u.default.addMissingStopsXY(n),u.default.addDefaultColorsForMatrix(n,e),n}},{key:\"name\",get:function(){return\"flat2d\"}},{key:\"matrix\",get:function(){return!0}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=r(o),s=n(4),u=r(s),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return i(t,null,[{key:\"testStructure\",value:function(t){var e=a.default.get(t,\"0\");return this.testStructureSingleSample(e)}},{key:\"verify\",value:function(t){return u.default.verify(t,this)}},{key:\"testStructureSingleSample\",value:function(t){var e=a.default.get(t,\"colors\"),n=a.default.isObject(t)&&Array.isArray(e);if(!n)return!1;if(e.length<1)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(!(n=a.default.isObject(i)))return!1}return!0}},{key:\"toObject2d\",value:function(t,e){var n=u.default.addMissingStopsXY(t);return u.default.addDefaultColorsForMatrix(n,e),n}},{key:\"toFlat1d\",value:function(t,e){var n=this.toObject2d(t,e),r=[];return a.default.forEach(n,function(t){a.default.forEach(t.colors,function(t){delete t.x,r.push(t)})}),r}},{key:\"toArray2d\",value:function(t,e){var n=this.toObject2d(t,e);return a.default.map(n,\"colors\")}},{key:\"toFlat2d\",value:function(t,e){var n=this.toObject2d(t,e),r=[];return a.default.forEach(n,function(t){var e=t.y;a.default.forEach(t.colors,function(t){t.y=e,r.push(t)})}),r}},{key:\"name\",get:function(){return\"object2d\"}},{key:\"matrix\",get:function(){return!0}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(0),o=r(i),a=n(5),s=r(a),u=n(8),l={to:{}};o.default.forEach(u.TYPES,function(t){var e=o.default.lowerFirst(t.name);l.to[e]=function(e){return s.default.convertAny(e,t,u.TYPES)}}),e.default=l,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=n(6),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^hsla?\\s*\\(\\s*(\\d{1,3}\\s*)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*\\)$/;e.default={name:\"csshsl\",className:\"Csshsl\",parent:o.default,test:function(t){return\"string\"==typeof t&&!!a.exec(t)},to:{hsl:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=a.exec(t)||[],i=r(n,5),o=i[0],s=i[1],u=i[2],l=(i[3],i[4]);return o?{h:parseInt(s)/360,s:parseInt(u)/100,l:parseInt(l)/100,a:e}:null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=n(6),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^hsla?\\s*\\(\\s*(\\d{1,3}\\s*)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*,\\s*(\\d{1,3}\\s*)(%)\\s*,\\s*(\\d*\\.?\\d*)\\s*\\)$/;e.default={name:\"csshsla\",className:\"Csshsla\",parent:o.default,test:function(t){return\"string\"==typeof t&&!!a.exec(t)},to:{hsl:function(t){var e=a.exec(t)||[],n=r(e,7),i=n[0],o=n[1],s=n[2],u=(n[3],n[4]),l=(n[5],n[6]);return i?{h:parseInt(o)/360,s:parseInt(s)/100,l:parseInt(u)/100,a:l?parseFloat(l):1}:null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^rgba?\\s*\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;e.default={name:\"cssrgb\",className:\"Cssrgb\",parent:o.default,test:function(t){return\"string\"==typeof t&&!!a.exec(t)},to:{rgb:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255,n=a.exec(t)||[],i=r(n,4),o=i[0],s=i[1],u=i[2],l=i[3];return o?{r:parseInt(s),g:parseInt(u),b:parseInt(l),a:e}:null},int:function(t){var e=a.exec(t)||[],n=r(e,4),i=n[0],o=n[1],s=n[2],u=n[3];return i?(parseInt(o)<<16)+(parseInt(s)<<8)+parseInt(u):null},hex:function(t){var e=a.exec(t)||[],n=r(e,4),i=n[0],o=n[1],s=n[2],u=n[3];return i?\"#\"+((1<<24)+(parseInt(o)<<16)+(parseInt(s)<<8)+parseInt(u)).toString(16).slice(1):null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^rgba?\\s*\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d*\\.?\\d*)\\s*\\)$/;e.default={name:\"cssrgba\",className:\"Cssrgba\",parent:o.default,test:function(t){return\"string\"==typeof t&&!!a.exec(t)},to:{rgb:function(t){var e=a.exec(t)||[],n=r(e,5),i=n[0],o=n[1],s=n[2],u=n[3],l=n[4];return i?{r:parseInt(o),g:parseInt(s),b:parseInt(u),a:l?255*parseFloat(l)|0:255}:null},int:function(t){var e=a.exec(t)||[],n=r(e,4),i=n[0],o=n[1],s=n[2],u=n[3];return i?(parseInt(o)<<16)+(parseInt(s)<<8)+parseInt(u):null},hex:function(t){var e=a.exec(t)||[],n=r(e,4),i=n[0],o=n[1],s=n[2],u=n[3];return i?\"#\"+((1<<24)+(parseInt(o)<<16)+(parseInt(s)<<8)+parseInt(u)).toString(16).slice(1):null}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,s=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;e.default={name:\"hex\",className:\"Hex\",parent:o.default,test:function(t){return\"string\"==typeof t&&!(!s.exec(t)&&!a.exec(t))},to:{rgb:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;t=t.replace(a,function(t,e,n,r){return e+e+n+n+r+r});var n=s.exec(t)||[],i=r(n,4),o=i[0],u=i[1],l=i[2],h=i[3];return o?{r:parseInt(u,16),g:parseInt(l,16),b:parseInt(h,16),a:e}:null},int:function(t){return parseInt(t.replace(a,function(t,e,n,r){return e+e+n+n+r+r}).replace(\"#\",\"\"),16)},cssrgb:function(t){t=t.replace(a,function(t,e,n,r){return e+e+n+n+r+r});var e=s.exec(t)||[],n=r(e,4),i=n[0],o=n[1],u=n[2],l=n[3];return i?\"rgb(\"+parseInt(o,16)+\",\"+parseInt(u,16)+\",\"+parseInt(l,16)+\")\":null},cssrgba:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=t.replace(a,function(t,e,n,r){return e+e+n+n+r+r});var n=s.exec(t)||[],i=r(n,4),o=i[0],u=i[1],l=i[2],h=i[3];return o?\"rgba(\"+parseInt(u,16)+\",\"+parseInt(l,16)+\",\"+parseInt(h,16)+\",\"+e+\")\":null}}},t.exports=e.default},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return{h:t.h-n*(t.h-e.h),s:t.s-n*(t.s-e.s),v:t.v-n*(t.v-e.v),a:t.a-n*(t.a-e.a)}}Object.defineProperty(e,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},a=n(1),s=r(a),u=n(2),l=r(u),h=n(3),c=r(h),f=n(7),d={h:0,s:0,v:0,a:1},p=new function(){var t=this;this.name=\"hsv\",this.className=\"Hsv\",this.parent=null,this.test=function(t){return null!==t&&\"object\"===(void 0===t?\"undefined\":o(t))&&t.hasOwnProperty(\"h\")&&t.hasOwnProperty(\"s\")&&t.hasOwnProperty(\"v\")&&t.h>=0&&t.h<=1&&t.s>=0&&t.s<=1&&t.v>=0&&t.v<=1&&(!t.hasOwnProperty(\"a\")||t.a>=0&&t.a<=1)},this.gradient=function(t){return l.default.createGradient(t,{mixColors:i,defaultColor:d})},this.gradientData=function(t,e){return e=e||d,new c.default(t,e)},this.draw=function(e,n){var r=(0,f.getCanvasGradient)(t,n),i=(0,f.getCanvasTarget)(e);if(i&&r){for(var o=i.width,a=i.height,u=i.getContext(\"2d\"),l=u.createImageData(o,a),h=l.data.buffer,c=new Uint32Array(h),d=new Uint8ClampedArray(h),p=0;p<o;p++)for(var v=0;v<a;v++){var _=r(p,v),y=t.to.rgb(_);c[v*o+p]=s.default.to.intabgr(y)}l.data.set(d),u.putImageData(l,0,0)}},this.to={rgb:function(t){var e=t.h,n=t.s,r=t.v,i=t.a,o=r*n,a=o*(1-Math.abs(6*e%2-1)),s=r-o,u=void 0,l=void 0,h=void 0;return e<1/6?(u=o,l=a,h=0):e<2/6?(u=a,l=o,h=0):e<.5?(u=0,l=o,h=a):e<4/6?(u=0,l=a,h=o):e<5/6?(u=a,l=0,h=o):(u=o,l=0,h=a),{r:255*(u+s),g:255*(l+s),b:255*(h+s),a:isNaN(parseFloat(i))?255:255*i}},hsl:function(t){var e=t.h,n=t.s,r=t.v,i=t.a,o=.5*r*(2-n);return n=r*n/(1-Math.abs(2*o-1)),{h:e,s:n,l:o,a:void 0===i?1:i}}}};e.default=p,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={name:\"int\",className:\"Int\",parent:i.default,test:function(t){return\"number\"==typeof t&&t<=16777215&&t>=0},to:{rgb:function(t){return{r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t,a:arguments.length>1&&void 0!==arguments[1]?arguments[1]:255}},hex:function(t){return\"#\"+((1<<24)+t).toString(16).slice(1)},cssrgb:function(t){return\"rgb(\"+((16711680&t)>>16)+\",\"+((65280&t)>>8)+\",\"+(255&t)+\")\"},cssrgba:function(t){return\"rgba(\"+((16711680&t)>>16)+\",\"+((65280&t)>>8)+\",\"+(255&t)+\",\"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+\")\"}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={name:\"intabgr\",className:\"Intabgr\",parent:i.default,to:{rgb:function(t){return{a:t>>24&255,b:t>>16&255,g:t>>8&255,r:255&t}}}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={name:\"intrgba\",className:\"Intrgba\",parent:i.default,to:{rgb:function(t){return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t}}}},t.exports=e.default},function(t,e,n){t.exports=n(10)}])},function(t,e,n){var r=n(38);\"string\"==typeof r&&(r=[[t.i,r,\"\"]]);var i={hmr:!0,transform:void 0,insertInto:void 0},o=n(196)(r,i);r.locals&&(t.exports=r.locals),t.hot.accept(38,function(){var e=n(38);if(\"string\"==typeof e&&(e=[[t.i,e,\"\"]]),!function(t,e){var n,r=0;for(n in t){if(!e||t[n]!==e[n])return!1;r++}for(n in e)r--;return 0===r}(r.locals,e.locals))throw new Error(\"Aborting CSS HMR due to changed css-modules locals.\");o(e)}),t.hot.dispose(function(){o()})},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||\"\",r=t[3];if(!r)return n;if(e&&\"function\"==typeof btoa){var i=(a=r,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+\" */\"),o=r.sources.map(function(t){return\"/*# sourceURL=\"+r.sourceRoot+t+\" */\"});return[n].concat(o).concat([i]).join(\"\\n\")}var a;return[n].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n}).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];\"number\"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];\"number\"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t){var e={};return function(t){if(\"function\"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=null,l=0,h=[],c=n(197);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(g(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(g(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(t,e){var n=s(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var r=h[h.length-1];if(\"top\"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),h.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var i=s(t.insertInto+\" \"+t.insertAt.before);n.insertBefore(e,i)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function _(t){var e=document.createElement(\"style\");return t.attrs.type=\"text/css\",y(e,t.attrs),p(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var a=l++;n=u||(u=_(e)),r=x.bind(null,n,a,!1),i=x.bind(null,n,a,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return t.attrs.type=\"text/css\",t.attrs.rel=\"stylesheet\",y(e,t.attrs),p(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=c(r));i&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+\" */\");var a=new Blob([r],{type:\"text/css\"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=_(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute(\"media\",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=d(t,e);return f(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&f(d(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var b,m=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join(\"\\n\")});function x(t,e,n,r){var i=n?\"\":r.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,r=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var i,o=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(o)?t:(i=0===o.indexOf(\"//\")?o:0===o.indexOf(\"/\")?n+o:r+o.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(i)+\")\")})}},function(t,e){Array.prototype.keySort=function(t){var e=function(t,e){var n,r=0;for(n in t)if(t.hasOwnProperty(n)){if(r==e)return n;r++}return!1},n=function(t,e,n){return n=null!==n?n:1,t==e?0:t>e?1*n:-1*n},r=function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(t=t||{});if(!r)return this.sort(n);for(var i in t)t[i]=\"desc\"==t[i]||-1==t[i]?-1:\"skip\"==t[i]||0===t[i]?0:1;return this.sort(function(i,o){for(var a=0,s=0;0===a&&s<r;){var u=e(t,s);if(u){var l=t[u];a=n(i[u],o[u],l),s++}}return a}),this}},function(t,e,n){\"use strict\";n.r(e);var r=n(6),i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},o=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return i(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var a=o(i),s=a.right,u=(a.left,s);var l=Array.prototype,h=(l.slice,l.map,Math.sqrt(50)),c=Math.sqrt(10),f=Math.sqrt(2),d=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=p(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function p(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=h?10:o>=c?5:o>=f?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=h?10:o>=c?5:o>=f?2:1)}function v(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=h?i*=10:o>=c?i*=5:o>=f&&(i*=2),e<t?-i:i}var _=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};Array.prototype.slice;var y={value:function(){}};function g(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+\"\")||t in r)throw new Error(\"illegal type: \"+t);r[t]=[]}return new b(r)}function b(t){this._=t}function m(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function x(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=y,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}b.prototype=g.prototype={constructor:b,on:function(t,e){var n,r,i=this._,o=(r=i,(t+\"\").trim().split(/^|\\s+/).map(function(t){var e=\"\",n=t.indexOf(\".\");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&\"function\"!=typeof e)throw new Error(\"invalid callback: \"+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=x(i[n],t.name,e);else if(null==e)for(n in i)i[n]=x(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=m(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new b(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var w=g,T=\"http://www.w3.org/1999/xhtml\",E={svg:\"http://www.w3.org/2000/svg\",xhtml:T,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},S=function(t){var e=t+=\"\",n=e.indexOf(\":\");return n>=0&&\"xmlns\"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),E.hasOwnProperty(e)?{space:E[e],local:t}:t};var M=function(t){var e=S(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===T&&e.documentElement.namespaceURI===T?e.createElement(t):e.createElementNS(n,t)}})(e)};function O(){}var C=function(t){return null==t?O:function(){return this.querySelector(t)}};function A(){return[]}var P=function(t){return null==t?A:function(){return this.querySelectorAll(t)}},R=function(t){return function(){return this.matches(t)}},I=function(t){return new Array(t.length)};function D(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}D.prototype={constructor:D,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var k=\"$\";function L(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new D(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function N(t,e,n,r,i,o,a){var s,u,l,h={},c=e.length,f=o.length,d=new Array(c);for(s=0;s<c;++s)(u=e[s])&&(d[s]=l=k+a.call(u,u.__data__,s,e),l in h?i[s]=u:h[l]=u);for(s=0;s<f;++s)(u=h[l=k+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],h[l]=null):n[s]=new D(t,o[s]);for(s=0;s<c;++s)(u=e[s])&&h[d[s]]===u&&(i[s]=u)}function F(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var j=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function B(t,e){return t.style.getPropertyValue(e)||j(t).getComputedStyle(t,null).getPropertyValue(e)}function U(t){return t.trim().split(/^|\\s+/)}function X(t){return t.classList||new H(t)}function H(t){this._node=t,this._names=U(t.getAttribute(\"class\")||\"\")}function G(t,e){for(var n=X(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function W(t,e){for(var n=X(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}H.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(t){return this._names.indexOf(t)>=0}};function Y(){this.textContent=\"\"}function V(){this.innerHTML=\"\"}function z(){this.nextSibling&&this.parentNode.appendChild(this)}function q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(){return null}function Z(){var t=this.parentNode;t&&t.removeChild(this)}function J(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Q(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var $={},tt=null;\"undefined\"!=typeof document&&(\"onmouseenter\"in document.documentElement||($={mouseenter:\"mouseover\",mouseleave:\"mouseout\"}));function et(t,e,n){return t=nt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function nt(t,e,n){return function(r){var i=tt;tt=r;try{t.call(this,this.__data__,e,n)}finally{tt=i}}}function rt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function it(t,e,n){var r=$.hasOwnProperty(t.type)?et:nt;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var h=0,c=u.length;h<c;++h)if((s=u[h]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function ot(t,e,n){var r=j(t),i=r.CustomEvent;\"function\"==typeof i?i=new i(e,n):(i=r.document.createEvent(\"Event\"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var at=[null];function st(t,e){this._groups=t,this._parents=e}function ut(){return new st([[document.documentElement]],at)}st.prototype=ut.prototype={constructor:st,select:function(t){\"function\"!=typeof t&&(t=C(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),h=0;h<u;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&(\"__data__\"in o&&(a.__data__=o.__data__),l[h]=a);return new st(r,this._parents)},selectAll:function(t){\"function\"!=typeof t&&(t=P(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new st(r,i)},filter:function(t){\"function\"!=typeof t&&(t=R(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new st(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),h=-1,this.each(function(t){p[++h]=t}),p;var n,r=e?N:L,i=this._parents,o=this._groups;\"function\"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),h=0;h<a;++h){var c=i[h],f=o[h],d=f.length,p=t.call(c,c&&c.__data__,h,i),v=p.length,_=u[h]=new Array(v),y=s[h]=new Array(v);r(c,f,_,y,l[h]=new Array(d),p,e);for(var g,b,m=0,x=0;m<v;++m)if(g=_[m]){for(m>=x&&(x=m+1);!(b=y[x])&&++x<v;);g._next=b||null}}return(s=new st(s,i))._enter=u,s._exit=l,s},enter:function(){return new st(this._enter||this._groups.map(I),this._parents)},exit:function(){return new st(this._exit||this._groups.map(I),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r=\"function\"==typeof t?t(r):r.append(t+\"\"),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],h=n[s],c=l.length,f=a[s]=new Array(c),d=0;d<c;++d)(u=l[d]||h[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new st(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=F);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),h=0;h<u;++h)(a=s[h])&&(l[h]=a);l.sort(e)}return new st(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=S(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:\"function\"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:\"function\"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?\"\":n)):B(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:\"function\"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=U(t+\"\");if(arguments.length<2){for(var r=X(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((\"function\"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?G:W)(this,t)}}:e?function(t){return function(){G(this,t)}}:function(t){return function(){W(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Y:(\"function\"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?\"\":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?V:(\"function\"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?\"\":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(z)},lower:function(){return this.each(q)},append:function(t){var e=\"function\"==typeof t?t:M(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n=\"function\"==typeof t?t:M(t),r=null==e?K:\"function\"==typeof e?e:C(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Z)},clone:function(t){return this.select(t?Q:J)},datum:function(t){return arguments.length?this.property(\"__data__\",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\\s+/).map(function(t){var e=\"\",n=t.indexOf(\".\");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+\"\"),a=o.length;if(!(arguments.length<2)){for(s=e?it:rt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,h=s.length;l<h;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each((\"function\"==typeof e?function(t,e){return function(){return ot(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return ot(this,t,e)}})(t,e))}};var lt=ut,ht=0;function ct(){this._=\"@\"+(++ht).toString(36)}ct.prototype=function(){return new ct}.prototype={constructor:ct,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function ft(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}ft.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var dt=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function pt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vt(){}var _t=\"\\\\s*([+-]?\\\\d+)\\\\s*\",yt=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",gt=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",bt=/^#([0-9a-f]{3})$/,mt=/^#([0-9a-f]{6})$/,xt=new RegExp(\"^rgb\\\\(\"+[_t,_t,_t]+\"\\\\)$\"),wt=new RegExp(\"^rgb\\\\(\"+[gt,gt,gt]+\"\\\\)$\"),Tt=new RegExp(\"^rgba\\\\(\"+[_t,_t,_t,yt]+\"\\\\)$\"),Et=new RegExp(\"^rgba\\\\(\"+[gt,gt,gt,yt]+\"\\\\)$\"),St=new RegExp(\"^hsl\\\\(\"+[yt,gt,gt]+\"\\\\)$\"),Mt=new RegExp(\"^hsla\\\\(\"+[yt,gt,gt,yt]+\"\\\\)$\"),Ot={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ct(t){var e;return t=(t+\"\").trim().toLowerCase(),(e=bt.exec(t))?new Dt((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=mt.exec(t))?At(parseInt(e[1],16)):(e=xt.exec(t))?new Dt(e[1],e[2],e[3],1):(e=wt.exec(t))?new Dt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Tt.exec(t))?Pt(e[1],e[2],e[3],e[4]):(e=Et.exec(t))?Pt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=St.exec(t))?Lt(e[1],e[2]/100,e[3]/100,1):(e=Mt.exec(t))?Lt(e[1],e[2]/100,e[3]/100,e[4]):Ot.hasOwnProperty(t)?At(Ot[t]):\"transparent\"===t?new Dt(NaN,NaN,NaN,0):null}function At(t){return new Dt(t>>16&255,t>>8&255,255&t,1)}function Pt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dt(t,e,n,r)}function Rt(t){return t instanceof vt||(t=Ct(t)),t?new Dt((t=t.rgb()).r,t.g,t.b,t.opacity):new Dt}function It(t,e,n,r){return 1===arguments.length?Rt(t):new Dt(t,e,n,null==r?1:r)}function Dt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function kt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?\"0\":\"\")+t.toString(16)}function Lt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ft(t,e,n,r)}function Nt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Ft)return new Ft(t.h,t.s,t.l,t.opacity);if(t instanceof vt||(t=Ct(t)),!t)return new Ft;if(t instanceof Ft)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Ft(a,s,u,t.opacity)}(t):new Ft(t,e,n,null==r?1:r)}function Ft(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function jt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}dt(vt,Ct,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+\"\"}}),dt(Dt,It,pt(vt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Dt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Dt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return\"#\"+kt(this.r)+kt(this.g)+kt(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?\")\":\", \"+t+\")\")}})),dt(Ft,Nt,pt(vt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ft(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ft(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dt(jt(t>=240?t-240:t+120,i,r),jt(t,i,r),jt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Bt=Math.PI/180,Ut=180/Math.PI,Xt=.96422,Ht=1,Gt=.82521,Wt=4/29,Yt=6/29,Vt=3*Yt*Yt,zt=Yt*Yt*Yt;function qt(t){if(t instanceof Zt)return new Zt(t.l,t.a,t.b,t.opacity);if(t instanceof re){if(isNaN(t.h))return new Zt(t.l,0,0,t.opacity);var e=t.h*Bt;return new Zt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Dt||(t=Rt(t));var n,r,i=te(t.r),o=te(t.g),a=te(t.b),s=Jt((.2225045*i+.7168786*o+.0606169*a)/Ht);return i===o&&o===a?n=r=s:(n=Jt((.4360747*i+.3850649*o+.1430804*a)/Xt),r=Jt((.0139322*i+.0971045*o+.7141733*a)/Gt)),new Zt(116*s-16,500*(n-s),200*(s-r),t.opacity)}function Kt(t,e,n,r){return 1===arguments.length?qt(t):new Zt(t,e,n,null==r?1:r)}function Zt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Jt(t){return t>zt?Math.pow(t,1/3):t/Vt+Wt}function Qt(t){return t>Yt?t*t*t:Vt*(t-Wt)}function $t(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function te(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ee(t){if(t instanceof re)return new re(t.h,t.c,t.l,t.opacity);if(t instanceof Zt||(t=qt(t)),0===t.a&&0===t.b)return new re(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ut;return new re(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ne(t,e,n,r){return 1===arguments.length?ee(t):new re(t,e,n,null==r?1:r)}function re(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}dt(Zt,Kt,pt(vt,{brighter:function(t){return new Zt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Zt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Dt($t(3.1338561*(e=Xt*Qt(e))-1.6168667*(t=Ht*Qt(t))-.4906146*(n=Gt*Qt(n))),$t(-.9787684*e+1.9161415*t+.033454*n),$t(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),dt(re,ne,pt(vt,{brighter:function(t){return new re(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new re(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return qt(this).rgb()}}));var ie=-.29227,oe=-.90649,ae=1.97294,se=ae*oe,ue=1.78277*ae,le=1.78277*ie- -.14861*oe;function he(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ce)return new ce(t.h,t.s,t.l,t.opacity);t instanceof Dt||(t=Rt(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(le*r+se*e-ue*n)/(le+se-ue),o=r-i,a=(ae*(n-i)-ie*o)/oe,s=Math.sqrt(a*a+o*o)/(ae*i*(1-i)),u=s?Math.atan2(a,o)*Ut-120:NaN;return new ce(u<0?u+360:u,s,i,t.opacity)}(t):new ce(t,e,n,null==r?1:r)}function ce(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function fe(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}dt(ce,he,pt(vt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ce(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ce(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Bt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Dt(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(ie*r+oe*i)),255*(e+n*(ae*r)),this.opacity)}}));var de=function(t){return function(){return t}};function pe(t,e){return function(n){return t+n*e}}function ve(t,e){var n=e-t;return n?pe(t,n>180||n<-180?n-360*Math.round(n/360):n):de(isNaN(t)?e:t)}function _e(t){return 1==(t=+t)?ye:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):de(isNaN(e)?n:e)}}function ye(t,e){var n=e-t;return n?pe(t,n):de(isNaN(t)?e:t)}var ge=function t(e){var n=_e(e);function r(t,e){var r=n((t=It(t)).r,(e=It(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=ye(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+\"\"}}return r.gamma=t,r}(1);function be(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=It(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+\"\"}}}var me=be(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return fe((n-r/e)*e,a,i,o,s)}}),xe=(be(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return fe((n-r/e)*e,i,o,a,s)}}),function(t,e){return e-=t=+t,function(n){return t+e*n}}),we=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Te=new RegExp(we.source,\"g\");var Ee,Se,Me,Oe,Ce=function(t,e){var n,r,i,o=we.lastIndex=Te.lastIndex=0,a=-1,s=[],u=[];for(t+=\"\",e+=\"\";(n=we.exec(t))&&(r=Te.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:xe(n,r)})),o=Te.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+\"\"}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join(\"\")})},Ae=function(t,e){var n,r=typeof e;return null==e||\"boolean\"===r?de(e):(\"number\"===r?xe:\"string\"===r?(n=Ct(e))?(e=n,ge):Ce:e instanceof Ct?ge:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ae(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}:\"function\"!=typeof e.valueOf&&\"function\"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&\"object\"==typeof t||(t={}),null!==e&&\"object\"==typeof e||(e={}),e)n in t?r[n]=Ae(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:xe)(t,e)},Pe=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},Re=180/Math.PI,Ie={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},De=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Re,skewX:Math.atan(u)*Re,scaleX:a,scaleY:s}};function ke(t,e,n,r){function i(t){return t.length?t.pop()+\" \":\"\"}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push(\"translate(\",null,e,null,n);s.push({i:u-4,x:xe(t,i)},{i:u-2,x:xe(r,o)})}else(i||o)&&a.push(\"translate(\"+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+\"rotate(\",null,r)-2,x:xe(t,e)})):e&&n.push(i(n)+\"rotate(\"+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+\"skewX(\",null,r)-2,x:xe(t,e)}):e&&n.push(i(n)+\"skewX(\"+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+\"scale(\",null,\",\",null,\")\");a.push({i:s-4,x:xe(t,n)},{i:s-2,x:xe(e,r)})}else 1===n&&1===r||o.push(i(o)+\"scale(\"+n+\",\"+r+\")\")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join(\"\")}}}var Le=ke(function(t){return\"none\"===t?Ie:(Ee||(Ee=document.createElement(\"DIV\"),Se=document.documentElement,Me=document.defaultView),Ee.style.transform=t,t=Me.getComputedStyle(Se.appendChild(Ee),null).getPropertyValue(\"transform\"),Se.removeChild(Ee),t=t.slice(7,-1).split(\",\"),De(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},\"px, \",\"px)\",\"deg)\"),Ne=ke(function(t){return null==t?Ie:(Oe||(Oe=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),Oe.setAttribute(\"transform\",t),(t=Oe.transform.baseVal.consolidate())?(t=t.matrix,De(t.a,t.b,t.c,t.d,t.e,t.f)):Ie)},\", \",\")\",\")\");Math.SQRT2;function Fe(t){return function(e,n){var r=t((e=Nt(e)).h,(n=Nt(n)).h),i=ye(e.s,n.s),o=ye(e.l,n.l),a=ye(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+\"\"}}}Fe(ve),Fe(ye);function je(t){return function(e,n){var r=t((e=ne(e)).h,(n=ne(n)).h),i=ye(e.c,n.c),o=ye(e.l,n.l),a=ye(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+\"\"}}}je(ve),je(ye);function Be(t){return function e(n){function r(e,r){var i=t((e=he(e)).h,(r=he(r)).h),o=ye(e.s,r.s),a=ye(e.l,r.l),s=ye(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+\"\"}}return n=+n,r.gamma=e,r}(1)}Be(ve);var Ue=Be(ye);var Xe,He,Ge=0,We=0,Ye=0,Ve=1e3,ze=0,qe=0,Ke=0,Ze=\"object\"==typeof performance&&performance.now?performance:Date,Je=\"object\"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Qe(){return qe||(Je($e),qe=Ze.now()+Ke)}function $e(){qe=0}function tn(){this._call=this._time=this._next=null}function en(t,e,n){var r=new tn;return r.restart(t,e,n),r}function nn(){qe=(ze=Ze.now())+Ke,Ge=We=0;try{!function(){Qe(),++Ge;for(var t,e=Xe;e;)(t=qe-e._time)>=0&&e._call.call(null,t),e=e._next;--Ge}()}finally{Ge=0,function(){var t,e,n=Xe,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Xe=e);He=t,on(r)}(),qe=0}}function rn(){var t=Ze.now(),e=t-ze;e>Ve&&(Ke-=e,ze=t)}function on(t){Ge||(We&&(We=clearTimeout(We)),t-qe>24?(t<1/0&&(We=setTimeout(nn,t-Ze.now()-Ke)),Ye&&(Ye=clearInterval(Ye))):(Ye||(ze=Ze.now(),Ye=setInterval(rn,Ve)),Ge=1,Je(nn)))}tn.prototype=en.prototype={constructor:tn,restart:function(t,e,n){if(\"function\"!=typeof t)throw new TypeError(\"callback is not a function\");n=(null==n?Qe():+n)+(null==e?0:+e),this._next||He===this||(He?He._next=this:Xe=this,He=this),this._call=t,this._time=n,on()},stop:function(){this._call&&(this._call=null,this._time=1/0,on())}};var an=function(t,e,n){var r=new tn;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},sn=w(\"start\",\"end\",\"cancel\",\"interrupt\"),un=[],ln=0,hn=1,cn=2,fn=3,dn=4,pn=5,vn=6,_n=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var l,h,c,f;if(n.state!==hn)return s();for(l in i)if((f=i[l]).name===n.name){if(f.state===fn)return an(o);f.state===dn?(f.state=vn,f.timer.stop(),f.on.call(\"interrupt\",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=vn,f.timer.stop(),f.on.call(\"cancel\",t,t.__data__,f.index,f.group),delete i[l])}if(an(function(){n.state===fn&&(n.state=dn,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=cn,n.on.call(\"start\",t,t.__data__,n.index,n.group),n.state===cn){for(n.state=fn,r=new Array(c=n.tween.length),l=0,h=-1;l<c;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++h]=f);r.length=h+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=pn,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===pn&&(n.on.call(\"end\",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=vn,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=en(function(t){n.state=hn,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:sn,tween:un,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ln})};function yn(t,e){var n=bn(t,e);if(n.state>ln)throw new Error(\"too late; already scheduled\");return n}function gn(t,e){var n=bn(t,e);if(n.state>fn)throw new Error(\"too late; already running\");return n}function bn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error(\"transition not found\");return n}var mn=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+\"\",o)(n=o[i]).name===e?(r=n.state>cn&&n.state<pn,n.state=vn,n.timer.stop(),n.on.call(r?\"interrupt\":\"cancel\",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}};function xn(t,e,n){var r=t._id;return t.each(function(){var t=gn(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return bn(t,r).value[e]}}var wn=function(t,e){var n;return(\"number\"==typeof e?xe:e instanceof Ct?ge:(n=Ct(e))?(e=n,ge):Ce)(t,e)};var Tn=lt.prototype.constructor;function En(t){return function(){this.style.removeProperty(t)}}var Sn=0;function Mn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function On(){return++Sn}var Cn=lt.prototype;Mn.prototype=function(t){return lt().transition(t)}.prototype={constructor:Mn,select:function(t){var e=this._name,n=this._id;\"function\"!=typeof t&&(t=C(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],h=l.length,c=o[a]=new Array(h),f=0;f<h;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&(\"__data__\"in s&&(u.__data__=s.__data__),c[f]=u,_n(c[f],e,n,f,c,bn(s,n)));return new Mn(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;\"function\"!=typeof t&&(t=P(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],h=l.length,c=0;c<h;++c)if(u=l[c]){for(var f,d=t.call(u,u.__data__,c,l),p=bn(u,n),v=0,_=d.length;v<_;++v)(f=d[v])&&_n(f,e,n,v,d,p);o.push(d),a.push(u)}return new Mn(o,a,e,n)},filter:function(t){\"function\"!=typeof t&&(t=R(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Mn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],h=n[s],c=l.length,f=a[s]=new Array(c),d=0;d<c;++d)(u=l[d]||h[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new Mn(a,this._parents,this._name,this._id)},selection:function(){return new Tn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=On(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var h=bn(a,e);_n(a,t,n,l,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Mn(r,this._parents,t,n)},call:Cn.call,nodes:Cn.nodes,node:Cn.node,size:Cn.size,empty:Cn.empty,each:Cn.each,on:function(t,e){var n=this._id;return arguments.length<2?bn(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+\"\").trim().split(/^|\\s+/).every(function(t){var e=t.indexOf(\".\");return e>=0&&(t=t.slice(0,e)),!t||\"start\"===t})}(e)?yn:gn;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=S(t),r=\"transform\"===n?Ne:wn;return this.attrTween(t,\"function\"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+\"\")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+\"\")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}})(n,r,xn(this,\"attr.\"+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,o=n+\"\";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}:function(t,e,n){var r,i,o=n+\"\";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}})(n,r,e))},attrTween:function(t,e){var n=\"attr.\"+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if(\"function\"!=typeof e)throw new Error;var r=S(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,i)),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,i)),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r=\"transform\"==(t+=\"\")?Le:wn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=B(this,t),a=(this.style.removeProperty(t),B(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on(\"end.style.\"+t,En(t)):\"function\"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=B(this,t),s=n(this),u=s+\"\";return null==s&&(this.style.removeProperty(t),u=s=B(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,xn(this,\"style.\"+t,e))).each(function(t,e){var n,r,i,o,a=\"style.\"+e,s=\"end.\"+a;return function(){var u=gn(this,t),l=u.on,h=null==u.value[a]?o||(o=En(e)):void 0;l===n&&i===h||(r=(n=l).copy()).on(s,i=h),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+\"\";return function(){var a=B(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on(\"end.style.\"+t,null)},styleTween:function(t,e,n){var r=\"style.\"+(t+=\"\");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if(\"function\"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?\"\":n))},text:function(t){return this.tween(\"text\",\"function\"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?\"\":e}}(xn(this,\"text\",t)):function(t){return function(){this.textContent=t}}(null==t?\"\":t+\"\"))},remove:function(){return this.on(\"end.remove\",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+=\"\",arguments.length<2){for(var r,i=bn(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=gn(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if(\"function\"!=typeof n)throw new Error;return function(){var o=gn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each((\"function\"==typeof t?function(t,e){return function(){yn(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){yn(this,t).delay=e}})(e,t)):bn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each((\"function\"==typeof t?function(t,e){return function(){gn(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){gn(this,t).duration=e}})(e,t)):bn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if(\"function\"!=typeof e)throw new Error;return function(){gn(this,t).ease=e}}(e,t)):bn(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each(function(){var n=gn(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})})}};(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Math.PI;(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n})(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158);var An=2*Math.PI,Pn=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=An);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*An)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=An);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*An)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=An);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*An)},i.period=function(n){return t(e,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function Rn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Pn.time=Qe(),Pn;return n}lt.prototype.interrupt=function(t){return this.each(function(){mn(this,t)})},lt.prototype.transition=function(t){var e,n;t instanceof Mn?(e=t._id,t=t._name):(e=On(),(n=Pn).time=Qe(),t=null==t?null:t+\"\");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&_n(a,t,e,l,s,n||Rn(a,e));return new Mn(r,this._parents,t,e)};[\"e\",\"w\"].map(In),[\"n\",\"s\"].map(In),[\"n\",\"e\",\"s\",\"w\",\"nw\",\"ne\",\"se\",\"sw\"].map(In);function In(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Dn=Math.PI,kn=2*Dn,Ln=kn-1e-6;function Nn(){this._x0=this._y0=this._x1=this._y1=null,this._=\"\"}function Fn(){return new Nn}Nn.prototype=Fn.prototype={constructor:Nn,moveTo:function(t,e){this._+=\"M\"+(this._x0=this._x1=+t)+\",\"+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+=\"Z\")},lineTo:function(t,e){this._+=\"L\"+(this._x1=+t)+\",\"+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+=\"Q\"+ +t+\",\"+ +e+\",\"+(this._x1=+n)+\",\"+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+=\"C\"+ +t+\",\"+ +e+\",\"+ +n+\",\"+ +r+\",\"+(this._x1=+i)+\",\"+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,h=a-e,c=l*l+h*h;if(i<0)throw new Error(\"negative radius: \"+i);if(null===this._x1)this._+=\"M\"+(this._x1=t)+\",\"+(this._y1=e);else if(c>1e-6)if(Math.abs(h*s-u*l)>1e-6&&i){var f=n-o,d=r-a,p=s*s+u*u,v=f*f+d*d,_=Math.sqrt(p),y=Math.sqrt(c),g=i*Math.tan((Dn-Math.acos((p+c-v)/(2*_*y)))/2),b=g/y,m=g/_;Math.abs(b-1)>1e-6&&(this._+=\"L\"+(t+b*l)+\",\"+(e+b*h)),this._+=\"A\"+i+\",\"+i+\",0,0,\"+ +(h*f>l*d)+\",\"+(this._x1=t+m*s)+\",\"+(this._y1=e+m*u)}else this._+=\"L\"+(this._x1=t)+\",\"+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,h=1^o,c=o?r-i:i-r;if(n<0)throw new Error(\"negative radius: \"+n);null===this._x1?this._+=\"M\"+u+\",\"+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+=\"L\"+u+\",\"+l),n&&(c<0&&(c=c%kn+kn),c>Ln?this._+=\"A\"+n+\",\"+n+\",0,1,\"+h+\",\"+(t-a)+\",\"+(e-s)+\"A\"+n+\",\"+n+\",0,1,\"+h+\",\"+(this._x1=u)+\",\"+(this._y1=l):c>1e-6&&(this._+=\"A\"+n+\",\"+n+\",0,\"+ +(c>=Dn)+\",\"+h+\",\"+(this._x1=t+n*Math.cos(i))+\",\"+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+=\"M\"+(this._x0=this._x1=+t)+\",\"+(this._y0=this._y1=+e)+\"h\"+ +n+\"v\"+ +r+\"h\"+-n+\"Z\"},toString:function(){return this._}};function jn(){}function Bn(t,e){var n=new jn;if(t instanceof jn)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}jn.prototype=Bn.prototype={constructor:jn,has:function(t){return\"$\"+t in this},get:function(t){return this[\"$\"+t]},set:function(t,e){return this[\"$\"+t]=e,this},remove:function(t){var e=\"$\"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)\"$\"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)\"$\"===e[0]&&++t;return t},empty:function(){for(var t in this)if(\"$\"===t[0])return!1;return!0},each:function(t){for(var e in this)\"$\"===e[0]&&t(this[e],e.slice(1),this)}};var Un=Bn,Xn=function(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,l,h,c=-1,f=n.length,d=r[i++],p=Un(),v=a();++c<f;)(h=p.get(u=d(l=n[c])+\"\"))?h.push(l):p.set(u,[l]);return p.each(function(t,e){s(v,e,o(t,i,a,s))}),v}return n={object:function(t){return o(t,0,Hn,Gn)},map:function(t){return o(t,0,Wn,Yn)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(o(t,0,Wn,Yn),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function Hn(){return{}}function Gn(t,e,n){t[e]=n}function Wn(){return Un()}function Yn(t,e,n){t.set(e,n)}function Vn(){}var zn=Un.prototype;function qn(t,e){var n=new Vn;if(t instanceof Vn)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Vn.prototype=qn.prototype={constructor:Vn,has:zn.has,add:function(t){return this[\"$\"+(t+=\"\")]=t,this},remove:zn.remove,clear:zn.clear,values:zn.keys,size:zn.size,empty:zn.empty,each:zn.each};var Kn=function(t){var e=[];for(var n in t)e.push(n);return e};Array.prototype.slice;var Zn={},Jn={},Qn=34,$n=10,tr=13;function er(t){return new Function(\"d\",\"return {\"+t.map(function(t,e){return JSON.stringify(t)+\": d[\"+e+\"]\"}).join(\",\")+\"}\")}function nr(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function rr(t,e){var n=t+\"\",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function ir(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?\"Invalid Date\":((e=t.getUTCFullYear())<0?\"-\"+rr(-e,6):e>9999?\"+\"+rr(e,6):rr(e,4))+\"-\"+rr(t.getUTCMonth()+1,2)+\"-\"+rr(t.getUTCDate(),2)+(o?\"T\"+rr(n,2)+\":\"+rr(r,2)+\":\"+rr(i,2)+\".\"+rr(o,3)+\"Z\":i?\"T\"+rr(n,2)+\":\"+rr(r,2)+\":\"+rr(i,2)+\"Z\":r||n?\"T\"+rr(n,2)+\":\"+rr(r,2)+\"Z\":\"\")}var or=function(t){var e=new RegExp('[\"'+t+\"\\n\\r]\"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,l=!1;function h(){if(u)return Jn;if(l)return l=!1,Zn;var e,r,i=a;if(t.charCodeAt(i)===Qn){for(;a++<o&&t.charCodeAt(a)!==Qn||t.charCodeAt(++a)===Qn;);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===$n?l=!0:r===tr&&(l=!0,t.charCodeAt(a)===$n&&++a),t.slice(i+1,e-1).replace(/\"\"/g,'\"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===$n)l=!0;else if(r===tr)l=!0,t.charCodeAt(a)===$n&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===$n&&--o,t.charCodeAt(o-1)===tr&&--o;(r=h())!==Jn;){for(var c=[];r!==Zn&&r!==Jn;)c.push(r),r=h();e&&null==(c=e(c,s++))||i.push(c)}return i}function i(e,n){return e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})}function o(e){return e.map(a).join(t)}function a(t){return null==t?\"\":t instanceof Date?ir(t):e.test(t+=\"\")?'\"'+t.replace(/\"/g,'\"\"')+'\"':t}return{parse:function(t,e){var n,i,o=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=er(t);return function(r,i){return e(n(r),i,t)}}(t,e):er(t)});return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=nr(e)),[n.map(a).join(t)].concat(i(e,n)).join(\"\\n\")},formatBody:function(t,e){return null==e&&(e=nr(t)),i(t,e).join(\"\\n\")},formatRows:function(t){return t.map(o).join(\"\\n\")}}},ar=or(\",\"),sr=ar.parse,ur=(ar.parseRows,ar.format,ar.formatBody,ar.formatRows,or(\"\\t\")),lr=ur.parse;ur.parseRows,ur.format,ur.formatBody,ur.formatRows;function hr(t){if(!t.ok)throw new Error(t.status+\" \"+t.statusText);return t.text()}var cr=function(t,e){return fetch(t,e).then(hr)};function fr(t){return function(e,n,r){return 2===arguments.length&&\"function\"==typeof n&&(r=n,n=void 0),cr(e,n).then(function(e){return t(e,r)})}}fr(sr),fr(lr);function dr(t){return function(e,n){return cr(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}dr(\"application/xml\"),dr(\"text/html\"),dr(\"image/svg+xml\");function pr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,h,c,f,d=t._root,p={data:r},v=t._x0,_=t._y0,y=t._x1,g=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(v+y)/2))?v=o:y=o,(h=n>=(a=(_+g)/2))?_=a:g=a,i=d,!(d=d[c=h<<1|l]))return i[c]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[c]=p:t._root=p,t;do{i=i?i[c]=new Array(4):t._root=new Array(4),(l=e>=(o=(v+y)/2))?v=o:y=o,(h=n>=(a=(_+g)/2))?_=a:g=a}while((c=h<<1|l)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[c]=p,t}var vr=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function _r(t){return t[0]}function yr(t){return t[1]}function gr(t,e,n){var r=new br(null==e?_r:e,null==n?yr:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function br(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function mr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var xr=gr.prototype=br.prototype;xr.copy=function(){var t,e,n=new br(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=mr(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=mr(e));return n},xr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return pr(this.cover(e,n),e,n,t)},xr.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,h=-1/0,c=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>h&&(h=r),i<l&&(l=i),i>c&&(c=i));if(u>h||l>c)return this;for(this.cover(u,l).cover(h,c),n=0;n<o;++n)pr(this,a[n],s[n],t[n]);return this},xr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},xr.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},xr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},xr.find=function(t,e,n){var r,i,o,a,s,u,l,h=this._x0,c=this._y0,f=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new vr(v,h,c,f,d)),null==n?n=1/0:(h=t-n,c=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>f||(o=u.y0)>d||(a=u.x1)<h||(s=u.y1)<c))if(v.length){var _=(i+a)/2,y=(o+s)/2;p.push(new vr(v[3],_,y,a,s),new vr(v[2],i,y,_,s),new vr(v[1],_,o,a,y),new vr(v[0],i,o,_,y)),(l=(e>=y)<<1|t>=_)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var g=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),m=g*g+b*b;if(m<n){var x=Math.sqrt(n=m);h=t-x,c=e-x,f=t+x,d=e+x,r=v.data}}return r},xr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,h,c,f,d=this._root,p=this._x0,v=this._y0,_=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+_)/2))?p=s:_=s,(h=a>=(u=(v+y)/2))?v=u:y=u,e=d,!(d=d[c=h<<1|l]))return this;if(!d.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(n=e,f=c)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[c]=i:delete e[c],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},xr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},xr.root=function(){return this._root},xr.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},xr.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new vr(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,h=(i+a)/2;(n=u[3])&&s.push(new vr(n,l,h,o,a)),(n=u[2])&&s.push(new vr(n,r,h,l,a)),(n=u[1])&&s.push(new vr(n,l,i,o,h)),(n=u[0])&&s.push(new vr(n,r,i,l,h))}return this},xr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new vr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,h=(a+u)/2,c=(s+l)/2;(o=i[0])&&n.push(new vr(o,a,s,h,c)),(o=i[1])&&n.push(new vr(o,h,s,u,c)),(o=i[2])&&n.push(new vr(o,a,c,h,l)),(o=i[3])&&n.push(new vr(o,h,c,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},xr.x=function(t){return arguments.length?(this._x=t,this):this._x},xr.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var wr=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf(\"e\"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Tr=function(t){return(t=wr(Math.abs(t)))?t[1]:NaN},Er=/^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function Sr(t){return new Mr(t)}function Mr(t){if(!(e=Er.exec(t)))throw new Error(\"invalid format: \"+t);var e;this.fill=e[1]||\" \",this.align=e[2]||\">\",this.sign=e[3]||\"-\",this.symbol=e[4]||\"\",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||\"\"}Sr.prototype=Mr.prototype,Mr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(null==this.width?\"\":Math.max(1,0|this.width))+(this.comma?\",\":\"\")+(null==this.precision?\"\":\".\"+Math.max(0,0|this.precision))+(this.trim?\"~\":\"\")+this.type};var Or,Cr,Ar,Pr,Rr=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case\".\":i=e=r;break;case\"0\":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},Ir=function(t,e){var n=wr(t,e);if(!n)return t+\"\";var r=n[0],i=n[1];return i<0?\"0.\"+new Array(-i).join(\"0\")+r:r.length>i+1?r.slice(0,i+1)+\".\"+r.slice(i+1):r+new Array(i-r.length+2).join(\"0\")},Dr={\"%\":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+\"\"},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ir(100*t,e)},r:Ir,s:function(t,e){var n=wr(t,e);if(!n)return t+\"\";var r=n[0],i=n[1],o=i-(Or=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join(\"0\"):o>0?r.slice(0,o)+\".\"+r.slice(o):\"0.\"+new Array(1-o).join(\"0\")+wr(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},kr=function(t){return t},Lr=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];Cr=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}):kr,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):kr,s=t.percent||\"%\";function u(t){var e=(t=Sr(t)).fill,n=t.align,u=t.sign,l=t.symbol,h=t.zero,c=t.width,f=t.comma,d=t.precision,p=t.trim,v=t.type;\"n\"===v?(f=!0,v=\"g\"):Dr[v]||(null==d&&(d=12),p=!0,v=\"g\"),(h||\"0\"===e&&\"=\"===n)&&(h=!0,e=\"0\",n=\"=\");var _=\"$\"===l?i[0]:\"#\"===l&&/[boxX]/.test(v)?\"0\"+v.toLowerCase():\"\",y=\"$\"===l?i[1]:/[%p]/.test(v)?s:\"\",g=Dr[v],b=/[defgprs%]/.test(v);function m(t){var i,s,l,m=_,x=y;if(\"c\"===v)x=g(t)+x,t=\"\";else{var w=(t=+t)<0;if(t=g(Math.abs(t),d),p&&(t=Rr(t)),w&&0==+t&&(w=!1),m=(w?\"(\"===u?u:\"-\":\"-\"===u||\"(\"===u?\"\":u)+m,x=(\"s\"===v?Lr[8+Or/3]:\"\")+x+(w&&\"(\"===u?\")\":\"\"),b)for(i=-1,s=t.length;++i<s;)if(48>(l=t.charCodeAt(i))||l>57){x=(46===l?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}f&&!h&&(t=r(t,1/0));var T=m.length+t.length+x.length,E=T<c?new Array(c-T+1).join(e):\"\";switch(f&&h&&(t=r(E+t,E.length?c-x.length:1/0),E=\"\"),n){case\"<\":t=m+t+x+E;break;case\"=\":t=m+E+t+x;break;case\"^\":t=E.slice(0,T=E.length>>1)+m+t+x+E.slice(T);break;default:t=E+m+t+x}return a(t)}return d=null==d?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),m.toString=function(){return t+\"\"},m}return{format:u,formatPrefix:function(t,e){var n=u(((t=Sr(t)).type=\"f\",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Tr(e)/3))),i=Math.pow(10,-r),o=Lr[8+r/3];return function(t){return n(i*t)+o}}}}({decimal:\".\",thousands:\",\",grouping:[3],currency:[\"$\",\"\"]}),Ar=Cr.format,Pr=Cr.formatPrefix;var Nr=function(){return new Fr};function Fr(){this.reset()}Fr.prototype={constructor:Fr,reset:function(){this.s=this.t=0},add:function(t){Br(jr,t,this.t),Br(this,jr.s,this.s),this.s?this.t+=jr.t:this.s=jr.t},valueOf:function(){return this.s}};var jr=new Fr;function Br(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var Ur=1e-6,Xr=Math.PI,Hr=Xr/2,Gr=Xr/4,Wr=2*Xr,Yr=Xr/180,Vr=Math.abs,zr=Math.atan,qr=Math.atan2,Kr=Math.cos,Zr=(Math.ceil,Math.exp),Jr=(Math.floor,Math.log),Qr=(Math.pow,Math.sin),$r=(Math.sign,Math.sqrt),ti=Math.tan;function ei(t){return t>1?0:t<-1?Xr:Math.acos(t)}function ni(t){return t>1?Hr:t<-1?-Hr:Math.asin(t)}function ri(){}Nr(),Nr();function ii(t){var e=t[0],n=t[1],r=Kr(n);return[r*Kr(e),r*Qr(e),Qr(n)]}function oi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ai(t){var e=$r(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}Nr();function si(t,e){return[Vr(t)>Xr?t+Math.round(-t/Wr)*Wr:t,e]}si.invert=si;var ui=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:ri,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},li=function(t,e){return Vr(t[0]-e[0])<Ur&&Vr(t[1]-e[1])<Ur};function hi(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var ci=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(li(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new hi(r,t,null,!0)),u.push(n.o=new hi(r,null,n,!1)),s.push(n=new hi(a,t,null,!1)),u.push(n.o=new hi(a,null,n,!0))}}),s.length){for(u.sort(e),fi(s),fi(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,h,c=s[0];;){for(var f=c,d=!0;f.v;)if((f=f.n)===c)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=l.length;o<a;++o)i.point((h=l[o])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((h=l[o])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}};function fi(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var di=Nr(),pi=function(t,e){var n=e[0],r=e[1],i=Qr(r),o=[Qr(n),-Kr(n),0],a=0,s=0;di.reset(),1===i?r=Hr+Ur:-1===i&&(r=-Hr-Ur);for(var u=0,l=t.length;u<l;++u)if(c=(h=t[u]).length)for(var h,c,f=h[c-1],d=f[0],p=f[1]/2+Gr,v=Qr(p),_=Kr(p),y=0;y<c;++y,d=b,v=x,_=w,f=g){var g=h[y],b=g[0],m=g[1]/2+Gr,x=Qr(m),w=Kr(m),T=b-d,E=T>=0?1:-1,S=E*T,M=S>Xr,O=v*x;if(di.add(qr(O*E*Qr(S),_*w+O*Kr(S))),a+=M?T+E*Wr:T,M^d>=n^b>=n){var C=oi(ii(f),ii(g));ai(C);var A=oi(o,C);ai(A);var P=(M^T>=0?-1:1)*ni(A[2]);(r>P||r===P&&(C[0]||C[1]))&&(s+=M^T>=0?1:-1)}}return(a<-Ur||a<Ur&&di<-Ur)^1&s},vi=function(t,e,n,r){return function(i){var o,a,s,u=e(i),l=ui(),h=e(l),c=!1,f={point:d,lineStart:v,lineEnd:y,polygonStart:function(){f.point=g,f.lineStart=b,f.lineEnd=m,a=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=v,f.lineEnd=y,a=_(a);var t=pi(o,r);a.length?(c||(i.polygonStart(),c=!0),ci(a,yi,t,n,i)):t&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){u.point(t,e)}function v(){f.point=p,u.lineStart()}function y(){f.point=d,u.lineEnd()}function g(t,e){s.push([t,e]),h.point(t,e)}function b(){h.lineStart(),s=[]}function m(){g(s[0][0],s[0][1]),h.lineEnd();var t,e,n,r,u=h.clean(),f=l.result(),d=f.length;if(s.pop(),o.push(s),s=null,d)if(1&u){if((e=(n=f[0]).length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&u&&f.push(f.pop().concat(f.shift())),a.push(f.filter(_i))}return f}};function _i(t){return t.length>1}function yi(t,e){return((t=t.x)[0]<0?t[1]-Hr-Ur:Hr-t[1])-((e=e.x)[0]<0?e[1]-Hr-Ur:Hr-e[1])}vi(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Xr:-Xr,u=Vr(o-n);Vr(u-Xr)<Ur?(t.point(n,r=(r+a)/2>0?Hr:-Hr),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Xr&&(Vr(n-i)<Ur&&(n-=i*Ur),Vr(o-s)<Ur&&(o-=s*Ur),r=function(t,e,n,r){var i,o,a=Qr(t-n);return Vr(a)>Ur?zr((Qr(e)*(o=Kr(r))*Qr(n)-Qr(r)*(i=Kr(e))*Qr(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*Hr,r.point(-Xr,i),r.point(0,i),r.point(Xr,i),r.point(Xr,0),r.point(Xr,-i),r.point(0,-i),r.point(-Xr,-i),r.point(-Xr,0),r.point(-Xr,i);else if(Vr(t[0]-e[0])>Ur){var o=t[0]<e[0]?Xr:-Xr;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Xr,-Hr]);Nr();Nr(),Nr();function gi(t){this._context=t}gi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Wr)}},result:ri};Nr();function bi(){this._string=[]}function mi(t){return\"m0,\"+t+\"a\"+t+\",\"+t+\" 0 1,1 0,\"+-2*t+\"a\"+t+\",\"+t+\" 0 1,1 0,\"+2*t+\"z\"}bi.prototype={_radius:4.5,_circle:mi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push(\"Z\"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push(\"M\",t,\",\",e),this._point=1;break;case 1:this._string.push(\"L\",t,\",\",e);break;default:null==this._circle&&(this._circle=mi(this._radius)),this._string.push(\"M\",t,\",\",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join(\"\");return this._string=[],t}return null}};function xi(t){return function(e){var n=new wi;for(var r in t)n[r]=t[r];return n.stream=e,n}}function wi(){}wi.prototype={constructor:wi,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};Kr(30*Yr);xi({point:function(t,e){this.stream.point(t*Yr,e*Yr)}});function Ti(t){return function(e,n){var r=Kr(e),i=Kr(n),o=t(r*i);return[o*i*Qr(e),o*Qr(n)]}}function Ei(t){return function(e,n){var r=$r(e*e+n*n),i=t(r),o=Qr(i),a=Kr(i);return[qr(e*o,r*a),ni(r&&n*o/r)]}}var Si=Ti(function(t){return $r(2/(1+t))});Si.invert=Ei(function(t){return 2*ni(t/2)});var Mi=Ti(function(t){return(t=ei(t))&&t/Qr(t)});Mi.invert=Ei(function(t){return t});function Oi(t,e){return[t,Jr(ti((Hr+e)/2))]}Oi.invert=function(t,e){return[t,2*zr(Zr(e))-Hr]};function Ci(t,e){return[t,e]}Ci.invert=Ci;var Ai=1.340264,Pi=-.081106,Ri=893e-6,Ii=.003796,Di=$r(3)/2;function ki(t,e){var n=ni(Di*Qr(e)),r=n*n,i=r*r*r;return[t*Kr(n)/(Di*(Ai+3*Pi*r+i*(7*Ri+9*Ii*r))),n*(Ai+Pi*r+i*(Ri+Ii*r))]}ki.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(Ai+Pi*i+o*(Ri+Ii*i))-e)/(Ai+3*Pi*i+o*(7*Ri+9*Ii*i)))*r)*i*i,!(Vr(n)<1e-12));++a);return[Di*t*(Ai+3*Pi*i+o*(7*Ri+9*Ii*i))/Kr(r),ni(Qr(r)/Di)]};function Li(t,e){var n=Kr(e),r=Kr(t)*n;return[n*Qr(t)/r,Qr(e)/r]}Li.invert=Ei(zr);function Ni(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Ni.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Vr(n)>Ur&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};function Fi(t,e){return[Kr(e)*Qr(t),Qr(e)]}Fi.invert=Ei(ni);function ji(t,e){var n=Kr(e),r=1+Kr(t)*n;return[n*Qr(t)/r,Qr(e)/r]}ji.invert=Ei(function(t){return 2*zr(t)});function Bi(t,e){return[Jr(ti((Hr+e)/2)),-t]}Bi.invert=function(t,e){return[-e,2*zr(Zr(t))-Hr]};function Ui(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Xi(t,e){var n,r,i,o,a,s=new Yi(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=Hi);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new Yi(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Wi)}function Hi(t){return t.children}function Gi(t){t.data=t.data.data}function Wi(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Yi(t){this.data=t,this.depth=this.height=0,this.parent=null}Yi.prototype=Xi.prototype={constructor:Yi,count:function(){return this.eachAfter(Ui)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Xi(this).eachBefore(Gi)}};Array.prototype.slice;var Vi=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l};function zi(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}zi.prototype=Object.create(Yi.prototype);var qi=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l},Ki=(1+Math.sqrt(5))/2;function Zi(t,e,n,r,i,o){for(var a,s,u,l,h,c,f,d,p,v,_,y=[],g=e.children,b=0,m=0,x=g.length,w=e.value;b<x;){u=i-n,l=o-r;do{h=g[m++].value}while(!h&&m<x);for(c=f=h,_=h*h*(v=Math.max(l/u,u/l)/(w*t)),p=Math.max(f/_,_/c);m<x;++m){if(h+=s=g[m].value,s<c&&(c=s),s>f&&(f=s),_=h*h*v,(d=Math.max(f/_,_/c))>p){h-=s;break}p=d}y.push(a={value:h,dice:u<l,children:g.slice(b,m)}),a.dice?Vi(a,n,r,i,w?r+=l*h/w:o):qi(a,n,r,w?n+=u*h/w:i,o),w-=h,b=m}return y}(function t(e){function n(t,n,r,i,o){Zi(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n})(Ki),function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,l,h,c=-1,f=a.length,d=t.value;++c<f;){for(u=(s=a[c]).children,l=s.value=0,h=u.length;l<h;++l)s.value+=u[l].value;s.dice?Vi(s,n,r,i,r+=(o-r)*s.value/d):qi(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else t._squarify=a=Zi(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Ki);var Ji=function(){return Math.random()},Qi=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Ji),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Ji)),$i=(function t(e){function n(){var t=Qi.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Ji),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Ji));(function t(e){function n(t){var n=$i.source(e)(t);return function(){return n()/t}}return n.source=t,n})(Ji),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Ji);function to(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var eo=Array.prototype,no=eo.map,ro=eo.slice;var io=function(t){return function(){return t}},oo=function(t){return+t},ao=[0,1];function so(t){return t}function uo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:io(isNaN(e)?NaN:.5)}function lo(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function ho(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=uo(i,r),o=n(a,o)):(r=uo(r,i),o=n(o,a)),function(t){return o(r(t))}}function co(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=uo(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=u(t,e,1,r)-1;return o[n](i[n](e))}}function fo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function po(){var t,e,n,r,i,o,a=ao,s=ao,u=Ae,l=so;function h(){return r=Math.min(a.length,s.length)>2?co:ho,i=o=null,c}function c(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return c.invert=function(n){return l(e((o||(o=r(s,a.map(t),xe)))(n)))},c.domain=function(t){return arguments.length?(a=no.call(t,oo),l===so||(l=lo(a)),h()):a.slice()},c.range=function(t){return arguments.length?(s=ro.call(t),h()):s.slice()},c.rangeRound=function(t){return s=ro.call(t),u=Pe,h()},c.clamp=function(t){return arguments.length?(l=t?lo(a):so,c):l!==so},c.interpolate=function(t){return arguments.length?(u=t,h()):u},c.unknown=function(t){return arguments.length?(n=t,c):n},function(n,r){return t=n,e=r,h()}}function vo(t,e){return po()(t,e)}var _o=function(t,e,n,r){var i,o=v(t,e,n);switch((r=Sr(null==r?\",f\":r)).type){case\"s\":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Tr(e)/3)))-Tr(Math.abs(t)))}(o,a))||(r.precision=i),Pr(r,a);case\"\":case\"e\":case\"g\":case\"p\":case\"r\":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Tr(e)-Tr(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-(\"e\"===r.type));break;case\"f\":case\"%\":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Tr(Math.abs(t)))}(o))||(r.precision=i-2*(\"%\"===r.type))}return Ar(r)};function yo(t){var e=t.domain;return t.ticks=function(t){var n=e();return d(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return _o(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=p(s,u,n))>0?r=p(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=p(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}function go(){var t=vo(so,so);return t.copy=function(){return fo(t,go())},to.apply(t,arguments),yo(t)}var bo=new Date,mo=new Date;function xo(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return xo(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return bo.setTime(+e),mo.setTime(+r),t(bo),t(mo),Math.floor(n(bo,mo))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var wo=xo(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});wo.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?xo(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):wo:null};wo.range;var To=6e4,Eo=6048e5,So=xo(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Mo=(So.range,xo(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*To)},function(t,e){return(e-t)/To},function(t){return t.getMinutes()})),Oo=(Mo.range,xo(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*To)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})),Co=(Oo.range,xo(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*To)/864e5},function(t){return t.getDate()-1})),Ao=Co;Co.range;function Po(t){return xo(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*To)/Eo})}var Ro=Po(0),Io=Po(1),Do=Po(2),ko=Po(3),Lo=Po(4),No=Po(5),Fo=Po(6),jo=(Ro.range,Io.range,Do.range,ko.range,Lo.range,No.range,Fo.range,xo(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Bo=(jo.range,xo(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Bo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?xo(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Uo=Bo,Xo=(Bo.range,xo(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*To)},function(t,e){return(e-t)/To},function(t){return t.getUTCMinutes()})),Ho=(Xo.range,xo(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()})),Go=(Ho.range,xo(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),Wo=Go;Go.range;function Yo(t){return xo(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Eo})}var Vo=Yo(0),zo=Yo(1),qo=Yo(2),Ko=Yo(3),Zo=Yo(4),Jo=Yo(5),Qo=Yo(6),$o=(Vo.range,zo.range,qo.range,Ko.range,Zo.range,Jo.range,Qo.range,xo(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),ta=($o.range,xo(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));ta.every=function(t){return isFinite(t=Math.floor(t))&&t>0?xo(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ea=ta;ta.range;function na(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ra(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ia(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var oa,aa,sa,ua={\"-\":\"\",_:\" \",0:\"0\"},la=/^\\s*\\d+/,ha=/^%/,ca=/[\\\\^$*+?|[\\]().{}]/g;function fa(t,e,n){var r=t<0?\"-\":\"\",i=(r?-t:t)+\"\",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function da(t){return t.replace(ca,\"\\\\$&\")}function pa(t){return new RegExp(\"^(?:\"+t.map(da).join(\"|\")+\")\",\"i\")}function va(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function _a(t,e,n){var r=la.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ya(t,e,n){var r=la.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ga(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ba(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ma(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function xa(t,e,n){var r=la.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wa(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ta(t,e,n){var r=/^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||\"00\")),n+r[0].length):-1}function Ea(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Sa(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ma(t,e,n){var r=la.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Oa(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ca(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Aa(t,e,n){var r=la.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Pa(t,e,n){var r=la.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ra(t,e,n){var r=la.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ia(t,e,n){var r=ha.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Da(t,e,n){var r=la.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ka(t,e,n){var r=la.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function La(t,e){return fa(t.getDate(),e,2)}function Na(t,e){return fa(t.getHours(),e,2)}function Fa(t,e){return fa(t.getHours()%12||12,e,2)}function ja(t,e){return fa(1+Ao.count(Uo(t),t),e,3)}function Ba(t,e){return fa(t.getMilliseconds(),e,3)}function Ua(t,e){return Ba(t,e)+\"000\"}function Xa(t,e){return fa(t.getMonth()+1,e,2)}function Ha(t,e){return fa(t.getMinutes(),e,2)}function Ga(t,e){return fa(t.getSeconds(),e,2)}function Wa(t){var e=t.getDay();return 0===e?7:e}function Ya(t,e){return fa(Ro.count(Uo(t),t),e,2)}function Va(t,e){var n=t.getDay();return t=n>=4||0===n?Lo(t):Lo.ceil(t),fa(Lo.count(Uo(t),t)+(4===Uo(t).getDay()),e,2)}function za(t){return t.getDay()}function qa(t,e){return fa(Io.count(Uo(t),t),e,2)}function Ka(t,e){return fa(t.getFullYear()%100,e,2)}function Za(t,e){return fa(t.getFullYear()%1e4,e,4)}function Ja(t){var e=t.getTimezoneOffset();return(e>0?\"-\":(e*=-1,\"+\"))+fa(e/60|0,\"0\",2)+fa(e%60,\"0\",2)}function Qa(t,e){return fa(t.getUTCDate(),e,2)}function $a(t,e){return fa(t.getUTCHours(),e,2)}function ts(t,e){return fa(t.getUTCHours()%12||12,e,2)}function es(t,e){return fa(1+Wo.count(ea(t),t),e,3)}function ns(t,e){return fa(t.getUTCMilliseconds(),e,3)}function rs(t,e){return ns(t,e)+\"000\"}function is(t,e){return fa(t.getUTCMonth()+1,e,2)}function os(t,e){return fa(t.getUTCMinutes(),e,2)}function as(t,e){return fa(t.getUTCSeconds(),e,2)}function ss(t){var e=t.getUTCDay();return 0===e?7:e}function us(t,e){return fa(Vo.count(ea(t),t),e,2)}function ls(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Zo(t):Zo.ceil(t),fa(Zo.count(ea(t),t)+(4===ea(t).getUTCDay()),e,2)}function hs(t){return t.getUTCDay()}function cs(t,e){return fa(zo.count(ea(t),t),e,2)}function fs(t,e){return fa(t.getUTCFullYear()%100,e,2)}function ds(t,e){return fa(t.getUTCFullYear()%1e4,e,4)}function ps(){return\"+0000\"}function vs(){return\"%\"}function _s(t){return+t}function ys(t){return Math.floor(+t/1e3)}!function(t){oa=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=pa(i),h=va(i),c=pa(o),f=va(o),d=pa(a),p=va(a),v=pa(s),_=va(s),y=pa(u),g=va(u),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:La,e:La,f:Ua,H:Na,I:Fa,j:ja,L:Ba,m:Xa,M:Ha,p:function(t){return i[+(t.getHours()>=12)]},Q:_s,s:ys,S:Ga,u:Wa,U:Ya,V:Va,w:za,W:qa,x:null,X:null,y:Ka,Y:Za,Z:Ja,\"%\":vs},m={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Qa,e:Qa,f:rs,H:$a,I:ts,j:es,L:ns,m:is,M:os,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:_s,s:ys,S:as,u:ss,U:us,V:ls,w:hs,W:cs,x:null,X:null,y:fs,Y:ds,Z:ps,\"%\":vs},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:Sa,e:Sa,f:Ra,H:Oa,I:Oa,j:Ma,L:Pa,m:Ea,M:Ca,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=h[r[0].toLowerCase()],n+r[0].length):-1},Q:Da,s:ka,S:Aa,u:ya,U:ga,V:ba,w:_a,W:ma,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:wa,Y:xa,Z:Ta,\"%\":Ia};function w(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=ua[r=t.charAt(++s)])?r=t.charAt(++s):i=\"e\"===r?\" \":\"0\",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join(\"\")}}function T(t,e){return function(n){var r,i,o=ia(1900);if(E(o,t,n+=\"\",0)!=n.length)return null;if(\"Q\"in o)return new Date(o.Q);if(\"p\"in o&&(o.H=o.H%12+12*o.p),\"V\"in o){if(o.V<1||o.V>53)return null;\"w\"in o||(o.w=1),\"Z\"in o?(i=(r=ra(ia(o.y))).getUTCDay(),r=i>4||0===i?zo.ceil(r):zo(r),r=Wo.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=e(ia(o.y))).getDay(),r=i>4||0===i?Io.ceil(r):Io(r),r=Ao.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else(\"W\"in o||\"U\"in o)&&(\"w\"in o||(o.w=\"u\"in o?o.u%7:\"W\"in o?1:0),i=\"Z\"in o?ra(ia(o.y)).getUTCDay():e(ia(o.y)).getDay(),o.m=0,o.d=\"W\"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return\"Z\"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ra(o)):e(o)}}function E(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in ua?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),m.x=w(n,m),m.X=w(r,m),m.c=w(e,m),{format:function(t){var e=w(t+=\"\",b);return e.toString=function(){return t},e},parse:function(t){var e=T(t+=\"\",na);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+=\"\",m);return e.toString=function(){return t},e},utcParse:function(t){var e=T(t,ra);return e.toString=function(){return t},e}}}(t),oa.format,oa.parse,aa=oa.utcFormat,sa=oa.utcParse}({dateTime:\"%x, %X\",date:\"%-m/%-d/%Y\",time:\"%-I:%M:%S %p\",periods:[\"AM\",\"PM\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],shortDays:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortMonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]});Date.prototype.toISOString||aa(\"%Y-%m-%dT%H:%M:%S.%LZ\");+new Date(\"2000-01-01T00:00:00.000Z\")||sa(\"%Y-%m-%dT%H:%M:%S.%LZ\");var gs=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]=\"#\"+t.slice(6*r,6*++r);return n},bs=(gs(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\"),gs(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\"),gs(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\"),gs(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\"),gs(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\"),gs(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\"),gs(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\"),gs(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\"),gs(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\"),function(t){return me(t[t.length-1])});bs(new Array(3).concat(\"d8b365f5f5f55ab4ac\",\"a6611adfc27d80cdc1018571\",\"a6611adfc27df5f5f580cdc1018571\",\"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\").map(gs)),bs(new Array(3).concat(\"af8dc3f7f7f77fbf7b\",\"7b3294c2a5cfa6dba0008837\",\"7b3294c2a5cff7f7f7a6dba0008837\",\"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\").map(gs)),bs(new Array(3).concat(\"e9a3c9f7f7f7a1d76a\",\"d01c8bf1b6dab8e1864dac26\",\"d01c8bf1b6daf7f7f7b8e1864dac26\",\"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\").map(gs)),bs(new Array(3).concat(\"998ec3f7f7f7f1a340\",\"5e3c99b2abd2fdb863e66101\",\"5e3c99b2abd2f7f7f7fdb863e66101\",\"542788998ec3d8daebfee0b6f1a340b35806\",\"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\").map(gs)),bs(new Array(3).concat(\"ef8a62f7f7f767a9cf\",\"ca0020f4a58292c5de0571b0\",\"ca0020f4a582f7f7f792c5de0571b0\",\"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\").map(gs)),bs(new Array(3).concat(\"ef8a62ffffff999999\",\"ca0020f4a582bababa404040\",\"ca0020f4a582ffffffbababa404040\",\"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\").map(gs)),bs(new Array(3).concat(\"fc8d59ffffbf91bfdb\",\"d7191cfdae61abd9e92c7bb6\",\"d7191cfdae61ffffbfabd9e92c7bb6\",\"d73027fc8d59fee090e0f3f891bfdb4575b4\",\"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\").map(gs)),bs(new Array(3).concat(\"fc8d59ffffbf91cf60\",\"d7191cfdae61a6d96a1a9641\",\"d7191cfdae61ffffbfa6d96a1a9641\",\"d73027fc8d59fee08bd9ef8b91cf601a9850\",\"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\").map(gs)),bs(new Array(3).concat(\"fc8d59ffffbf99d594\",\"d7191cfdae61abdda42b83ba\",\"d7191cfdae61ffffbfabdda42b83ba\",\"d53e4ffc8d59fee08be6f59899d5943288bd\",\"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\").map(gs)),bs(new Array(3).concat(\"e5f5f999d8c92ca25f\",\"edf8fbb2e2e266c2a4238b45\",\"edf8fbb2e2e266c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\").map(gs)),bs(new Array(3).concat(\"e0ecf49ebcda8856a7\",\"edf8fbb3cde38c96c688419d\",\"edf8fbb3cde38c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\").map(gs)),bs(new Array(3).concat(\"e0f3dba8ddb543a2ca\",\"f0f9e8bae4bc7bccc42b8cbe\",\"f0f9e8bae4bc7bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\").map(gs)),bs(new Array(3).concat(\"fee8c8fdbb84e34a33\",\"fef0d9fdcc8afc8d59d7301f\",\"fef0d9fdcc8afc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\").map(gs)),bs(new Array(3).concat(\"ece2f0a6bddb1c9099\",\"f6eff7bdc9e167a9cf02818a\",\"f6eff7bdc9e167a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\").map(gs)),bs(new Array(3).concat(\"ece7f2a6bddb2b8cbe\",\"f1eef6bdc9e174a9cf0570b0\",\"f1eef6bdc9e174a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\").map(gs)),bs(new Array(3).concat(\"e7e1efc994c7dd1c77\",\"f1eef6d7b5d8df65b0ce1256\",\"f1eef6d7b5d8df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\").map(gs)),bs(new Array(3).concat(\"fde0ddfa9fb5c51b8a\",\"feebe2fbb4b9f768a1ae017e\",\"feebe2fbb4b9f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\").map(gs)),bs(new Array(3).concat(\"edf8b17fcdbb2c7fb8\",\"ffffcca1dab441b6c4225ea8\",\"ffffcca1dab441b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\").map(gs)),bs(new Array(3).concat(\"f7fcb9addd8e31a354\",\"ffffccc2e69978c679238443\",\"ffffccc2e69978c67931a354006837\",\"ffffccd9f0a3addd8e78c67931a354006837\",\"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\").map(gs)),bs(new Array(3).concat(\"fff7bcfec44fd95f0e\",\"ffffd4fed98efe9929cc4c02\",\"ffffd4fed98efe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\").map(gs)),bs(new Array(3).concat(\"ffeda0feb24cf03b20\",\"ffffb2fecc5cfd8d3ce31a1c\",\"ffffb2fecc5cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\").map(gs)),bs(new Array(3).concat(\"deebf79ecae13182bd\",\"eff3ffbdd7e76baed62171b5\",\"eff3ffbdd7e76baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\").map(gs)),bs(new Array(3).concat(\"e5f5e0a1d99b31a354\",\"edf8e9bae4b374c476238b45\",\"edf8e9bae4b374c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\").map(gs)),bs(new Array(3).concat(\"f0f0f0bdbdbd636363\",\"f7f7f7cccccc969696525252\",\"f7f7f7cccccc969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\").map(gs)),bs(new Array(3).concat(\"efedf5bcbddc756bb1\",\"f2f0f7cbc9e29e9ac86a51a3\",\"f2f0f7cbc9e29e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\").map(gs)),bs(new Array(3).concat(\"fee0d2fc9272de2d26\",\"fee5d9fcae91fb6a4acb181d\",\"fee5d9fcae91fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\").map(gs)),bs(new Array(3).concat(\"fee6cefdae6be6550d\",\"feeddefdbe85fd8d3cd94701\",\"feeddefdbe85fd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\").map(gs)),Ue(he(300,.5,0),he(-240,.5,1)),Ue(he(-100,.75,.35),he(80,1.5,.8)),Ue(he(260,.75,.35),he(80,1.5,.8)),he(),It(),Math.PI,Math.PI;function ms(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}ms(gs(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\")),ms(gs(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\")),ms(gs(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\")),ms(gs(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\")),Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var xs=1e-12,ws=Math.PI,Ts=2*ws;function Es(t){this._context=t}Es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Ss=function(t){return new Es(t)};Os(Ss);function Ms(t){this._curve=t}function Os(t){function e(e){return new Ms(t(e))}return e._curve=t,e}Ms.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};Array.prototype.slice;Math.sqrt(1/3);var Cs=Math.sin(ws/10)/Math.sin(7*ws/10),As=(Math.sin(Ts/10),Math.cos(Ts/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function Ps(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Rs(t){this._context=t}Rs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ps(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ps(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Is(t){this._context=t}Is.prototype={areaStart:As,areaEnd:As,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ps(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ds(t){this._context=t}Ds.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ps(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ks(t,e){this._basis=new Rs(t),this._beta=e}ks.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};(function t(e){function n(t){return 1===e?new Rs(t):new ks(t,e)}return n.beta=function(e){return t(+e)},n})(.85);function Ls(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ns(t,e){this._context=t,this._k=(1-e)/6}Ns.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ls(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ls(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Ns(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Fs(t,e){this._context=t,this._k=(1-e)/6}Fs.prototype={areaStart:As,areaEnd:As,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ls(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Fs(t,e)}return n.tension=function(e){return t(+e)},n})(0);function js(t,e){this._context=t,this._k=(1-e)/6}js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ls(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new js(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Bs(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>xs){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>xs){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/h,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Us(t,e){this._context=t,this._alpha=e}Us.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Bs(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Us(t,e):new Ns(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Xs(t,e){this._context=t,this._alpha=e}Xs.prototype={areaStart:As,areaEnd:As,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Bs(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Xs(t,e):new Fs(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Hs(t,e){this._context=t,this._alpha=e}Hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bs(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Hs(t,e):new js(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Gs(t){this._context=t}Gs.prototype={areaStart:As,areaEnd:As,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ws(t){return t<0?-1:1}function Ys(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ws(o)+Ws(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Vs(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zs(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function qs(t){this._context=t}function Ks(t){this._context=new Zs(t)}function Zs(t){this._context=t}function Js(t){this._context=t}function Qs(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zs(this,this._t0,Vs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zs(this,Vs(this,n=Ys(this,t,e)),n);break;default:zs(this,this._t0,n=Ys(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ks.prototype=Object.create(qs.prototype)).point=function(t,e){qs.prototype.point.call(this,e,t)},Zs.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Qs(t),i=Qs(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $s(t,e){this._context=t,this._t=e}$s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};function tu(){this._=null}function eu(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function nu(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ru(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function iu(t){for(;t.L;)t=t.L;return t}tu.prototype={constructor:tu,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=iu(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(nu(this,n),n=(t=n).U),n.C=!1,r.C=!0,ru(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ru(this,n),n=(t=n).U),n.C=!1,r.C=!0,nu(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?iu(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,nu(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ru(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,nu(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ru(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,nu(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ru(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ou=tu;function au(t,e,n,r){var i=[null,null],o=Pu.push(i)-1;return i.left=t,i.right=e,n&&uu(i,t,e,n),r&&uu(i,e,t,r),Cu[t.index].halfedges.push(o),Cu[e.index].halfedges.push(o),i}function su(t,e,n){var r=[e,n];return r.left=t,r}function uu(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function lu(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],h=0,c=1,f=s[0]-u,d=s[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<h)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>h&&(h=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>h&&(h=o)}else if(f>0){if(o<h)return;o<c&&(c=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<h)return;o<c&&(c=o)}else if(d>0){if(o>c)return;o>h&&(h=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>c)return;o>h&&(h=o)}else if(d>0){if(o<h)return;o<c&&(c=o)}return!(h>0||c<1)||(h>0&&(t[0]=[u+h*f,l+h*d]),c<1&&(t[1]=[u+c*f,l+c*d]),!0)}}}}}function hu(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,h=t.right,c=l[0],f=l[1],d=h[0],p=h[1],v=(c+d)/2,_=(f+p)/2;if(p===f){if(v<e||v>=r)return;if(c>d){if(u){if(u[1]>=i)return}else u=[v,n];o=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];o=[v,n]}}else if(s=_-(a=(c-d)/(p-f))*v,a<-1||a>1)if(c>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function cu(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function fu(t,e){return e[+(e.left!==t.site)]}function du(t,e){return e[+(e.left===t.site)]}var pu,vu=[];function _u(){eu(this),this.x=this.y=this.arc=this.site=this.cy=null}function yu(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,h=o[0]-a,c=o[1]-s,f=2*(u*c-l*h);if(!(f>=-Iu)){var d=u*u+l*l,p=h*h+c*c,v=(c*d-l*p)/f,_=(u*p-h*d)/f,y=vu.pop()||new _u;y.arc=t,y.site=i,y.x=v+a,y.y=(y.cy=_+s)+Math.sqrt(v*v+_*_),t.circle=y;for(var g=null,b=Au._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}Au.insert(g,y),g||(pu=y)}}}}function gu(t){var e=t.circle;e&&(e.P||(pu=e.N),Au.remove(e),vu.push(e),eu(e),t.circle=null)}var bu=[];function mu(){eu(this),this.edge=this.site=this.circle=null}function xu(t){var e=bu.pop()||new mu;return e.site=t,e}function wu(t){gu(t),Ou.remove(t),bu.push(t),eu(t)}function Tu(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];wu(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Ru&&Math.abs(r-u.circle.cy)<Ru;)o=u.P,s.unshift(u),wu(u),u=o;s.unshift(u),gu(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Ru&&Math.abs(r-l.circle.cy)<Ru;)a=l.N,s.push(l),wu(l),l=a;s.push(l),gu(l);var h,c=s.length;for(h=1;h<c;++h)l=s[h],u=s[h-1],uu(l.edge,u.site,l.site,i);u=s[0],(l=s[c-1]).edge=au(u.site,l.site,null,i),yu(u),yu(l)}function Eu(t){for(var e,n,r,i,o=t[0],a=t[1],s=Ou._;s;)if((r=Su(s,a)-o)>Ru)s=s.L;else{if(!((i=o-Mu(s,a))>Ru)){r>-Ru?(e=s.P,n=s):i>-Ru?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Cu[t.index]={site:t,halfedges:[]}}(t);var u=xu(t);if(Ou.insert(e,u),e||n){if(e===n)return gu(e),n=xu(e.site),Ou.insert(u,n),u.edge=n.edge=au(e.site,u.site),yu(e),void yu(n);if(n){gu(e),gu(n);var l=e.site,h=l[0],c=l[1],f=t[0]-h,d=t[1]-c,p=n.site,v=p[0]-h,_=p[1]-c,y=2*(f*_-d*v),g=f*f+d*d,b=v*v+_*_,m=[(_*g-d*b)/y+h,(f*b-v*g)/y+c];uu(n.edge,l,p,m),u.edge=au(l,t,null,m),n.edge=au(t,p,null,m),yu(e),yu(n)}else u.edge=au(e.site,u.site)}}function Su(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var h=s-r,c=1/o-1/l,f=h/l;return c?(-f+Math.sqrt(f*f-2*c*(h*h/(-2*l)-u+l/2+i-o/2)))/c+r:(r+s)/2}function Mu(t,e){var n=t.N;if(n)return Su(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Ou,Cu,Au,Pu,Ru=1e-6,Iu=1e-12;function Du(t,e){return e[1]-t[1]||e[0]-t[0]}function ku(t,e){var n,r,i,o=t.sort(Du).pop();for(Pu=[],Cu=new Array(t.length),Ou=new ou,Au=new ou;;)if(i=pu,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Eu(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Tu(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Cu.length;i<o;++i)if((t=Cu[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=cu(t,Pu[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=Pu.length;o--;)hu(i=Pu[o],t,e,n,r)&&lu(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ru||Math.abs(i[0][1]-i[1][1])>Ru)||delete Pu[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,h,c,f,d,p,v,_=Cu.length,y=!0;for(i=0;i<_;++i)if(o=Cu[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)Pu[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(d=du(o,Pu[u[s]]))[0],v=d[1],c=(h=fu(o,Pu[u[++s%l]]))[0],f=h[1],(Math.abs(p-c)>Ru||Math.abs(v-f)>Ru)&&(u.splice(s,0,Pu.push(su(a,d,Math.abs(p-t)<Ru&&r-v>Ru?[t,Math.abs(c-t)<Ru?f:r]:Math.abs(v-r)<Ru&&n-p>Ru?[Math.abs(f-r)<Ru?c:n,r]:Math.abs(p-n)<Ru&&v-e>Ru?[n,Math.abs(c-n)<Ru?f:e]:Math.abs(v-e)<Ru&&p-t>Ru?[Math.abs(f-e)<Ru?c:t,e]:null))-1),++l);l&&(y=!1)}if(y){var g,b,m,x=1/0;for(i=0,y=null;i<_;++i)(o=Cu[i])&&(m=(g=(a=o.site)[0]-t)*g+(b=a[1]-e)*b)<x&&(x=m,y=o);if(y){var w=[t,e],T=[t,r],E=[n,r],S=[n,e];y.halfedges.push(Pu.push(su(a=y.site,w,T))-1,Pu.push(su(a,T,E))-1,Pu.push(su(a,E,S))-1,Pu.push(su(a,S,w))-1)}}for(i=0;i<_;++i)(o=Cu[i])&&(o.halfedges.length||delete Cu[i])}(a,s,u,l)}this.edges=Pu,this.cells=Cu,Ou=Au=Pu=Cu=null}ku.prototype={constructor:ku,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return fu(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,l,h=n.site,c=-1,f=e[i[o-1]],d=f.left===h?f.right:f.left;++c<o;)a=d,d=(f=e[i[c]]).left===h?f.right:f.left,a&&d&&r<a.index&&r<d.index&&(u=a,l=d,((s=h)[0]-l[0])*(u[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0)&&t.push([h.data,a.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],h=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],c=u*u+l*l;c<h&&(h=c,a=s.index)}})}while(null!==a);return o._found=r,null==n||h<=n*n?i.site:null}};function Lu(t,e,n){this.k=t,this.x=e,this.y=n}Lu.prototype={constructor:Lu,scale:function(t){return 1===t?this:new Lu(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Lu(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return\"translate(\"+this.x+\",\"+this.y+\") scale(\"+this.k+\")\"}};new Lu(1,0,0);Lu.prototype;function Nu(t,e){var n=t.__state.conversionName.toString(),r=Math.round(t.r),i=Math.round(t.g),o=Math.round(t.b),a=t.a,s=Math.round(t.h),u=t.s.toFixed(1),l=t.v.toFixed(1);if(e||\"THREE_CHAR_HEX\"===n||\"SIX_CHAR_HEX\"===n){for(var h=t.hex.toString(16);h.length<6;)h=\"0\"+h;return\"#\"+h}return\"CSS_RGB\"===n?\"rgb(\"+r+\",\"+i+\",\"+o+\")\":\"CSS_RGBA\"===n?\"rgba(\"+r+\",\"+i+\",\"+o+\",\"+a+\")\":\"HEX\"===n?\"0x\"+t.hex.toString(16):\"RGB_ARRAY\"===n?\"[\"+r+\",\"+i+\",\"+o+\"]\":\"RGBA_ARRAY\"===n?\"[\"+r+\",\"+i+\",\"+o+\",\"+a+\"]\":\"RGB_OBJ\"===n?\"{r:\"+r+\",g:\"+i+\",b:\"+o+\"}\":\"RGBA_OBJ\"===n?\"{r:\"+r+\",g:\"+i+\",b:\"+o+\",a:\"+a+\"}\":\"HSV_OBJ\"===n?\"{h:\"+s+\",s:\"+u+\",v:\"+l+\"}\":\"HSVA_OBJ\"===n?\"{h:\"+s+\",s:\"+u+\",v:\"+l+\",a:\"+a+\"}\":\"unknown format\"}var Fu=Array.prototype.forEach,ju=Array.prototype.slice,Bu={BREAK:{},extend:function(t){return this.each(ju.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))},this),t},defaults:function(t){return this.each(ju.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))},this),t},compose:function(){var t=ju.call(arguments);return function(){for(var e=ju.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(Fu&&t.forEach&&t.forEach===Fu)t.forEach(e,n);else if(t.length===t.length+0){var r,i=void 0;for(i=0,r=t.length;i<r;i++)if(i in t&&e.call(n,t[i],i)===this.BREAK)return}else for(var o in t)if(e.call(n,t[o],o)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r=void 0;return function(){var i=this,o=arguments;var a=n||!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,o)},e),a&&t.apply(i,o)}},toArray:function(t){return t.toArray?t.toArray():ju.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+\"\"},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return\"[object Function]\"===Object.prototype.toString.call(t)}},Uu=[{litmus:Bu.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:\"HEX\",hex:parseInt(\"0x\"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:Nu},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:\"HEX\",hex:parseInt(\"0x\"+e[1].toString(),0)}},write:Nu},CSS_RGB:{read:function(t){var e=t.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);return null!==e&&{space:\"RGB\",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:Nu},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);return null!==e&&{space:\"RGB\",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:Nu}}},{litmus:Bu.isNumber,conversions:{HEX:{read:function(t){return{space:\"HEX\",hex:t,conversionName:\"HEX\"}},write:function(t){return t.hex}}}},{litmus:Bu.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:\"RGB\",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:\"RGB\",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:Bu.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(Bu.isNumber(t.r)&&Bu.isNumber(t.g)&&Bu.isNumber(t.b)&&Bu.isNumber(t.a))&&{space:\"RGB\",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(Bu.isNumber(t.r)&&Bu.isNumber(t.g)&&Bu.isNumber(t.b))&&{space:\"RGB\",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(Bu.isNumber(t.h)&&Bu.isNumber(t.s)&&Bu.isNumber(t.v)&&Bu.isNumber(t.a))&&{space:\"HSV\",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(Bu.isNumber(t.h)&&Bu.isNumber(t.s)&&Bu.isNumber(t.v))&&{space:\"HSV\",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],Xu=void 0,Hu=void 0,Gu=function(){Hu=!1;var t=arguments.length>1?Bu.toArray(arguments):arguments[0];return Bu.each(Uu,function(e){if(e.litmus(t))return Bu.each(e.conversions,function(e,n){if(Xu=e.read(t),!1===Hu&&!1!==Xu)return Hu=Xu,Xu.conversionName=n,Xu.conversion=e,Bu.BREAK}),Bu.BREAK}),Hu},Wu=void 0,Yu={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][r];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=i-r,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=t===i?(e-n)/o:e===i?2+(n-t)/o:4+(t-e)/o,(a/=6)<0&&(a+=1),{h:360*a,s:o/i,v:i/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(Wu=8*e)|t&~(255<<Wu)}},Vu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},zu=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},qu=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ku=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if(\"value\"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Zu=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Ju=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e},Qu=function(){function t(){if(zu(this,t),this.__state=Gu.apply(this,arguments),!1===this.__state)throw new Error(\"Failed to interpret color arguments\");this.__state.a=this.__state.a||1}return qu(t,[{key:\"toString\",value:function(){return Nu(this)}},{key:\"toHexString\",value:function(){return Nu(this,!0)}},{key:\"toOriginal\",value:function(){return this.__state.conversion.write(this)}}]),t}();function $u(t,e,n){Object.defineProperty(t,e,{get:function(){return\"RGB\"===this.__state.space?this.__state[e]:(Qu.recalculateRGB(this,e,n),this.__state[e])},set:function(t){\"RGB\"!==this.__state.space&&(Qu.recalculateRGB(this,e,n),this.__state.space=\"RGB\"),this.__state[e]=t}})}function tl(t,e){Object.defineProperty(t,e,{get:function(){return\"HSV\"===this.__state.space?this.__state[e]:(Qu.recalculateHSV(this),this.__state[e])},set:function(t){\"HSV\"!==this.__state.space&&(Qu.recalculateHSV(this),this.__state.space=\"HSV\"),this.__state[e]=t}})}Qu.recalculateRGB=function(t,e,n){if(\"HEX\"===t.__state.space)t.__state[e]=Yu.component_from_hex(t.__state.hex,n);else{if(\"HSV\"!==t.__state.space)throw new Error(\"Corrupted color state\");Bu.extend(t.__state,Yu.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},Qu.recalculateHSV=function(t){var e=Yu.rgb_to_hsv(t.r,t.g,t.b);Bu.extend(t.__state,{s:e.s,v:e.v}),Bu.isNaN(e.h)?Bu.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},Qu.COMPONENTS=[\"r\",\"g\",\"b\",\"h\",\"s\",\"v\",\"hex\",\"a\"],$u(Qu.prototype,\"r\",2),$u(Qu.prototype,\"g\",1),$u(Qu.prototype,\"b\",0),tl(Qu.prototype,\"h\"),tl(Qu.prototype,\"s\"),tl(Qu.prototype,\"v\"),Object.defineProperty(Qu.prototype,\"a\",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(Qu.prototype,\"hex\",{get:function(){return\"HEX\"!==!this.__state.space&&(this.__state.hex=Yu.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space=\"HEX\",this.__state.hex=t}});var el=function(){function t(e,n){zu(this,t),this.initialValue=e[n],this.domElement=document.createElement(\"div\"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return qu(t,[{key:\"onChange\",value:function(t){return this.__onChange=t,this}},{key:\"onFinishChange\",value:function(t){return this.__onFinishChange=t,this}},{key:\"setValue\",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:\"getValue\",value:function(){return this.object[this.property]}},{key:\"updateDisplay\",value:function(){return this}},{key:\"isModified\",value:function(){return this.initialValue!==this.getValue()}}]),t}(),nl={};Bu.each({HTMLEvents:[\"change\"],MouseEvents:[\"click\",\"mousemove\",\"mousedown\",\"mouseup\",\"mouseover\"],KeyboardEvents:[\"keydown\"]},function(t,e){Bu.each(t,function(t){nl[t]=e})});var rl=/(\\d+(\\.\\d+)?)px/;function il(t){if(\"0\"===t||Bu.isUndefined(t))return 0;var e=t.match(rl);return Bu.isNull(e)?0:parseFloat(e[1])}var ol={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?\"auto\":\"none\",t.style.KhtmlUserSelect=e?\"auto\":\"none\",t.unselectable=e?\"on\":\"off\")},makeFullscreen:function(t,e,n){var r=n,i=e;Bu.isUndefined(i)&&(i=!0),Bu.isUndefined(r)&&(r=!0),t.style.position=\"absolute\",i&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,r){var i=n||{},o=nl[e];if(!o)throw new Error(\"Event type \"+e+\" not supported.\");var a=document.createEvent(o);switch(o){case\"MouseEvents\":var s=i.x||i.clientX||0,u=i.y||i.clientY||0;a.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,s,u,!1,!1,!1,!1,0,null);break;case\"KeyboardEvents\":var l=a.initKeyboardEvent||a.initKeyEvent;Bu.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),l(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:a.initEvent(e,i.bubbles||!1,i.cancelable||!0)}Bu.defaults(a,r),t.dispatchEvent(a)},bind:function(t,e,n,r){var i=r||!1;return t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent(\"on\"+e,n),ol},unbind:function(t,e,n,r){var i=r||!1;return t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent(\"on\"+e,n),ol},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(\" \").replace(/^\\s+/,\"\").replace(/\\s+$/,\"\"))}return ol},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute(\"class\");else{var n=t.className.split(/ +/),r=n.indexOf(e);-1!==r&&(n.splice(r,1),t.className=n.join(\" \"))}else t.className=void 0;return ol},hasClass:function(t,e){return new RegExp(\"(?:^|\\\\s+)\"+e+\"(?:\\\\s+|$)\").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return il(e[\"border-left-width\"])+il(e[\"border-right-width\"])+il(e[\"padding-left\"])+il(e[\"padding-right\"])+il(e.width)},getHeight:function(t){var e=getComputedStyle(t);return il(e[\"border-top-width\"])+il(e[\"border-bottom-width\"])+il(e[\"padding-top\"])+il(e[\"padding-bottom\"])+il(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},al=function(t){function e(t,n){zu(this,e);var r=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement(\"input\"),r.__checkbox.setAttribute(\"type\",\"checkbox\"),ol.bind(r.__checkbox,\"change\",function(){i.setValue(!i.__prev)},!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return Zu(e,el),qu(e,[{key:\"setValue\",value:function(t){var n=Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"setValue\",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:\"updateDisplay\",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute(\"checked\",\"checked\"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}(),sl=function(t){function e(t,n,r){zu(this,e);var i=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r,a=i;if(i.__select=document.createElement(\"select\"),Bu.isArray(o)){var s={};Bu.each(o,function(t){s[t]=t}),o=s}return Bu.each(o,function(t,e){var n=document.createElement(\"option\");n.innerHTML=e,n.setAttribute(\"value\",t),a.__select.appendChild(n)}),i.updateDisplay(),ol.bind(i.__select,\"change\",function(){var t=this.options[this.selectedIndex].value;a.setValue(t)}),i.domElement.appendChild(i.__select),i}return Zu(e,el),qu(e,[{key:\"setValue\",value:function(t){var n=Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"setValue\",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:\"updateDisplay\",value:function(){return ol.isActive(this.__select)?this:(this.__select.value=this.getValue(),Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this))}}]),e}(),ul=function(t){function e(t,n){zu(this,e);var r=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;function o(){i.setValue(i.__input.value)}return r.__input=document.createElement(\"input\"),r.__input.setAttribute(\"type\",\"text\"),ol.bind(r.__input,\"keyup\",o),ol.bind(r.__input,\"change\",o),ol.bind(r.__input,\"blur\",function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),ol.bind(r.__input,\"keydown\",function(t){13===t.keyCode&&this.blur()}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return Zu(e,el),qu(e,[{key:\"updateDisplay\",value:function(){return ol.isActive(this.__input)||(this.__input.value=this.getValue()),Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}();function ll(t){var e=t.toString();return e.indexOf(\".\")>-1?e.length-e.indexOf(\".\")-1:0}var hl=function(t){function e(t,n,r){zu(this,e);var i=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r||{};return i.__min=o.min,i.__max=o.max,i.__step=o.step,Bu.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=ll(i.__impliedStep),i}return Zu(e,el),qu(e,[{key:\"setValue\",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"setValue\",this).call(this,n)}},{key:\"min\",value:function(t){return this.__min=t,this}},{key:\"max\",value:function(t){return this.__max=t,this}},{key:\"step\",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=ll(t),this}}]),e}();var cl=function(t){function e(t,n,r){zu(this,e);var i=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));i.__truncationSuspended=!1;var o=i,a=void 0;function s(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function u(t){var e=a-t.clientY;o.setValue(o.getValue()+e*o.__impliedStep),a=t.clientY}function l(){ol.unbind(window,\"mousemove\",u),ol.unbind(window,\"mouseup\",l),s()}return i.__input=document.createElement(\"input\"),i.__input.setAttribute(\"type\",\"text\"),ol.bind(i.__input,\"change\",function(){var t=parseFloat(o.__input.value);Bu.isNaN(t)||o.setValue(t)}),ol.bind(i.__input,\"blur\",function(){s()}),ol.bind(i.__input,\"mousedown\",function(t){ol.bind(window,\"mousemove\",u),ol.bind(window,\"mouseup\",l),a=t.clientY}),ol.bind(i.__input,\"keydown\",function(t){13===t.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,s())}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return Zu(e,hl),qu(e,[{key:\"updateDisplay\",value:function(){var t,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(t*r)/r),Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}();function fl(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}var dl=function(t){function e(t,n,r,i,o){zu(this,e);var a=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:r,max:i,step:o})),s=a;function u(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(fl(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function l(){ol.unbind(window,\"mousemove\",u),ol.unbind(window,\"mouseup\",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function h(t){var e=t.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(fl(e,n.left,n.right,s.__min,s.__max))}function c(){ol.unbind(window,\"touchmove\",h),ol.unbind(window,\"touchend\",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement(\"div\"),a.__foreground=document.createElement(\"div\"),ol.bind(a.__background,\"mousedown\",function(t){document.activeElement.blur(),ol.bind(window,\"mousemove\",u),ol.bind(window,\"mouseup\",l),u(t)}),ol.bind(a.__background,\"touchstart\",function(t){if(1!==t.touches.length)return;ol.bind(window,\"touchmove\",h),ol.bind(window,\"touchend\",c),h(t)}),ol.addClass(a.__background,\"slider\"),ol.addClass(a.__foreground,\"slider-fg\"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return Zu(e,hl),qu(e,[{key:\"updateDisplay\",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+\"%\",Ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"updateDisplay\",this).call(this)}}]),e}(),pl=function(t){function e(t,n,r){zu(this,e);var i=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=i;return i.__button=document.createElement(\"div\"),i.__button.innerHTML=void 0===r?\"Fire\":r,ol.bind(i.__button,\"click\",function(t){return t.preventDefault(),o.fire(),!1}),ol.addClass(i.__button,\"button\"),i.domElement.appendChild(i.__button),i}return Zu(e,el),qu(e,[{key:\"fire\",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(),vl=function(t){function e(t,n){zu(this,e);var r=Ju(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.__color=new Qu(r.getValue()),r.__temp=new Qu(0);var i=r;r.domElement=document.createElement(\"div\"),ol.makeSelectable(r.domElement,!1),r.__selector=document.createElement(\"div\"),r.__selector.className=\"selector\",r.__saturation_field=document.createElement(\"div\"),r.__saturation_field.className=\"saturation-field\",r.__field_knob=document.createElement(\"div\"),r.__field_knob.className=\"field-knob\",r.__field_knob_border=\"2px solid \",r.__hue_knob=document.createElement(\"div\"),r.__hue_knob.className=\"hue-knob\",r.__hue_field=document.createElement(\"div\"),r.__hue_field.className=\"hue-field\",r.__input=document.createElement(\"input\"),r.__input.type=\"text\",r.__input_textShadow=\"0 1px 1px \",ol.bind(r.__input,\"keydown\",function(t){13===t.keyCode&&c.call(this)}),ol.bind(r.__input,\"blur\",c),ol.bind(r.__selector,\"mousedown\",function(){ol.addClass(this,\"drag\").bind(window,\"mouseup\",function(){ol.removeClass(i.__selector,\"drag\")})}),ol.bind(r.__selector,\"touchstart\",function(){ol.addClass(this,\"drag\").bind(window,\"touchend\",function(){ol.removeClass(i.__selector,\"drag\")})});var o,a=document.createElement(\"div\");function s(t){d(t),ol.bind(window,\"mousemove\",d),ol.bind(window,\"touchmove\",d),ol.bind(window,\"mouseup\",l),ol.bind(window,\"touchend\",l)}function u(t){p(t),ol.bind(window,\"mousemove\",p),ol.bind(window,\"touchmove\",p),ol.bind(window,\"mouseup\",h),ol.bind(window,\"touchend\",h)}function l(){ol.unbind(window,\"mousemove\",d),ol.unbind(window,\"touchmove\",d),ol.unbind(window,\"mouseup\",l),ol.unbind(window,\"touchend\",l),f()}function h(){ol.unbind(window,\"mousemove\",p),ol.unbind(window,\"touchmove\",p),ol.unbind(window,\"mouseup\",h),ol.unbind(window,\"touchend\",h),f()}function c(){var t=Gu(this.value);!1!==t?(i.__color.__state=t,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function f(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function d(t){-1===t.type.indexOf(\"touch\")&&t.preventDefault();var e=i.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,r=n.clientX,o=n.clientY,a=(r-e.left)/(e.right-e.left),s=1-(o-e.top)/(e.bottom-e.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),i.__color.v=s,i.__color.s=a,i.setValue(i.__color.toOriginal()),!1}function p(t){-1===t.type.indexOf(\"touch\")&&t.preventDefault();var e=i.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return Bu.extend(r.__selector.style,{width:\"122px\",height:\"102px\",padding:\"3px\",backgroundColor:\"#222\",boxShadow:\"0px 1px 3px rgba(0,0,0,0.3)\"}),Bu.extend(r.__field_knob.style,{position:\"absolute\",width:\"12px\",height:\"12px\",border:r.__field_knob_border+(r.__color.v<.5?\"#fff\":\"#000\"),boxShadow:\"0px 1px 3px rgba(0,0,0,0.5)\",borderRadius:\"12px\",zIndex:1}),Bu.extend(r.__hue_knob.style,{position:\"absolute\",width:\"15px\",height:\"2px\",borderRight:\"4px solid #fff\",zIndex:1}),Bu.extend(r.__saturation_field.style,{width:\"100px\",height:\"100px\",border:\"1px solid #555\",marginRight:\"3px\",display:\"inline-block\",cursor:\"pointer\"}),Bu.extend(a.style,{width:\"100%\",height:\"100%\",background:\"none\"}),yl(a,\"top\",\"rgba(0,0,0,0)\",\"#000\"),Bu.extend(r.__hue_field.style,{width:\"15px\",height:\"100px\",border:\"1px solid #555\",cursor:\"ns-resize\",position:\"absolute\",top:\"3px\",right:\"3px\"}),(o=r.__hue_field).style.background=\"\",o.style.cssText+=\"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);\",o.style.cssText+=\"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",o.style.cssText+=\"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",o.style.cssText+=\"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",o.style.cssText+=\"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",Bu.extend(r.__input.style,{outline:\"none\",textAlign:\"center\",color:\"#fff\",border:0,fontWeight:\"bold\",textShadow:r.__input_textShadow+\"rgba(0,0,0,0.7)\"}),ol.bind(r.__saturation_field,\"mousedown\",s),ol.bind(r.__saturation_field,\"touchstart\",s),ol.bind(r.__field_knob,\"mousedown\",s),ol.bind(r.__field_knob,\"touchstart\",s),ol.bind(r.__hue_field,\"mousedown\",u),ol.bind(r.__hue_field,\"touchstart\",u),r.__saturation_field.appendChild(a),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return Zu(e,el),qu(e,[{key:\"updateDisplay\",value:function(){var t=Gu(this.getValue());if(!1!==t){var e=!1;Bu.each(Qu.COMPONENTS,function(n){if(!Bu.isUndefined(t[n])&&!Bu.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}},this),e&&Bu.extend(this.__color.__state,t)}Bu.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;Bu.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+\"px\",marginTop:100*(1-this.__color.v)-7+\"px\",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+\"rgb(\"+n+\",\"+n+\",\"+n+\")\"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+\"px\",this.__temp.s=1,this.__temp.v=1,yl(this.__saturation_field,\"left\",\"#fff\",this.__temp.toHexString()),this.__input.value=this.__color.toString(),Bu.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:\"rgb(\"+n+\",\"+n+\",\"+n+\")\",textShadow:this.__input_textShadow+\"rgba(\"+r+\",\"+r+\",\"+r+\",.7)\"})}}]),e}(),_l=[\"-moz-\",\"-o-\",\"-webkit-\",\"-ms-\",\"\"];function yl(t,e,n,r){t.style.background=\"\",Bu.each(_l,function(i){t.style.cssText+=\"background: \"+i+\"linear-gradient(\"+e+\", \"+n+\" 0%, \"+r+\" 100%); \"})}var gl=function(t,e){var n=e||document,r=document.createElement(\"style\");r.type=\"text/css\",r.innerHTML=t;var i=n.getElementsByTagName(\"head\")[0];try{i.appendChild(r)}catch(t){}},bl=function(t,e){var n=t[e];return Bu.isArray(arguments[2])||Bu.isObject(arguments[2])?new sl(t,e,arguments[2]):Bu.isNumber(n)?Bu.isNumber(arguments[2])&&Bu.isNumber(arguments[3])?Bu.isNumber(arguments[4])?new dl(t,e,arguments[2],arguments[3],arguments[4]):new dl(t,e,arguments[2],arguments[3]):Bu.isNumber(arguments[4])?new cl(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new cl(t,e,{min:arguments[2],max:arguments[3]}):Bu.isString(n)?new ul(t,e):Bu.isFunction(n)?new pl(t,e,\"\"):Bu.isBoolean(n)?new al(t,e):null};var ml=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},xl=function(){function t(){zu(this,t),this.backgroundElement=document.createElement(\"div\"),Bu.extend(this.backgroundElement.style,{backgroundColor:\"rgba(0,0,0,0.8)\",top:0,left:0,display:\"none\",zIndex:\"1000\",opacity:0,WebkitTransition:\"opacity 0.2s linear\",transition:\"opacity 0.2s linear\"}),ol.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position=\"fixed\",this.domElement=document.createElement(\"div\"),Bu.extend(this.domElement.style,{position:\"fixed\",display:\"none\",zIndex:\"1001\",opacity:0,WebkitTransition:\"-webkit-transform 0.2s ease-out, opacity 0.2s linear\",transition:\"transform 0.2s ease-out, opacity 0.2s linear\"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;ol.bind(this.backgroundElement,\"click\",function(){e.hide()})}return qu(t,[{key:\"show\",value:function(){var t=this;this.backgroundElement.style.display=\"block\",this.domElement.style.display=\"block\",this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\",this.layout(),Bu.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform=\"scale(1)\"})}},{key:\"hide\",value:function(){var t=this,e=function e(){t.domElement.style.display=\"none\",t.backgroundElement.style.display=\"none\",ol.unbind(t.domElement,\"webkitTransitionEnd\",e),ol.unbind(t.domElement,\"transitionend\",e),ol.unbind(t.domElement,\"oTransitionEnd\",e)};ol.bind(this.domElement,\"webkitTransitionEnd\",e),ol.bind(this.domElement,\"transitionend\",e),ol.bind(this.domElement,\"oTransitionEnd\",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\"}},{key:\"layout\",value:function(){this.domElement.style.left=window.innerWidth/2-ol.getWidth(this.domElement)/2+\"px\",this.domElement.style.top=window.innerHeight/2-ol.getHeight(this.domElement)/2+\"px\"}}]),t}();gl(function(t){if(t&&\"undefined\"!=typeof window){var e=document.createElement(\"style\");return e.setAttribute(\"type\",\"text/css\"),e.innerHTML=t,document.head.appendChild(e),t}}(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\"));var wl=\"Default\",Tl=function(){try{return!!window.localStorage}catch(t){return!1}}(),El=void 0,Sl=!0,Ml=void 0,Ol=!1,Cl=[],Al=function t(e){var n=this,r=e||{};this.domElement=document.createElement(\"div\"),this.__ul=document.createElement(\"ul\"),this.domElement.appendChild(this.__ul),ol.addClass(this.domElement,\"dg\"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=Bu.defaults(r,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),r=Bu.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),Bu.isUndefined(r.load)?r.load={preset:wl}:r.preset&&(r.load.preset=r.preset),Bu.isUndefined(r.parent)&&r.hideable&&Cl.push(this),r.resizable=Bu.isUndefined(r.parent)&&r.resizable,r.autoPlace&&Bu.isUndefined(r.scrollable)&&(r.scrollable=!0);var i,o=Tl&&\"true\"===localStorage.getItem(Ll(this,\"isLocal\")),a=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(t){n.parent?n.getRoot().preset=t:r.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return r.width},set:function(t){r.width=t,Bl(n,t)}},name:{get:function(){return r.name},set:function(t){r.name=t,s&&(s.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(e){r.closed=e,r.closed?ol.addClass(n.__ul,t.CLASS_CLOSED):ol.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return o},set:function(t){Tl&&(o=t,t?ol.bind(window,\"unload\",a):ol.unbind(window,\"unload\",a),localStorage.setItem(Ll(n,\"isLocal\"),t))}}}),Bu.isUndefined(r.parent)){if(this.closed=r.closed||!1,ol.addClass(this.domElement,t.CLASS_MAIN),ol.makeSelectable(this.domElement,!1),Tl&&o){n.useLocalStorage=!0;var u=localStorage.getItem(Ll(this,\"gui\"));u&&(r.load=JSON.parse(u))}this.__closeButton=document.createElement(\"div\"),this.__closeButton.innerHTML=t.TEXT_CLOSED,ol.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),r.closeOnTop?(ol.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(ol.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),ol.bind(this.__closeButton,\"click\",function(){n.closed=!n.closed})}else{void 0===r.closed&&(r.closed=!0);var l=document.createTextNode(r.name);ol.addClass(l,\"controller-name\"),s=Pl(n,l);ol.addClass(this.__ul,t.CLASS_CLOSED),ol.addClass(s,\"title\"),ol.bind(s,\"click\",function(t){return t.preventDefault(),n.closed=!n.closed,!1}),r.closed||(this.closed=!1)}r.autoPlace&&(Bu.isUndefined(r.parent)&&(Sl&&(Ml=document.createElement(\"div\"),ol.addClass(Ml,\"dg\"),ol.addClass(Ml,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Ml),Sl=!1),Ml.appendChild(this.domElement),ol.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||Bl(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},ol.bind(window,\"resize\",this.__resizeHandler),ol.bind(this.__ul,\"webkitTransitionEnd\",this.__resizeHandler),ol.bind(this.__ul,\"transitionend\",this.__resizeHandler),ol.bind(this.__ul,\"oTransitionEnd\",this.__resizeHandler),this.onResize(),r.resizable&&jl(this),a=function(){Tl&&\"true\"===localStorage.getItem(Ll(n,\"isLocal\"))&&localStorage.setItem(Ll(n,\"gui\"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,r.parent||((i=n.getRoot()).width+=1,Bu.defer(function(){i.width-=1}))};function Pl(t,e,n){var r=document.createElement(\"li\");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,n):t.__ul.appendChild(r),t.onResize(),r}function Rl(t){ol.unbind(window,\"resize\",t.__resizeHandler),t.saveToLocalStorageIfPossible&&ol.unbind(window,\"unload\",t.saveToLocalStorageIfPossible)}function Il(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+\"*\":n.value}function Dl(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!==r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[e.property]=e,n.load&&n.load.remembered){var o=n.load.remembered,a=void 0;if(o[t.preset])a=o[t.preset];else{if(!o[wl])return;a=o[wl]}if(a[r]&&void 0!==a[r][e.property]){var s=a[r][e.property];e.initialValue=s,e.setValue(s)}}}}function kl(t,e,n,r){if(void 0===e[n])throw new Error('Object \"'+e+'\" has no property \"'+n+'\"');var i=void 0;if(r.color)i=new vl(e,n);else{var o=[e,n].concat(r.factoryArgs);i=bl.apply(t,o)}r.before instanceof el&&(r.before=r.before.__li),Dl(t,i),ol.addClass(i.domElement,\"c\");var a=document.createElement(\"span\");ol.addClass(a,\"property-name\"),a.innerHTML=i.property;var s=document.createElement(\"div\");s.appendChild(a),s.appendChild(i.domElement);var u=Pl(t,s,r.before);return ol.addClass(u,Al.CLASS_CONTROLLER_ROW),i instanceof vl?ol.addClass(u,\"color\"):ol.addClass(u,Vu(i.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,Bu.extend(n,{options:function(e){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),kl(t,n.object,n.property,{before:r,factoryArgs:[Bu.toArray(arguments)]})}if(Bu.isArray(e)||Bu.isObject(e)){var i=n.__li.nextElementSibling;return n.remove(),kl(t,n.object,n.property,{before:i,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof dl){var r=new cl(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});Bu.each([\"updateDisplay\",\"onChange\",\"onFinishChange\",\"step\",\"min\",\"max\"],function(t){var e=n[t],i=r[t];n[t]=r[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(r,t),e.apply(n,t)}}),ol.addClass(e,\"has-slider\"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof cl){var i=function(e){if(Bu.isNumber(n.__min)&&Bu.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var o=kl(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return o.name(r),i&&o.listen(),o}return e};n.min=Bu.compose(i,n.min),n.max=Bu.compose(i,n.max)}else n instanceof al?(ol.bind(e,\"click\",function(){ol.fakeEvent(n.__checkbox,\"click\")}),ol.bind(n.__checkbox,\"click\",function(t){t.stopPropagation()})):n instanceof pl?(ol.bind(e,\"click\",function(){ol.fakeEvent(n.__button,\"click\")}),ol.bind(e,\"mouseover\",function(){ol.addClass(n.__button,\"hover\")}),ol.bind(e,\"mouseout\",function(){ol.removeClass(n.__button,\"hover\")})):n instanceof vl&&(ol.addClass(e,\"color\"),n.updateDisplay=Bu.compose(function(t){return e.style.borderLeftColor=n.__color.toString(),t},n.updateDisplay),n.updateDisplay());n.setValue=Bu.compose(function(e){return t.getRoot().__preset_select&&n.isModified()&&Il(t.getRoot(),!0),e},n.setValue)}(t,u,i),t.__controllers.push(i),i}function Ll(t,e){return document.location.href+\".\"+e}function Nl(t,e,n){var r=document.createElement(\"option\");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function Fl(t,e){e.style.display=t.useLocalStorage?\"block\":\"none\"}function jl(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function r(){ol.removeClass(t.__closeButton,Al.CLASS_DRAG),ol.unbind(window,\"mousemove\",n),ol.unbind(window,\"mouseup\",r)}function i(i){return i.preventDefault(),e=i.clientX,ol.addClass(t.__closeButton,Al.CLASS_DRAG),ol.bind(window,\"mousemove\",n),ol.bind(window,\"mouseup\",r),!1}t.__resize_handle=document.createElement(\"div\"),Bu.extend(t.__resize_handle.style,{width:\"6px\",marginLeft:\"-3px\",height:\"200px\",cursor:\"ew-resize\",position:\"absolute\"}),ol.bind(t.__resize_handle,\"mousedown\",i),ol.bind(t.__closeButton,\"mousedown\",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function Bl(t,e){t.domElement.style.width=e+\"px\",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+\"px\"),t.__closeButton&&(t.__closeButton.style.width=e+\"px\")}function Ul(t,e){var n={};return Bu.each(t.__rememberedObjects,function(r,i){var o={},a=t.__rememberedObjectIndecesToControllers[i];Bu.each(a,function(t,n){o[n]=e?t.initialValue:t.getValue()}),n[i]=o}),n}Al.toggleHide=function(){Ol=!Ol,Bu.each(Cl,function(t){t.domElement.style.display=Ol?\"none\":\"\"})},Al.CLASS_AUTO_PLACE=\"a\",Al.CLASS_AUTO_PLACE_CONTAINER=\"ac\",Al.CLASS_MAIN=\"main\",Al.CLASS_CONTROLLER_ROW=\"cr\",Al.CLASS_TOO_TALL=\"taller-than-window\",Al.CLASS_CLOSED=\"closed\",Al.CLASS_CLOSE_BUTTON=\"close-button\",Al.CLASS_CLOSE_TOP=\"close-top\",Al.CLASS_CLOSE_BOTTOM=\"close-bottom\",Al.CLASS_DRAG=\"drag\",Al.DEFAULT_WIDTH=245,Al.TEXT_CLOSED=\"Close Controls\",Al.TEXT_OPEN=\"Open Controls\",Al._keydownHandler=function(t){\"text\"===document.activeElement.type||72!==t.which&&72!==t.keyCode||Al.toggleHide()},ol.bind(window,\"keydown\",Al._keydownHandler,!1),Bu.extend(Al.prototype,{add:function(t,e){return kl(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return kl(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;Bu.defer(function(){e.onResize()})},destroy:function(){if(this.parent)throw new Error(\"Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.\");this.autoPlace&&Ml.removeChild(this.domElement);var t=this;Bu.each(this.__folders,function(e){t.removeFolder(e)}),ol.unbind(window,\"keydown\",Al._keydownHandler,!1),Rl(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name \"'+t+'\"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new Al(e);this.__folders[t]=n;var r=Pl(this,n.domElement);return ol.addClass(r,\"folder\"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],Rl(t);var e=this;Bu.each(t.__folders,function(e){t.removeFolder(e)}),Bu.defer(function(){e.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=ol.getOffset(t.__ul).top,n=0;Bu.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(n+=ol.getHeight(e))}),window.innerHeight-e-20<n?(ol.addClass(t.domElement,Al.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+\"px\"):(ol.removeClass(t.domElement,Al.CLASS_TOO_TALL),t.__ul.style.height=\"auto\")}t.__resize_handle&&Bu.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+\"px\"}),t.__closeButton&&(t.__closeButton.style.width=t.width+\"px\")},onResizeDebounced:Bu.debounce(function(){this.onResize()},50),remember:function(){if(Bu.isUndefined(El)&&((El=new xl).domElement.innerHTML='<div id=\"dg-save\" class=\"dg dialogue\">\\n\\n  Here\\'s the new load parameter for your <code>GUI</code>\\'s constructor:\\n\\n  <textarea id=\"dg-new-constructor\"></textarea>\\n\\n  <div id=\"dg-save-locally\">\\n\\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>\\'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>'),this.parent)throw new Error(\"You can only call remember on a top level GUI.\");var t=this;Bu.each(Array.prototype.slice.call(arguments),function(e){0===t.__rememberedObjects.length&&function(t){var e=t.__save_row=document.createElement(\"li\");ol.addClass(t.domElement,\"has-save\"),t.__ul.insertBefore(e,t.__ul.firstChild),ol.addClass(e,\"save-row\");var n=document.createElement(\"span\");n.innerHTML=\"&nbsp;\",ol.addClass(n,\"button gears\");var r=document.createElement(\"span\");r.innerHTML=\"Save\",ol.addClass(r,\"button\"),ol.addClass(r,\"save\");var i=document.createElement(\"span\");i.innerHTML=\"New\",ol.addClass(i,\"button\"),ol.addClass(i,\"save-as\");var o=document.createElement(\"span\");o.innerHTML=\"Revert\",ol.addClass(o,\"button\"),ol.addClass(o,\"revert\");var a=t.__preset_select=document.createElement(\"select\");t.load&&t.load.remembered?Bu.each(t.load.remembered,function(e,n){Nl(t,n,n===t.preset)}):Nl(t,wl,!1);if(ol.bind(a,\"change\",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),e.appendChild(a),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(o),Tl){var s=document.getElementById(\"dg-local-explain\"),u=document.getElementById(\"dg-local-storage\"),l=document.getElementById(\"dg-save-locally\");l.style.display=\"block\",\"true\"===localStorage.getItem(Ll(t,\"isLocal\"))&&u.setAttribute(\"checked\",\"checked\"),Fl(t,s),ol.bind(u,\"change\",function(){t.useLocalStorage=!t.useLocalStorage,Fl(t,s)})}var h=document.getElementById(\"dg-new-constructor\");ol.bind(h,\"keydown\",function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||El.hide()}),ol.bind(n,\"click\",function(){h.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),El.show(),h.focus(),h.select()}),ol.bind(r,\"click\",function(){t.save()}),ol.bind(i,\"click\",function(){var e=prompt(\"Enter a new preset name.\");e&&t.saveAs(e)}),ol.bind(o,\"click\",function(){t.revert()})}(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&Bl(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=Ul(this)),t.folders={},Bu.each(this.__folders,function(e,n){t.folders[n]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Ul(this),Il(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[wl]=Ul(this,!0)),this.load.remembered[t]=Ul(this),this.preset=t,Nl(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){Bu.each(this.__controllers,function(e){this.getRoot().load.remembered?Dl(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())},this),Bu.each(this.__folders,function(t){t.revert(t)}),t||Il(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&function t(e){0!==e.length&&ml.call(window,function(){t(e)});Bu.each(e,function(t){t.updateDisplay()})}(this.__listening)},updateDisplay:function(){Bu.each(this.__controllers,function(t){t.updateDisplay()}),Bu.each(this.__folders,function(t){t.updateDisplay()})}});var Xl,Hl,Gl,Wl,Yl=Al,Vl=(n(194),n(192)),zl=n(193),ql=(n(198),function(){return r.Texture.fromImage(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAr8AAABiCAYAAABZJrs2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACRISURBVHgB7Z0JsGZFdcf/b2ZYxAgBEdFovAriILgRRFCDE0OiEcUNN6QqcYsmMXEpE5OKFUyZilqaIJVYuFQiRi1JiLuCGwKCUZFNQUBB5oEICgijwIwyM+9L/+nv8u67873bfbfur/ucX9UpmOF7zLzz+pw+5/Tp04CiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIoSjgXMJ+uM7GZkjZGdjdxlZJuRzUaWoCjKPED7pJ2uq/webfVXUDudBfW0K3bU12YoijIvqJ0Ow66Vf982lblh3oJfbqZ7GimMPMnIg408zMitRq41cp6Ry6a/1s11JWXCsBY2YSj5NdRwm6CB3gsrdUaoN+rsLih1Sjvdx8hhRtbD6pBcZ+R8I1dC7bSEtrkHrF97nJH9sFJfZxnZaGQTlDpca78Ba6fV/Yp2WdqosiPUG9cc/Vq51rbD6m0LrN7mKhiZA9RO+8P1dh/KunXrHjGZTH6Tv7mwsHDLtm3bFs2//szIHZgD5in4pdIKIy8z8idG9p3xGRrs6UY+YOQbUMdH6gnDI4wcALthEAYhlxo508hVUJ2VlHo71MhTjRyCZZ0R6o3OjoHcImw1U7EJ1m8b+WOonfrANfVwI8cZOR7N+jrRyAXQhKukXGu/Z2SDkQdiuRrHYORCI1+BBiR1Sr29wMiRsD6OQQjX2TVGvm7ky7C2eQsU0tZOuS9o8rASrrFHrVmz5nnmny/GjjrkWjt17dq1/7l161bGJKo/2MCXgdsZsFnpxCE3G3mTkb0gG+qNVbe3G7kRbp29EzZIlg4DX2b1vno7wciDoHCDeK6RbxvZCrVTF9TXS2GDNB998XTrdVC/RnzX2p1GTjPyBFi7lk4bG/2gkYOgdLHTVxnZHUrJfU3Q+3ojG41MHHKtCYCpv9+AcOiwGPieA7+FV3V6b4bcBUi9PRHt9UaHV0A2hZGPGbkdqjdfWHF7iZEr4K8zyXbKY3puqF30xYRB8sbAymVb3fGzR2Nln6Y0uujtXNjKsFTUTvuzmwlo32bkRo/AtxTq79VY2RcsjsLIl9AugKsuwBdBpsPjEeCn4Fcpr8tbYY8oJEJn9S+wVUnVmz+sELF1pqud8jhRkp0eZeRitNcV5drp10uESf2zYVu12uqN+8gjIZM+ens/5J5sbYDaaS9MFfcYE8xe2iLwvVsWFhaYcDwZQuGxfddApBS2SuwPebwWtteti8646KRm++xFapvlV/V2GOTBoPVkI7ehu53yhGI9ZMAKHI/iuySmpfDrC8iDfYJdiyGUN0BmNa6P3pic8q6NtCoc44++fk2qnZbsZoLY00wwu6UW2M6UGUHwSZjdXz06sXukDoRtyN8b3eHXF5AFf25PQfdFwyDkYMh0ds9H9/VCvTH4lba58vLMY9Gv6s1kS0p16QjYtdLHvjbA6l0aT4Od8NP1lOCZkFnF7KM3JmvHQp7eaKPlZcCubIBMO72bdevWHW6C2h183WQyWVVqn2Pl976IQOzgl7fs+0b9NNy+Czg1+L1Sb30214Mh7wifJwQF+umNx6rS9Mbe8j4JKpFkp49G/++T+uZak5Zo9d0TaOMSK7999cakfh/I4nD092tS7fRulpaWetmbCZw5Zel+iEDs4HcoR8XMQ1JAwkyzr95otNIqv6yM9NVb/VEHCfCEZgj7kmKnQ9gnYV+/JBulXfXV3VC6T42+3zf3AwbPknzbQ6B22he+xZCkvcUOfgvobUklHBID/iGQGPDPA9ICOVYe1T7jIW29DeXXpCZcJNmZ5LGDX/Zg6qaqKIqyI9KGwK+D7gcx0dcYuyFWbwsLCz9CvxfbogXPsYPfn2KYl7OkbRJD6EyiwQ5haBL1NpR9SbHTodbIUP4xFfhq2y/RD6kvMQ6x5vhKnqS9dKjvVZre7mH79u18CbWzzU4mk8sQ6bnj2MHvDRjGWUnbJLjg+j5LKdFgr0Z/Q5Oot6Hsayh7n3eGWiNS9FWlr+4ug8ynjvvqjYUBJh9RApFIDOXXhthXUuUiWJvrsva2mcox3yq4HhGIHfz+EMMsGipP2ibRd2McSvcpwXft+26MEh3dT9DfvliZkqK7q9D/++Rmsgh5a42JfZ/vWeJeQPr6c4n7wRB+Taqd3sPS0tJppoJ7dfX31qxZM1NMsHvPl5mvudx87Vdhk5DgxA5++bLKregHFy8dprRsv88mcRdk6ozVchppV4dHvS1CnqO7BP3tlF/P5EOC7obQ1/XT/4e0U4Zvot+p1nchs/LLvbTP930B5Onte+j/PbNaLtFOq3zaBLL/ZeQGz88z8L3GyDthq8ZRiB38smTOIKzPwuH/Q6Kz67NJSMzyS/oE/dTbTZDn6Ph9Mxjra6e3QQZcY0yy1K+1hwHJTegGk1OpbQ/fQvcKGtfpWYhUgYvIIvq3D543wP8jB04ywey7jTTGc+a/38EqsZETzC8/i4hxSOzgl3wN/RbPhZC3+Hgjmptr1+9b4sbKtc5RSn1G0kisjnAiC+dxs22hTzBHO/0FZECdca309WvcGObBR4eElTQGcl02RSZpEvukCfXGwL/L93799Oul6Y3fL09p+vh0Pnm/GTqlhDo40QS1rzL/PHVa2b3VyKap3GTkuoWFBVaJX2E+80lELsDF+IFxY+Cg+92mv+YmsYjur9PcC/ZZRmb9m5Dw3DkH/FntAas3BnEcLv2rqbSdjckNgkHgA4xsgb2tmfMUA665wshfGDkO3V/14bE9dc31didsMJez3rhGHmPkLbDPePaZwXpv2FcF1xq5EXnaKW1zLyMPhfVxfZKF+xh5EmxQwnV3M/Jda7RP6m4XIzvBJucMyNajHTdMv4b+jHvBHcg7Wd11KrtMf83Wh6PQ/vl26pp2TtvkeuNay11ve2LZRvsE/U+A9WWXwwbCP4bskXHnLS0tsRrO2cd80ZMPgDB24bq6YNoaIbJFhE6ODv39sAY2GVBYKXkN8nxBiovncUbeZYRz9bZiGJ1da+QjsA5zZ+QJA7jfNXIGbKA/hN64dj9j5GnIW28vhbWrodYbhRsEk5DdkRfcUJ8Le3w81Dor5VwjRyPPtVbaJxMs2igvCw6hP9rox2Gf5s4R6o3+5wRYvbENjv3Ot6Of3pjUn4Z89cYki3qj/+6rq1m+7VjkuycoPaBBnYNhN9O64b4S+b0SdJCRMzGe3hgEH4P8jm7KAI5OaSy9PRuqty52ygp8TnpjAsnK22QkydVGX4zx1lmpt6OQHy+B6q0LtKFLoXaqBIQZFzPKoasidWGVpO1x2TzDLPJk2MtCY+rtE2h/XDbvjL1BUFh12R95EUJvTIJzsVPaaAjflpuNMkBQvbWHevsCxiuG5Ko3tVPlHkJepjgCdrMbuyr7ZNh+k1ygztg7M3Y7x9ONPAz5wHV2PMYPTI9EXustlN7KfrAcOAB2sxvbt9FGc0q0eM+D/fOqt3ZQb+wtH7u6mJve1E77w5hx1xElWMtIyNL8oxGuH7eAPbrNYZwXk4auF7TawMo8DfZ85KE3rrey2X5MVG/dyElvj0QY30adMWnIZepIiMCXUG+HQPXWltz0pnbaD8ZUD1q7du1+6Dc1qYnN27dv5+XBH2FkQga/BcZTWB0uvlx6bnhDPlTSwD8nF72NaaB1VG/dyMVOQ/7810//vBw21fJ7CUEBu65Vb+3gaWAueuPEmVB2eiDysdO7MUHvsyaTyZuMsEAymh4XFhaunI5MOw8jErLtIeQGkdOFNx5xhfp+CoQLfMamdNohKKB660IudvoQhNPZTsiHXRAOjonMJUENOU2A4zBzsdOQMUhOBRGy69LSEtvhRg18iQl+169Zs+Y56D7+1otQwS//HPZFhtogQmbGY8JFxpaHUM4np4p5qKNBonrrRi52GvLnX8BWsHIgdOU3F72FTLZC7ttjE/J7yUlv2GmnndaboDREO1zJ6HGPZkHzTciqb06wMhJyY11AHoTWWy6EtFHOR86l+huygpmT3vQUtRshYxAR+/ZkMsEQmMAaoQlZrQiZBeUSjIQOfkMeQ45JyKN7kktyF1pvudhpyIQhp4S4QLj1pnrrRk7JcMg1IKKIkHLwG6rtIXRwkEswEtph52KwPJ4JqbdcjrhC6y0HOw399+dxYA5rjXoL2S6y9/TPS53QeiM5JA2MdUK2EAJ6ajvXhAp++dZ9SIedSzByf6gBdYEjtEL+/HNp6VE7bU+MimIOVcwY30MOyVYMveVQFInxs9cWsjkmVPAb2mBDTrEYk9B609v33cjlSFXttD37QIPfLsTQW4H0k63Q1UsgD98WI9HWwtUcE2rz0ePUboTWWy6ZaojXj6rkcqQactIDycFOY3wPOQS/MfSWw3qL8XMvZ9amjOpNWUGo4LeAHqd2oUD47yPkDewx4OYWI4hPfWOlLwittxzsNMb3kMPs1Rh6C93WMwbq27qhelNWECL4pZOOMQc19SCOf/8YeiuQ9gYRqyqWeiAXy1GnvjnEmJBSIP2ZtTH0lkPFPMa+FnoKzBio3pQVhAh+Q72nXadA2guvQJy/P+dhphyQhG4VKUl9U43lqFMPSGJUlNjWk/rM2hh6i+UbhiT0fQaSQ9KgelNWECL4jVVRSj2IC923WpK6wRaIE8Sl3i8d6+ee+nqLUVHiWtsbaRPDtxVIvxLHv3+M8Xq7I21ixAM56C1bQgS/sfqsUt9UD0KcYOp+SFtveyLOxpr6AyGxqmKabHUjdb3F+PuzjSz14DdWMSn1I/xY9qKtD3NKiOA31qJLfUZuLL2l3qQfqwKbeuU3xrEgSdlOYzw4UJLyEX6MBwdKYrXhDUWsuwUprzfaZ6z1lkOrTZaECH61otSNWHorkHamGutnnvoFS22zaU/Mv3uBdO00ZoKdcnIf005SnpQR005zmDCSJSGC3wJxfvihZ5YOTYE4etPKbzcKpO3kYukt5cpIrGoSidXeMwQxJ6Psh3TtNObpUspJakw71Utvc8rYwW+sMWeEjmIvpElMvXFjSrVJP6aT2Q3pOrmYf+8Cut66kPLxfUy9sQcz1TFxMfWWchCnelN2YOzgN3YfZKpVzNgbW6p6i73eUnV0MfXGpIGVGV1v7Uj5hCam3njScC+kiVZ+u6F6U3YgROU3JvsjzSOu2BtbgTT1Fnu9xTxe64PaaTfWIh48oUm18huzPz5lvcWcKJPy2K4FxEPHnc0pYwe/sd+2LpDmphq7SV4rv93Qykg3CqRpp7GrOqlWlWJNFinRE5puFNBiUhcK6KW3uWPs4Df2orsP0gziYjvn2JtTV2LP2k113Flsve2BNO00dqV/H6QZxMXeF1K9DB3775xqUST20/OpP7iVJWMHv7EXXaoZfuwb8Fr5lcU8VJRSvIQUYlpOE6naaYG4+0KsB4T6opXfNNG+3zlkbOcde/YpDTXFRVcgrpOJnbR0JfVZu7GIbSP8ue2E9Ig1kaUkVTuNrTcNRroR++eWKqneBcmasYNfOpmYzvkKI5uQHupkusHjzJjrbQlpcgDiVpR+auRXSI+7EJcUdTYPaDAii82IS6r7QtaMHfxebeQOxONWI9ugSOEmxPt5L0X+8/twC+L+vX+CNAO5yxHPv3FDvwRpJvdKN2IHUakmW+fC+uZYxPavygzGDn5jbg6synwPaW4OMRMGErui1ZUzjFyPOLB6+bXpP1Pj67AOOgbcFFIN4s40sojwMAj6Muymrv6tPb9EmsRMrhn4pmqn9G/8u8fQHdfa+YjnX5VVGPto/SzYAHhfhD/GvwRxg+8+fBb2csP+CA+dHJOGFPX2RSO/D3thcDeEgw7uNCM/RJoZPoO45yHOYxPUWaqb6pWwtsq2kZCvSTLBO9nID5Am1Bkf8nkYwkLb5Dr7DOIlyX34vJFDEX5fYDGEAeS3kKad8pTk40YeC2uroeBe+j+w/i3LFqWFhQXufQzsuxbMOGmI8WHwh2fGHtL+C9hsld8gezE58iPEwGn+QN4Fa7ApLjpuqnfCjjLiRaDt038OqTvqhY6MC/e26b9TLjBykpHvI71epa1GLoPt/eWs5DEvwNHYqTfq79NG3mPkGqQJvwdWrEs7pYSYZEA7PRE2SY7dl9eVi2A3VE4QCKEzBnD/CnvKkWoFk/6NvuX+01/Tlmi7Q/s4Qj9HPdFWrzLyfiMfQ9xj8K78CDZI2Gf6a+qM39uvYXU3xvrj/59r/K1GLkS6/atcc9wXGACPfTGavuxnsBXfVPfSFaxdu3bfyWTyHNhA9R5M8LuLkT2N7N1R+LWzLjt/1/x5ZyOTti5WMj8Ba7CTEeV2WAcXo2o6NKxeHmbkL418BdaBD6Gjn8Nunq+Frb7kdrmOFcwTYDc7Jg5Dri9uNDcaOcfI65Gf/minHzGyBWqnvlBntM9JAOFGejjygHbKYOSFRv4aVocsmAyhJ9o97ZR+7m+MPBH5jOmi3vj9vBL2xOY4I/+N4XRHof1Tf7TRRyMPH8fpKGPbKeMbxjkbkNelyoPXrFlzsZFJIDkFdupVNvCo62KMt/Buht241yM/GAi/2shG9NfRP8NmwbnzZNiqLL/nIYJgJh8Meo9H3vOE1U7bw7X2HYynMwoTrzfCBj85Qh/3Bth2jr66+jFscChl7jd193b0L5CUQS+ThhcjP/2xeskEciwbZXU+l+S0Cqu05wQMft+HzIJfOm1e0vBdSFvhXynmhvoW1MryGfI2dHdw/DoJOqrCTeFYWGfONdLVqfFr2dpQIH/a2mlbPea6Bl+B/slpk/DY+VDkzx8a+Sb66eodkJHgV6Gvey9sy1xbfeUe9FZ5HeyEGV/dUJ++xZPPIY/TrB0wAek7TAB888hB7/bpn/EaZLYG/8DIpXAvIPbLXAtbSWEm5TqClRTUHQU7v7itc2PVSErwNosyCO5S0ZSSWJW0sdONsLbqszlIsNO/g20r8l1XG1t8/t2QswZZSe+TgD0DMmel82j/U2jXXkjb5aXX3IPeEu4FvBPk2ybyBdi16FM8oS88EnnCtfU2E5xebGTjVLbMCmIr/31jy89+3/ze3yJDP/ePsNll0+JhLyCP9qhoLtIPT39vtc8zMJYU1PFIpUsA923IqBo1wZ4/9uluhL/eGJhIq5a3sVNWiXkB50to3nCl2Cl9Fls6fIKPf4JdV6x0ftfj8wxqsqwqrUKfVpINkAvXk0/yWgorm29G2IklsWmTJHDP4AQhFk98Ck+8xLsPBGAC1RON3FYPaDHD/tp8NgQh36bnpsDgy9WvdvpUrjPyCNj+w6aLChy/cgrizNuMAS8ftM3OeUP8Q7CPjkiFN3yfBds3XXh+DW+K88LHKUhzfm8XaGs+dsqxS7RTTopgkMLNpKnSJsVOedObm98lHp/lTXquMc7s/Sjcs0DZr8hRflJeJzvPyAeM3ID2SH7BjevpVPjflOfe/A9GXg47kUkCjC84LvBKj8/Sr9Gu/xf2YqFLr38KG9DpK61zTMjg90lwb5DcCHjEUM5gPAbNfVv8PBfjIuTAhKDtrWWO4JL8GhTX+SFG2EfUpnLGzZdzGlOcCdoVVo1cEyw4A5o3mhdhdUvbbgqWpdkpR0PRj7ns7UAs2zJ7BX1G5fGypaTqL8eSnY3287M5RULKZbdZMGm/oMXnGQBzqhCTKylBG5ME+jGXnT4Yy8kUkwpXEYm6fBFsvKPMKSGDX1aHXNUkBhvlAwus1B2MZgdG40518HYXaFQM4tre9ubxjqQArg6PlunYqTtfx841yA3EpzKQC9SNK5AlrPpynjKDWh6VHub4Gml2Snw2yadiObnnOqP/cz0uQz96BORUNllxY4Xuh+2+DI+C7OCXpwisVLY5sWKwxlamgyEHHzulzZVtDLRT+jPX+wFPR7v9RglMqODXp+WhHmxwcHyBZifPmX1SjqMJ+33bBr7l6zyS9FSFzodzRNvO+eSRfhngSaGA1ZPLTsuqL/Fpw5Fmp4R+jIl80/phsMFxb6WPY5K6CDdsf5A0yYBJAW2xTfWXpxf3hmxop5e3+5K7A73nQ07i4GOnDGIZj5SBLE8jfKq/R0PWXZGkCBX8+rQ8fBErgw3XsRWDOmZgkt7MfjjatzzQuGO+CR+b/WCPoIoWX0NdVdtvpMBqhctZ1+3UtSYl2mnJ/8H9fVcrlAzy+CqUK+FipV3apkrdtFlDvKAU/MnUOYP6+ira2x7bwyRdjvZZW9Ukn5/nSZbLTnmy80Aoc0mo4NfV8sANkqNWqtUh17EVMy9pQR2rRG0zck55kBh4EK5v9kgWaAeDXh6zuo6gc4JtRk9Bc1A1y05drUkS7bSEExxcrR7s360mD2fDba/0paxsSrrUxbm/bfwYiy25vOjWh7Z6I1xfz4WcBMtnj6wn+Zxu4zrN4hrkCY22PswhIYJfbqqulgcezbA6VN0o6NybnBcvh0gKTrrC4EOqntintQHtnTiPwaRdDmRiVaA5oJplp/s6vkaynVJftzo+Uw9++ciAz8W3+tfljo8u60ie+FDCU5q2eiPPhN2DJbAIO3mliXqSfzbsxAgXbJfQJGwOCRH88ofPIKQp+6n3BPKzDJabnBcHTkvqx+yK5OCDg+67VC/4sIo0nfESlaufvF71VTtthpe1WFFqqnoXWLk58vPlpd8mpFU2fXRZp8tJWW5QZ7TZticvXF+Ph4w15rO26km+r53qGpxTQgS/rmNRwj636rGDq5pEWH2SdpS6hHYw6LgFMoMPBmZ/hG4Xg5jRSwt+OU/bZaf1irjaqRvXWuLFmHphQOLJgw9t7bKtv8yVrv6MYw+ltD64dDQryVc7TZgQwe8D0LxBso+wHqC5qklEYoDStvLBy25SjbPst9KjTz8Y+DadznDd1W1O7dTNXWjPRmhL1xBIT7z6wouVUi5s+SRKO9d+rXaaMCGCX9fxHC8X6QLyo+3lBcmVD595tcoyrPA02Sn7BrXNqD2LaO/fpJ7WDMmsZE1pB/0npxxIaH3wSZQK7NiipHaaKCEfuVgNPqeotyH94OWFNsEvDXorZOKaV9vEzpDHIpoDBTp9tdP2bME41Uc90m+GTyJrYNKfx0BGzyrXiytRmtWi5ELtdE4JEfy6HBADlL3QHokbMQNfjuDydeo/NnIn5MHgtc9FgwLybui6Kh90/LujPdID5i6JlI/OJB7pt9El/eTtUEifZJ7z9vdA/vjcX6i3MPnoVVtv5pQQwe8VcPeddjmi9lmsOeIzOF86fcdA7Ql5QZvPSDy10/Y8BO3Xok+vusQRhgX8dckZy7+Awj2+QHd/yIuw90P++NxfWMRKm+MDSi69Sh41OteECH59Mh/XIxiz8FmsOXIx/C+x7QKZ+DilJnwmH+SGz3i36hv3vki105IuR6WPQ/P6oz9dhLxHWHx1Sf3oTXwL11Gf1kLqnPd29OKwHYlWxjKMnXi62LTPSLTTZAgR/Pq8lHUorIGVaK/W6lwEv+HaROqMwb6VX9fkgxxhhcI16J12yjVV6qbLJANpuI5G676O69b1KBAvCfMCoqTjVNejR1UkvtC4Gm30thoSHlRxBfd1W6N9Hg6102QJEfxy3NYNjs8wu+TTqntXvsaVta+FXHzfuZd4cYv0fVWHiZi0pOG6qbj6fqt2ugh3gLETZFOgeS3Wfd0zYQOWpuTrEsiranLklm/1kQUCrfpahmg7qj/tmxtlFbfJ5/OhkGqi+lTYfULtNFFCTXvw6VOt3853VZUk9xJ+A37BbwF5F7f6XnYrkbi+fJx1tfWBx4CuU5rCyL0hE64f11H9XbXPPx9WZ020aX3KhTbVx7YjIXPm/ujvxzjuLOdigM9JX3V6CPcYtdPECRX8+iwCvgRXDX4X0VxVkvyAwQXwa33gxist+PXZJH2OodpUmnLBx04PwcrWh3pFpA43FqnVX5/XLRex7Od+B3b9Nq076pr2Ly24eyj8fBkTssuhQUfJEEl8gbyDX5/WkEUs2+mBsDpp0ivXoUQ7TYZQwS+fL3a1PjDw5XF1uaBcvTLrIfcRAxrW2fAzLJ8NOCd8LrsxcfCpWEpLHHzslFRPaVzzVAvI02OJT+BxG5b9nM9zsjzSvwHy+gh9k1G2hF0L7bMs4SlN3+A390tvrldoSVs75Wm3rsM5JlTwyyCNTtvVH3gEljfV78OdvUuu/vq2PvgYdk74VH6/BrfuJI47o054S95lp9XB94uOz0s8fSj5Lbhtjw/XbJp+znXRjfjafU5wn3K9FEr4oMC5Rn4OpcTn2XKfC+Y59/367BmlnbLlgc8+u+z0Quiovbkm5AtvX4E9Im2iOlDbdZxKpFU1q/i2Pki4qVvFddmNa+pTsLfBm5A47oyw+tumRalaEVmN3HsGV8P1fTNYK/0cP8vqZlOgws/x5yMt+PWdvkK9nA33PiMFn6SBpwhnw23z3JtztWHXHlm1U+4vBdwtD1+HrsO5JmTw63OkyoDjAdN/55gQV/DrU1nJFd/WB0nBL9eC67IbL3VxHfKWfVPFUuK4M3KGkWscn2HgW8Dq22eeat+5yyni87gA9VZuqj46YsJ7NeSNgvSp+hIGHNpjuYyPD+N6+g+4iwG5JrDUTwF/O30U3HrQ1psECBn80ikx8HAdkT4ednExOLkJzUitKJXwiM+lowLdnqVNEZ8pD5fCOjMGeE1rUeK4M+LbolS2HC3CPR+47+i5FPF5XKD6+pPPpRuf0zOpMNA4E6qfKj5r6irYpIrFKZc/zPGODXt398KwdsrWJCmtN7MS8aUBPjs6IYNf4tOvVr1M4wpQCsgJ7GbBDJO9SK7ZrNSnxCrmLEpH9hO4K2hSx+n5BFllosETCNp00xpkm8RekIVPwF/1b66X8PT2eDPUpc5VXYmP/yonY/ic4PAUMbeCQNunxF06FWWnS0tL34EdTnAPk8mEp/bb+nw2BKGD32/BvalWq7mum+Qa2Pm1PvgeG6YOZ6YuOf57GXD4PKQi9WleVoFc/eRVPbte06IeuWlIstOD4A4UbsSyf3NVQCQfpfpUh9jHfz2UKj7+iz6Qa4oV4CYbpu/0uYeTGj6nx9Wn3/nZJp1Ks9MvGjnLBLE3Gdlk5KcLCwsfhE0Y+nx2dEJvRtxQGXSweX61BcRMrAzUSoNsOm4pAzupGf8XjByH5tEr0Y4WArMIW8Fg73h9fVEHF00/Qwfu8zSvFL3VYTL1VdiNYZbtUS9stykdfNlK0rSJlJVQKXbqU3WrJg0MLJo2TElHqXW4ZpoCM/43vWC0Iy7/RR/IPZn64wkig5D1Mz5Hf8mq+iLyC3595kdXK7+LsDpYzbal2elmU9H9K/PPT8K2hFxtgloWOTf1/OzoxKjE8Ejg6Vg9WKtuAuV4kSakBigldF6nwy6mB87479Rlmd3nDo+cToB1TlxjZTDGNcKA7t9gky+yiObNkv8PKXqbBfvJn4fZwS8rbBwXV+qvujmsRtkmISX4dVXduK6qpw+fM3IM7At6Vbh2eVQoueWBPu7LsEltvX2G/eafhz3R0QtGK+F6aUryub/eUfnsO2FPUw+Z/h7XHv0gCwonY9l35oRrfnQ1QSBfgrXTWYm+VDvlvnv6CJ8dlRjBLy8lvBA7Br80NDqy07B8fMXNdXPD/4sLU3KAUnISrJN6OWwfNH+uO09/j4GJ61g6J+io/gw22Docy32pPMqn8y4rF/y9T04/V1S+fmn63zik3Gfmba7w+O59Rl6LlY/P0EZ5VEXdlHbHwEN7LdtRn2bDtXkK7KME1Dd1y3VIH/gh2FMLyX7uw7DB7zOw7Ntom9xI34tIR6dzzvlT4V5bvxtDO663itDmX2bkSNjkjeuPAXLOfpDBb1Plt57YU0efhdUpbbU8RaQ+P4KVflGZY2IEv3Ty3FS5mR4w/T0uIGZNHLP077BVOcIMqmyIrv9dy2NsNuxLDVBK6KROhNXf0bAXjKhb6o6bxmWQx5VwVyo+BuvAjp3+k06sDJRZJZaotyocgcRjvBcYOQo2keBluI9iZdWcdkpdH4rVqyjSxnO52mrou+oJA/XN9ffnsHpkAvZx2CNnafqrw6T2zVhua2IfJiu+tFHpulkN2uXfw+6RPMVhwMZ7PlybrKSfih1Pv6jnj0IOZRK6mt+aVTh6O2y8wnbD8mEgJhJqp4oX7NU93sjrsfKIus6rYW/mTyqyHbYfmItP2gglZRykXAocC26uP8BKOy2FD2G8BrJGx70Uq+vjdiNvhNzn2ZU4cL1JHDvYxKtgE6lZdrrFyFvgfspYUUaBBsvqJTdQLkY2k18BDXwVZZ5gryArIrzpfNtUbp7++j1Y2VoiAerjDUYuhvVZVZ3weHQ9FEWJTZOd8iT1sVCyZAFpwAD4RbDHqgx8Pw294KAo8wY3kg2wly/ZpsQjQR7d8yhVqq3Sd3F2OU8WSp1wkoZOJlCU+UHtVFEURVEURVGUPPl/0azdzw2qp8UAAAAASUVORK5CYII=\")}),Kl=hh(),Zl=0,Jl=[],Ql=[],$l=[],th=[],eh=[],nh=0,rh=new r.Application(Kl,Zl,{backgroundColor:16777215,resolution:2}),ih=!1,oh=new function(){this.values={},this.Save=function(){Gl.set(oh.values),sh()},this.Reset=function(){ah(),Gl.set(oh.values),sh()}};function ah(){oh.values.format=\"Math.round(d) + '%'\",oh.values.gapBetweenOptions=10,oh.values.personScale=1,oh.values.textXOffset=5,oh.values.xMax=100,oh.values.titleFontColor=\"#333\",oh.values.titleFontFamily=\"'Segoe UI'\",oh.values.titleFontSize=15,oh.values.titleFontWeight=700,oh.values.labelFontColor=\"#343741\",oh.values.labelFontFamily=\"'Segoe UI'\",oh.values.labelFontSize=12,oh.values.labelFontWeight=400}function sh(){var t=Xn().key(function(t){return t.option}).entries(Hl),e={},n={};Hl.forEach(function(t,r){e[t.option]=t.optionsorder||r,n[t.category]=t.categoriesorder||r}),t.forEach(function(t){t.sort=+e[t.key]||e[t.key];var r=JSON.parse(JSON.stringify(n));t.values.forEach(function(t,e){void 0===t.categoriesorder&&(t.categoriesorder=n[t.category]),delete r[t.category]}),Kn(r).forEach(function(e){t.values.push({value:null,category:e,categoriesorder:n[e]})}),t.values=t.values.keySort({categoriesorder:\"asc\"})}),t=t.keySort({sort:\"asc\"}),Xl=t,ih?lh():(document.getElementById(\"app\").appendChild(rh.view),uh(Kl,Zl),window.onresize=function(){Kl=hh(),lh()},Jl=[],[624,312,390,468,546,0,78,156,234].forEach(function(t){var e=ql(),n=new r.Texture(e,new r.Rectangle(t,0,78,98));Jl.push(n)}),lh(),ih=!0),window.gui=Wl,window.chartConfig=oh}function uh(t,e){Kl=t,Zl=e,rh.renderer.resize(Kl,Zl),rh.view.style.width=Kl+\"px\",rh.view.style.height=Zl+\"px\"}function lh(){var t=function(t){var e;try{(e=new Function(\"d\",\"return \"+t+\";\"))(1)}catch(t){console.log(t),e=new Function(\"d\",\"return d;\")}return e}(oh.values.format),e=oh.values.gapBetweenOptions,n=oh.values.personScale,i=oh.values.textXOffset,o=oh.values.xMax,a=oh.values.titleFontColor,s=oh.values.titleFontFamily,u=oh.values.titleFontSize,l=oh.values.titleFontWeight,h=oh.values.labelFontColor,c=oh.values.labelFontFamily,f=oh.values.labelFontSize,d=oh.values.labelFontWeight,p=[];ph(Ql),ph($l),function(){var t;for(;t=th.pop();)eh.push(t)}(),Ql=[],$l=[],nh=0;var v=new r.Graphics;if($l.push(v),rh.stage.addChild(v),Xl.length){for(var _=0;_<Xl.length;_++){var y=Xl[_],g=vh(y.key,nh,u,a,l,i,s);Ql.push(g.node),nh+=g.height,rh.stage.addChild(g.node);for(var b=0;b<y.values.length;b++){var m=[zl.color(y.values[b].color).rgb.r,zl.color(y.values[b].color).rgb.g,zl.color(y.values[b].color).rgb.b],x=y.values[b].value||0,w=20*n,T=1.8*w,E=(Kl-50)/w,S=go().domain([0,o]).range([0,E])(x),M=T*Math.ceil(S/E)||T;g=vh(t(x),0,f,h,d,0,c);$l.push(g.node),g.node.anchor.x=.5,g.node.anchor.y=.5,g.node.visible=!1,rh.stage.addChild(g.node);for(var O=0,C=0,A=0,P=0;P<S;P++){var R=Math.ceil(P/E)-1;R<0&&(R=0),C!==R?(O=1,C+=1):O+=1;var I=O*w-w/2;A<I&&(A=I);var D=nh+R*T+T/2,k=dh(1,I,D,n);ch(k,I,D),yh(k,m)}g.node.x=A+w+10,g.node.y=nh+M/2;var L=new r.Graphics;L.lineStyle(0,0,0),L.beginFill(16777215,.8),L.drawRoundedRect(0,nh,A+w/2+50,M,0),L.endFill(),L.interactive=!0,L.buttonMode=!0,L.selectionId=y.values[b].selectionId,L.alpha=0,L.show=function(){this.alpha=0},L.hide=function(){this.alpha=1},L.on(\"click\",function(t){Gl.customClickHandler(t,this)}),$l.push(L),p.push(L),rh.stage.addChild(L),nh+=M}nh+=e}v.lineStyle(0,0,0),v.beginFill(0,0),v.drawRoundedRect(0,0,Kl,nh,0),v.endFill(),v.interactive=!0,v.buttonMode=!1,v.alpha=1,v.on(\"click\",function(t){Gl.customClickHandler(t)}),Gl.manageMySelections(p),setTimeout(function(){$l.forEach(function(t){t.visible=!0})},2200),fh(),uh(Kl,nh),rh.ticker.add(function(t){Vl.update()})}else fh()}function hh(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-8}function ch(t,e,n){var r=t.x,i=t.y,o=Math.abs(r-e)/14*gh(100,250);o>3e3&&(o=3e3),_h(t),t.tween_walk&&Vl.remove(t.tween_walk);var a,s=new Vl.Tween({x:r,y:i}).to({x:e,y:n},o).onUpdate(function(){t.x=this._object.x,t.y=this._object.y}).interpolation(function(t){return Math.floor(10*t)/10});t.tween_walk=s,r<e?((a=t).state=\"right\",a.playSequence([1,4])):r>e&&function(t){t.state=\"left\",t.playSequence([5,8])}(t),s.start(),s.onComplete(function(){_h(t)})}function fh(){for(var t;t=eh.pop();)rh.stage.removeChild(t)}function dh(t,e,n,i){var o=function(t,e,n){var r,i=eh.filter(function(e,r){if(e.ind=r,e.question==t&&e.qY==n)return!0});return i.length?(r=i.pop(),eh.splice(r.ind,1)):r=eh.pop(),r}(t,0,n);return void 0===o?(function(t,e){t.x=gh(0,-50),t.y=gh(0,20),t.anchor.set(.5),t.width=28.08*e,t.height=35.1*e,function(t){if(!(t instanceof r.extras.AnimatedSprite))throw new Error(\"You can only animate PIXI.MovieClip sprites\");var e=0,n=0,i=0,o=0,a=void 0,s=!1;function u(){void 0!==a&&!0===s&&(s=!1,e=0,i=0,o=0,n=0,clearInterval(a))}t.show=function(e){u(),t.gotoAndStop(e)},t.playSequence=function(r){u(),i=r[0],o=r[1],n=o-i,t.fps||(t.fps=12);var l=1e3/t.fps;t.gotoAndStop(i),s||(a=setInterval(function(){e<n?(t.gotoAndStop(t.currentFrame+1),e+=1):t.loop&&(t.gotoAndStop(i),e=1)}.bind(this),l),s=!0)}}(t),t.fps=4;var n=new r.filters.ColorMatrixFilter;n.resolution=2,n.matrix[3]=1,n.matrix[8]=1,n.matrix[13]=1,t.filters=[n]}(o=new r.extras.AnimatedSprite(Jl),i),th.push(o),rh.stage.addChild(o),o.question=t,o.qX=e,o.qY=n,o.x=gh(e-300,e+300),o.y=gh(n-300,n+300)):(o.width=28.08*i,o.height=35.1*i,o.question==t?th.push(o):(th.push(o),o.question=t),o.qX=e,o.qY=n),o}function ph(t){for(var e=0;e<t.length;e++){var n=t[e];rh.stage.removeChild(n),n.destroy({children:!0,texture:!0,baseTexture:!0})}}function vh(t,e,n,i,o,a,s){var u=new r.Text(t,{fontSize:n||16,fontWeight:o||400,fontFamily:s,fill:i||\"#5f6369\",align:\"left\",wordWrapWidth:Kl-24,wordWrap:!0,strokeThickness:0});return u.x=a||0,u.y=e,u.resolution=2,{node:u,height:u.height}}function _h(t){t.state=\"stop\",t.show(0)}function yh(t,e){var n=t.filters[0].matrix,r=n[3],i=n[8],o=n[13],a=e[0]/255,s=e[1]/255,u=e[2]/255;t.tween_color&&Vl.remove(t.tween_color);var l=new Vl.Tween({r:r,g:i,b:o}).to({r:a,g:s,b:u},1500).onUpdate(function(){n[3]=this._object.r,n[8]=this._object.g,n[13]=this._object.b}).interpolation(Vl.Interpolation.Bezier).start();t.tween_color=l}function gh(t,e){return Math.floor(Math.random()*(e-t)+t)}window.constructPage=function(t,e){Hl=t,Gl=e,function(){if(Wl&&Wl.destroy(),oh.values=Gl.get(),Kn(oh.values).length||ah(),Gl.edit){var t=(Wl=new Yl).addFolder(\"Chart Settings\");for(var e in Wl.add(oh,\"Save\"),Wl.add(oh,\"Reset\"),t.add(oh.values,\"format\"),t.add(oh.values,\"gapBetweenOptions\"),t.add(oh.values,\"personScale\",0,3),t.add(oh.values,\"textXOffset\"),t.add(oh.values,\"xMax\"),t.addColor(oh.values,\"titleFontColor\"),t.add(oh.values,\"titleFontFamily\"),t.add(oh.values,\"titleFontSize\"),t.add(oh.values,\"titleFontWeight\"),t.addColor(oh.values,\"labelFontColor\"),t.add(oh.values,\"labelFontFamily\"),t.add(oh.values,\"labelFontSize\"),t.add(oh.values,\"labelFontWeight\"),Wl.__folders)for(var n in Wl.__folders[e].__controllers)Wl.__folders[e].__controllers[n].onChange&&Wl.__folders[e].__controllers[n].onChange(function(){sh()})}}(),sh()}}]);"
    },
    {
      "id": "I1BE",
      "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\lib\\css-base.js",
      "name": "./node_modules/css-loader/lib/css-base.js",
      "index": 5,
      "index2": 0,
      "size": 2260,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
      "issuerId": "WrdW",
      "issuerName": "./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js??ref--7-2!./style/visual.less",
      "issuerPath": [
        {
          "id": 0,
          "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "multi ./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
          "name": "./src/visual.ts"
        },
        {
          "id": "aY+d",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "name": "./style/visual.less"
        },
        {
          "id": "WrdW",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "name": "./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js??ref--7-2!./style/visual.less"
        }
      ],
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "assets": [
      ],
      "reasons": [
        {
          "moduleId": "WrdW",
          "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "module": "./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js??ref--7-2!./style/visual.less",
          "moduleName": "./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js??ref--7-2!./style/visual.less",
          "type": "cjs require",
          "userRequest": "../node_modules/css-loader/lib/css-base.js",
          "loc": "1:27-80"
        }
      ],
      "usedExports": true,
      "providedExports": null,
      "optimizationBailout": [
        "ModuleConcatenation bailout: Module is not an ECMAScript module"
      ],
      "depth": 5,
      "source": "/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n"
    },
    {
      "id": "WrdW",
      "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
      "name": "./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js??ref--7-2!./style/visual.less",
      "index": 4,
      "index2": 1,
      "size": 2876,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
      "issuerId": "aY+d",
      "issuerName": "./style/visual.less",
      "issuerPath": [
        {
          "id": 0,
          "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "multi ./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
          "name": "./src/visual.ts"
        },
        {
          "id": "aY+d",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "name": "./style/visual.less"
        }
      ],
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "assets": [
      ],
      "reasons": [
        {
          "moduleId": "aY+d",
          "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "module": "./style/visual.less",
          "moduleName": "./style/visual.less",
          "type": "cjs require",
          "userRequest": "!!../node_modules/css-loader/index.js!../node_modules/less-loader/dist/cjs.js??ref--7-2!./visual.less",
          "loc": "2:14-126"
        }
      ],
      "usedExports": true,
      "providedExports": null,
      "optimizationBailout": [
        "ModuleConcatenation bailout: Module is not an ECMAScript module"
      ],
      "depth": 4,
      "source": "exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n *  Power BI Visualizations\\n *\\n *  Copyright (c) Microsoft Corporation\\n *  All rights reserved.\\n *  MIT License\\n *\\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\\n *  of this software and associated documentation files (the \\\"\\\"Software\\\"\\\"), to deal\\n *  in the Software without restriction, including without limitation the rights\\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n *  copies of the Software, and to permit persons to whom the Software is\\n *  furnished to do so, subject to the following conditions:\\n *\\n *  The above copyright notice and this permission notice shall be included in\\n *  all copies or substantial portions of the Software.\\n *\\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\n *  THE SOFTWARE.\\n */\\n/**\\n * Imports styles of tooltipmanager.\\n * We compile it as a less file in order to wrap the external CSS rules.\\n */\\n/*\\n *  Power BI Visualizations\\n *\\n *  Copyright (c) Microsoft Corporation\\n *  All rights reserved.\\n *  MIT License\\n *\\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\\n *  of this software and associated documentation files (the \\\"\\\"Software\\\"\\\"), to deal\\n *  in the Software without restriction, including without limitation the rights\\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n *  copies of the Software, and to permit persons to whom the Software is\\n *  furnished to do so, subject to the following conditions:\\n *\\n *  The above copyright notice and this permission notice shall be included in\\n *  all copies or substantial portions of the Software.\\n *\\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\n *  THE SOFTWARE.\\n */\\n.overflowingText {\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  display: block;\\n}\\n\", \"\"]);\n\n// exports\n"
    },
    {
      "id": "aY+d",
      "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
      "name": "./style/visual.less",
      "index": 3,
      "index2": 4,
      "size": 1263,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
      "issuerId": null,
      "issuerName": "./src/visual.ts",
      "issuerPath": [
        {
          "id": 0,
          "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "multi ./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
          "name": "./src/visual.ts"
        }
      ],
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "assets": [
      ],
      "reasons": [
        {
          "moduleId": "xlo+",
          "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
          "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "type": "harmony side effect evaluation",
          "userRequest": "./../style/visual.less",
          "loc": "62:0-32"
        }
      ],
      "usedExports": false,
      "providedExports": null,
      "optimizationBailout": [
        "ModuleConcatenation bailout: Module is not an ECMAScript module"
      ],
      "depth": 3,
      "source": "\nvar content = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/dist/cjs.js??ref--7-2!./visual.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/dist/cjs.js??ref--7-2!./visual.less\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/dist/cjs.js??ref--7-2!./visual.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"
    },
    {
      "id": "bljh",
      "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\d3\\d3.js",
      "name": "./node_modules/d3/d3.js",
      "index": 8,
      "index2": 5,
      "size": 336821,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
      "issuerId": null,
      "issuerName": "./src/visual.ts",
      "issuerPath": [
        {
          "id": 0,
          "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "multi ./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
          "name": "./src/visual.ts"
        }
      ],
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "assets": [
      ],
      "reasons": [
        {
          "moduleId": "xlo+",
          "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
          "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "type": "harmony side effect evaluation",
          "userRequest": "d3",
          "loc": "63:0-25"
        },
        {
          "moduleId": "xlo+",
          "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
          "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "type": "harmony import specifier",
          "userRequest": "d3",
          "loc": "78:27-36"
        },
        {
          "moduleId": "xlo+",
          "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
          "module": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "moduleName": "./.tmp/precompile/visualPlugin.ts + 1 modules",
          "type": "harmony import specifier",
          "userRequest": "d3",
          "loc": "140:24-31"
        }
      ],
      "usedExports": [
        "keys",
        "select"
      ],
      "providedExports": null,
      "optimizationBailout": [
        "ModuleConcatenation bailout: Module is not an ECMAScript module"
      ],
      "depth": 3,
      "source": "!function() {\n  var d3 = {\n    version: \"3.5.17\"\n  };\n  var d3_arraySlice = [].slice, d3_array = function(list) {\n    return d3_arraySlice.call(list);\n  };\n  var d3_document = this.document;\n  function d3_documentElement(node) {\n    return node && (node.ownerDocument || node.document || node).documentElement;\n  }\n  function d3_window(node) {\n    return node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView);\n  }\n  if (d3_document) {\n    try {\n      d3_array(d3_document.documentElement.childNodes)[0].nodeType;\n    } catch (e) {\n      d3_array = function(list) {\n        var i = list.length, array = new Array(i);\n        while (i--) array[i] = list[i];\n        return array;\n      };\n    }\n  }\n  if (!Date.now) Date.now = function() {\n    return +new Date();\n  };\n  if (d3_document) {\n    try {\n      d3_document.createElement(\"DIV\").style.setProperty(\"opacity\", 0, \"\");\n    } catch (error) {\n      var d3_element_prototype = this.Element.prototype, d3_element_setAttribute = d3_element_prototype.setAttribute, d3_element_setAttributeNS = d3_element_prototype.setAttributeNS, d3_style_prototype = this.CSSStyleDeclaration.prototype, d3_style_setProperty = d3_style_prototype.setProperty;\n      d3_element_prototype.setAttribute = function(name, value) {\n        d3_element_setAttribute.call(this, name, value + \"\");\n      };\n      d3_element_prototype.setAttributeNS = function(space, local, value) {\n        d3_element_setAttributeNS.call(this, space, local, value + \"\");\n      };\n      d3_style_prototype.setProperty = function(name, value, priority) {\n        d3_style_setProperty.call(this, name, value + \"\", priority);\n      };\n    }\n  }\n  d3.ascending = d3_ascending;\n  function d3_ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n  d3.descending = function(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  };\n  d3.min = function(array, f) {\n    var i = -1, n = array.length, a, b;\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    } else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && a > b) a = b;\n    }\n    return a;\n  };\n  d3.max = function(array, f) {\n    var i = -1, n = array.length, a, b;\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    } else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b > a) a = b;\n    }\n    return a;\n  };\n  d3.extent = function(array, f) {\n    var i = -1, n = array.length, a, b, c;\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) {\n        a = c = b;\n        break;\n      }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    } else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n        a = c = b;\n        break;\n      }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n    return [ a, c ];\n  };\n  function d3_number(x) {\n    return x === null ? NaN : +x;\n  }\n  function d3_numeric(x) {\n    return !isNaN(x);\n  }\n  d3.sum = function(array, f) {\n    var s = 0, n = array.length, a, i = -1;\n    if (arguments.length === 1) {\n      while (++i < n) if (d3_numeric(a = +array[i])) s += a;\n    } else {\n      while (++i < n) if (d3_numeric(a = +f.call(array, array[i], i))) s += a;\n    }\n    return s;\n  };\n  d3.mean = function(array, f) {\n    var s = 0, n = array.length, a, i = -1, j = n;\n    if (arguments.length === 1) {\n      while (++i < n) if (d3_numeric(a = d3_number(array[i]))) s += a; else --j;\n    } else {\n      while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) s += a; else --j;\n    }\n    if (j) return s / j;\n  };\n  d3.quantile = function(values, p) {\n    var H = (values.length - 1) * p + 1, h = Math.floor(H), v = +values[h - 1], e = H - h;\n    return e ? v + e * (values[h] - v) : v;\n  };\n  d3.median = function(array, f) {\n    var numbers = [], n = array.length, a, i = -1;\n    if (arguments.length === 1) {\n      while (++i < n) if (d3_numeric(a = d3_number(array[i]))) numbers.push(a);\n    } else {\n      while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) numbers.push(a);\n    }\n    if (numbers.length) return d3.quantile(numbers.sort(d3_ascending), .5);\n  };\n  d3.variance = function(array, f) {\n    var n = array.length, m = 0, a, d, s = 0, i = -1, j = 0;\n    if (arguments.length === 1) {\n      while (++i < n) {\n        if (d3_numeric(a = d3_number(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    } else {\n      while (++i < n) {\n        if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n    if (j > 1) return s / (j - 1);\n  };\n  d3.deviation = function() {\n    var v = d3.variance.apply(this, arguments);\n    return v ? Math.sqrt(v) : v;\n  };\n  function d3_bisector(compare) {\n    return {\n      left: function(a, x, lo, hi) {\n        if (arguments.length < 3) lo = 0;\n        if (arguments.length < 4) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1; else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (arguments.length < 3) lo = 0;\n        if (arguments.length < 4) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid; else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  }\n  var d3_bisect = d3_bisector(d3_ascending);\n  d3.bisectLeft = d3_bisect.left;\n  d3.bisect = d3.bisectRight = d3_bisect.right;\n  d3.bisector = function(f) {\n    return d3_bisector(f.length === 1 ? function(d, x) {\n      return d3_ascending(f(d), x);\n    } : f);\n  };\n  d3.shuffle = function(array, i0, i1) {\n    if ((m = arguments.length) < 3) {\n      i1 = array.length;\n      if (m < 2) i0 = 0;\n    }\n    var m = i1 - i0, t, i;\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0], array[m + i0] = array[i + i0], array[i + i0] = t;\n    }\n    return array;\n  };\n  d3.permute = function(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  };\n  d3.pairs = function(array) {\n    var i = 0, n = array.length - 1, p0, p1 = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [ p0 = p1, p1 = array[++i] ];\n    return pairs;\n  };\n  d3.transpose = function(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = d3.min(matrix, d3_transposeLength), transpose = new Array(m); ++i < m; ) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n; ) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  };\n  function d3_transposeLength(d) {\n    return d.length;\n  }\n  d3.zip = function() {\n    return d3.transpose(arguments);\n  };\n  d3.keys = function(map) {\n    var keys = [];\n    for (var key in map) keys.push(key);\n    return keys;\n  };\n  d3.values = function(map) {\n    var values = [];\n    for (var key in map) values.push(map[key]);\n    return values;\n  };\n  d3.entries = function(map) {\n    var entries = [];\n    for (var key in map) entries.push({\n      key: key,\n      value: map[key]\n    });\n    return entries;\n  };\n  d3.merge = function(arrays) {\n    var n = arrays.length, m, i = -1, j = 0, merged, array;\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n    return merged;\n  };\n  var abs = Math.abs;\n  d3.range = function(start, stop, step) {\n    if (arguments.length < 3) {\n      step = 1;\n      if (arguments.length < 2) {\n        stop = start;\n        start = 0;\n      }\n    }\n    if ((stop - start) / step === Infinity) throw new Error(\"infinite range\");\n    var range = [], k = d3_range_integerScale(abs(step)), i = -1, j;\n    start *= k, stop *= k, step *= k;\n    if (step < 0) while ((j = start + step * ++i) > stop) range.push(j / k); else while ((j = start + step * ++i) < stop) range.push(j / k);\n    return range;\n  };\n  function d3_range_integerScale(x) {\n    var k = 1;\n    while (x * k % 1) k *= 10;\n    return k;\n  }\n  function d3_class(ctor, properties) {\n    for (var key in properties) {\n      Object.defineProperty(ctor.prototype, key, {\n        value: properties[key],\n        enumerable: false\n      });\n    }\n  }\n  d3.map = function(object, f) {\n    var map = new d3_Map();\n    if (object instanceof d3_Map) {\n      object.forEach(function(key, value) {\n        map.set(key, value);\n      });\n    } else if (Array.isArray(object)) {\n      var i = -1, n = object.length, o;\n      if (arguments.length === 1) while (++i < n) map.set(i, object[i]); else while (++i < n) map.set(f.call(object, o = object[i], i), o);\n    } else {\n      for (var key in object) map.set(key, object[key]);\n    }\n    return map;\n  };\n  function d3_Map() {\n    this._ = Object.create(null);\n  }\n  var d3_map_proto = \"__proto__\", d3_map_zero = \"\\x00\";\n  d3_class(d3_Map, {\n    has: d3_map_has,\n    get: function(key) {\n      return this._[d3_map_escape(key)];\n    },\n    set: function(key, value) {\n      return this._[d3_map_escape(key)] = value;\n    },\n    remove: d3_map_remove,\n    keys: d3_map_keys,\n    values: function() {\n      var values = [];\n      for (var key in this._) values.push(this._[key]);\n      return values;\n    },\n    entries: function() {\n      var entries = [];\n      for (var key in this._) entries.push({\n        key: d3_map_unescape(key),\n        value: this._[key]\n      });\n      return entries;\n    },\n    size: d3_map_size,\n    empty: d3_map_empty,\n    forEach: function(f) {\n      for (var key in this._) f.call(this, d3_map_unescape(key), this._[key]);\n    }\n  });\n  function d3_map_escape(key) {\n    return (key += \"\") === d3_map_proto || key[0] === d3_map_zero ? d3_map_zero + key : key;\n  }\n  function d3_map_unescape(key) {\n    return (key += \"\")[0] === d3_map_zero ? key.slice(1) : key;\n  }\n  function d3_map_has(key) {\n    return d3_map_escape(key) in this._;\n  }\n  function d3_map_remove(key) {\n    return (key = d3_map_escape(key)) in this._ && delete this._[key];\n  }\n  function d3_map_keys() {\n    var keys = [];\n    for (var key in this._) keys.push(d3_map_unescape(key));\n    return keys;\n  }\n  function d3_map_size() {\n    var size = 0;\n    for (var key in this._) ++size;\n    return size;\n  }\n  function d3_map_empty() {\n    for (var key in this._) return false;\n    return true;\n  }\n  d3.nest = function() {\n    var nest = {}, keys = [], sortKeys = [], sortValues, rollup;\n    function map(mapType, array, depth) {\n      if (depth >= keys.length) return rollup ? rollup.call(nest, array) : sortValues ? array.sort(sortValues) : array;\n      var i = -1, n = array.length, key = keys[depth++], keyValue, object, setter, valuesByKey = new d3_Map(), values;\n      while (++i < n) {\n        if (values = valuesByKey.get(keyValue = key(object = array[i]))) {\n          values.push(object);\n        } else {\n          valuesByKey.set(keyValue, [ object ]);\n        }\n      }\n      if (mapType) {\n        object = mapType();\n        setter = function(keyValue, values) {\n          object.set(keyValue, map(mapType, values, depth));\n        };\n      } else {\n        object = {};\n        setter = function(keyValue, values) {\n          object[keyValue] = map(mapType, values, depth);\n        };\n      }\n      valuesByKey.forEach(setter);\n      return object;\n    }\n    function entries(map, depth) {\n      if (depth >= keys.length) return map;\n      var array = [], sortKey = sortKeys[depth++];\n      map.forEach(function(key, keyMap) {\n        array.push({\n          key: key,\n          values: entries(keyMap, depth)\n        });\n      });\n      return sortKey ? array.sort(function(a, b) {\n        return sortKey(a.key, b.key);\n      }) : array;\n    }\n    nest.map = function(array, mapType) {\n      return map(mapType, array, 0);\n    };\n    nest.entries = function(array) {\n      return entries(map(d3.map, array, 0), 0);\n    };\n    nest.key = function(d) {\n      keys.push(d);\n      return nest;\n    };\n    nest.sortKeys = function(order) {\n      sortKeys[keys.length - 1] = order;\n      return nest;\n    };\n    nest.sortValues = function(order) {\n      sortValues = order;\n      return nest;\n    };\n    nest.rollup = function(f) {\n      rollup = f;\n      return nest;\n    };\n    return nest;\n  };\n  d3.set = function(array) {\n    var set = new d3_Set();\n    if (array) for (var i = 0, n = array.length; i < n; ++i) set.add(array[i]);\n    return set;\n  };\n  function d3_Set() {\n    this._ = Object.create(null);\n  }\n  d3_class(d3_Set, {\n    has: d3_map_has,\n    add: function(key) {\n      this._[d3_map_escape(key += \"\")] = true;\n      return key;\n    },\n    remove: d3_map_remove,\n    values: d3_map_keys,\n    size: d3_map_size,\n    empty: d3_map_empty,\n    forEach: function(f) {\n      for (var key in this._) f.call(this, d3_map_unescape(key));\n    }\n  });\n  d3.behavior = {};\n  function d3_identity(d) {\n    return d;\n  }\n  d3.rebind = function(target, source) {\n    var i = 1, n = arguments.length, method;\n    while (++i < n) target[method = arguments[i]] = d3_rebind(target, source, source[method]);\n    return target;\n  };\n  function d3_rebind(target, source, method) {\n    return function() {\n      var value = method.apply(source, arguments);\n      return value === source ? target : value;\n    };\n  }\n  function d3_vendorSymbol(object, name) {\n    if (name in object) return name;\n    name = name.charAt(0).toUpperCase() + name.slice(1);\n    for (var i = 0, n = d3_vendorPrefixes.length; i < n; ++i) {\n      var prefixName = d3_vendorPrefixes[i] + name;\n      if (prefixName in object) return prefixName;\n    }\n  }\n  var d3_vendorPrefixes = [ \"webkit\", \"ms\", \"moz\", \"Moz\", \"o\", \"O\" ];\n  function d3_noop() {}\n  d3.dispatch = function() {\n    var dispatch = new d3_dispatch(), i = -1, n = arguments.length;\n    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);\n    return dispatch;\n  };\n  function d3_dispatch() {}\n  d3_dispatch.prototype.on = function(type, listener) {\n    var i = type.indexOf(\".\"), name = \"\";\n    if (i >= 0) {\n      name = type.slice(i + 1);\n      type = type.slice(0, i);\n    }\n    if (type) return arguments.length < 2 ? this[type].on(name) : this[type].on(name, listener);\n    if (arguments.length === 2) {\n      if (listener == null) for (type in this) {\n        if (this.hasOwnProperty(type)) this[type].on(name, null);\n      }\n      return this;\n    }\n  };\n  function d3_dispatch_event(dispatch) {\n    var listeners = [], listenerByName = new d3_Map();\n    function event() {\n      var z = listeners, i = -1, n = z.length, l;\n      while (++i < n) if (l = z[i].on) l.apply(this, arguments);\n      return dispatch;\n    }\n    event.on = function(name, listener) {\n      var l = listenerByName.get(name), i;\n      if (arguments.length < 2) return l && l.on;\n      if (l) {\n        l.on = null;\n        listeners = listeners.slice(0, i = listeners.indexOf(l)).concat(listeners.slice(i + 1));\n        listenerByName.remove(name);\n      }\n      if (listener) listeners.push(listenerByName.set(name, {\n        on: listener\n      }));\n      return dispatch;\n    };\n    return event;\n  }\n  d3.event = null;\n  function d3_eventPreventDefault() {\n    d3.event.preventDefault();\n  }\n  function d3_eventSource() {\n    var e = d3.event, s;\n    while (s = e.sourceEvent) e = s;\n    return e;\n  }\n  function d3_eventDispatch(target) {\n    var dispatch = new d3_dispatch(), i = 0, n = arguments.length;\n    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);\n    dispatch.of = function(thiz, argumentz) {\n      return function(e1) {\n        try {\n          var e0 = e1.sourceEvent = d3.event;\n          e1.target = target;\n          d3.event = e1;\n          dispatch[e1.type].apply(thiz, argumentz);\n        } finally {\n          d3.event = e0;\n        }\n      };\n    };\n    return dispatch;\n  }\n  d3.requote = function(s) {\n    return s.replace(d3_requote_re, \"\\\\$&\");\n  };\n  var d3_requote_re = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n  var d3_subclass = {}.__proto__ ? function(object, prototype) {\n    object.__proto__ = prototype;\n  } : function(object, prototype) {\n    for (var property in prototype) object[property] = prototype[property];\n  };\n  function d3_selection(groups) {\n    d3_subclass(groups, d3_selectionPrototype);\n    return groups;\n  }\n  var d3_select = function(s, n) {\n    return n.querySelector(s);\n  }, d3_selectAll = function(s, n) {\n    return n.querySelectorAll(s);\n  }, d3_selectMatches = function(n, s) {\n    var d3_selectMatcher = n.matches || n[d3_vendorSymbol(n, \"matchesSelector\")];\n    d3_selectMatches = function(n, s) {\n      return d3_selectMatcher.call(n, s);\n    };\n    return d3_selectMatches(n, s);\n  };\n  if (typeof Sizzle === \"function\") {\n    d3_select = function(s, n) {\n      return Sizzle(s, n)[0] || null;\n    };\n    d3_selectAll = Sizzle;\n    d3_selectMatches = Sizzle.matchesSelector;\n  }\n  d3.selection = function() {\n    return d3.select(d3_document.documentElement);\n  };\n  var d3_selectionPrototype = d3.selection.prototype = [];\n  d3_selectionPrototype.select = function(selector) {\n    var subgroups = [], subgroup, subnode, group, node;\n    selector = d3_selection_selector(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      subgroups.push(subgroup = []);\n      subgroup.parentNode = (group = this[j]).parentNode;\n      for (var i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          subgroup.push(subnode = selector.call(node, node.__data__, i, j));\n          if (subnode && \"__data__\" in node) subnode.__data__ = node.__data__;\n        } else {\n          subgroup.push(null);\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  function d3_selection_selector(selector) {\n    return typeof selector === \"function\" ? selector : function() {\n      return d3_select(selector, this);\n    };\n  }\n  d3_selectionPrototype.selectAll = function(selector) {\n    var subgroups = [], subgroup, node;\n    selector = d3_selection_selectorAll(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          subgroups.push(subgroup = d3_array(selector.call(node, node.__data__, i, j)));\n          subgroup.parentNode = node;\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  function d3_selection_selectorAll(selector) {\n    return typeof selector === \"function\" ? selector : function() {\n      return d3_selectAll(selector, this);\n    };\n  }\n  var d3_nsXhtml = \"http://www.w3.org/1999/xhtml\";\n  var d3_nsPrefix = {\n    svg: \"http://www.w3.org/2000/svg\",\n    xhtml: d3_nsXhtml,\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n  };\n  d3.ns = {\n    prefix: d3_nsPrefix,\n    qualify: function(name) {\n      var i = name.indexOf(\":\"), prefix = name;\n      if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n      return d3_nsPrefix.hasOwnProperty(prefix) ? {\n        space: d3_nsPrefix[prefix],\n        local: name\n      } : name;\n    }\n  };\n  d3_selectionPrototype.attr = function(name, value) {\n    if (arguments.length < 2) {\n      if (typeof name === \"string\") {\n        var node = this.node();\n        name = d3.ns.qualify(name);\n        return name.local ? node.getAttributeNS(name.space, name.local) : node.getAttribute(name);\n      }\n      for (value in name) this.each(d3_selection_attr(value, name[value]));\n      return this;\n    }\n    return this.each(d3_selection_attr(name, value));\n  };\n  function d3_selection_attr(name, value) {\n    name = d3.ns.qualify(name);\n    function attrNull() {\n      this.removeAttribute(name);\n    }\n    function attrNullNS() {\n      this.removeAttributeNS(name.space, name.local);\n    }\n    function attrConstant() {\n      this.setAttribute(name, value);\n    }\n    function attrConstantNS() {\n      this.setAttributeNS(name.space, name.local, value);\n    }\n    function attrFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.removeAttribute(name); else this.setAttribute(name, x);\n    }\n    function attrFunctionNS() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.removeAttributeNS(name.space, name.local); else this.setAttributeNS(name.space, name.local, x);\n    }\n    return value == null ? name.local ? attrNullNS : attrNull : typeof value === \"function\" ? name.local ? attrFunctionNS : attrFunction : name.local ? attrConstantNS : attrConstant;\n  }\n  function d3_collapse(s) {\n    return s.trim().replace(/\\s+/g, \" \");\n  }\n  d3_selectionPrototype.classed = function(name, value) {\n    if (arguments.length < 2) {\n      if (typeof name === \"string\") {\n        var node = this.node(), n = (name = d3_selection_classes(name)).length, i = -1;\n        if (value = node.classList) {\n          while (++i < n) if (!value.contains(name[i])) return false;\n        } else {\n          value = node.getAttribute(\"class\");\n          while (++i < n) if (!d3_selection_classedRe(name[i]).test(value)) return false;\n        }\n        return true;\n      }\n      for (value in name) this.each(d3_selection_classed(value, name[value]));\n      return this;\n    }\n    return this.each(d3_selection_classed(name, value));\n  };\n  function d3_selection_classedRe(name) {\n    return new RegExp(\"(?:^|\\\\s+)\" + d3.requote(name) + \"(?:\\\\s+|$)\", \"g\");\n  }\n  function d3_selection_classes(name) {\n    return (name + \"\").trim().split(/^|\\s+/);\n  }\n  function d3_selection_classed(name, value) {\n    name = d3_selection_classes(name).map(d3_selection_classedName);\n    var n = name.length;\n    function classedConstant() {\n      var i = -1;\n      while (++i < n) name[i](this, value);\n    }\n    function classedFunction() {\n      var i = -1, x = value.apply(this, arguments);\n      while (++i < n) name[i](this, x);\n    }\n    return typeof value === \"function\" ? classedFunction : classedConstant;\n  }\n  function d3_selection_classedName(name) {\n    var re = d3_selection_classedRe(name);\n    return function(node, value) {\n      if (c = node.classList) return value ? c.add(name) : c.remove(name);\n      var c = node.getAttribute(\"class\") || \"\";\n      if (value) {\n        re.lastIndex = 0;\n        if (!re.test(c)) node.setAttribute(\"class\", d3_collapse(c + \" \" + name));\n      } else {\n        node.setAttribute(\"class\", d3_collapse(c.replace(re, \" \")));\n      }\n    };\n  }\n  d3_selectionPrototype.style = function(name, value, priority) {\n    var n = arguments.length;\n    if (n < 3) {\n      if (typeof name !== \"string\") {\n        if (n < 2) value = \"\";\n        for (priority in name) this.each(d3_selection_style(priority, name[priority], value));\n        return this;\n      }\n      if (n < 2) {\n        var node = this.node();\n        return d3_window(node).getComputedStyle(node, null).getPropertyValue(name);\n      }\n      priority = \"\";\n    }\n    return this.each(d3_selection_style(name, value, priority));\n  };\n  function d3_selection_style(name, value, priority) {\n    function styleNull() {\n      this.style.removeProperty(name);\n    }\n    function styleConstant() {\n      this.style.setProperty(name, value, priority);\n    }\n    function styleFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.style.removeProperty(name); else this.style.setProperty(name, x, priority);\n    }\n    return value == null ? styleNull : typeof value === \"function\" ? styleFunction : styleConstant;\n  }\n  d3_selectionPrototype.property = function(name, value) {\n    if (arguments.length < 2) {\n      if (typeof name === \"string\") return this.node()[name];\n      for (value in name) this.each(d3_selection_property(value, name[value]));\n      return this;\n    }\n    return this.each(d3_selection_property(name, value));\n  };\n  function d3_selection_property(name, value) {\n    function propertyNull() {\n      delete this[name];\n    }\n    function propertyConstant() {\n      this[name] = value;\n    }\n    function propertyFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) delete this[name]; else this[name] = x;\n    }\n    return value == null ? propertyNull : typeof value === \"function\" ? propertyFunction : propertyConstant;\n  }\n  d3_selectionPrototype.text = function(value) {\n    return arguments.length ? this.each(typeof value === \"function\" ? function() {\n      var v = value.apply(this, arguments);\n      this.textContent = v == null ? \"\" : v;\n    } : value == null ? function() {\n      this.textContent = \"\";\n    } : function() {\n      this.textContent = value;\n    }) : this.node().textContent;\n  };\n  d3_selectionPrototype.html = function(value) {\n    return arguments.length ? this.each(typeof value === \"function\" ? function() {\n      var v = value.apply(this, arguments);\n      this.innerHTML = v == null ? \"\" : v;\n    } : value == null ? function() {\n      this.innerHTML = \"\";\n    } : function() {\n      this.innerHTML = value;\n    }) : this.node().innerHTML;\n  };\n  d3_selectionPrototype.append = function(name) {\n    name = d3_selection_creator(name);\n    return this.select(function() {\n      return this.appendChild(name.apply(this, arguments));\n    });\n  };\n  function d3_selection_creator(name) {\n    function create() {\n      var document = this.ownerDocument, namespace = this.namespaceURI;\n      return namespace === d3_nsXhtml && document.documentElement.namespaceURI === d3_nsXhtml ? document.createElement(name) : document.createElementNS(namespace, name);\n    }\n    function createNS() {\n      return this.ownerDocument.createElementNS(name.space, name.local);\n    }\n    return typeof name === \"function\" ? name : (name = d3.ns.qualify(name)).local ? createNS : create;\n  }\n  d3_selectionPrototype.insert = function(name, before) {\n    name = d3_selection_creator(name);\n    before = d3_selection_selector(before);\n    return this.select(function() {\n      return this.insertBefore(name.apply(this, arguments), before.apply(this, arguments) || null);\n    });\n  };\n  d3_selectionPrototype.remove = function() {\n    return this.each(d3_selectionRemove);\n  };\n  function d3_selectionRemove() {\n    var parent = this.parentNode;\n    if (parent) parent.removeChild(this);\n  }\n  d3_selectionPrototype.data = function(value, key) {\n    var i = -1, n = this.length, group, node;\n    if (!arguments.length) {\n      value = new Array(n = (group = this[0]).length);\n      while (++i < n) {\n        if (node = group[i]) {\n          value[i] = node.__data__;\n        }\n      }\n      return value;\n    }\n    function bind(group, groupData) {\n      var i, n = group.length, m = groupData.length, n0 = Math.min(n, m), updateNodes = new Array(m), enterNodes = new Array(m), exitNodes = new Array(n), node, nodeData;\n      if (key) {\n        var nodeByKeyValue = new d3_Map(), keyValues = new Array(n), keyValue;\n        for (i = -1; ++i < n; ) {\n          if (node = group[i]) {\n            if (nodeByKeyValue.has(keyValue = key.call(node, node.__data__, i))) {\n              exitNodes[i] = node;\n            } else {\n              nodeByKeyValue.set(keyValue, node);\n            }\n            keyValues[i] = keyValue;\n          }\n        }\n        for (i = -1; ++i < m; ) {\n          if (!(node = nodeByKeyValue.get(keyValue = key.call(groupData, nodeData = groupData[i], i)))) {\n            enterNodes[i] = d3_selection_dataNode(nodeData);\n          } else if (node !== true) {\n            updateNodes[i] = node;\n            node.__data__ = nodeData;\n          }\n          nodeByKeyValue.set(keyValue, true);\n        }\n        for (i = -1; ++i < n; ) {\n          if (i in keyValues && nodeByKeyValue.get(keyValues[i]) !== true) {\n            exitNodes[i] = group[i];\n          }\n        }\n      } else {\n        for (i = -1; ++i < n0; ) {\n          node = group[i];\n          nodeData = groupData[i];\n          if (node) {\n            node.__data__ = nodeData;\n            updateNodes[i] = node;\n          } else {\n            enterNodes[i] = d3_selection_dataNode(nodeData);\n          }\n        }\n        for (;i < m; ++i) {\n          enterNodes[i] = d3_selection_dataNode(groupData[i]);\n        }\n        for (;i < n; ++i) {\n          exitNodes[i] = group[i];\n        }\n      }\n      enterNodes.update = updateNodes;\n      enterNodes.parentNode = updateNodes.parentNode = exitNodes.parentNode = group.parentNode;\n      enter.push(enterNodes);\n      update.push(updateNodes);\n      exit.push(exitNodes);\n    }\n    var enter = d3_selection_enter([]), update = d3_selection([]), exit = d3_selection([]);\n    if (typeof value === \"function\") {\n      while (++i < n) {\n        bind(group = this[i], value.call(group, group.parentNode.__data__, i));\n      }\n    } else {\n      while (++i < n) {\n        bind(group = this[i], value);\n      }\n    }\n    update.enter = function() {\n      return enter;\n    };\n    update.exit = function() {\n      return exit;\n    };\n    return update;\n  };\n  function d3_selection_dataNode(data) {\n    return {\n      __data__: data\n    };\n  }\n  d3_selectionPrototype.datum = function(value) {\n    return arguments.length ? this.property(\"__data__\", value) : this.property(\"__data__\");\n  };\n  d3_selectionPrototype.filter = function(filter) {\n    var subgroups = [], subgroup, group, node;\n    if (typeof filter !== \"function\") filter = d3_selection_filter(filter);\n    for (var j = 0, m = this.length; j < m; j++) {\n      subgroups.push(subgroup = []);\n      subgroup.parentNode = (group = this[j]).parentNode;\n      for (var i = 0, n = group.length; i < n; i++) {\n        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {\n          subgroup.push(node);\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  function d3_selection_filter(selector) {\n    return function() {\n      return d3_selectMatches(this, selector);\n    };\n  }\n  d3_selectionPrototype.order = function() {\n    for (var j = -1, m = this.length; ++j < m; ) {\n      for (var group = this[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {\n        if (node = group[i]) {\n          if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n          next = node;\n        }\n      }\n    }\n    return this;\n  };\n  d3_selectionPrototype.sort = function(comparator) {\n    comparator = d3_selection_sortComparator.apply(this, arguments);\n    for (var j = -1, m = this.length; ++j < m; ) this[j].sort(comparator);\n    return this.order();\n  };\n  function d3_selection_sortComparator(comparator) {\n    if (!arguments.length) comparator = d3_ascending;\n    return function(a, b) {\n      return a && b ? comparator(a.__data__, b.__data__) : !a - !b;\n    };\n  }\n  d3_selectionPrototype.each = function(callback) {\n    return d3_selection_each(this, function(node, i, j) {\n      callback.call(node, node.__data__, i, j);\n    });\n  };\n  function d3_selection_each(groups, callback) {\n    for (var j = 0, m = groups.length; j < m; j++) {\n      for (var group = groups[j], i = 0, n = group.length, node; i < n; i++) {\n        if (node = group[i]) callback(node, i, j);\n      }\n    }\n    return groups;\n  }\n  d3_selectionPrototype.call = function(callback) {\n    var args = d3_array(arguments);\n    callback.apply(args[0] = this, args);\n    return this;\n  };\n  d3_selectionPrototype.empty = function() {\n    return !this.node();\n  };\n  d3_selectionPrototype.node = function() {\n    for (var j = 0, m = this.length; j < m; j++) {\n      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n        var node = group[i];\n        if (node) return node;\n      }\n    }\n    return null;\n  };\n  d3_selectionPrototype.size = function() {\n    var n = 0;\n    d3_selection_each(this, function() {\n      ++n;\n    });\n    return n;\n  };\n  function d3_selection_enter(selection) {\n    d3_subclass(selection, d3_selection_enterPrototype);\n    return selection;\n  }\n  var d3_selection_enterPrototype = [];\n  d3.selection.enter = d3_selection_enter;\n  d3.selection.enter.prototype = d3_selection_enterPrototype;\n  d3_selection_enterPrototype.append = d3_selectionPrototype.append;\n  d3_selection_enterPrototype.empty = d3_selectionPrototype.empty;\n  d3_selection_enterPrototype.node = d3_selectionPrototype.node;\n  d3_selection_enterPrototype.call = d3_selectionPrototype.call;\n  d3_selection_enterPrototype.size = d3_selectionPrototype.size;\n  d3_selection_enterPrototype.select = function(selector) {\n    var subgroups = [], subgroup, subnode, upgroup, group, node;\n    for (var j = -1, m = this.length; ++j < m; ) {\n      upgroup = (group = this[j]).update;\n      subgroups.push(subgroup = []);\n      subgroup.parentNode = group.parentNode;\n      for (var i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          subgroup.push(upgroup[i] = subnode = selector.call(group.parentNode, node.__data__, i, j));\n          subnode.__data__ = node.__data__;\n        } else {\n          subgroup.push(null);\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  d3_selection_enterPrototype.insert = function(name, before) {\n    if (arguments.length < 2) before = d3_selection_enterInsertBefore(this);\n    return d3_selectionPrototype.insert.call(this, name, before);\n  };\n  function d3_selection_enterInsertBefore(enter) {\n    var i0, j0;\n    return function(d, i, j) {\n      var group = enter[j].update, n = group.length, node;\n      if (j != j0) j0 = j, i0 = 0;\n      if (i >= i0) i0 = i + 1;\n      while (!(node = group[i0]) && ++i0 < n) ;\n      return node;\n    };\n  }\n  d3.select = function(node) {\n    var group;\n    if (typeof node === \"string\") {\n      group = [ d3_select(node, d3_document) ];\n      group.parentNode = d3_document.documentElement;\n    } else {\n      group = [ node ];\n      group.parentNode = d3_documentElement(node);\n    }\n    return d3_selection([ group ]);\n  };\n  d3.selectAll = function(nodes) {\n    var group;\n    if (typeof nodes === \"string\") {\n      group = d3_array(d3_selectAll(nodes, d3_document));\n      group.parentNode = d3_document.documentElement;\n    } else {\n      group = d3_array(nodes);\n      group.parentNode = null;\n    }\n    return d3_selection([ group ]);\n  };\n  d3_selectionPrototype.on = function(type, listener, capture) {\n    var n = arguments.length;\n    if (n < 3) {\n      if (typeof type !== \"string\") {\n        if (n < 2) listener = false;\n        for (capture in type) this.each(d3_selection_on(capture, type[capture], listener));\n        return this;\n      }\n      if (n < 2) return (n = this.node()[\"__on\" + type]) && n._;\n      capture = false;\n    }\n    return this.each(d3_selection_on(type, listener, capture));\n  };\n  function d3_selection_on(type, listener, capture) {\n    var name = \"__on\" + type, i = type.indexOf(\".\"), wrap = d3_selection_onListener;\n    if (i > 0) type = type.slice(0, i);\n    var filter = d3_selection_onFilters.get(type);\n    if (filter) type = filter, wrap = d3_selection_onFilter;\n    function onRemove() {\n      var l = this[name];\n      if (l) {\n        this.removeEventListener(type, l, l.$);\n        delete this[name];\n      }\n    }\n    function onAdd() {\n      var l = wrap(listener, d3_array(arguments));\n      onRemove.call(this);\n      this.addEventListener(type, this[name] = l, l.$ = capture);\n      l._ = listener;\n    }\n    function removeAll() {\n      var re = new RegExp(\"^__on([^.]+)\" + d3.requote(type) + \"$\"), match;\n      for (var name in this) {\n        if (match = name.match(re)) {\n          var l = this[name];\n          this.removeEventListener(match[1], l, l.$);\n          delete this[name];\n        }\n      }\n    }\n    return i ? listener ? onAdd : onRemove : listener ? d3_noop : removeAll;\n  }\n  var d3_selection_onFilters = d3.map({\n    mouseenter: \"mouseover\",\n    mouseleave: \"mouseout\"\n  });\n  if (d3_document) {\n    d3_selection_onFilters.forEach(function(k) {\n      if (\"on\" + k in d3_document) d3_selection_onFilters.remove(k);\n    });\n  }\n  function d3_selection_onListener(listener, argumentz) {\n    return function(e) {\n      var o = d3.event;\n      d3.event = e;\n      argumentz[0] = this.__data__;\n      try {\n        listener.apply(this, argumentz);\n      } finally {\n        d3.event = o;\n      }\n    };\n  }\n  function d3_selection_onFilter(listener, argumentz) {\n    var l = d3_selection_onListener(listener, argumentz);\n    return function(e) {\n      var target = this, related = e.relatedTarget;\n      if (!related || related !== target && !(related.compareDocumentPosition(target) & 8)) {\n        l.call(target, e);\n      }\n    };\n  }\n  var d3_event_dragSelect, d3_event_dragId = 0;\n  function d3_event_dragSuppress(node) {\n    var name = \".dragsuppress-\" + ++d3_event_dragId, click = \"click\" + name, w = d3.select(d3_window(node)).on(\"touchmove\" + name, d3_eventPreventDefault).on(\"dragstart\" + name, d3_eventPreventDefault).on(\"selectstart\" + name, d3_eventPreventDefault);\n    if (d3_event_dragSelect == null) {\n      d3_event_dragSelect = \"onselectstart\" in node ? false : d3_vendorSymbol(node.style, \"userSelect\");\n    }\n    if (d3_event_dragSelect) {\n      var style = d3_documentElement(node).style, select = style[d3_event_dragSelect];\n      style[d3_event_dragSelect] = \"none\";\n    }\n    return function(suppressClick) {\n      w.on(name, null);\n      if (d3_event_dragSelect) style[d3_event_dragSelect] = select;\n      if (suppressClick) {\n        var off = function() {\n          w.on(click, null);\n        };\n        w.on(click, function() {\n          d3_eventPreventDefault();\n          off();\n        }, true);\n        setTimeout(off, 0);\n      }\n    };\n  }\n  d3.mouse = function(container) {\n    return d3_mousePoint(container, d3_eventSource());\n  };\n  var d3_mouse_bug44083 = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;\n  function d3_mousePoint(container, e) {\n    if (e.changedTouches) e = e.changedTouches[0];\n    var svg = container.ownerSVGElement || container;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      if (d3_mouse_bug44083 < 0) {\n        var window = d3_window(container);\n        if (window.scrollX || window.scrollY) {\n          svg = d3.select(\"body\").append(\"svg\").style({\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            margin: 0,\n            padding: 0,\n            border: \"none\"\n          }, \"important\");\n          var ctm = svg[0][0].getScreenCTM();\n          d3_mouse_bug44083 = !(ctm.f || ctm.e);\n          svg.remove();\n        }\n      }\n      if (d3_mouse_bug44083) point.x = e.pageX, point.y = e.pageY; else point.x = e.clientX, \n      point.y = e.clientY;\n      point = point.matrixTransform(container.getScreenCTM().inverse());\n      return [ point.x, point.y ];\n    }\n    var rect = container.getBoundingClientRect();\n    return [ e.clientX - rect.left - container.clientLeft, e.clientY - rect.top - container.clientTop ];\n  }\n  d3.touch = function(container, touches, identifier) {\n    if (arguments.length < 3) identifier = touches, touches = d3_eventSource().changedTouches;\n    if (touches) for (var i = 0, n = touches.length, touch; i < n; ++i) {\n      if ((touch = touches[i]).identifier === identifier) {\n        return d3_mousePoint(container, touch);\n      }\n    }\n  };\n  d3.behavior.drag = function() {\n    var event = d3_eventDispatch(drag, \"drag\", \"dragstart\", \"dragend\"), origin = null, mousedown = dragstart(d3_noop, d3.mouse, d3_window, \"mousemove\", \"mouseup\"), touchstart = dragstart(d3_behavior_dragTouchId, d3.touch, d3_identity, \"touchmove\", \"touchend\");\n    function drag() {\n      this.on(\"mousedown.drag\", mousedown).on(\"touchstart.drag\", touchstart);\n    }\n    function dragstart(id, position, subject, move, end) {\n      return function() {\n        var that = this, target = d3.event.target.correspondingElement || d3.event.target, parent = that.parentNode, dispatch = event.of(that, arguments), dragged = 0, dragId = id(), dragName = \".drag\" + (dragId == null ? \"\" : \"-\" + dragId), dragOffset, dragSubject = d3.select(subject(target)).on(move + dragName, moved).on(end + dragName, ended), dragRestore = d3_event_dragSuppress(target), position0 = position(parent, dragId);\n        if (origin) {\n          dragOffset = origin.apply(that, arguments);\n          dragOffset = [ dragOffset.x - position0[0], dragOffset.y - position0[1] ];\n        } else {\n          dragOffset = [ 0, 0 ];\n        }\n        dispatch({\n          type: \"dragstart\"\n        });\n        function moved() {\n          var position1 = position(parent, dragId), dx, dy;\n          if (!position1) return;\n          dx = position1[0] - position0[0];\n          dy = position1[1] - position0[1];\n          dragged |= dx | dy;\n          position0 = position1;\n          dispatch({\n            type: \"drag\",\n            x: position1[0] + dragOffset[0],\n            y: position1[1] + dragOffset[1],\n            dx: dx,\n            dy: dy\n          });\n        }\n        function ended() {\n          if (!position(parent, dragId)) return;\n          dragSubject.on(move + dragName, null).on(end + dragName, null);\n          dragRestore(dragged);\n          dispatch({\n            type: \"dragend\"\n          });\n        }\n      };\n    }\n    drag.origin = function(x) {\n      if (!arguments.length) return origin;\n      origin = x;\n      return drag;\n    };\n    return d3.rebind(drag, event, \"on\");\n  };\n  function d3_behavior_dragTouchId() {\n    return d3.event.changedTouches[0].identifier;\n  }\n  d3.touches = function(container, touches) {\n    if (arguments.length < 2) touches = d3_eventSource().touches;\n    return touches ? d3_array(touches).map(function(touch) {\n      var point = d3_mousePoint(container, touch);\n      point.identifier = touch.identifier;\n      return point;\n    }) : [];\n  };\n  var ε = 1e-6, ε2 = ε * ε, π = Math.PI, τ = 2 * π, τε = τ - ε, halfπ = π / 2, d3_radians = π / 180, d3_degrees = 180 / π;\n  function d3_sgn(x) {\n    return x > 0 ? 1 : x < 0 ? -1 : 0;\n  }\n  function d3_cross2d(a, b, c) {\n    return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n  }\n  function d3_acos(x) {\n    return x > 1 ? 0 : x < -1 ? π : Math.acos(x);\n  }\n  function d3_asin(x) {\n    return x > 1 ? halfπ : x < -1 ? -halfπ : Math.asin(x);\n  }\n  function d3_sinh(x) {\n    return ((x = Math.exp(x)) - 1 / x) / 2;\n  }\n  function d3_cosh(x) {\n    return ((x = Math.exp(x)) + 1 / x) / 2;\n  }\n  function d3_tanh(x) {\n    return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n  }\n  function d3_haversin(x) {\n    return (x = Math.sin(x / 2)) * x;\n  }\n  var ρ = Math.SQRT2, ρ2 = 2, ρ4 = 4;\n  d3.interpolateZoom = function(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;\n    if (d2 < ε2) {\n      S = Math.log(w1 / w0) / ρ;\n      i = function(t) {\n        return [ ux0 + t * dx, uy0 + t * dy, w0 * Math.exp(ρ * t * S) ];\n      };\n    } else {\n      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + ρ4 * d2) / (2 * w0 * ρ2 * d1), b1 = (w1 * w1 - w0 * w0 - ρ4 * d2) / (2 * w1 * ρ2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / ρ;\n      i = function(t) {\n        var s = t * S, coshr0 = d3_cosh(r0), u = w0 / (ρ2 * d1) * (coshr0 * d3_tanh(ρ * s + r0) - d3_sinh(r0));\n        return [ ux0 + u * dx, uy0 + u * dy, w0 * coshr0 / d3_cosh(ρ * s + r0) ];\n      };\n    }\n    i.duration = S * 1e3;\n    return i;\n  };\n  d3.behavior.zoom = function() {\n    var view = {\n      x: 0,\n      y: 0,\n      k: 1\n    }, translate0, center0, center, size = [ 960, 500 ], scaleExtent = d3_behavior_zoomInfinity, duration = 250, zooming = 0, mousedown = \"mousedown.zoom\", mousemove = \"mousemove.zoom\", mouseup = \"mouseup.zoom\", mousewheelTimer, touchstart = \"touchstart.zoom\", touchtime, event = d3_eventDispatch(zoom, \"zoomstart\", \"zoom\", \"zoomend\"), x0, x1, y0, y1;\n    if (!d3_behavior_zoomWheel) {\n      d3_behavior_zoomWheel = \"onwheel\" in d3_document ? (d3_behavior_zoomDelta = function() {\n        return -d3.event.deltaY * (d3.event.deltaMode ? 120 : 1);\n      }, \"wheel\") : \"onmousewheel\" in d3_document ? (d3_behavior_zoomDelta = function() {\n        return d3.event.wheelDelta;\n      }, \"mousewheel\") : (d3_behavior_zoomDelta = function() {\n        return -d3.event.detail;\n      }, \"MozMousePixelScroll\");\n    }\n    function zoom(g) {\n      g.on(mousedown, mousedowned).on(d3_behavior_zoomWheel + \".zoom\", mousewheeled).on(\"dblclick.zoom\", dblclicked).on(touchstart, touchstarted);\n    }\n    zoom.event = function(g) {\n      g.each(function() {\n        var dispatch = event.of(this, arguments), view1 = view;\n        if (d3_transitionInheritId) {\n          d3.select(this).transition().each(\"start.zoom\", function() {\n            view = this.__chart__ || {\n              x: 0,\n              y: 0,\n              k: 1\n            };\n            zoomstarted(dispatch);\n          }).tween(\"zoom:zoom\", function() {\n            var dx = size[0], dy = size[1], cx = center0 ? center0[0] : dx / 2, cy = center0 ? center0[1] : dy / 2, i = d3.interpolateZoom([ (cx - view.x) / view.k, (cy - view.y) / view.k, dx / view.k ], [ (cx - view1.x) / view1.k, (cy - view1.y) / view1.k, dx / view1.k ]);\n            return function(t) {\n              var l = i(t), k = dx / l[2];\n              this.__chart__ = view = {\n                x: cx - l[0] * k,\n                y: cy - l[1] * k,\n                k: k\n              };\n              zoomed(dispatch);\n            };\n          }).each(\"interrupt.zoom\", function() {\n            zoomended(dispatch);\n          }).each(\"end.zoom\", function() {\n            zoomended(dispatch);\n          });\n        } else {\n          this.__chart__ = view;\n          zoomstarted(dispatch);\n          zoomed(dispatch);\n          zoomended(dispatch);\n        }\n      });\n    };\n    zoom.translate = function(_) {\n      if (!arguments.length) return [ view.x, view.y ];\n      view = {\n        x: +_[0],\n        y: +_[1],\n        k: view.k\n      };\n      rescale();\n      return zoom;\n    };\n    zoom.scale = function(_) {\n      if (!arguments.length) return view.k;\n      view = {\n        x: view.x,\n        y: view.y,\n        k: null\n      };\n      scaleTo(+_);\n      rescale();\n      return zoom;\n    };\n    zoom.scaleExtent = function(_) {\n      if (!arguments.length) return scaleExtent;\n      scaleExtent = _ == null ? d3_behavior_zoomInfinity : [ +_[0], +_[1] ];\n      return zoom;\n    };\n    zoom.center = function(_) {\n      if (!arguments.length) return center;\n      center = _ && [ +_[0], +_[1] ];\n      return zoom;\n    };\n    zoom.size = function(_) {\n      if (!arguments.length) return size;\n      size = _ && [ +_[0], +_[1] ];\n      return zoom;\n    };\n    zoom.duration = function(_) {\n      if (!arguments.length) return duration;\n      duration = +_;\n      return zoom;\n    };\n    zoom.x = function(z) {\n      if (!arguments.length) return x1;\n      x1 = z;\n      x0 = z.copy();\n      view = {\n        x: 0,\n        y: 0,\n        k: 1\n      };\n      return zoom;\n    };\n    zoom.y = function(z) {\n      if (!arguments.length) return y1;\n      y1 = z;\n      y0 = z.copy();\n      view = {\n        x: 0,\n        y: 0,\n        k: 1\n      };\n      return zoom;\n    };\n    function location(p) {\n      return [ (p[0] - view.x) / view.k, (p[1] - view.y) / view.k ];\n    }\n    function point(l) {\n      return [ l[0] * view.k + view.x, l[1] * view.k + view.y ];\n    }\n    function scaleTo(s) {\n      view.k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], s));\n    }\n    function translateTo(p, l) {\n      l = point(l);\n      view.x += p[0] - l[0];\n      view.y += p[1] - l[1];\n    }\n    function zoomTo(that, p, l, k) {\n      that.__chart__ = {\n        x: view.x,\n        y: view.y,\n        k: view.k\n      };\n      scaleTo(Math.pow(2, k));\n      translateTo(center0 = p, l);\n      that = d3.select(that);\n      if (duration > 0) that = that.transition().duration(duration);\n      that.call(zoom.event);\n    }\n    function rescale() {\n      if (x1) x1.domain(x0.range().map(function(x) {\n        return (x - view.x) / view.k;\n      }).map(x0.invert));\n      if (y1) y1.domain(y0.range().map(function(y) {\n        return (y - view.y) / view.k;\n      }).map(y0.invert));\n    }\n    function zoomstarted(dispatch) {\n      if (!zooming++) dispatch({\n        type: \"zoomstart\"\n      });\n    }\n    function zoomed(dispatch) {\n      rescale();\n      dispatch({\n        type: \"zoom\",\n        scale: view.k,\n        translate: [ view.x, view.y ]\n      });\n    }\n    function zoomended(dispatch) {\n      if (!--zooming) dispatch({\n        type: \"zoomend\"\n      }), center0 = null;\n    }\n    function mousedowned() {\n      var that = this, dispatch = event.of(that, arguments), dragged = 0, subject = d3.select(d3_window(that)).on(mousemove, moved).on(mouseup, ended), location0 = location(d3.mouse(that)), dragRestore = d3_event_dragSuppress(that);\n      d3_selection_interrupt.call(that);\n      zoomstarted(dispatch);\n      function moved() {\n        dragged = 1;\n        translateTo(d3.mouse(that), location0);\n        zoomed(dispatch);\n      }\n      function ended() {\n        subject.on(mousemove, null).on(mouseup, null);\n        dragRestore(dragged);\n        zoomended(dispatch);\n      }\n    }\n    function touchstarted() {\n      var that = this, dispatch = event.of(that, arguments), locations0 = {}, distance0 = 0, scale0, zoomName = \".zoom-\" + d3.event.changedTouches[0].identifier, touchmove = \"touchmove\" + zoomName, touchend = \"touchend\" + zoomName, targets = [], subject = d3.select(that), dragRestore = d3_event_dragSuppress(that);\n      started();\n      zoomstarted(dispatch);\n      subject.on(mousedown, null).on(touchstart, started);\n      function relocate() {\n        var touches = d3.touches(that);\n        scale0 = view.k;\n        touches.forEach(function(t) {\n          if (t.identifier in locations0) locations0[t.identifier] = location(t);\n        });\n        return touches;\n      }\n      function started() {\n        var target = d3.event.target;\n        d3.select(target).on(touchmove, moved).on(touchend, ended);\n        targets.push(target);\n        var changed = d3.event.changedTouches;\n        for (var i = 0, n = changed.length; i < n; ++i) {\n          locations0[changed[i].identifier] = null;\n        }\n        var touches = relocate(), now = Date.now();\n        if (touches.length === 1) {\n          if (now - touchtime < 500) {\n            var p = touches[0];\n            zoomTo(that, p, locations0[p.identifier], Math.floor(Math.log(view.k) / Math.LN2) + 1);\n            d3_eventPreventDefault();\n          }\n          touchtime = now;\n        } else if (touches.length > 1) {\n          var p = touches[0], q = touches[1], dx = p[0] - q[0], dy = p[1] - q[1];\n          distance0 = dx * dx + dy * dy;\n        }\n      }\n      function moved() {\n        var touches = d3.touches(that), p0, l0, p1, l1;\n        d3_selection_interrupt.call(that);\n        for (var i = 0, n = touches.length; i < n; ++i, l1 = null) {\n          p1 = touches[i];\n          if (l1 = locations0[p1.identifier]) {\n            if (l0) break;\n            p0 = p1, l0 = l1;\n          }\n        }\n        if (l1) {\n          var distance1 = (distance1 = p1[0] - p0[0]) * distance1 + (distance1 = p1[1] - p0[1]) * distance1, scale1 = distance0 && Math.sqrt(distance1 / distance0);\n          p0 = [ (p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2 ];\n          l0 = [ (l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2 ];\n          scaleTo(scale1 * scale0);\n        }\n        touchtime = null;\n        translateTo(p0, l0);\n        zoomed(dispatch);\n      }\n      function ended() {\n        if (d3.event.touches.length) {\n          var changed = d3.event.changedTouches;\n          for (var i = 0, n = changed.length; i < n; ++i) {\n            delete locations0[changed[i].identifier];\n          }\n          for (var identifier in locations0) {\n            return void relocate();\n          }\n        }\n        d3.selectAll(targets).on(zoomName, null);\n        subject.on(mousedown, mousedowned).on(touchstart, touchstarted);\n        dragRestore();\n        zoomended(dispatch);\n      }\n    }\n    function mousewheeled() {\n      var dispatch = event.of(this, arguments);\n      if (mousewheelTimer) clearTimeout(mousewheelTimer); else d3_selection_interrupt.call(this), \n      translate0 = location(center0 = center || d3.mouse(this)), zoomstarted(dispatch);\n      mousewheelTimer = setTimeout(function() {\n        mousewheelTimer = null;\n        zoomended(dispatch);\n      }, 50);\n      d3_eventPreventDefault();\n      scaleTo(Math.pow(2, d3_behavior_zoomDelta() * .002) * view.k);\n      translateTo(center0, translate0);\n      zoomed(dispatch);\n    }\n    function dblclicked() {\n      var p = d3.mouse(this), k = Math.log(view.k) / Math.LN2;\n      zoomTo(this, p, location(p), d3.event.shiftKey ? Math.ceil(k) - 1 : Math.floor(k) + 1);\n    }\n    return d3.rebind(zoom, event, \"on\");\n  };\n  var d3_behavior_zoomInfinity = [ 0, Infinity ], d3_behavior_zoomDelta, d3_behavior_zoomWheel;\n  d3.color = d3_color;\n  function d3_color() {}\n  d3_color.prototype.toString = function() {\n    return this.rgb() + \"\";\n  };\n  d3.hsl = d3_hsl;\n  function d3_hsl(h, s, l) {\n    return this instanceof d3_hsl ? void (this.h = +h, this.s = +s, this.l = +l) : arguments.length < 2 ? h instanceof d3_hsl ? new d3_hsl(h.h, h.s, h.l) : d3_rgb_parse(\"\" + h, d3_rgb_hsl, d3_hsl) : new d3_hsl(h, s, l);\n  }\n  var d3_hslPrototype = d3_hsl.prototype = new d3_color();\n  d3_hslPrototype.brighter = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    return new d3_hsl(this.h, this.s, this.l / k);\n  };\n  d3_hslPrototype.darker = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    return new d3_hsl(this.h, this.s, k * this.l);\n  };\n  d3_hslPrototype.rgb = function() {\n    return d3_hsl_rgb(this.h, this.s, this.l);\n  };\n  function d3_hsl_rgb(h, s, l) {\n    var m1, m2;\n    h = isNaN(h) ? 0 : (h %= 360) < 0 ? h + 360 : h;\n    s = isNaN(s) ? 0 : s < 0 ? 0 : s > 1 ? 1 : s;\n    l = l < 0 ? 0 : l > 1 ? 1 : l;\n    m2 = l <= .5 ? l * (1 + s) : l + s - l * s;\n    m1 = 2 * l - m2;\n    function v(h) {\n      if (h > 360) h -= 360; else if (h < 0) h += 360;\n      if (h < 60) return m1 + (m2 - m1) * h / 60;\n      if (h < 180) return m2;\n      if (h < 240) return m1 + (m2 - m1) * (240 - h) / 60;\n      return m1;\n    }\n    function vv(h) {\n      return Math.round(v(h) * 255);\n    }\n    return new d3_rgb(vv(h + 120), vv(h), vv(h - 120));\n  }\n  d3.hcl = d3_hcl;\n  function d3_hcl(h, c, l) {\n    return this instanceof d3_hcl ? void (this.h = +h, this.c = +c, this.l = +l) : arguments.length < 2 ? h instanceof d3_hcl ? new d3_hcl(h.h, h.c, h.l) : h instanceof d3_lab ? d3_lab_hcl(h.l, h.a, h.b) : d3_lab_hcl((h = d3_rgb_lab((h = d3.rgb(h)).r, h.g, h.b)).l, h.a, h.b) : new d3_hcl(h, c, l);\n  }\n  var d3_hclPrototype = d3_hcl.prototype = new d3_color();\n  d3_hclPrototype.brighter = function(k) {\n    return new d3_hcl(this.h, this.c, Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)));\n  };\n  d3_hclPrototype.darker = function(k) {\n    return new d3_hcl(this.h, this.c, Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)));\n  };\n  d3_hclPrototype.rgb = function() {\n    return d3_hcl_lab(this.h, this.c, this.l).rgb();\n  };\n  function d3_hcl_lab(h, c, l) {\n    if (isNaN(h)) h = 0;\n    if (isNaN(c)) c = 0;\n    return new d3_lab(l, Math.cos(h *= d3_radians) * c, Math.sin(h) * c);\n  }\n  d3.lab = d3_lab;\n  function d3_lab(l, a, b) {\n    return this instanceof d3_lab ? void (this.l = +l, this.a = +a, this.b = +b) : arguments.length < 2 ? l instanceof d3_lab ? new d3_lab(l.l, l.a, l.b) : l instanceof d3_hcl ? d3_hcl_lab(l.h, l.c, l.l) : d3_rgb_lab((l = d3_rgb(l)).r, l.g, l.b) : new d3_lab(l, a, b);\n  }\n  var d3_lab_K = 18;\n  var d3_lab_X = .95047, d3_lab_Y = 1, d3_lab_Z = 1.08883;\n  var d3_labPrototype = d3_lab.prototype = new d3_color();\n  d3_labPrototype.brighter = function(k) {\n    return new d3_lab(Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);\n  };\n  d3_labPrototype.darker = function(k) {\n    return new d3_lab(Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);\n  };\n  d3_labPrototype.rgb = function() {\n    return d3_lab_rgb(this.l, this.a, this.b);\n  };\n  function d3_lab_rgb(l, a, b) {\n    var y = (l + 16) / 116, x = y + a / 500, z = y - b / 200;\n    x = d3_lab_xyz(x) * d3_lab_X;\n    y = d3_lab_xyz(y) * d3_lab_Y;\n    z = d3_lab_xyz(z) * d3_lab_Z;\n    return new d3_rgb(d3_xyz_rgb(3.2404542 * x - 1.5371385 * y - .4985314 * z), d3_xyz_rgb(-.969266 * x + 1.8760108 * y + .041556 * z), d3_xyz_rgb(.0556434 * x - .2040259 * y + 1.0572252 * z));\n  }\n  function d3_lab_hcl(l, a, b) {\n    return l > 0 ? new d3_hcl(Math.atan2(b, a) * d3_degrees, Math.sqrt(a * a + b * b), l) : new d3_hcl(NaN, NaN, l);\n  }\n  function d3_lab_xyz(x) {\n    return x > .206893034 ? x * x * x : (x - 4 / 29) / 7.787037;\n  }\n  function d3_xyz_lab(x) {\n    return x > .008856 ? Math.pow(x, 1 / 3) : 7.787037 * x + 4 / 29;\n  }\n  function d3_xyz_rgb(r) {\n    return Math.round(255 * (r <= .00304 ? 12.92 * r : 1.055 * Math.pow(r, 1 / 2.4) - .055));\n  }\n  d3.rgb = d3_rgb;\n  function d3_rgb(r, g, b) {\n    return this instanceof d3_rgb ? void (this.r = ~~r, this.g = ~~g, this.b = ~~b) : arguments.length < 2 ? r instanceof d3_rgb ? new d3_rgb(r.r, r.g, r.b) : d3_rgb_parse(\"\" + r, d3_rgb, d3_hsl_rgb) : new d3_rgb(r, g, b);\n  }\n  function d3_rgbNumber(value) {\n    return new d3_rgb(value >> 16, value >> 8 & 255, value & 255);\n  }\n  function d3_rgbString(value) {\n    return d3_rgbNumber(value) + \"\";\n  }\n  var d3_rgbPrototype = d3_rgb.prototype = new d3_color();\n  d3_rgbPrototype.brighter = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    var r = this.r, g = this.g, b = this.b, i = 30;\n    if (!r && !g && !b) return new d3_rgb(i, i, i);\n    if (r && r < i) r = i;\n    if (g && g < i) g = i;\n    if (b && b < i) b = i;\n    return new d3_rgb(Math.min(255, r / k), Math.min(255, g / k), Math.min(255, b / k));\n  };\n  d3_rgbPrototype.darker = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    return new d3_rgb(k * this.r, k * this.g, k * this.b);\n  };\n  d3_rgbPrototype.hsl = function() {\n    return d3_rgb_hsl(this.r, this.g, this.b);\n  };\n  d3_rgbPrototype.toString = function() {\n    return \"#\" + d3_rgb_hex(this.r) + d3_rgb_hex(this.g) + d3_rgb_hex(this.b);\n  };\n  function d3_rgb_hex(v) {\n    return v < 16 ? \"0\" + Math.max(0, v).toString(16) : Math.min(255, v).toString(16);\n  }\n  function d3_rgb_parse(format, rgb, hsl) {\n    var r = 0, g = 0, b = 0, m1, m2, color;\n    m1 = /([a-z]+)\\((.*)\\)/.exec(format = format.toLowerCase());\n    if (m1) {\n      m2 = m1[2].split(\",\");\n      switch (m1[1]) {\n       case \"hsl\":\n        {\n          return hsl(parseFloat(m2[0]), parseFloat(m2[1]) / 100, parseFloat(m2[2]) / 100);\n        }\n\n       case \"rgb\":\n        {\n          return rgb(d3_rgb_parseNumber(m2[0]), d3_rgb_parseNumber(m2[1]), d3_rgb_parseNumber(m2[2]));\n        }\n      }\n    }\n    if (color = d3_rgb_names.get(format)) {\n      return rgb(color.r, color.g, color.b);\n    }\n    if (format != null && format.charAt(0) === \"#\" && !isNaN(color = parseInt(format.slice(1), 16))) {\n      if (format.length === 4) {\n        r = (color & 3840) >> 4;\n        r = r >> 4 | r;\n        g = color & 240;\n        g = g >> 4 | g;\n        b = color & 15;\n        b = b << 4 | b;\n      } else if (format.length === 7) {\n        r = (color & 16711680) >> 16;\n        g = (color & 65280) >> 8;\n        b = color & 255;\n      }\n    }\n    return rgb(r, g, b);\n  }\n  function d3_rgb_hsl(r, g, b) {\n    var min = Math.min(r /= 255, g /= 255, b /= 255), max = Math.max(r, g, b), d = max - min, h, s, l = (max + min) / 2;\n    if (d) {\n      s = l < .5 ? d / (max + min) : d / (2 - max - min);\n      if (r == max) h = (g - b) / d + (g < b ? 6 : 0); else if (g == max) h = (b - r) / d + 2; else h = (r - g) / d + 4;\n      h *= 60;\n    } else {\n      h = NaN;\n      s = l > 0 && l < 1 ? 0 : h;\n    }\n    return new d3_hsl(h, s, l);\n  }\n  function d3_rgb_lab(r, g, b) {\n    r = d3_rgb_xyz(r);\n    g = d3_rgb_xyz(g);\n    b = d3_rgb_xyz(b);\n    var x = d3_xyz_lab((.4124564 * r + .3575761 * g + .1804375 * b) / d3_lab_X), y = d3_xyz_lab((.2126729 * r + .7151522 * g + .072175 * b) / d3_lab_Y), z = d3_xyz_lab((.0193339 * r + .119192 * g + .9503041 * b) / d3_lab_Z);\n    return d3_lab(116 * y - 16, 500 * (x - y), 200 * (y - z));\n  }\n  function d3_rgb_xyz(r) {\n    return (r /= 255) <= .04045 ? r / 12.92 : Math.pow((r + .055) / 1.055, 2.4);\n  }\n  function d3_rgb_parseNumber(c) {\n    var f = parseFloat(c);\n    return c.charAt(c.length - 1) === \"%\" ? Math.round(f * 2.55) : f;\n  }\n  var d3_rgb_names = d3.map({\n    aliceblue: 15792383,\n    antiquewhite: 16444375,\n    aqua: 65535,\n    aquamarine: 8388564,\n    azure: 15794175,\n    beige: 16119260,\n    bisque: 16770244,\n    black: 0,\n    blanchedalmond: 16772045,\n    blue: 255,\n    blueviolet: 9055202,\n    brown: 10824234,\n    burlywood: 14596231,\n    cadetblue: 6266528,\n    chartreuse: 8388352,\n    chocolate: 13789470,\n    coral: 16744272,\n    cornflowerblue: 6591981,\n    cornsilk: 16775388,\n    crimson: 14423100,\n    cyan: 65535,\n    darkblue: 139,\n    darkcyan: 35723,\n    darkgoldenrod: 12092939,\n    darkgray: 11119017,\n    darkgreen: 25600,\n    darkgrey: 11119017,\n    darkkhaki: 12433259,\n    darkmagenta: 9109643,\n    darkolivegreen: 5597999,\n    darkorange: 16747520,\n    darkorchid: 10040012,\n    darkred: 9109504,\n    darksalmon: 15308410,\n    darkseagreen: 9419919,\n    darkslateblue: 4734347,\n    darkslategray: 3100495,\n    darkslategrey: 3100495,\n    darkturquoise: 52945,\n    darkviolet: 9699539,\n    deeppink: 16716947,\n    deepskyblue: 49151,\n    dimgray: 6908265,\n    dimgrey: 6908265,\n    dodgerblue: 2003199,\n    firebrick: 11674146,\n    floralwhite: 16775920,\n    forestgreen: 2263842,\n    fuchsia: 16711935,\n    gainsboro: 14474460,\n    ghostwhite: 16316671,\n    gold: 16766720,\n    goldenrod: 14329120,\n    gray: 8421504,\n    green: 32768,\n    greenyellow: 11403055,\n    grey: 8421504,\n    honeydew: 15794160,\n    hotpink: 16738740,\n    indianred: 13458524,\n    indigo: 4915330,\n    ivory: 16777200,\n    khaki: 15787660,\n    lavender: 15132410,\n    lavenderblush: 16773365,\n    lawngreen: 8190976,\n    lemonchiffon: 16775885,\n    lightblue: 11393254,\n    lightcoral: 15761536,\n    lightcyan: 14745599,\n    lightgoldenrodyellow: 16448210,\n    lightgray: 13882323,\n    lightgreen: 9498256,\n    lightgrey: 13882323,\n    lightpink: 16758465,\n    lightsalmon: 16752762,\n    lightseagreen: 2142890,\n    lightskyblue: 8900346,\n    lightslategray: 7833753,\n    lightslategrey: 7833753,\n    lightsteelblue: 11584734,\n    lightyellow: 16777184,\n    lime: 65280,\n    limegreen: 3329330,\n    linen: 16445670,\n    magenta: 16711935,\n    maroon: 8388608,\n    mediumaquamarine: 6737322,\n    mediumblue: 205,\n    mediumorchid: 12211667,\n    mediumpurple: 9662683,\n    mediumseagreen: 3978097,\n    mediumslateblue: 8087790,\n    mediumspringgreen: 64154,\n    mediumturquoise: 4772300,\n    mediumvioletred: 13047173,\n    midnightblue: 1644912,\n    mintcream: 16121850,\n    mistyrose: 16770273,\n    moccasin: 16770229,\n    navajowhite: 16768685,\n    navy: 128,\n    oldlace: 16643558,\n    olive: 8421376,\n    olivedrab: 7048739,\n    orange: 16753920,\n    orangered: 16729344,\n    orchid: 14315734,\n    palegoldenrod: 15657130,\n    palegreen: 10025880,\n    paleturquoise: 11529966,\n    palevioletred: 14381203,\n    papayawhip: 16773077,\n    peachpuff: 16767673,\n    peru: 13468991,\n    pink: 16761035,\n    plum: 14524637,\n    powderblue: 11591910,\n    purple: 8388736,\n    rebeccapurple: 6697881,\n    red: 16711680,\n    rosybrown: 12357519,\n    royalblue: 4286945,\n    saddlebrown: 9127187,\n    salmon: 16416882,\n    sandybrown: 16032864,\n    seagreen: 3050327,\n    seashell: 16774638,\n    sienna: 10506797,\n    silver: 12632256,\n    skyblue: 8900331,\n    slateblue: 6970061,\n    slategray: 7372944,\n    slategrey: 7372944,\n    snow: 16775930,\n    springgreen: 65407,\n    steelblue: 4620980,\n    tan: 13808780,\n    teal: 32896,\n    thistle: 14204888,\n    tomato: 16737095,\n    turquoise: 4251856,\n    violet: 15631086,\n    wheat: 16113331,\n    white: 16777215,\n    whitesmoke: 16119285,\n    yellow: 16776960,\n    yellowgreen: 10145074\n  });\n  d3_rgb_names.forEach(function(key, value) {\n    d3_rgb_names.set(key, d3_rgbNumber(value));\n  });\n  function d3_functor(v) {\n    return typeof v === \"function\" ? v : function() {\n      return v;\n    };\n  }\n  d3.functor = d3_functor;\n  d3.xhr = d3_xhrType(d3_identity);\n  function d3_xhrType(response) {\n    return function(url, mimeType, callback) {\n      if (arguments.length === 2 && typeof mimeType === \"function\") callback = mimeType, \n      mimeType = null;\n      return d3_xhr(url, mimeType, response, callback);\n    };\n  }\n  function d3_xhr(url, mimeType, response, callback) {\n    var xhr = {}, dispatch = d3.dispatch(\"beforesend\", \"progress\", \"load\", \"error\"), headers = {}, request = new XMLHttpRequest(), responseType = null;\n    if (this.XDomainRequest && !(\"withCredentials\" in request) && /^(http(s)?:)?\\/\\//.test(url)) request = new XDomainRequest();\n    \"onload\" in request ? request.onload = request.onerror = respond : request.onreadystatechange = function() {\n      request.readyState > 3 && respond();\n    };\n    function respond() {\n      var status = request.status, result;\n      if (!status && d3_xhrHasResponse(request) || status >= 200 && status < 300 || status === 304) {\n        try {\n          result = response.call(xhr, request);\n        } catch (e) {\n          dispatch.error.call(xhr, e);\n          return;\n        }\n        dispatch.load.call(xhr, result);\n      } else {\n        dispatch.error.call(xhr, request);\n      }\n    }\n    request.onprogress = function(event) {\n      var o = d3.event;\n      d3.event = event;\n      try {\n        dispatch.progress.call(xhr, request);\n      } finally {\n        d3.event = o;\n      }\n    };\n    xhr.header = function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers[name];\n      if (value == null) delete headers[name]; else headers[name] = value + \"\";\n      return xhr;\n    };\n    xhr.mimeType = function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return xhr;\n    };\n    xhr.responseType = function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return xhr;\n    };\n    xhr.response = function(value) {\n      response = value;\n      return xhr;\n    };\n    [ \"get\", \"post\" ].forEach(function(method) {\n      xhr[method] = function() {\n        return xhr.send.apply(xhr, [ method ].concat(d3_array(arguments)));\n      };\n    });\n    xhr.send = function(method, data, callback) {\n      if (arguments.length === 2 && typeof data === \"function\") callback = data, data = null;\n      request.open(method, url, true);\n      if (mimeType != null && !(\"accept\" in headers)) headers[\"accept\"] = mimeType + \",*/*\";\n      if (request.setRequestHeader) for (var name in headers) request.setRequestHeader(name, headers[name]);\n      if (mimeType != null && request.overrideMimeType) request.overrideMimeType(mimeType);\n      if (responseType != null) request.responseType = responseType;\n      if (callback != null) xhr.on(\"error\", callback).on(\"load\", function(request) {\n        callback(null, request);\n      });\n      dispatch.beforesend.call(xhr, request);\n      request.send(data == null ? null : data);\n      return xhr;\n    };\n    xhr.abort = function() {\n      request.abort();\n      return xhr;\n    };\n    d3.rebind(xhr, dispatch, \"on\");\n    return callback == null ? xhr : xhr.get(d3_xhr_fixCallback(callback));\n  }\n  function d3_xhr_fixCallback(callback) {\n    return callback.length === 1 ? function(error, request) {\n      callback(error == null ? request : null);\n    } : callback;\n  }\n  function d3_xhrHasResponse(request) {\n    var type = request.responseType;\n    return type && type !== \"text\" ? request.response : request.responseText;\n  }\n  d3.dsv = function(delimiter, mimeType) {\n    var reFormat = new RegExp('[\"' + delimiter + \"\\n]\"), delimiterCode = delimiter.charCodeAt(0);\n    function dsv(url, row, callback) {\n      if (arguments.length < 3) callback = row, row = null;\n      var xhr = d3_xhr(url, mimeType, row == null ? response : typedResponse(row), callback);\n      xhr.row = function(_) {\n        return arguments.length ? xhr.response((row = _) == null ? response : typedResponse(_)) : row;\n      };\n      return xhr;\n    }\n    function response(request) {\n      return dsv.parse(request.responseText);\n    }\n    function typedResponse(f) {\n      return function(request) {\n        return dsv.parse(request.responseText, f);\n      };\n    }\n    dsv.parse = function(text, f) {\n      var o;\n      return dsv.parseRows(text, function(row, i) {\n        if (o) return o(row, i - 1);\n        var a = new Function(\"d\", \"return {\" + row.map(function(name, i) {\n          return JSON.stringify(name) + \": d[\" + i + \"]\";\n        }).join(\",\") + \"}\");\n        o = f ? function(row, i) {\n          return f(a(row), i);\n        } : a;\n      });\n    };\n    dsv.parseRows = function(text, f) {\n      var EOL = {}, EOF = {}, rows = [], N = text.length, I = 0, n = 0, t, eol;\n      function token() {\n        if (I >= N) return EOF;\n        if (eol) return eol = false, EOL;\n        var j = I;\n        if (text.charCodeAt(j) === 34) {\n          var i = j;\n          while (i++ < N) {\n            if (text.charCodeAt(i) === 34) {\n              if (text.charCodeAt(i + 1) !== 34) break;\n              ++i;\n            }\n          }\n          I = i + 2;\n          var c = text.charCodeAt(i + 1);\n          if (c === 13) {\n            eol = true;\n            if (text.charCodeAt(i + 2) === 10) ++I;\n          } else if (c === 10) {\n            eol = true;\n          }\n          return text.slice(j + 1, i).replace(/\"\"/g, '\"');\n        }\n        while (I < N) {\n          var c = text.charCodeAt(I++), k = 1;\n          if (c === 10) eol = true; else if (c === 13) {\n            eol = true;\n            if (text.charCodeAt(I) === 10) ++I, ++k;\n          } else if (c !== delimiterCode) continue;\n          return text.slice(j, I - k);\n        }\n        return text.slice(j);\n      }\n      while ((t = token()) !== EOF) {\n        var a = [];\n        while (t !== EOL && t !== EOF) {\n          a.push(t);\n          t = token();\n        }\n        if (f && (a = f(a, n++)) == null) continue;\n        rows.push(a);\n      }\n      return rows;\n    };\n    dsv.format = function(rows) {\n      if (Array.isArray(rows[0])) return dsv.formatRows(rows);\n      var fieldSet = new d3_Set(), fields = [];\n      rows.forEach(function(row) {\n        for (var field in row) {\n          if (!fieldSet.has(field)) {\n            fields.push(fieldSet.add(field));\n          }\n        }\n      });\n      return [ fields.map(formatValue).join(delimiter) ].concat(rows.map(function(row) {\n        return fields.map(function(field) {\n          return formatValue(row[field]);\n        }).join(delimiter);\n      })).join(\"\\n\");\n    };\n    dsv.formatRows = function(rows) {\n      return rows.map(formatRow).join(\"\\n\");\n    };\n    function formatRow(row) {\n      return row.map(formatValue).join(delimiter);\n    }\n    function formatValue(text) {\n      return reFormat.test(text) ? '\"' + text.replace(/\\\"/g, '\"\"') + '\"' : text;\n    }\n    return dsv;\n  };\n  d3.csv = d3.dsv(\",\", \"text/csv\");\n  d3.tsv = d3.dsv(\"\t\", \"text/tab-separated-values\");\n  var d3_timer_queueHead, d3_timer_queueTail, d3_timer_interval, d3_timer_timeout, d3_timer_frame = this[d3_vendorSymbol(this, \"requestAnimationFrame\")] || function(callback) {\n    setTimeout(callback, 17);\n  };\n  d3.timer = function() {\n    d3_timer.apply(this, arguments);\n  };\n  function d3_timer(callback, delay, then) {\n    var n = arguments.length;\n    if (n < 2) delay = 0;\n    if (n < 3) then = Date.now();\n    var time = then + delay, timer = {\n      c: callback,\n      t: time,\n      n: null\n    };\n    if (d3_timer_queueTail) d3_timer_queueTail.n = timer; else d3_timer_queueHead = timer;\n    d3_timer_queueTail = timer;\n    if (!d3_timer_interval) {\n      d3_timer_timeout = clearTimeout(d3_timer_timeout);\n      d3_timer_interval = 1;\n      d3_timer_frame(d3_timer_step);\n    }\n    return timer;\n  }\n  function d3_timer_step() {\n    var now = d3_timer_mark(), delay = d3_timer_sweep() - now;\n    if (delay > 24) {\n      if (isFinite(delay)) {\n        clearTimeout(d3_timer_timeout);\n        d3_timer_timeout = setTimeout(d3_timer_step, delay);\n      }\n      d3_timer_interval = 0;\n    } else {\n      d3_timer_interval = 1;\n      d3_timer_frame(d3_timer_step);\n    }\n  }\n  d3.timer.flush = function() {\n    d3_timer_mark();\n    d3_timer_sweep();\n  };\n  function d3_timer_mark() {\n    var now = Date.now(), timer = d3_timer_queueHead;\n    while (timer) {\n      if (now >= timer.t && timer.c(now - timer.t)) timer.c = null;\n      timer = timer.n;\n    }\n    return now;\n  }\n  function d3_timer_sweep() {\n    var t0, t1 = d3_timer_queueHead, time = Infinity;\n    while (t1) {\n      if (t1.c) {\n        if (t1.t < time) time = t1.t;\n        t1 = (t0 = t1).n;\n      } else {\n        t1 = t0 ? t0.n = t1.n : d3_timer_queueHead = t1.n;\n      }\n    }\n    d3_timer_queueTail = t0;\n    return time;\n  }\n  function d3_format_precision(x, p) {\n    return p - (x ? Math.ceil(Math.log(x) / Math.LN10) : 1);\n  }\n  d3.round = function(x, n) {\n    return n ? Math.round(x * (n = Math.pow(10, n))) / n : Math.round(x);\n  };\n  var d3_formatPrefixes = [ \"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\" ].map(d3_formatPrefix);\n  d3.formatPrefix = function(value, precision) {\n    var i = 0;\n    if (value = +value) {\n      if (value < 0) value *= -1;\n      if (precision) value = d3.round(value, d3_format_precision(value, precision));\n      i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10);\n      i = Math.max(-24, Math.min(24, Math.floor((i - 1) / 3) * 3));\n    }\n    return d3_formatPrefixes[8 + i / 3];\n  };\n  function d3_formatPrefix(d, i) {\n    var k = Math.pow(10, abs(8 - i) * 3);\n    return {\n      scale: i > 8 ? function(d) {\n        return d / k;\n      } : function(d) {\n        return d * k;\n      },\n      symbol: d\n    };\n  }\n  function d3_locale_numberFormat(locale) {\n    var locale_decimal = locale.decimal, locale_thousands = locale.thousands, locale_grouping = locale.grouping, locale_currency = locale.currency, formatGroup = locale_grouping && locale_thousands ? function(value, width) {\n      var i = value.length, t = [], j = 0, g = locale_grouping[0], length = 0;\n      while (i > 0 && g > 0) {\n        if (length + g + 1 > width) g = Math.max(1, width - length);\n        t.push(value.substring(i -= g, i + g));\n        if ((length += g + 1) > width) break;\n        g = locale_grouping[j = (j + 1) % locale_grouping.length];\n      }\n      return t.reverse().join(locale_thousands);\n    } : d3_identity;\n    return function(specifier) {\n      var match = d3_format_re.exec(specifier), fill = match[1] || \" \", align = match[2] || \">\", sign = match[3] || \"-\", symbol = match[4] || \"\", zfill = match[5], width = +match[6], comma = match[7], precision = match[8], type = match[9], scale = 1, prefix = \"\", suffix = \"\", integer = false, exponent = true;\n      if (precision) precision = +precision.substring(1);\n      if (zfill || fill === \"0\" && align === \"=\") {\n        zfill = fill = \"0\";\n        align = \"=\";\n      }\n      switch (type) {\n       case \"n\":\n        comma = true;\n        type = \"g\";\n        break;\n\n       case \"%\":\n        scale = 100;\n        suffix = \"%\";\n        type = \"f\";\n        break;\n\n       case \"p\":\n        scale = 100;\n        suffix = \"%\";\n        type = \"r\";\n        break;\n\n       case \"b\":\n       case \"o\":\n       case \"x\":\n       case \"X\":\n        if (symbol === \"#\") prefix = \"0\" + type.toLowerCase();\n\n       case \"c\":\n        exponent = false;\n\n       case \"d\":\n        integer = true;\n        precision = 0;\n        break;\n\n       case \"s\":\n        scale = -1;\n        type = \"r\";\n        break;\n      }\n      if (symbol === \"$\") prefix = locale_currency[0], suffix = locale_currency[1];\n      if (type == \"r\" && !precision) type = \"g\";\n      if (precision != null) {\n        if (type == \"g\") precision = Math.max(1, Math.min(21, precision)); else if (type == \"e\" || type == \"f\") precision = Math.max(0, Math.min(20, precision));\n      }\n      type = d3_format_types.get(type) || d3_format_typeDefault;\n      var zcomma = zfill && comma;\n      return function(value) {\n        var fullSuffix = suffix;\n        if (integer && value % 1) return \"\";\n        var negative = value < 0 || value === 0 && 1 / value < 0 ? (value = -value, \"-\") : sign === \"-\" ? \"\" : sign;\n        if (scale < 0) {\n          var unit = d3.formatPrefix(value, precision);\n          value = unit.scale(value);\n          fullSuffix = unit.symbol + suffix;\n        } else {\n          value *= scale;\n        }\n        value = type(value, precision);\n        var i = value.lastIndexOf(\".\"), before, after;\n        if (i < 0) {\n          var j = exponent ? value.lastIndexOf(\"e\") : -1;\n          if (j < 0) before = value, after = \"\"; else before = value.substring(0, j), after = value.substring(j);\n        } else {\n          before = value.substring(0, i);\n          after = locale_decimal + value.substring(i + 1);\n        }\n        if (!zfill && comma) before = formatGroup(before, Infinity);\n        var length = prefix.length + before.length + after.length + (zcomma ? 0 : negative.length), padding = length < width ? new Array(length = width - length + 1).join(fill) : \"\";\n        if (zcomma) before = formatGroup(padding + before, padding.length ? width - after.length : Infinity);\n        negative += prefix;\n        value = before + after;\n        return (align === \"<\" ? negative + value + padding : align === \">\" ? padding + negative + value : align === \"^\" ? padding.substring(0, length >>= 1) + negative + value + padding.substring(length) : negative + (zcomma ? value : padding + value)) + fullSuffix;\n      };\n    };\n  }\n  var d3_format_re = /(?:([^{])?([<>=^]))?([+\\- ])?([$#])?(0)?(\\d+)?(,)?(\\.-?\\d+)?([a-z%])?/i;\n  var d3_format_types = d3.map({\n    b: function(x) {\n      return x.toString(2);\n    },\n    c: function(x) {\n      return String.fromCharCode(x);\n    },\n    o: function(x) {\n      return x.toString(8);\n    },\n    x: function(x) {\n      return x.toString(16);\n    },\n    X: function(x) {\n      return x.toString(16).toUpperCase();\n    },\n    g: function(x, p) {\n      return x.toPrecision(p);\n    },\n    e: function(x, p) {\n      return x.toExponential(p);\n    },\n    f: function(x, p) {\n      return x.toFixed(p);\n    },\n    r: function(x, p) {\n      return (x = d3.round(x, d3_format_precision(x, p))).toFixed(Math.max(0, Math.min(20, d3_format_precision(x * (1 + 1e-15), p))));\n    }\n  });\n  function d3_format_typeDefault(x) {\n    return x + \"\";\n  }\n  var d3_time = d3.time = {}, d3_date = Date;\n  function d3_date_utc() {\n    this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]);\n  }\n  d3_date_utc.prototype = {\n    getDate: function() {\n      return this._.getUTCDate();\n    },\n    getDay: function() {\n      return this._.getUTCDay();\n    },\n    getFullYear: function() {\n      return this._.getUTCFullYear();\n    },\n    getHours: function() {\n      return this._.getUTCHours();\n    },\n    getMilliseconds: function() {\n      return this._.getUTCMilliseconds();\n    },\n    getMinutes: function() {\n      return this._.getUTCMinutes();\n    },\n    getMonth: function() {\n      return this._.getUTCMonth();\n    },\n    getSeconds: function() {\n      return this._.getUTCSeconds();\n    },\n    getTime: function() {\n      return this._.getTime();\n    },\n    getTimezoneOffset: function() {\n      return 0;\n    },\n    valueOf: function() {\n      return this._.valueOf();\n    },\n    setDate: function() {\n      d3_time_prototype.setUTCDate.apply(this._, arguments);\n    },\n    setDay: function() {\n      d3_time_prototype.setUTCDay.apply(this._, arguments);\n    },\n    setFullYear: function() {\n      d3_time_prototype.setUTCFullYear.apply(this._, arguments);\n    },\n    setHours: function() {\n      d3_time_prototype.setUTCHours.apply(this._, arguments);\n    },\n    setMilliseconds: function() {\n      d3_time_prototype.setUTCMilliseconds.apply(this._, arguments);\n    },\n    setMinutes: function() {\n      d3_time_prototype.setUTCMinutes.apply(this._, arguments);\n    },\n    setMonth: function() {\n      d3_time_prototype.setUTCMonth.apply(this._, arguments);\n    },\n    setSeconds: function() {\n      d3_time_prototype.setUTCSeconds.apply(this._, arguments);\n    },\n    setTime: function() {\n      d3_time_prototype.setTime.apply(this._, arguments);\n    }\n  };\n  var d3_time_prototype = Date.prototype;\n  function d3_time_interval(local, step, number) {\n    function round(date) {\n      var d0 = local(date), d1 = offset(d0, 1);\n      return date - d0 < d1 - date ? d0 : d1;\n    }\n    function ceil(date) {\n      step(date = local(new d3_date(date - 1)), 1);\n      return date;\n    }\n    function offset(date, k) {\n      step(date = new d3_date(+date), k);\n      return date;\n    }\n    function range(t0, t1, dt) {\n      var time = ceil(t0), times = [];\n      if (dt > 1) {\n        while (time < t1) {\n          if (!(number(time) % dt)) times.push(new Date(+time));\n          step(time, 1);\n        }\n      } else {\n        while (time < t1) times.push(new Date(+time)), step(time, 1);\n      }\n      return times;\n    }\n    function range_utc(t0, t1, dt) {\n      try {\n        d3_date = d3_date_utc;\n        var utc = new d3_date_utc();\n        utc._ = t0;\n        return range(utc, t1, dt);\n      } finally {\n        d3_date = Date;\n      }\n    }\n    local.floor = local;\n    local.round = round;\n    local.ceil = ceil;\n    local.offset = offset;\n    local.range = range;\n    var utc = local.utc = d3_time_interval_utc(local);\n    utc.floor = utc;\n    utc.round = d3_time_interval_utc(round);\n    utc.ceil = d3_time_interval_utc(ceil);\n    utc.offset = d3_time_interval_utc(offset);\n    utc.range = range_utc;\n    return local;\n  }\n  function d3_time_interval_utc(method) {\n    return function(date, k) {\n      try {\n        d3_date = d3_date_utc;\n        var utc = new d3_date_utc();\n        utc._ = date;\n        return method(utc, k)._;\n      } finally {\n        d3_date = Date;\n      }\n    };\n  }\n  d3_time.year = d3_time_interval(function(date) {\n    date = d3_time.day(date);\n    date.setMonth(0, 1);\n    return date;\n  }, function(date, offset) {\n    date.setFullYear(date.getFullYear() + offset);\n  }, function(date) {\n    return date.getFullYear();\n  });\n  d3_time.years = d3_time.year.range;\n  d3_time.years.utc = d3_time.year.utc.range;\n  d3_time.day = d3_time_interval(function(date) {\n    var day = new d3_date(2e3, 0);\n    day.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n    return day;\n  }, function(date, offset) {\n    date.setDate(date.getDate() + offset);\n  }, function(date) {\n    return date.getDate() - 1;\n  });\n  d3_time.days = d3_time.day.range;\n  d3_time.days.utc = d3_time.day.utc.range;\n  d3_time.dayOfYear = function(date) {\n    var year = d3_time.year(date);\n    return Math.floor((date - year - (date.getTimezoneOffset() - year.getTimezoneOffset()) * 6e4) / 864e5);\n  };\n  [ \"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\" ].forEach(function(day, i) {\n    i = 7 - i;\n    var interval = d3_time[day] = d3_time_interval(function(date) {\n      (date = d3_time.day(date)).setDate(date.getDate() - (date.getDay() + i) % 7);\n      return date;\n    }, function(date, offset) {\n      date.setDate(date.getDate() + Math.floor(offset) * 7);\n    }, function(date) {\n      var day = d3_time.year(date).getDay();\n      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7) - (day !== i);\n    });\n    d3_time[day + \"s\"] = interval.range;\n    d3_time[day + \"s\"].utc = interval.utc.range;\n    d3_time[day + \"OfYear\"] = function(date) {\n      var day = d3_time.year(date).getDay();\n      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7);\n    };\n  });\n  d3_time.week = d3_time.sunday;\n  d3_time.weeks = d3_time.sunday.range;\n  d3_time.weeks.utc = d3_time.sunday.utc.range;\n  d3_time.weekOfYear = d3_time.sundayOfYear;\n  function d3_locale_timeFormat(locale) {\n    var locale_dateTime = locale.dateTime, locale_date = locale.date, locale_time = locale.time, locale_periods = locale.periods, locale_days = locale.days, locale_shortDays = locale.shortDays, locale_months = locale.months, locale_shortMonths = locale.shortMonths;\n    function d3_time_format(template) {\n      var n = template.length;\n      function format(date) {\n        var string = [], i = -1, j = 0, c, p, f;\n        while (++i < n) {\n          if (template.charCodeAt(i) === 37) {\n            string.push(template.slice(j, i));\n            if ((p = d3_time_formatPads[c = template.charAt(++i)]) != null) c = template.charAt(++i);\n            if (f = d3_time_formats[c]) c = f(date, p == null ? c === \"e\" ? \" \" : \"0\" : p);\n            string.push(c);\n            j = i + 1;\n          }\n        }\n        string.push(template.slice(j, i));\n        return string.join(\"\");\n      }\n      format.parse = function(string) {\n        var d = {\n          y: 1900,\n          m: 0,\n          d: 1,\n          H: 0,\n          M: 0,\n          S: 0,\n          L: 0,\n          Z: null\n        }, i = d3_time_parse(d, template, string, 0);\n        if (i != string.length) return null;\n        if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n        var localZ = d.Z != null && d3_date !== d3_date_utc, date = new (localZ ? d3_date_utc : d3_date)();\n        if (\"j\" in d) date.setFullYear(d.y, 0, d.j); else if (\"W\" in d || \"U\" in d) {\n          if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n          date.setFullYear(d.y, 0, 1);\n          date.setFullYear(d.y, 0, \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (date.getDay() + 5) % 7 : d.w + d.U * 7 - (date.getDay() + 6) % 7);\n        } else date.setFullYear(d.y, d.m, d.d);\n        date.setHours(d.H + (d.Z / 100 | 0), d.M + d.Z % 100, d.S, d.L);\n        return localZ ? date._ : date;\n      };\n      format.toString = function() {\n        return template;\n      };\n      return format;\n    }\n    function d3_time_parse(date, template, string, j) {\n      var c, p, t, i = 0, n = template.length, m = string.length;\n      while (i < n) {\n        if (j >= m) return -1;\n        c = template.charCodeAt(i++);\n        if (c === 37) {\n          t = template.charAt(i++);\n          p = d3_time_parsers[t in d3_time_formatPads ? template.charAt(i++) : t];\n          if (!p || (j = p(date, string, j)) < 0) return -1;\n        } else if (c != string.charCodeAt(j++)) {\n          return -1;\n        }\n      }\n      return j;\n    }\n    d3_time_format.utc = function(template) {\n      var local = d3_time_format(template);\n      function format(date) {\n        try {\n          d3_date = d3_date_utc;\n          var utc = new d3_date();\n          utc._ = date;\n          return local(utc);\n        } finally {\n          d3_date = Date;\n        }\n      }\n      format.parse = function(string) {\n        try {\n          d3_date = d3_date_utc;\n          var date = local.parse(string);\n          return date && date._;\n        } finally {\n          d3_date = Date;\n        }\n      };\n      format.toString = local.toString;\n      return format;\n    };\n    d3_time_format.multi = d3_time_format.utc.multi = d3_time_formatMulti;\n    var d3_time_periodLookup = d3.map(), d3_time_dayRe = d3_time_formatRe(locale_days), d3_time_dayLookup = d3_time_formatLookup(locale_days), d3_time_dayAbbrevRe = d3_time_formatRe(locale_shortDays), d3_time_dayAbbrevLookup = d3_time_formatLookup(locale_shortDays), d3_time_monthRe = d3_time_formatRe(locale_months), d3_time_monthLookup = d3_time_formatLookup(locale_months), d3_time_monthAbbrevRe = d3_time_formatRe(locale_shortMonths), d3_time_monthAbbrevLookup = d3_time_formatLookup(locale_shortMonths);\n    locale_periods.forEach(function(p, i) {\n      d3_time_periodLookup.set(p.toLowerCase(), i);\n    });\n    var d3_time_formats = {\n      a: function(d) {\n        return locale_shortDays[d.getDay()];\n      },\n      A: function(d) {\n        return locale_days[d.getDay()];\n      },\n      b: function(d) {\n        return locale_shortMonths[d.getMonth()];\n      },\n      B: function(d) {\n        return locale_months[d.getMonth()];\n      },\n      c: d3_time_format(locale_dateTime),\n      d: function(d, p) {\n        return d3_time_formatPad(d.getDate(), p, 2);\n      },\n      e: function(d, p) {\n        return d3_time_formatPad(d.getDate(), p, 2);\n      },\n      H: function(d, p) {\n        return d3_time_formatPad(d.getHours(), p, 2);\n      },\n      I: function(d, p) {\n        return d3_time_formatPad(d.getHours() % 12 || 12, p, 2);\n      },\n      j: function(d, p) {\n        return d3_time_formatPad(1 + d3_time.dayOfYear(d), p, 3);\n      },\n      L: function(d, p) {\n        return d3_time_formatPad(d.getMilliseconds(), p, 3);\n      },\n      m: function(d, p) {\n        return d3_time_formatPad(d.getMonth() + 1, p, 2);\n      },\n      M: function(d, p) {\n        return d3_time_formatPad(d.getMinutes(), p, 2);\n      },\n      p: function(d) {\n        return locale_periods[+(d.getHours() >= 12)];\n      },\n      S: function(d, p) {\n        return d3_time_formatPad(d.getSeconds(), p, 2);\n      },\n      U: function(d, p) {\n        return d3_time_formatPad(d3_time.sundayOfYear(d), p, 2);\n      },\n      w: function(d) {\n        return d.getDay();\n      },\n      W: function(d, p) {\n        return d3_time_formatPad(d3_time.mondayOfYear(d), p, 2);\n      },\n      x: d3_time_format(locale_date),\n      X: d3_time_format(locale_time),\n      y: function(d, p) {\n        return d3_time_formatPad(d.getFullYear() % 100, p, 2);\n      },\n      Y: function(d, p) {\n        return d3_time_formatPad(d.getFullYear() % 1e4, p, 4);\n      },\n      Z: d3_time_zone,\n      \"%\": function() {\n        return \"%\";\n      }\n    };\n    var d3_time_parsers = {\n      a: d3_time_parseWeekdayAbbrev,\n      A: d3_time_parseWeekday,\n      b: d3_time_parseMonthAbbrev,\n      B: d3_time_parseMonth,\n      c: d3_time_parseLocaleFull,\n      d: d3_time_parseDay,\n      e: d3_time_parseDay,\n      H: d3_time_parseHour24,\n      I: d3_time_parseHour24,\n      j: d3_time_parseDayOfYear,\n      L: d3_time_parseMilliseconds,\n      m: d3_time_parseMonthNumber,\n      M: d3_time_parseMinutes,\n      p: d3_time_parseAmPm,\n      S: d3_time_parseSeconds,\n      U: d3_time_parseWeekNumberSunday,\n      w: d3_time_parseWeekdayNumber,\n      W: d3_time_parseWeekNumberMonday,\n      x: d3_time_parseLocaleDate,\n      X: d3_time_parseLocaleTime,\n      y: d3_time_parseYear,\n      Y: d3_time_parseFullYear,\n      Z: d3_time_parseZone,\n      \"%\": d3_time_parseLiteralPercent\n    };\n    function d3_time_parseWeekdayAbbrev(date, string, i) {\n      d3_time_dayAbbrevRe.lastIndex = 0;\n      var n = d3_time_dayAbbrevRe.exec(string.slice(i));\n      return n ? (date.w = d3_time_dayAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseWeekday(date, string, i) {\n      d3_time_dayRe.lastIndex = 0;\n      var n = d3_time_dayRe.exec(string.slice(i));\n      return n ? (date.w = d3_time_dayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseMonthAbbrev(date, string, i) {\n      d3_time_monthAbbrevRe.lastIndex = 0;\n      var n = d3_time_monthAbbrevRe.exec(string.slice(i));\n      return n ? (date.m = d3_time_monthAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseMonth(date, string, i) {\n      d3_time_monthRe.lastIndex = 0;\n      var n = d3_time_monthRe.exec(string.slice(i));\n      return n ? (date.m = d3_time_monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseLocaleFull(date, string, i) {\n      return d3_time_parse(date, d3_time_formats.c.toString(), string, i);\n    }\n    function d3_time_parseLocaleDate(date, string, i) {\n      return d3_time_parse(date, d3_time_formats.x.toString(), string, i);\n    }\n    function d3_time_parseLocaleTime(date, string, i) {\n      return d3_time_parse(date, d3_time_formats.X.toString(), string, i);\n    }\n    function d3_time_parseAmPm(date, string, i) {\n      var n = d3_time_periodLookup.get(string.slice(i, i += 2).toLowerCase());\n      return n == null ? -1 : (date.p = n, i);\n    }\n    return d3_time_format;\n  }\n  var d3_time_formatPads = {\n    \"-\": \"\",\n    _: \" \",\n    \"0\": \"0\"\n  }, d3_time_numberRe = /^\\s*\\d+/, d3_time_percentRe = /^%/;\n  function d3_time_formatPad(value, fill, width) {\n    var sign = value < 0 ? \"-\" : \"\", string = (sign ? -value : value) + \"\", length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n  }\n  function d3_time_formatRe(names) {\n    return new RegExp(\"^(?:\" + names.map(d3.requote).join(\"|\") + \")\", \"i\");\n  }\n  function d3_time_formatLookup(names) {\n    var map = new d3_Map(), i = -1, n = names.length;\n    while (++i < n) map.set(names[i].toLowerCase(), i);\n    return map;\n  }\n  function d3_time_parseWeekdayNumber(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 1));\n    return n ? (date.w = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseWeekNumberSunday(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i));\n    return n ? (date.U = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseWeekNumberMonday(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i));\n    return n ? (date.W = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseFullYear(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 4));\n    return n ? (date.y = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseYear(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.y = d3_time_expandYear(+n[0]), i + n[0].length) : -1;\n  }\n  function d3_time_parseZone(date, string, i) {\n    return /^[+-]\\d{4}$/.test(string = string.slice(i, i + 5)) ? (date.Z = -string, \n    i + 5) : -1;\n  }\n  function d3_time_expandYear(d) {\n    return d + (d > 68 ? 1900 : 2e3);\n  }\n  function d3_time_parseMonthNumber(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.m = n[0] - 1, i + n[0].length) : -1;\n  }\n  function d3_time_parseDay(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.d = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseDayOfYear(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 3));\n    return n ? (date.j = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseHour24(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.H = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseMinutes(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.M = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseSeconds(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.S = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseMilliseconds(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 3));\n    return n ? (date.L = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_zone(d) {\n    var z = d.getTimezoneOffset(), zs = z > 0 ? \"-\" : \"+\", zh = abs(z) / 60 | 0, zm = abs(z) % 60;\n    return zs + d3_time_formatPad(zh, \"0\", 2) + d3_time_formatPad(zm, \"0\", 2);\n  }\n  function d3_time_parseLiteralPercent(date, string, i) {\n    d3_time_percentRe.lastIndex = 0;\n    var n = d3_time_percentRe.exec(string.slice(i, i + 1));\n    return n ? i + n[0].length : -1;\n  }\n  function d3_time_formatMulti(formats) {\n    var n = formats.length, i = -1;\n    while (++i < n) formats[i][0] = this(formats[i][0]);\n    return function(date) {\n      var i = 0, f = formats[i];\n      while (!f[1](date)) f = formats[++i];\n      return f[0](date);\n    };\n  }\n  d3.locale = function(locale) {\n    return {\n      numberFormat: d3_locale_numberFormat(locale),\n      timeFormat: d3_locale_timeFormat(locale)\n    };\n  };\n  var d3_locale_enUS = d3.locale({\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [ 3 ],\n    currency: [ \"$\", \"\" ],\n    dateTime: \"%a %b %e %X %Y\",\n    date: \"%m/%d/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [ \"AM\", \"PM\" ],\n    days: [ \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\" ],\n    shortDays: [ \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\" ],\n    months: [ \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ],\n    shortMonths: [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ]\n  });\n  d3.format = d3_locale_enUS.numberFormat;\n  d3.geo = {};\n  function d3_adder() {}\n  d3_adder.prototype = {\n    s: 0,\n    t: 0,\n    add: function(y) {\n      d3_adderSum(y, this.t, d3_adderTemp);\n      d3_adderSum(d3_adderTemp.s, this.s, this);\n      if (this.s) this.t += d3_adderTemp.t; else this.s = d3_adderTemp.t;\n    },\n    reset: function() {\n      this.s = this.t = 0;\n    },\n    valueOf: function() {\n      return this.s;\n    }\n  };\n  var d3_adderTemp = new d3_adder();\n  function d3_adderSum(a, b, o) {\n    var x = o.s = a + b, bv = x - a, av = x - bv;\n    o.t = a - av + (b - bv);\n  }\n  d3.geo.stream = function(object, listener) {\n    if (object && d3_geo_streamObjectType.hasOwnProperty(object.type)) {\n      d3_geo_streamObjectType[object.type](object, listener);\n    } else {\n      d3_geo_streamGeometry(object, listener);\n    }\n  };\n  function d3_geo_streamGeometry(geometry, listener) {\n    if (geometry && d3_geo_streamGeometryType.hasOwnProperty(geometry.type)) {\n      d3_geo_streamGeometryType[geometry.type](geometry, listener);\n    }\n  }\n  var d3_geo_streamObjectType = {\n    Feature: function(feature, listener) {\n      d3_geo_streamGeometry(feature.geometry, listener);\n    },\n    FeatureCollection: function(object, listener) {\n      var features = object.features, i = -1, n = features.length;\n      while (++i < n) d3_geo_streamGeometry(features[i].geometry, listener);\n    }\n  };\n  var d3_geo_streamGeometryType = {\n    Sphere: function(object, listener) {\n      listener.sphere();\n    },\n    Point: function(object, listener) {\n      object = object.coordinates;\n      listener.point(object[0], object[1], object[2]);\n    },\n    MultiPoint: function(object, listener) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) object = coordinates[i], listener.point(object[0], object[1], object[2]);\n    },\n    LineString: function(object, listener) {\n      d3_geo_streamLine(object.coordinates, listener, 0);\n    },\n    MultiLineString: function(object, listener) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) d3_geo_streamLine(coordinates[i], listener, 0);\n    },\n    Polygon: function(object, listener) {\n      d3_geo_streamPolygon(object.coordinates, listener);\n    },\n    MultiPolygon: function(object, listener) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) d3_geo_streamPolygon(coordinates[i], listener);\n    },\n    GeometryCollection: function(object, listener) {\n      var geometries = object.geometries, i = -1, n = geometries.length;\n      while (++i < n) d3_geo_streamGeometry(geometries[i], listener);\n    }\n  };\n  function d3_geo_streamLine(coordinates, listener, closed) {\n    var i = -1, n = coordinates.length - closed, coordinate;\n    listener.lineStart();\n    while (++i < n) coordinate = coordinates[i], listener.point(coordinate[0], coordinate[1], coordinate[2]);\n    listener.lineEnd();\n  }\n  function d3_geo_streamPolygon(coordinates, listener) {\n    var i = -1, n = coordinates.length;\n    listener.polygonStart();\n    while (++i < n) d3_geo_streamLine(coordinates[i], listener, 1);\n    listener.polygonEnd();\n  }\n  d3.geo.area = function(object) {\n    d3_geo_areaSum = 0;\n    d3.geo.stream(object, d3_geo_area);\n    return d3_geo_areaSum;\n  };\n  var d3_geo_areaSum, d3_geo_areaRingSum = new d3_adder();\n  var d3_geo_area = {\n    sphere: function() {\n      d3_geo_areaSum += 4 * π;\n    },\n    point: d3_noop,\n    lineStart: d3_noop,\n    lineEnd: d3_noop,\n    polygonStart: function() {\n      d3_geo_areaRingSum.reset();\n      d3_geo_area.lineStart = d3_geo_areaRingStart;\n    },\n    polygonEnd: function() {\n      var area = 2 * d3_geo_areaRingSum;\n      d3_geo_areaSum += area < 0 ? 4 * π + area : area;\n      d3_geo_area.lineStart = d3_geo_area.lineEnd = d3_geo_area.point = d3_noop;\n    }\n  };\n  function d3_geo_areaRingStart() {\n    var λ00, φ00, λ0, cosφ0, sinφ0;\n    d3_geo_area.point = function(λ, φ) {\n      d3_geo_area.point = nextPoint;\n      λ0 = (λ00 = λ) * d3_radians, cosφ0 = Math.cos(φ = (φ00 = φ) * d3_radians / 2 + π / 4), \n      sinφ0 = Math.sin(φ);\n    };\n    function nextPoint(λ, φ) {\n      λ *= d3_radians;\n      φ = φ * d3_radians / 2 + π / 4;\n      var dλ = λ - λ0, sdλ = dλ >= 0 ? 1 : -1, adλ = sdλ * dλ, cosφ = Math.cos(φ), sinφ = Math.sin(φ), k = sinφ0 * sinφ, u = cosφ0 * cosφ + k * Math.cos(adλ), v = k * sdλ * Math.sin(adλ);\n      d3_geo_areaRingSum.add(Math.atan2(v, u));\n      λ0 = λ, cosφ0 = cosφ, sinφ0 = sinφ;\n    }\n    d3_geo_area.lineEnd = function() {\n      nextPoint(λ00, φ00);\n    };\n  }\n  function d3_geo_cartesian(spherical) {\n    var λ = spherical[0], φ = spherical[1], cosφ = Math.cos(φ);\n    return [ cosφ * Math.cos(λ), cosφ * Math.sin(λ), Math.sin(φ) ];\n  }\n  function d3_geo_cartesianDot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n  }\n  function d3_geo_cartesianCross(a, b) {\n    return [ a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0] ];\n  }\n  function d3_geo_cartesianAdd(a, b) {\n    a[0] += b[0];\n    a[1] += b[1];\n    a[2] += b[2];\n  }\n  function d3_geo_cartesianScale(vector, k) {\n    return [ vector[0] * k, vector[1] * k, vector[2] * k ];\n  }\n  function d3_geo_cartesianNormalize(d) {\n    var l = Math.sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n    d[0] /= l;\n    d[1] /= l;\n    d[2] /= l;\n  }\n  function d3_geo_spherical(cartesian) {\n    return [ Math.atan2(cartesian[1], cartesian[0]), d3_asin(cartesian[2]) ];\n  }\n  function d3_geo_sphericalEqual(a, b) {\n    return abs(a[0] - b[0]) < ε && abs(a[1] - b[1]) < ε;\n  }\n  d3.geo.bounds = function() {\n    var λ0, φ0, λ1, φ1, λ_, λ__, φ__, p0, dλSum, ranges, range;\n    var bound = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        bound.point = ringPoint;\n        bound.lineStart = ringStart;\n        bound.lineEnd = ringEnd;\n        dλSum = 0;\n        d3_geo_area.polygonStart();\n      },\n      polygonEnd: function() {\n        d3_geo_area.polygonEnd();\n        bound.point = point;\n        bound.lineStart = lineStart;\n        bound.lineEnd = lineEnd;\n        if (d3_geo_areaRingSum < 0) λ0 = -(λ1 = 180), φ0 = -(φ1 = 90); else if (dλSum > ε) φ1 = 90; else if (dλSum < -ε) φ0 = -90;\n        range[0] = λ0, range[1] = λ1;\n      }\n    };\n    function point(λ, φ) {\n      ranges.push(range = [ λ0 = λ, λ1 = λ ]);\n      if (φ < φ0) φ0 = φ;\n      if (φ > φ1) φ1 = φ;\n    }\n    function linePoint(λ, φ) {\n      var p = d3_geo_cartesian([ λ * d3_radians, φ * d3_radians ]);\n      if (p0) {\n        var normal = d3_geo_cartesianCross(p0, p), equatorial = [ normal[1], -normal[0], 0 ], inflection = d3_geo_cartesianCross(equatorial, normal);\n        d3_geo_cartesianNormalize(inflection);\n        inflection = d3_geo_spherical(inflection);\n        var dλ = λ - λ_, s = dλ > 0 ? 1 : -1, λi = inflection[0] * d3_degrees * s, antimeridian = abs(dλ) > 180;\n        if (antimeridian ^ (s * λ_ < λi && λi < s * λ)) {\n          var φi = inflection[1] * d3_degrees;\n          if (φi > φ1) φ1 = φi;\n        } else if (λi = (λi + 360) % 360 - 180, antimeridian ^ (s * λ_ < λi && λi < s * λ)) {\n          var φi = -inflection[1] * d3_degrees;\n          if (φi < φ0) φ0 = φi;\n        } else {\n          if (φ < φ0) φ0 = φ;\n          if (φ > φ1) φ1 = φ;\n        }\n        if (antimeridian) {\n          if (λ < λ_) {\n            if (angle(λ0, λ) > angle(λ0, λ1)) λ1 = λ;\n          } else {\n            if (angle(λ, λ1) > angle(λ0, λ1)) λ0 = λ;\n          }\n        } else {\n          if (λ1 >= λ0) {\n            if (λ < λ0) λ0 = λ;\n            if (λ > λ1) λ1 = λ;\n          } else {\n            if (λ > λ_) {\n              if (angle(λ0, λ) > angle(λ0, λ1)) λ1 = λ;\n            } else {\n              if (angle(λ, λ1) > angle(λ0, λ1)) λ0 = λ;\n            }\n          }\n        }\n      } else {\n        point(λ, φ);\n      }\n      p0 = p, λ_ = λ;\n    }\n    function lineStart() {\n      bound.point = linePoint;\n    }\n    function lineEnd() {\n      range[0] = λ0, range[1] = λ1;\n      bound.point = point;\n      p0 = null;\n    }\n    function ringPoint(λ, φ) {\n      if (p0) {\n        var dλ = λ - λ_;\n        dλSum += abs(dλ) > 180 ? dλ + (dλ > 0 ? 360 : -360) : dλ;\n      } else λ__ = λ, φ__ = φ;\n      d3_geo_area.point(λ, φ);\n      linePoint(λ, φ);\n    }\n    function ringStart() {\n      d3_geo_area.lineStart();\n    }\n    function ringEnd() {\n      ringPoint(λ__, φ__);\n      d3_geo_area.lineEnd();\n      if (abs(dλSum) > ε) λ0 = -(λ1 = 180);\n      range[0] = λ0, range[1] = λ1;\n      p0 = null;\n    }\n    function angle(λ0, λ1) {\n      return (λ1 -= λ0) < 0 ? λ1 + 360 : λ1;\n    }\n    function compareRanges(a, b) {\n      return a[0] - b[0];\n    }\n    function withinRange(x, range) {\n      return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n    }\n    return function(feature) {\n      φ1 = λ1 = -(λ0 = φ0 = Infinity);\n      ranges = [];\n      d3.geo.stream(feature, bound);\n      var n = ranges.length;\n      if (n) {\n        ranges.sort(compareRanges);\n        for (var i = 1, a = ranges[0], b, merged = [ a ]; i < n; ++i) {\n          b = ranges[i];\n          if (withinRange(b[0], a) || withinRange(b[1], a)) {\n            if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n            if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n          } else {\n            merged.push(a = b);\n          }\n        }\n        var best = -Infinity, dλ;\n        for (var n = merged.length - 1, i = 0, a = merged[n], b; i <= n; a = b, ++i) {\n          b = merged[i];\n          if ((dλ = angle(a[1], b[0])) > best) best = dλ, λ0 = b[0], λ1 = a[1];\n        }\n      }\n      ranges = range = null;\n      return λ0 === Infinity || φ0 === Infinity ? [ [ NaN, NaN ], [ NaN, NaN ] ] : [ [ λ0, φ0 ], [ λ1, φ1 ] ];\n    };\n  }();\n  d3.geo.centroid = function(object) {\n    d3_geo_centroidW0 = d3_geo_centroidW1 = d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;\n    d3.geo.stream(object, d3_geo_centroid);\n    var x = d3_geo_centroidX2, y = d3_geo_centroidY2, z = d3_geo_centroidZ2, m = x * x + y * y + z * z;\n    if (m < ε2) {\n      x = d3_geo_centroidX1, y = d3_geo_centroidY1, z = d3_geo_centroidZ1;\n      if (d3_geo_centroidW1 < ε) x = d3_geo_centroidX0, y = d3_geo_centroidY0, z = d3_geo_centroidZ0;\n      m = x * x + y * y + z * z;\n      if (m < ε2) return [ NaN, NaN ];\n    }\n    return [ Math.atan2(y, x) * d3_degrees, d3_asin(z / Math.sqrt(m)) * d3_degrees ];\n  };\n  var d3_geo_centroidW0, d3_geo_centroidW1, d3_geo_centroidX0, d3_geo_centroidY0, d3_geo_centroidZ0, d3_geo_centroidX1, d3_geo_centroidY1, d3_geo_centroidZ1, d3_geo_centroidX2, d3_geo_centroidY2, d3_geo_centroidZ2;\n  var d3_geo_centroid = {\n    sphere: d3_noop,\n    point: d3_geo_centroidPoint,\n    lineStart: d3_geo_centroidLineStart,\n    lineEnd: d3_geo_centroidLineEnd,\n    polygonStart: function() {\n      d3_geo_centroid.lineStart = d3_geo_centroidRingStart;\n    },\n    polygonEnd: function() {\n      d3_geo_centroid.lineStart = d3_geo_centroidLineStart;\n    }\n  };\n  function d3_geo_centroidPoint(λ, φ) {\n    λ *= d3_radians;\n    var cosφ = Math.cos(φ *= d3_radians);\n    d3_geo_centroidPointXYZ(cosφ * Math.cos(λ), cosφ * Math.sin(λ), Math.sin(φ));\n  }\n  function d3_geo_centroidPointXYZ(x, y, z) {\n    ++d3_geo_centroidW0;\n    d3_geo_centroidX0 += (x - d3_geo_centroidX0) / d3_geo_centroidW0;\n    d3_geo_centroidY0 += (y - d3_geo_centroidY0) / d3_geo_centroidW0;\n    d3_geo_centroidZ0 += (z - d3_geo_centroidZ0) / d3_geo_centroidW0;\n  }\n  function d3_geo_centroidLineStart() {\n    var x0, y0, z0;\n    d3_geo_centroid.point = function(λ, φ) {\n      λ *= d3_radians;\n      var cosφ = Math.cos(φ *= d3_radians);\n      x0 = cosφ * Math.cos(λ);\n      y0 = cosφ * Math.sin(λ);\n      z0 = Math.sin(φ);\n      d3_geo_centroid.point = nextPoint;\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    };\n    function nextPoint(λ, φ) {\n      λ *= d3_radians;\n      var cosφ = Math.cos(φ *= d3_radians), x = cosφ * Math.cos(λ), y = cosφ * Math.sin(λ), z = Math.sin(φ), w = Math.atan2(Math.sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n      d3_geo_centroidW1 += w;\n      d3_geo_centroidX1 += w * (x0 + (x0 = x));\n      d3_geo_centroidY1 += w * (y0 + (y0 = y));\n      d3_geo_centroidZ1 += w * (z0 + (z0 = z));\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    }\n  }\n  function d3_geo_centroidLineEnd() {\n    d3_geo_centroid.point = d3_geo_centroidPoint;\n  }\n  function d3_geo_centroidRingStart() {\n    var λ00, φ00, x0, y0, z0;\n    d3_geo_centroid.point = function(λ, φ) {\n      λ00 = λ, φ00 = φ;\n      d3_geo_centroid.point = nextPoint;\n      λ *= d3_radians;\n      var cosφ = Math.cos(φ *= d3_radians);\n      x0 = cosφ * Math.cos(λ);\n      y0 = cosφ * Math.sin(λ);\n      z0 = Math.sin(φ);\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    };\n    d3_geo_centroid.lineEnd = function() {\n      nextPoint(λ00, φ00);\n      d3_geo_centroid.lineEnd = d3_geo_centroidLineEnd;\n      d3_geo_centroid.point = d3_geo_centroidPoint;\n    };\n    function nextPoint(λ, φ) {\n      λ *= d3_radians;\n      var cosφ = Math.cos(φ *= d3_radians), x = cosφ * Math.cos(λ), y = cosφ * Math.sin(λ), z = Math.sin(φ), cx = y0 * z - z0 * y, cy = z0 * x - x0 * z, cz = x0 * y - y0 * x, m = Math.sqrt(cx * cx + cy * cy + cz * cz), u = x0 * x + y0 * y + z0 * z, v = m && -d3_acos(u) / m, w = Math.atan2(m, u);\n      d3_geo_centroidX2 += v * cx;\n      d3_geo_centroidY2 += v * cy;\n      d3_geo_centroidZ2 += v * cz;\n      d3_geo_centroidW1 += w;\n      d3_geo_centroidX1 += w * (x0 + (x0 = x));\n      d3_geo_centroidY1 += w * (y0 + (y0 = y));\n      d3_geo_centroidZ1 += w * (z0 + (z0 = z));\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    }\n  }\n  function d3_geo_compose(a, b) {\n    function compose(x, y) {\n      return x = a(x, y), b(x[0], x[1]);\n    }\n    if (a.invert && b.invert) compose.invert = function(x, y) {\n      return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n    };\n    return compose;\n  }\n  function d3_true() {\n    return true;\n  }\n  function d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener) {\n    var subject = [], clip = [];\n    segments.forEach(function(segment) {\n      if ((n = segment.length - 1) <= 0) return;\n      var n, p0 = segment[0], p1 = segment[n];\n      if (d3_geo_sphericalEqual(p0, p1)) {\n        listener.lineStart();\n        for (var i = 0; i < n; ++i) listener.point((p0 = segment[i])[0], p0[1]);\n        listener.lineEnd();\n        return;\n      }\n      var a = new d3_geo_clipPolygonIntersection(p0, segment, null, true), b = new d3_geo_clipPolygonIntersection(p0, null, a, false);\n      a.o = b;\n      subject.push(a);\n      clip.push(b);\n      a = new d3_geo_clipPolygonIntersection(p1, segment, null, false);\n      b = new d3_geo_clipPolygonIntersection(p1, null, a, true);\n      a.o = b;\n      subject.push(a);\n      clip.push(b);\n    });\n    clip.sort(compare);\n    d3_geo_clipPolygonLinkCircular(subject);\n    d3_geo_clipPolygonLinkCircular(clip);\n    if (!subject.length) return;\n    for (var i = 0, entry = clipStartInside, n = clip.length; i < n; ++i) {\n      clip[i].e = entry = !entry;\n    }\n    var start = subject[0], points, point;\n    while (1) {\n      var current = start, isSubject = true;\n      while (current.v) if ((current = current.n) === start) return;\n      points = current.z;\n      listener.lineStart();\n      do {\n        current.v = current.o.v = true;\n        if (current.e) {\n          if (isSubject) {\n            for (var i = 0, n = points.length; i < n; ++i) listener.point((point = points[i])[0], point[1]);\n          } else {\n            interpolate(current.x, current.n.x, 1, listener);\n          }\n          current = current.n;\n        } else {\n          if (isSubject) {\n            points = current.p.z;\n            for (var i = points.length - 1; i >= 0; --i) listener.point((point = points[i])[0], point[1]);\n          } else {\n            interpolate(current.x, current.p.x, -1, listener);\n          }\n          current = current.p;\n        }\n        current = current.o;\n        points = current.z;\n        isSubject = !isSubject;\n      } while (!current.v);\n      listener.lineEnd();\n    }\n  }\n  function d3_geo_clipPolygonLinkCircular(array) {\n    if (!(n = array.length)) return;\n    var n, i = 0, a = array[0], b;\n    while (++i < n) {\n      a.n = b = array[i];\n      b.p = a;\n      a = b;\n    }\n    a.n = b = array[0];\n    b.p = a;\n  }\n  function d3_geo_clipPolygonIntersection(point, points, other, entry) {\n    this.x = point;\n    this.z = points;\n    this.o = other;\n    this.e = entry;\n    this.v = false;\n    this.n = this.p = null;\n  }\n  function d3_geo_clip(pointVisible, clipLine, interpolate, clipStart) {\n    return function(rotate, listener) {\n      var line = clipLine(listener), rotatedClipStart = rotate.invert(clipStart[0], clipStart[1]);\n      var clip = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function() {\n          clip.point = pointRing;\n          clip.lineStart = ringStart;\n          clip.lineEnd = ringEnd;\n          segments = [];\n          polygon = [];\n        },\n        polygonEnd: function() {\n          clip.point = point;\n          clip.lineStart = lineStart;\n          clip.lineEnd = lineEnd;\n          segments = d3.merge(segments);\n          var clipStartInside = d3_geo_pointInPolygon(rotatedClipStart, polygon);\n          if (segments.length) {\n            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n            d3_geo_clipPolygon(segments, d3_geo_clipSort, clipStartInside, interpolate, listener);\n          } else if (clipStartInside) {\n            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n            listener.lineStart();\n            interpolate(null, null, 1, listener);\n            listener.lineEnd();\n          }\n          if (polygonStarted) listener.polygonEnd(), polygonStarted = false;\n          segments = polygon = null;\n        },\n        sphere: function() {\n          listener.polygonStart();\n          listener.lineStart();\n          interpolate(null, null, 1, listener);\n          listener.lineEnd();\n          listener.polygonEnd();\n        }\n      };\n      function point(λ, φ) {\n        var point = rotate(λ, φ);\n        if (pointVisible(λ = point[0], φ = point[1])) listener.point(λ, φ);\n      }\n      function pointLine(λ, φ) {\n        var point = rotate(λ, φ);\n        line.point(point[0], point[1]);\n      }\n      function lineStart() {\n        clip.point = pointLine;\n        line.lineStart();\n      }\n      function lineEnd() {\n        clip.point = point;\n        line.lineEnd();\n      }\n      var segments;\n      var buffer = d3_geo_clipBufferListener(), ringListener = clipLine(buffer), polygonStarted = false, polygon, ring;\n      function pointRing(λ, φ) {\n        ring.push([ λ, φ ]);\n        var point = rotate(λ, φ);\n        ringListener.point(point[0], point[1]);\n      }\n      function ringStart() {\n        ringListener.lineStart();\n        ring = [];\n      }\n      function ringEnd() {\n        pointRing(ring[0][0], ring[0][1]);\n        ringListener.lineEnd();\n        var clean = ringListener.clean(), ringSegments = buffer.buffer(), segment, n = ringSegments.length;\n        ring.pop();\n        polygon.push(ring);\n        ring = null;\n        if (!n) return;\n        if (clean & 1) {\n          segment = ringSegments[0];\n          var n = segment.length - 1, i = -1, point;\n          if (n > 0) {\n            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n            listener.lineStart();\n            while (++i < n) listener.point((point = segment[i])[0], point[1]);\n            listener.lineEnd();\n          }\n          return;\n        }\n        if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n        segments.push(ringSegments.filter(d3_geo_clipSegmentLength1));\n      }\n      return clip;\n    };\n  }\n  function d3_geo_clipSegmentLength1(segment) {\n    return segment.length > 1;\n  }\n  function d3_geo_clipBufferListener() {\n    var lines = [], line;\n    return {\n      lineStart: function() {\n        lines.push(line = []);\n      },\n      point: function(λ, φ) {\n        line.push([ λ, φ ]);\n      },\n      lineEnd: d3_noop,\n      buffer: function() {\n        var buffer = lines;\n        lines = [];\n        line = null;\n        return buffer;\n      },\n      rejoin: function() {\n        if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n      }\n    };\n  }\n  function d3_geo_clipSort(a, b) {\n    return ((a = a.x)[0] < 0 ? a[1] - halfπ - ε : halfπ - a[1]) - ((b = b.x)[0] < 0 ? b[1] - halfπ - ε : halfπ - b[1]);\n  }\n  var d3_geo_clipAntimeridian = d3_geo_clip(d3_true, d3_geo_clipAntimeridianLine, d3_geo_clipAntimeridianInterpolate, [ -π, -π / 2 ]);\n  function d3_geo_clipAntimeridianLine(listener) {\n    var λ0 = NaN, φ0 = NaN, sλ0 = NaN, clean;\n    return {\n      lineStart: function() {\n        listener.lineStart();\n        clean = 1;\n      },\n      point: function(λ1, φ1) {\n        var sλ1 = λ1 > 0 ? π : -π, dλ = abs(λ1 - λ0);\n        if (abs(dλ - π) < ε) {\n          listener.point(λ0, φ0 = (φ0 + φ1) / 2 > 0 ? halfπ : -halfπ);\n          listener.point(sλ0, φ0);\n          listener.lineEnd();\n          listener.lineStart();\n          listener.point(sλ1, φ0);\n          listener.point(λ1, φ0);\n          clean = 0;\n        } else if (sλ0 !== sλ1 && dλ >= π) {\n          if (abs(λ0 - sλ0) < ε) λ0 -= sλ0 * ε;\n          if (abs(λ1 - sλ1) < ε) λ1 -= sλ1 * ε;\n          φ0 = d3_geo_clipAntimeridianIntersect(λ0, φ0, λ1, φ1);\n          listener.point(sλ0, φ0);\n          listener.lineEnd();\n          listener.lineStart();\n          listener.point(sλ1, φ0);\n          clean = 0;\n        }\n        listener.point(λ0 = λ1, φ0 = φ1);\n        sλ0 = sλ1;\n      },\n      lineEnd: function() {\n        listener.lineEnd();\n        λ0 = φ0 = NaN;\n      },\n      clean: function() {\n        return 2 - clean;\n      }\n    };\n  }\n  function d3_geo_clipAntimeridianIntersect(λ0, φ0, λ1, φ1) {\n    var cosφ0, cosφ1, sinλ0_λ1 = Math.sin(λ0 - λ1);\n    return abs(sinλ0_λ1) > ε ? Math.atan((Math.sin(φ0) * (cosφ1 = Math.cos(φ1)) * Math.sin(λ1) - Math.sin(φ1) * (cosφ0 = Math.cos(φ0)) * Math.sin(λ0)) / (cosφ0 * cosφ1 * sinλ0_λ1)) : (φ0 + φ1) / 2;\n  }\n  function d3_geo_clipAntimeridianInterpolate(from, to, direction, listener) {\n    var φ;\n    if (from == null) {\n      φ = direction * halfπ;\n      listener.point(-π, φ);\n      listener.point(0, φ);\n      listener.point(π, φ);\n      listener.point(π, 0);\n      listener.point(π, -φ);\n      listener.point(0, -φ);\n      listener.point(-π, -φ);\n      listener.point(-π, 0);\n      listener.point(-π, φ);\n    } else if (abs(from[0] - to[0]) > ε) {\n      var s = from[0] < to[0] ? π : -π;\n      φ = direction * s / 2;\n      listener.point(-s, φ);\n      listener.point(0, φ);\n      listener.point(s, φ);\n    } else {\n      listener.point(to[0], to[1]);\n    }\n  }\n  function d3_geo_pointInPolygon(point, polygon) {\n    var meridian = point[0], parallel = point[1], meridianNormal = [ Math.sin(meridian), -Math.cos(meridian), 0 ], polarAngle = 0, winding = 0;\n    d3_geo_areaRingSum.reset();\n    for (var i = 0, n = polygon.length; i < n; ++i) {\n      var ring = polygon[i], m = ring.length;\n      if (!m) continue;\n      var point0 = ring[0], λ0 = point0[0], φ0 = point0[1] / 2 + π / 4, sinφ0 = Math.sin(φ0), cosφ0 = Math.cos(φ0), j = 1;\n      while (true) {\n        if (j === m) j = 0;\n        point = ring[j];\n        var λ = point[0], φ = point[1] / 2 + π / 4, sinφ = Math.sin(φ), cosφ = Math.cos(φ), dλ = λ - λ0, sdλ = dλ >= 0 ? 1 : -1, adλ = sdλ * dλ, antimeridian = adλ > π, k = sinφ0 * sinφ;\n        d3_geo_areaRingSum.add(Math.atan2(k * sdλ * Math.sin(adλ), cosφ0 * cosφ + k * Math.cos(adλ)));\n        polarAngle += antimeridian ? dλ + sdλ * τ : dλ;\n        if (antimeridian ^ λ0 >= meridian ^ λ >= meridian) {\n          var arc = d3_geo_cartesianCross(d3_geo_cartesian(point0), d3_geo_cartesian(point));\n          d3_geo_cartesianNormalize(arc);\n          var intersection = d3_geo_cartesianCross(meridianNormal, arc);\n          d3_geo_cartesianNormalize(intersection);\n          var φarc = (antimeridian ^ dλ >= 0 ? -1 : 1) * d3_asin(intersection[2]);\n          if (parallel > φarc || parallel === φarc && (arc[0] || arc[1])) {\n            winding += antimeridian ^ dλ >= 0 ? 1 : -1;\n          }\n        }\n        if (!j++) break;\n        λ0 = λ, sinφ0 = sinφ, cosφ0 = cosφ, point0 = point;\n      }\n    }\n    return (polarAngle < -ε || polarAngle < ε && d3_geo_areaRingSum < -ε) ^ winding & 1;\n  }\n  function d3_geo_clipCircle(radius) {\n    var cr = Math.cos(radius), smallRadius = cr > 0, notHemisphere = abs(cr) > ε, interpolate = d3_geo_circleInterpolate(radius, 6 * d3_radians);\n    return d3_geo_clip(visible, clipLine, interpolate, smallRadius ? [ 0, -radius ] : [ -π, radius - π ]);\n    function visible(λ, φ) {\n      return Math.cos(λ) * Math.cos(φ) > cr;\n    }\n    function clipLine(listener) {\n      var point0, c0, v0, v00, clean;\n      return {\n        lineStart: function() {\n          v00 = v0 = false;\n          clean = 1;\n        },\n        point: function(λ, φ) {\n          var point1 = [ λ, φ ], point2, v = visible(λ, φ), c = smallRadius ? v ? 0 : code(λ, φ) : v ? code(λ + (λ < 0 ? π : -π), φ) : 0;\n          if (!point0 && (v00 = v0 = v)) listener.lineStart();\n          if (v !== v0) {\n            point2 = intersect(point0, point1);\n            if (d3_geo_sphericalEqual(point0, point2) || d3_geo_sphericalEqual(point1, point2)) {\n              point1[0] += ε;\n              point1[1] += ε;\n              v = visible(point1[0], point1[1]);\n            }\n          }\n          if (v !== v0) {\n            clean = 0;\n            if (v) {\n              listener.lineStart();\n              point2 = intersect(point1, point0);\n              listener.point(point2[0], point2[1]);\n            } else {\n              point2 = intersect(point0, point1);\n              listener.point(point2[0], point2[1]);\n              listener.lineEnd();\n            }\n            point0 = point2;\n          } else if (notHemisphere && point0 && smallRadius ^ v) {\n            var t;\n            if (!(c & c0) && (t = intersect(point1, point0, true))) {\n              clean = 0;\n              if (smallRadius) {\n                listener.lineStart();\n                listener.point(t[0][0], t[0][1]);\n                listener.point(t[1][0], t[1][1]);\n                listener.lineEnd();\n              } else {\n                listener.point(t[1][0], t[1][1]);\n                listener.lineEnd();\n                listener.lineStart();\n                listener.point(t[0][0], t[0][1]);\n              }\n            }\n          }\n          if (v && (!point0 || !d3_geo_sphericalEqual(point0, point1))) {\n            listener.point(point1[0], point1[1]);\n          }\n          point0 = point1, v0 = v, c0 = c;\n        },\n        lineEnd: function() {\n          if (v0) listener.lineEnd();\n          point0 = null;\n        },\n        clean: function() {\n          return clean | (v00 && v0) << 1;\n        }\n      };\n    }\n    function intersect(a, b, two) {\n      var pa = d3_geo_cartesian(a), pb = d3_geo_cartesian(b);\n      var n1 = [ 1, 0, 0 ], n2 = d3_geo_cartesianCross(pa, pb), n2n2 = d3_geo_cartesianDot(n2, n2), n1n2 = n2[0], determinant = n2n2 - n1n2 * n1n2;\n      if (!determinant) return !two && a;\n      var c1 = cr * n2n2 / determinant, c2 = -cr * n1n2 / determinant, n1xn2 = d3_geo_cartesianCross(n1, n2), A = d3_geo_cartesianScale(n1, c1), B = d3_geo_cartesianScale(n2, c2);\n      d3_geo_cartesianAdd(A, B);\n      var u = n1xn2, w = d3_geo_cartesianDot(A, u), uu = d3_geo_cartesianDot(u, u), t2 = w * w - uu * (d3_geo_cartesianDot(A, A) - 1);\n      if (t2 < 0) return;\n      var t = Math.sqrt(t2), q = d3_geo_cartesianScale(u, (-w - t) / uu);\n      d3_geo_cartesianAdd(q, A);\n      q = d3_geo_spherical(q);\n      if (!two) return q;\n      var λ0 = a[0], λ1 = b[0], φ0 = a[1], φ1 = b[1], z;\n      if (λ1 < λ0) z = λ0, λ0 = λ1, λ1 = z;\n      var δλ = λ1 - λ0, polar = abs(δλ - π) < ε, meridian = polar || δλ < ε;\n      if (!polar && φ1 < φ0) z = φ0, φ0 = φ1, φ1 = z;\n      if (meridian ? polar ? φ0 + φ1 > 0 ^ q[1] < (abs(q[0] - λ0) < ε ? φ0 : φ1) : φ0 <= q[1] && q[1] <= φ1 : δλ > π ^ (λ0 <= q[0] && q[0] <= λ1)) {\n        var q1 = d3_geo_cartesianScale(u, (-w + t) / uu);\n        d3_geo_cartesianAdd(q1, A);\n        return [ q, d3_geo_spherical(q1) ];\n      }\n    }\n    function code(λ, φ) {\n      var r = smallRadius ? radius : π - radius, code = 0;\n      if (λ < -r) code |= 1; else if (λ > r) code |= 2;\n      if (φ < -r) code |= 4; else if (φ > r) code |= 8;\n      return code;\n    }\n  }\n  function d3_geom_clipLine(x0, y0, x1, y1) {\n    return function(line) {\n      var a = line.a, b = line.b, ax = a.x, ay = a.y, bx = b.x, by = b.y, t0 = 0, t1 = 1, dx = bx - ax, dy = by - ay, r;\n      r = x0 - ax;\n      if (!dx && r > 0) return;\n      r /= dx;\n      if (dx < 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      } else if (dx > 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      }\n      r = x1 - ax;\n      if (!dx && r < 0) return;\n      r /= dx;\n      if (dx < 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      } else if (dx > 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      }\n      r = y0 - ay;\n      if (!dy && r > 0) return;\n      r /= dy;\n      if (dy < 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      } else if (dy > 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      }\n      r = y1 - ay;\n      if (!dy && r < 0) return;\n      r /= dy;\n      if (dy < 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      } else if (dy > 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      }\n      if (t0 > 0) line.a = {\n        x: ax + t0 * dx,\n        y: ay + t0 * dy\n      };\n      if (t1 < 1) line.b = {\n        x: ax + t1 * dx,\n        y: ay + t1 * dy\n      };\n      return line;\n    };\n  }\n  var d3_geo_clipExtentMAX = 1e9;\n  d3.geo.clipExtent = function() {\n    var x0, y0, x1, y1, stream, clip, clipExtent = {\n      stream: function(output) {\n        if (stream) stream.valid = false;\n        stream = clip(output);\n        stream.valid = true;\n        return stream;\n      },\n      extent: function(_) {\n        if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];\n        clip = d3_geo_clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]);\n        if (stream) stream.valid = false, stream = null;\n        return clipExtent;\n      }\n    };\n    return clipExtent.extent([ [ 0, 0 ], [ 960, 500 ] ]);\n  };\n  function d3_geo_clipExtent(x0, y0, x1, y1) {\n    return function(listener) {\n      var listener_ = listener, bufferListener = d3_geo_clipBufferListener(), clipLine = d3_geom_clipLine(x0, y0, x1, y1), segments, polygon, ring;\n      var clip = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function() {\n          listener = bufferListener;\n          segments = [];\n          polygon = [];\n          clean = true;\n        },\n        polygonEnd: function() {\n          listener = listener_;\n          segments = d3.merge(segments);\n          var clipStartInside = insidePolygon([ x0, y1 ]), inside = clean && clipStartInside, visible = segments.length;\n          if (inside || visible) {\n            listener.polygonStart();\n            if (inside) {\n              listener.lineStart();\n              interpolate(null, null, 1, listener);\n              listener.lineEnd();\n            }\n            if (visible) {\n              d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener);\n            }\n            listener.polygonEnd();\n          }\n          segments = polygon = ring = null;\n        }\n      };\n      function insidePolygon(p) {\n        var wn = 0, n = polygon.length, y = p[1];\n        for (var i = 0; i < n; ++i) {\n          for (var j = 1, v = polygon[i], m = v.length, a = v[0], b; j < m; ++j) {\n            b = v[j];\n            if (a[1] <= y) {\n              if (b[1] > y && d3_cross2d(a, b, p) > 0) ++wn;\n            } else {\n              if (b[1] <= y && d3_cross2d(a, b, p) < 0) --wn;\n            }\n            a = b;\n          }\n        }\n        return wn !== 0;\n      }\n      function interpolate(from, to, direction, listener) {\n        var a = 0, a1 = 0;\n        if (from == null || (a = corner(from, direction)) !== (a1 = corner(to, direction)) || comparePoints(from, to) < 0 ^ direction > 0) {\n          do {\n            listener.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n          } while ((a = (a + direction + 4) % 4) !== a1);\n        } else {\n          listener.point(to[0], to[1]);\n        }\n      }\n      function pointVisible(x, y) {\n        return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n      }\n      function point(x, y) {\n        if (pointVisible(x, y)) listener.point(x, y);\n      }\n      var x__, y__, v__, x_, y_, v_, first, clean;\n      function lineStart() {\n        clip.point = linePoint;\n        if (polygon) polygon.push(ring = []);\n        first = true;\n        v_ = false;\n        x_ = y_ = NaN;\n      }\n      function lineEnd() {\n        if (segments) {\n          linePoint(x__, y__);\n          if (v__ && v_) bufferListener.rejoin();\n          segments.push(bufferListener.buffer());\n        }\n        clip.point = point;\n        if (v_) listener.lineEnd();\n      }\n      function linePoint(x, y) {\n        x = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, x));\n        y = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, y));\n        var v = pointVisible(x, y);\n        if (polygon) ring.push([ x, y ]);\n        if (first) {\n          x__ = x, y__ = y, v__ = v;\n          first = false;\n          if (v) {\n            listener.lineStart();\n            listener.point(x, y);\n          }\n        } else {\n          if (v && v_) listener.point(x, y); else {\n            var l = {\n              a: {\n                x: x_,\n                y: y_\n              },\n              b: {\n                x: x,\n                y: y\n              }\n            };\n            if (clipLine(l)) {\n              if (!v_) {\n                listener.lineStart();\n                listener.point(l.a.x, l.a.y);\n              }\n              listener.point(l.b.x, l.b.y);\n              if (!v) listener.lineEnd();\n              clean = false;\n            } else if (v) {\n              listener.lineStart();\n              listener.point(x, y);\n              clean = false;\n            }\n          }\n        }\n        x_ = x, y_ = y, v_ = v;\n      }\n      return clip;\n    };\n    function corner(p, direction) {\n      return abs(p[0] - x0) < ε ? direction > 0 ? 0 : 3 : abs(p[0] - x1) < ε ? direction > 0 ? 2 : 1 : abs(p[1] - y0) < ε ? direction > 0 ? 1 : 0 : direction > 0 ? 3 : 2;\n    }\n    function compare(a, b) {\n      return comparePoints(a.x, b.x);\n    }\n    function comparePoints(a, b) {\n      var ca = corner(a, 1), cb = corner(b, 1);\n      return ca !== cb ? ca - cb : ca === 0 ? b[1] - a[1] : ca === 1 ? a[0] - b[0] : ca === 2 ? a[1] - b[1] : b[0] - a[0];\n    }\n  }\n  function d3_geo_conic(projectAt) {\n    var φ0 = 0, φ1 = π / 3, m = d3_geo_projectionMutator(projectAt), p = m(φ0, φ1);\n    p.parallels = function(_) {\n      if (!arguments.length) return [ φ0 / π * 180, φ1 / π * 180 ];\n      return m(φ0 = _[0] * π / 180, φ1 = _[1] * π / 180);\n    };\n    return p;\n  }\n  function d3_geo_conicEqualArea(φ0, φ1) {\n    var sinφ0 = Math.sin(φ0), n = (sinφ0 + Math.sin(φ1)) / 2, C = 1 + sinφ0 * (2 * n - sinφ0), ρ0 = Math.sqrt(C) / n;\n    function forward(λ, φ) {\n      var ρ = Math.sqrt(C - 2 * n * Math.sin(φ)) / n;\n      return [ ρ * Math.sin(λ *= n), ρ0 - ρ * Math.cos(λ) ];\n    }\n    forward.invert = function(x, y) {\n      var ρ0_y = ρ0 - y;\n      return [ Math.atan2(x, ρ0_y) / n, d3_asin((C - (x * x + ρ0_y * ρ0_y) * n * n) / (2 * n)) ];\n    };\n    return forward;\n  }\n  (d3.geo.conicEqualArea = function() {\n    return d3_geo_conic(d3_geo_conicEqualArea);\n  }).raw = d3_geo_conicEqualArea;\n  d3.geo.albers = function() {\n    return d3.geo.conicEqualArea().rotate([ 96, 0 ]).center([ -.6, 38.7 ]).parallels([ 29.5, 45.5 ]).scale(1070);\n  };\n  d3.geo.albersUsa = function() {\n    var lower48 = d3.geo.albers();\n    var alaska = d3.geo.conicEqualArea().rotate([ 154, 0 ]).center([ -2, 58.5 ]).parallels([ 55, 65 ]);\n    var hawaii = d3.geo.conicEqualArea().rotate([ 157, 0 ]).center([ -3, 19.9 ]).parallels([ 8, 18 ]);\n    var point, pointStream = {\n      point: function(x, y) {\n        point = [ x, y ];\n      }\n    }, lower48Point, alaskaPoint, hawaiiPoint;\n    function albersUsa(coordinates) {\n      var x = coordinates[0], y = coordinates[1];\n      point = null;\n      (lower48Point(x, y), point) || (alaskaPoint(x, y), point) || hawaiiPoint(x, y);\n      return point;\n    }\n    albersUsa.invert = function(coordinates) {\n      var k = lower48.scale(), t = lower48.translate(), x = (coordinates[0] - t[0]) / k, y = (coordinates[1] - t[1]) / k;\n      return (y >= .12 && y < .234 && x >= -.425 && x < -.214 ? alaska : y >= .166 && y < .234 && x >= -.214 && x < -.115 ? hawaii : lower48).invert(coordinates);\n    };\n    albersUsa.stream = function(stream) {\n      var lower48Stream = lower48.stream(stream), alaskaStream = alaska.stream(stream), hawaiiStream = hawaii.stream(stream);\n      return {\n        point: function(x, y) {\n          lower48Stream.point(x, y);\n          alaskaStream.point(x, y);\n          hawaiiStream.point(x, y);\n        },\n        sphere: function() {\n          lower48Stream.sphere();\n          alaskaStream.sphere();\n          hawaiiStream.sphere();\n        },\n        lineStart: function() {\n          lower48Stream.lineStart();\n          alaskaStream.lineStart();\n          hawaiiStream.lineStart();\n        },\n        lineEnd: function() {\n          lower48Stream.lineEnd();\n          alaskaStream.lineEnd();\n          hawaiiStream.lineEnd();\n        },\n        polygonStart: function() {\n          lower48Stream.polygonStart();\n          alaskaStream.polygonStart();\n          hawaiiStream.polygonStart();\n        },\n        polygonEnd: function() {\n          lower48Stream.polygonEnd();\n          alaskaStream.polygonEnd();\n          hawaiiStream.polygonEnd();\n        }\n      };\n    };\n    albersUsa.precision = function(_) {\n      if (!arguments.length) return lower48.precision();\n      lower48.precision(_);\n      alaska.precision(_);\n      hawaii.precision(_);\n      return albersUsa;\n    };\n    albersUsa.scale = function(_) {\n      if (!arguments.length) return lower48.scale();\n      lower48.scale(_);\n      alaska.scale(_ * .35);\n      hawaii.scale(_);\n      return albersUsa.translate(lower48.translate());\n    };\n    albersUsa.translate = function(_) {\n      if (!arguments.length) return lower48.translate();\n      var k = lower48.scale(), x = +_[0], y = +_[1];\n      lower48Point = lower48.translate(_).clipExtent([ [ x - .455 * k, y - .238 * k ], [ x + .455 * k, y + .238 * k ] ]).stream(pointStream).point;\n      alaskaPoint = alaska.translate([ x - .307 * k, y + .201 * k ]).clipExtent([ [ x - .425 * k + ε, y + .12 * k + ε ], [ x - .214 * k - ε, y + .234 * k - ε ] ]).stream(pointStream).point;\n      hawaiiPoint = hawaii.translate([ x - .205 * k, y + .212 * k ]).clipExtent([ [ x - .214 * k + ε, y + .166 * k + ε ], [ x - .115 * k - ε, y + .234 * k - ε ] ]).stream(pointStream).point;\n      return albersUsa;\n    };\n    return albersUsa.scale(1070);\n  };\n  var d3_geo_pathAreaSum, d3_geo_pathAreaPolygon, d3_geo_pathArea = {\n    point: d3_noop,\n    lineStart: d3_noop,\n    lineEnd: d3_noop,\n    polygonStart: function() {\n      d3_geo_pathAreaPolygon = 0;\n      d3_geo_pathArea.lineStart = d3_geo_pathAreaRingStart;\n    },\n    polygonEnd: function() {\n      d3_geo_pathArea.lineStart = d3_geo_pathArea.lineEnd = d3_geo_pathArea.point = d3_noop;\n      d3_geo_pathAreaSum += abs(d3_geo_pathAreaPolygon / 2);\n    }\n  };\n  function d3_geo_pathAreaRingStart() {\n    var x00, y00, x0, y0;\n    d3_geo_pathArea.point = function(x, y) {\n      d3_geo_pathArea.point = nextPoint;\n      x00 = x0 = x, y00 = y0 = y;\n    };\n    function nextPoint(x, y) {\n      d3_geo_pathAreaPolygon += y0 * x - x0 * y;\n      x0 = x, y0 = y;\n    }\n    d3_geo_pathArea.lineEnd = function() {\n      nextPoint(x00, y00);\n    };\n  }\n  var d3_geo_pathBoundsX0, d3_geo_pathBoundsY0, d3_geo_pathBoundsX1, d3_geo_pathBoundsY1;\n  var d3_geo_pathBounds = {\n    point: d3_geo_pathBoundsPoint,\n    lineStart: d3_noop,\n    lineEnd: d3_noop,\n    polygonStart: d3_noop,\n    polygonEnd: d3_noop\n  };\n  function d3_geo_pathBoundsPoint(x, y) {\n    if (x < d3_geo_pathBoundsX0) d3_geo_pathBoundsX0 = x;\n    if (x > d3_geo_pathBoundsX1) d3_geo_pathBoundsX1 = x;\n    if (y < d3_geo_pathBoundsY0) d3_geo_pathBoundsY0 = y;\n    if (y > d3_geo_pathBoundsY1) d3_geo_pathBoundsY1 = y;\n  }\n  function d3_geo_pathBuffer() {\n    var pointCircle = d3_geo_pathBufferCircle(4.5), buffer = [];\n    var stream = {\n      point: point,\n      lineStart: function() {\n        stream.point = pointLineStart;\n      },\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        stream.lineEnd = lineEndPolygon;\n      },\n      polygonEnd: function() {\n        stream.lineEnd = lineEnd;\n        stream.point = point;\n      },\n      pointRadius: function(_) {\n        pointCircle = d3_geo_pathBufferCircle(_);\n        return stream;\n      },\n      result: function() {\n        if (buffer.length) {\n          var result = buffer.join(\"\");\n          buffer = [];\n          return result;\n        }\n      }\n    };\n    function point(x, y) {\n      buffer.push(\"M\", x, \",\", y, pointCircle);\n    }\n    function pointLineStart(x, y) {\n      buffer.push(\"M\", x, \",\", y);\n      stream.point = pointLine;\n    }\n    function pointLine(x, y) {\n      buffer.push(\"L\", x, \",\", y);\n    }\n    function lineEnd() {\n      stream.point = point;\n    }\n    function lineEndPolygon() {\n      buffer.push(\"Z\");\n    }\n    return stream;\n  }\n  function d3_geo_pathBufferCircle(radius) {\n    return \"m0,\" + radius + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius + \"z\";\n  }\n  var d3_geo_pathCentroid = {\n    point: d3_geo_pathCentroidPoint,\n    lineStart: d3_geo_pathCentroidLineStart,\n    lineEnd: d3_geo_pathCentroidLineEnd,\n    polygonStart: function() {\n      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidRingStart;\n    },\n    polygonEnd: function() {\n      d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;\n      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidLineStart;\n      d3_geo_pathCentroid.lineEnd = d3_geo_pathCentroidLineEnd;\n    }\n  };\n  function d3_geo_pathCentroidPoint(x, y) {\n    d3_geo_centroidX0 += x;\n    d3_geo_centroidY0 += y;\n    ++d3_geo_centroidZ0;\n  }\n  function d3_geo_pathCentroidLineStart() {\n    var x0, y0;\n    d3_geo_pathCentroid.point = function(x, y) {\n      d3_geo_pathCentroid.point = nextPoint;\n      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n    };\n    function nextPoint(x, y) {\n      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);\n      d3_geo_centroidX1 += z * (x0 + x) / 2;\n      d3_geo_centroidY1 += z * (y0 + y) / 2;\n      d3_geo_centroidZ1 += z;\n      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n    }\n  }\n  function d3_geo_pathCentroidLineEnd() {\n    d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;\n  }\n  function d3_geo_pathCentroidRingStart() {\n    var x00, y00, x0, y0;\n    d3_geo_pathCentroid.point = function(x, y) {\n      d3_geo_pathCentroid.point = nextPoint;\n      d3_geo_pathCentroidPoint(x00 = x0 = x, y00 = y0 = y);\n    };\n    function nextPoint(x, y) {\n      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);\n      d3_geo_centroidX1 += z * (x0 + x) / 2;\n      d3_geo_centroidY1 += z * (y0 + y) / 2;\n      d3_geo_centroidZ1 += z;\n      z = y0 * x - x0 * y;\n      d3_geo_centroidX2 += z * (x0 + x);\n      d3_geo_centroidY2 += z * (y0 + y);\n      d3_geo_centroidZ2 += z * 3;\n      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n    }\n    d3_geo_pathCentroid.lineEnd = function() {\n      nextPoint(x00, y00);\n    };\n  }\n  function d3_geo_pathContext(context) {\n    var pointRadius = 4.5;\n    var stream = {\n      point: point,\n      lineStart: function() {\n        stream.point = pointLineStart;\n      },\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        stream.lineEnd = lineEndPolygon;\n      },\n      polygonEnd: function() {\n        stream.lineEnd = lineEnd;\n        stream.point = point;\n      },\n      pointRadius: function(_) {\n        pointRadius = _;\n        return stream;\n      },\n      result: d3_noop\n    };\n    function point(x, y) {\n      context.moveTo(x + pointRadius, y);\n      context.arc(x, y, pointRadius, 0, τ);\n    }\n    function pointLineStart(x, y) {\n      context.moveTo(x, y);\n      stream.point = pointLine;\n    }\n    function pointLine(x, y) {\n      context.lineTo(x, y);\n    }\n    function lineEnd() {\n      stream.point = point;\n    }\n    function lineEndPolygon() {\n      context.closePath();\n    }\n    return stream;\n  }\n  function d3_geo_resample(project) {\n    var δ2 = .5, cosMinDistance = Math.cos(30 * d3_radians), maxDepth = 16;\n    function resample(stream) {\n      return (maxDepth ? resampleRecursive : resampleNone)(stream);\n    }\n    function resampleNone(stream) {\n      return d3_geo_transformPoint(stream, function(x, y) {\n        x = project(x, y);\n        stream.point(x[0], x[1]);\n      });\n    }\n    function resampleRecursive(stream) {\n      var λ00, φ00, x00, y00, a00, b00, c00, λ0, x0, y0, a0, b0, c0;\n      var resample = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function() {\n          stream.polygonStart();\n          resample.lineStart = ringStart;\n        },\n        polygonEnd: function() {\n          stream.polygonEnd();\n          resample.lineStart = lineStart;\n        }\n      };\n      function point(x, y) {\n        x = project(x, y);\n        stream.point(x[0], x[1]);\n      }\n      function lineStart() {\n        x0 = NaN;\n        resample.point = linePoint;\n        stream.lineStart();\n      }\n      function linePoint(λ, φ) {\n        var c = d3_geo_cartesian([ λ, φ ]), p = project(λ, φ);\n        resampleLineTo(x0, y0, λ0, a0, b0, c0, x0 = p[0], y0 = p[1], λ0 = λ, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n        stream.point(x0, y0);\n      }\n      function lineEnd() {\n        resample.point = point;\n        stream.lineEnd();\n      }\n      function ringStart() {\n        lineStart();\n        resample.point = ringPoint;\n        resample.lineEnd = ringEnd;\n      }\n      function ringPoint(λ, φ) {\n        linePoint(λ00 = λ, φ00 = φ), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n        resample.point = linePoint;\n      }\n      function ringEnd() {\n        resampleLineTo(x0, y0, λ0, a0, b0, c0, x00, y00, λ00, a00, b00, c00, maxDepth, stream);\n        resample.lineEnd = lineEnd;\n        lineEnd();\n      }\n      return resample;\n    }\n    function resampleLineTo(x0, y0, λ0, a0, b0, c0, x1, y1, λ1, a1, b1, c1, depth, stream) {\n      var dx = x1 - x0, dy = y1 - y0, d2 = dx * dx + dy * dy;\n      if (d2 > 4 * δ2 && depth--) {\n        var a = a0 + a1, b = b0 + b1, c = c0 + c1, m = Math.sqrt(a * a + b * b + c * c), φ2 = Math.asin(c /= m), λ2 = abs(abs(c) - 1) < ε || abs(λ0 - λ1) < ε ? (λ0 + λ1) / 2 : Math.atan2(b, a), p = project(λ2, φ2), x2 = p[0], y2 = p[1], dx2 = x2 - x0, dy2 = y2 - y0, dz = dy * dx2 - dx * dy2;\n        if (dz * dz / d2 > δ2 || abs((dx * dx2 + dy * dy2) / d2 - .5) > .3 || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) {\n          resampleLineTo(x0, y0, λ0, a0, b0, c0, x2, y2, λ2, a /= m, b /= m, c, depth, stream);\n          stream.point(x2, y2);\n          resampleLineTo(x2, y2, λ2, a, b, c, x1, y1, λ1, a1, b1, c1, depth, stream);\n        }\n      }\n    }\n    resample.precision = function(_) {\n      if (!arguments.length) return Math.sqrt(δ2);\n      maxDepth = (δ2 = _ * _) > 0 && 16;\n      return resample;\n    };\n    return resample;\n  }\n  d3.geo.path = function() {\n    var pointRadius = 4.5, projection, context, projectStream, contextStream, cacheStream;\n    function path(object) {\n      if (object) {\n        if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n        if (!cacheStream || !cacheStream.valid) cacheStream = projectStream(contextStream);\n        d3.geo.stream(object, cacheStream);\n      }\n      return contextStream.result();\n    }\n    path.area = function(object) {\n      d3_geo_pathAreaSum = 0;\n      d3.geo.stream(object, projectStream(d3_geo_pathArea));\n      return d3_geo_pathAreaSum;\n    };\n    path.centroid = function(object) {\n      d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;\n      d3.geo.stream(object, projectStream(d3_geo_pathCentroid));\n      return d3_geo_centroidZ2 ? [ d3_geo_centroidX2 / d3_geo_centroidZ2, d3_geo_centroidY2 / d3_geo_centroidZ2 ] : d3_geo_centroidZ1 ? [ d3_geo_centroidX1 / d3_geo_centroidZ1, d3_geo_centroidY1 / d3_geo_centroidZ1 ] : d3_geo_centroidZ0 ? [ d3_geo_centroidX0 / d3_geo_centroidZ0, d3_geo_centroidY0 / d3_geo_centroidZ0 ] : [ NaN, NaN ];\n    };\n    path.bounds = function(object) {\n      d3_geo_pathBoundsX1 = d3_geo_pathBoundsY1 = -(d3_geo_pathBoundsX0 = d3_geo_pathBoundsY0 = Infinity);\n      d3.geo.stream(object, projectStream(d3_geo_pathBounds));\n      return [ [ d3_geo_pathBoundsX0, d3_geo_pathBoundsY0 ], [ d3_geo_pathBoundsX1, d3_geo_pathBoundsY1 ] ];\n    };\n    path.projection = function(_) {\n      if (!arguments.length) return projection;\n      projectStream = (projection = _) ? _.stream || d3_geo_pathProjectStream(_) : d3_identity;\n      return reset();\n    };\n    path.context = function(_) {\n      if (!arguments.length) return context;\n      contextStream = (context = _) == null ? new d3_geo_pathBuffer() : new d3_geo_pathContext(_);\n      if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n      return reset();\n    };\n    path.pointRadius = function(_) {\n      if (!arguments.length) return pointRadius;\n      pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n      return path;\n    };\n    function reset() {\n      cacheStream = null;\n      return path;\n    }\n    return path.projection(d3.geo.albersUsa()).context(null);\n  };\n  function d3_geo_pathProjectStream(project) {\n    var resample = d3_geo_resample(function(x, y) {\n      return project([ x * d3_degrees, y * d3_degrees ]);\n    });\n    return function(stream) {\n      return d3_geo_projectionRadians(resample(stream));\n    };\n  }\n  d3.geo.transform = function(methods) {\n    return {\n      stream: function(stream) {\n        var transform = new d3_geo_transform(stream);\n        for (var k in methods) transform[k] = methods[k];\n        return transform;\n      }\n    };\n  };\n  function d3_geo_transform(stream) {\n    this.stream = stream;\n  }\n  d3_geo_transform.prototype = {\n    point: function(x, y) {\n      this.stream.point(x, y);\n    },\n    sphere: function() {\n      this.stream.sphere();\n    },\n    lineStart: function() {\n      this.stream.lineStart();\n    },\n    lineEnd: function() {\n      this.stream.lineEnd();\n    },\n    polygonStart: function() {\n      this.stream.polygonStart();\n    },\n    polygonEnd: function() {\n      this.stream.polygonEnd();\n    }\n  };\n  function d3_geo_transformPoint(stream, point) {\n    return {\n      point: point,\n      sphere: function() {\n        stream.sphere();\n      },\n      lineStart: function() {\n        stream.lineStart();\n      },\n      lineEnd: function() {\n        stream.lineEnd();\n      },\n      polygonStart: function() {\n        stream.polygonStart();\n      },\n      polygonEnd: function() {\n        stream.polygonEnd();\n      }\n    };\n  }\n  d3.geo.projection = d3_geo_projection;\n  d3.geo.projectionMutator = d3_geo_projectionMutator;\n  function d3_geo_projection(project) {\n    return d3_geo_projectionMutator(function() {\n      return project;\n    })();\n  }\n  function d3_geo_projectionMutator(projectAt) {\n    var project, rotate, projectRotate, projectResample = d3_geo_resample(function(x, y) {\n      x = project(x, y);\n      return [ x[0] * k + δx, δy - x[1] * k ];\n    }), k = 150, x = 480, y = 250, λ = 0, φ = 0, δλ = 0, δφ = 0, δγ = 0, δx, δy, preclip = d3_geo_clipAntimeridian, postclip = d3_identity, clipAngle = null, clipExtent = null, stream;\n    function projection(point) {\n      point = projectRotate(point[0] * d3_radians, point[1] * d3_radians);\n      return [ point[0] * k + δx, δy - point[1] * k ];\n    }\n    function invert(point) {\n      point = projectRotate.invert((point[0] - δx) / k, (δy - point[1]) / k);\n      return point && [ point[0] * d3_degrees, point[1] * d3_degrees ];\n    }\n    projection.stream = function(output) {\n      if (stream) stream.valid = false;\n      stream = d3_geo_projectionRadians(preclip(rotate, projectResample(postclip(output))));\n      stream.valid = true;\n      return stream;\n    };\n    projection.clipAngle = function(_) {\n      if (!arguments.length) return clipAngle;\n      preclip = _ == null ? (clipAngle = _, d3_geo_clipAntimeridian) : d3_geo_clipCircle((clipAngle = +_) * d3_radians);\n      return invalidate();\n    };\n    projection.clipExtent = function(_) {\n      if (!arguments.length) return clipExtent;\n      clipExtent = _;\n      postclip = _ ? d3_geo_clipExtent(_[0][0], _[0][1], _[1][0], _[1][1]) : d3_identity;\n      return invalidate();\n    };\n    projection.scale = function(_) {\n      if (!arguments.length) return k;\n      k = +_;\n      return reset();\n    };\n    projection.translate = function(_) {\n      if (!arguments.length) return [ x, y ];\n      x = +_[0];\n      y = +_[1];\n      return reset();\n    };\n    projection.center = function(_) {\n      if (!arguments.length) return [ λ * d3_degrees, φ * d3_degrees ];\n      λ = _[0] % 360 * d3_radians;\n      φ = _[1] % 360 * d3_radians;\n      return reset();\n    };\n    projection.rotate = function(_) {\n      if (!arguments.length) return [ δλ * d3_degrees, δφ * d3_degrees, δγ * d3_degrees ];\n      δλ = _[0] % 360 * d3_radians;\n      δφ = _[1] % 360 * d3_radians;\n      δγ = _.length > 2 ? _[2] % 360 * d3_radians : 0;\n      return reset();\n    };\n    d3.rebind(projection, projectResample, \"precision\");\n    function reset() {\n      projectRotate = d3_geo_compose(rotate = d3_geo_rotation(δλ, δφ, δγ), project);\n      var center = project(λ, φ);\n      δx = x - center[0] * k;\n      δy = y + center[1] * k;\n      return invalidate();\n    }\n    function invalidate() {\n      if (stream) stream.valid = false, stream = null;\n      return projection;\n    }\n    return function() {\n      project = projectAt.apply(this, arguments);\n      projection.invert = project.invert && invert;\n      return reset();\n    };\n  }\n  function d3_geo_projectionRadians(stream) {\n    return d3_geo_transformPoint(stream, function(x, y) {\n      stream.point(x * d3_radians, y * d3_radians);\n    });\n  }\n  function d3_geo_equirectangular(λ, φ) {\n    return [ λ, φ ];\n  }\n  (d3.geo.equirectangular = function() {\n    return d3_geo_projection(d3_geo_equirectangular);\n  }).raw = d3_geo_equirectangular.invert = d3_geo_equirectangular;\n  d3.geo.rotation = function(rotate) {\n    rotate = d3_geo_rotation(rotate[0] % 360 * d3_radians, rotate[1] * d3_radians, rotate.length > 2 ? rotate[2] * d3_radians : 0);\n    function forward(coordinates) {\n      coordinates = rotate(coordinates[0] * d3_radians, coordinates[1] * d3_radians);\n      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;\n    }\n    forward.invert = function(coordinates) {\n      coordinates = rotate.invert(coordinates[0] * d3_radians, coordinates[1] * d3_radians);\n      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;\n    };\n    return forward;\n  };\n  function d3_geo_identityRotation(λ, φ) {\n    return [ λ > π ? λ - τ : λ < -π ? λ + τ : λ, φ ];\n  }\n  d3_geo_identityRotation.invert = d3_geo_equirectangular;\n  function d3_geo_rotation(δλ, δφ, δγ) {\n    return δλ ? δφ || δγ ? d3_geo_compose(d3_geo_rotationλ(δλ), d3_geo_rotationφγ(δφ, δγ)) : d3_geo_rotationλ(δλ) : δφ || δγ ? d3_geo_rotationφγ(δφ, δγ) : d3_geo_identityRotation;\n  }\n  function d3_geo_forwardRotationλ(δλ) {\n    return function(λ, φ) {\n      return λ += δλ, [ λ > π ? λ - τ : λ < -π ? λ + τ : λ, φ ];\n    };\n  }\n  function d3_geo_rotationλ(δλ) {\n    var rotation = d3_geo_forwardRotationλ(δλ);\n    rotation.invert = d3_geo_forwardRotationλ(-δλ);\n    return rotation;\n  }\n  function d3_geo_rotationφγ(δφ, δγ) {\n    var cosδφ = Math.cos(δφ), sinδφ = Math.sin(δφ), cosδγ = Math.cos(δγ), sinδγ = Math.sin(δγ);\n    function rotation(λ, φ) {\n      var cosφ = Math.cos(φ), x = Math.cos(λ) * cosφ, y = Math.sin(λ) * cosφ, z = Math.sin(φ), k = z * cosδφ + x * sinδφ;\n      return [ Math.atan2(y * cosδγ - k * sinδγ, x * cosδφ - z * sinδφ), d3_asin(k * cosδγ + y * sinδγ) ];\n    }\n    rotation.invert = function(λ, φ) {\n      var cosφ = Math.cos(φ), x = Math.cos(λ) * cosφ, y = Math.sin(λ) * cosφ, z = Math.sin(φ), k = z * cosδγ - y * sinδγ;\n      return [ Math.atan2(y * cosδγ + z * sinδγ, x * cosδφ + k * sinδφ), d3_asin(k * cosδφ - x * sinδφ) ];\n    };\n    return rotation;\n  }\n  d3.geo.circle = function() {\n    var origin = [ 0, 0 ], angle, precision = 6, interpolate;\n    function circle() {\n      var center = typeof origin === \"function\" ? origin.apply(this, arguments) : origin, rotate = d3_geo_rotation(-center[0] * d3_radians, -center[1] * d3_radians, 0).invert, ring = [];\n      interpolate(null, null, 1, {\n        point: function(x, y) {\n          ring.push(x = rotate(x, y));\n          x[0] *= d3_degrees, x[1] *= d3_degrees;\n        }\n      });\n      return {\n        type: \"Polygon\",\n        coordinates: [ ring ]\n      };\n    }\n    circle.origin = function(x) {\n      if (!arguments.length) return origin;\n      origin = x;\n      return circle;\n    };\n    circle.angle = function(x) {\n      if (!arguments.length) return angle;\n      interpolate = d3_geo_circleInterpolate((angle = +x) * d3_radians, precision * d3_radians);\n      return circle;\n    };\n    circle.precision = function(_) {\n      if (!arguments.length) return precision;\n      interpolate = d3_geo_circleInterpolate(angle * d3_radians, (precision = +_) * d3_radians);\n      return circle;\n    };\n    return circle.angle(90);\n  };\n  function d3_geo_circleInterpolate(radius, precision) {\n    var cr = Math.cos(radius), sr = Math.sin(radius);\n    return function(from, to, direction, listener) {\n      var step = direction * precision;\n      if (from != null) {\n        from = d3_geo_circleAngle(cr, from);\n        to = d3_geo_circleAngle(cr, to);\n        if (direction > 0 ? from < to : from > to) from += direction * τ;\n      } else {\n        from = radius + direction * τ;\n        to = radius - .5 * step;\n      }\n      for (var point, t = from; direction > 0 ? t > to : t < to; t -= step) {\n        listener.point((point = d3_geo_spherical([ cr, -sr * Math.cos(t), -sr * Math.sin(t) ]))[0], point[1]);\n      }\n    };\n  }\n  function d3_geo_circleAngle(cr, point) {\n    var a = d3_geo_cartesian(point);\n    a[0] -= cr;\n    d3_geo_cartesianNormalize(a);\n    var angle = d3_acos(-a[1]);\n    return ((-a[2] < 0 ? -angle : angle) + 2 * Math.PI - ε) % (2 * Math.PI);\n  }\n  d3.geo.distance = function(a, b) {\n    var Δλ = (b[0] - a[0]) * d3_radians, φ0 = a[1] * d3_radians, φ1 = b[1] * d3_radians, sinΔλ = Math.sin(Δλ), cosΔλ = Math.cos(Δλ), sinφ0 = Math.sin(φ0), cosφ0 = Math.cos(φ0), sinφ1 = Math.sin(φ1), cosφ1 = Math.cos(φ1), t;\n    return Math.atan2(Math.sqrt((t = cosφ1 * sinΔλ) * t + (t = cosφ0 * sinφ1 - sinφ0 * cosφ1 * cosΔλ) * t), sinφ0 * sinφ1 + cosφ0 * cosφ1 * cosΔλ);\n  };\n  d3.geo.graticule = function() {\n    var x1, x0, X1, X0, y1, y0, Y1, Y0, dx = 10, dy = dx, DX = 90, DY = 360, x, y, X, Y, precision = 2.5;\n    function graticule() {\n      return {\n        type: \"MultiLineString\",\n        coordinates: lines()\n      };\n    }\n    function lines() {\n      return d3.range(Math.ceil(X0 / DX) * DX, X1, DX).map(X).concat(d3.range(Math.ceil(Y0 / DY) * DY, Y1, DY).map(Y)).concat(d3.range(Math.ceil(x0 / dx) * dx, x1, dx).filter(function(x) {\n        return abs(x % DX) > ε;\n      }).map(x)).concat(d3.range(Math.ceil(y0 / dy) * dy, y1, dy).filter(function(y) {\n        return abs(y % DY) > ε;\n      }).map(y));\n    }\n    graticule.lines = function() {\n      return lines().map(function(coordinates) {\n        return {\n          type: \"LineString\",\n          coordinates: coordinates\n        };\n      });\n    };\n    graticule.outline = function() {\n      return {\n        type: \"Polygon\",\n        coordinates: [ X(X0).concat(Y(Y1).slice(1), X(X1).reverse().slice(1), Y(Y0).reverse().slice(1)) ]\n      };\n    };\n    graticule.extent = function(_) {\n      if (!arguments.length) return graticule.minorExtent();\n      return graticule.majorExtent(_).minorExtent(_);\n    };\n    graticule.majorExtent = function(_) {\n      if (!arguments.length) return [ [ X0, Y0 ], [ X1, Y1 ] ];\n      X0 = +_[0][0], X1 = +_[1][0];\n      Y0 = +_[0][1], Y1 = +_[1][1];\n      if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n      if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n      return graticule.precision(precision);\n    };\n    graticule.minorExtent = function(_) {\n      if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];\n      x0 = +_[0][0], x1 = +_[1][0];\n      y0 = +_[0][1], y1 = +_[1][1];\n      if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n      if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n      return graticule.precision(precision);\n    };\n    graticule.step = function(_) {\n      if (!arguments.length) return graticule.minorStep();\n      return graticule.majorStep(_).minorStep(_);\n    };\n    graticule.majorStep = function(_) {\n      if (!arguments.length) return [ DX, DY ];\n      DX = +_[0], DY = +_[1];\n      return graticule;\n    };\n    graticule.minorStep = function(_) {\n      if (!arguments.length) return [ dx, dy ];\n      dx = +_[0], dy = +_[1];\n      return graticule;\n    };\n    graticule.precision = function(_) {\n      if (!arguments.length) return precision;\n      precision = +_;\n      x = d3_geo_graticuleX(y0, y1, 90);\n      y = d3_geo_graticuleY(x0, x1, precision);\n      X = d3_geo_graticuleX(Y0, Y1, 90);\n      Y = d3_geo_graticuleY(X0, X1, precision);\n      return graticule;\n    };\n    return graticule.majorExtent([ [ -180, -90 + ε ], [ 180, 90 - ε ] ]).minorExtent([ [ -180, -80 - ε ], [ 180, 80 + ε ] ]);\n  };\n  function d3_geo_graticuleX(y0, y1, dy) {\n    var y = d3.range(y0, y1 - ε, dy).concat(y1);\n    return function(x) {\n      return y.map(function(y) {\n        return [ x, y ];\n      });\n    };\n  }\n  function d3_geo_graticuleY(x0, x1, dx) {\n    var x = d3.range(x0, x1 - ε, dx).concat(x1);\n    return function(y) {\n      return x.map(function(x) {\n        return [ x, y ];\n      });\n    };\n  }\n  function d3_source(d) {\n    return d.source;\n  }\n  function d3_target(d) {\n    return d.target;\n  }\n  d3.geo.greatArc = function() {\n    var source = d3_source, source_, target = d3_target, target_;\n    function greatArc() {\n      return {\n        type: \"LineString\",\n        coordinates: [ source_ || source.apply(this, arguments), target_ || target.apply(this, arguments) ]\n      };\n    }\n    greatArc.distance = function() {\n      return d3.geo.distance(source_ || source.apply(this, arguments), target_ || target.apply(this, arguments));\n    };\n    greatArc.source = function(_) {\n      if (!arguments.length) return source;\n      source = _, source_ = typeof _ === \"function\" ? null : _;\n      return greatArc;\n    };\n    greatArc.target = function(_) {\n      if (!arguments.length) return target;\n      target = _, target_ = typeof _ === \"function\" ? null : _;\n      return greatArc;\n    };\n    greatArc.precision = function() {\n      return arguments.length ? greatArc : 0;\n    };\n    return greatArc;\n  };\n  d3.geo.interpolate = function(source, target) {\n    return d3_geo_interpolate(source[0] * d3_radians, source[1] * d3_radians, target[0] * d3_radians, target[1] * d3_radians);\n  };\n  function d3_geo_interpolate(x0, y0, x1, y1) {\n    var cy0 = Math.cos(y0), sy0 = Math.sin(y0), cy1 = Math.cos(y1), sy1 = Math.sin(y1), kx0 = cy0 * Math.cos(x0), ky0 = cy0 * Math.sin(x0), kx1 = cy1 * Math.cos(x1), ky1 = cy1 * Math.sin(x1), d = 2 * Math.asin(Math.sqrt(d3_haversin(y1 - y0) + cy0 * cy1 * d3_haversin(x1 - x0))), k = 1 / Math.sin(d);\n    var interpolate = d ? function(t) {\n      var B = Math.sin(t *= d) * k, A = Math.sin(d - t) * k, x = A * kx0 + B * kx1, y = A * ky0 + B * ky1, z = A * sy0 + B * sy1;\n      return [ Math.atan2(y, x) * d3_degrees, Math.atan2(z, Math.sqrt(x * x + y * y)) * d3_degrees ];\n    } : function() {\n      return [ x0 * d3_degrees, y0 * d3_degrees ];\n    };\n    interpolate.distance = d;\n    return interpolate;\n  }\n  d3.geo.length = function(object) {\n    d3_geo_lengthSum = 0;\n    d3.geo.stream(object, d3_geo_length);\n    return d3_geo_lengthSum;\n  };\n  var d3_geo_lengthSum;\n  var d3_geo_length = {\n    sphere: d3_noop,\n    point: d3_noop,\n    lineStart: d3_geo_lengthLineStart,\n    lineEnd: d3_noop,\n    polygonStart: d3_noop,\n    polygonEnd: d3_noop\n  };\n  function d3_geo_lengthLineStart() {\n    var λ0, sinφ0, cosφ0;\n    d3_geo_length.point = function(λ, φ) {\n      λ0 = λ * d3_radians, sinφ0 = Math.sin(φ *= d3_radians), cosφ0 = Math.cos(φ);\n      d3_geo_length.point = nextPoint;\n    };\n    d3_geo_length.lineEnd = function() {\n      d3_geo_length.point = d3_geo_length.lineEnd = d3_noop;\n    };\n    function nextPoint(λ, φ) {\n      var sinφ = Math.sin(φ *= d3_radians), cosφ = Math.cos(φ), t = abs((λ *= d3_radians) - λ0), cosΔλ = Math.cos(t);\n      d3_geo_lengthSum += Math.atan2(Math.sqrt((t = cosφ * Math.sin(t)) * t + (t = cosφ0 * sinφ - sinφ0 * cosφ * cosΔλ) * t), sinφ0 * sinφ + cosφ0 * cosφ * cosΔλ);\n      λ0 = λ, sinφ0 = sinφ, cosφ0 = cosφ;\n    }\n  }\n  function d3_geo_azimuthal(scale, angle) {\n    function azimuthal(λ, φ) {\n      var cosλ = Math.cos(λ), cosφ = Math.cos(φ), k = scale(cosλ * cosφ);\n      return [ k * cosφ * Math.sin(λ), k * Math.sin(φ) ];\n    }\n    azimuthal.invert = function(x, y) {\n      var ρ = Math.sqrt(x * x + y * y), c = angle(ρ), sinc = Math.sin(c), cosc = Math.cos(c);\n      return [ Math.atan2(x * sinc, ρ * cosc), Math.asin(ρ && y * sinc / ρ) ];\n    };\n    return azimuthal;\n  }\n  var d3_geo_azimuthalEqualArea = d3_geo_azimuthal(function(cosλcosφ) {\n    return Math.sqrt(2 / (1 + cosλcosφ));\n  }, function(ρ) {\n    return 2 * Math.asin(ρ / 2);\n  });\n  (d3.geo.azimuthalEqualArea = function() {\n    return d3_geo_projection(d3_geo_azimuthalEqualArea);\n  }).raw = d3_geo_azimuthalEqualArea;\n  var d3_geo_azimuthalEquidistant = d3_geo_azimuthal(function(cosλcosφ) {\n    var c = Math.acos(cosλcosφ);\n    return c && c / Math.sin(c);\n  }, d3_identity);\n  (d3.geo.azimuthalEquidistant = function() {\n    return d3_geo_projection(d3_geo_azimuthalEquidistant);\n  }).raw = d3_geo_azimuthalEquidistant;\n  function d3_geo_conicConformal(φ0, φ1) {\n    var cosφ0 = Math.cos(φ0), t = function(φ) {\n      return Math.tan(π / 4 + φ / 2);\n    }, n = φ0 === φ1 ? Math.sin(φ0) : Math.log(cosφ0 / Math.cos(φ1)) / Math.log(t(φ1) / t(φ0)), F = cosφ0 * Math.pow(t(φ0), n) / n;\n    if (!n) return d3_geo_mercator;\n    function forward(λ, φ) {\n      if (F > 0) {\n        if (φ < -halfπ + ε) φ = -halfπ + ε;\n      } else {\n        if (φ > halfπ - ε) φ = halfπ - ε;\n      }\n      var ρ = F / Math.pow(t(φ), n);\n      return [ ρ * Math.sin(n * λ), F - ρ * Math.cos(n * λ) ];\n    }\n    forward.invert = function(x, y) {\n      var ρ0_y = F - y, ρ = d3_sgn(n) * Math.sqrt(x * x + ρ0_y * ρ0_y);\n      return [ Math.atan2(x, ρ0_y) / n, 2 * Math.atan(Math.pow(F / ρ, 1 / n)) - halfπ ];\n    };\n    return forward;\n  }\n  (d3.geo.conicConformal = function() {\n    return d3_geo_conic(d3_geo_conicConformal);\n  }).raw = d3_geo_conicConformal;\n  function d3_geo_conicEquidistant(φ0, φ1) {\n    var cosφ0 = Math.cos(φ0), n = φ0 === φ1 ? Math.sin(φ0) : (cosφ0 - Math.cos(φ1)) / (φ1 - φ0), G = cosφ0 / n + φ0;\n    if (abs(n) < ε) return d3_geo_equirectangular;\n    function forward(λ, φ) {\n      var ρ = G - φ;\n      return [ ρ * Math.sin(n * λ), G - ρ * Math.cos(n * λ) ];\n    }\n    forward.invert = function(x, y) {\n      var ρ0_y = G - y;\n      return [ Math.atan2(x, ρ0_y) / n, G - d3_sgn(n) * Math.sqrt(x * x + ρ0_y * ρ0_y) ];\n    };\n    return forward;\n  }\n  (d3.geo.conicEquidistant = function() {\n    return d3_geo_conic(d3_geo_conicEquidistant);\n  }).raw = d3_geo_conicEquidistant;\n  var d3_geo_gnomonic = d3_geo_azimuthal(function(cosλcosφ) {\n    return 1 / cosλcosφ;\n  }, Math.atan);\n  (d3.geo.gnomonic = function() {\n    return d3_geo_projection(d3_geo_gnomonic);\n  }).raw = d3_geo_gnomonic;\n  function d3_geo_mercator(λ, φ) {\n    return [ λ, Math.log(Math.tan(π / 4 + φ / 2)) ];\n  }\n  d3_geo_mercator.invert = function(x, y) {\n    return [ x, 2 * Math.atan(Math.exp(y)) - halfπ ];\n  };\n  function d3_geo_mercatorProjection(project) {\n    var m = d3_geo_projection(project), scale = m.scale, translate = m.translate, clipExtent = m.clipExtent, clipAuto;\n    m.scale = function() {\n      var v = scale.apply(m, arguments);\n      return v === m ? clipAuto ? m.clipExtent(null) : m : v;\n    };\n    m.translate = function() {\n      var v = translate.apply(m, arguments);\n      return v === m ? clipAuto ? m.clipExtent(null) : m : v;\n    };\n    m.clipExtent = function(_) {\n      var v = clipExtent.apply(m, arguments);\n      if (v === m) {\n        if (clipAuto = _ == null) {\n          var k = π * scale(), t = translate();\n          clipExtent([ [ t[0] - k, t[1] - k ], [ t[0] + k, t[1] + k ] ]);\n        }\n      } else if (clipAuto) {\n        v = null;\n      }\n      return v;\n    };\n    return m.clipExtent(null);\n  }\n  (d3.geo.mercator = function() {\n    return d3_geo_mercatorProjection(d3_geo_mercator);\n  }).raw = d3_geo_mercator;\n  var d3_geo_orthographic = d3_geo_azimuthal(function() {\n    return 1;\n  }, Math.asin);\n  (d3.geo.orthographic = function() {\n    return d3_geo_projection(d3_geo_orthographic);\n  }).raw = d3_geo_orthographic;\n  var d3_geo_stereographic = d3_geo_azimuthal(function(cosλcosφ) {\n    return 1 / (1 + cosλcosφ);\n  }, function(ρ) {\n    return 2 * Math.atan(ρ);\n  });\n  (d3.geo.stereographic = function() {\n    return d3_geo_projection(d3_geo_stereographic);\n  }).raw = d3_geo_stereographic;\n  function d3_geo_transverseMercator(λ, φ) {\n    return [ Math.log(Math.tan(π / 4 + φ / 2)), -λ ];\n  }\n  d3_geo_transverseMercator.invert = function(x, y) {\n    return [ -y, 2 * Math.atan(Math.exp(x)) - halfπ ];\n  };\n  (d3.geo.transverseMercator = function() {\n    var projection = d3_geo_mercatorProjection(d3_geo_transverseMercator), center = projection.center, rotate = projection.rotate;\n    projection.center = function(_) {\n      return _ ? center([ -_[1], _[0] ]) : (_ = center(), [ _[1], -_[0] ]);\n    };\n    projection.rotate = function(_) {\n      return _ ? rotate([ _[0], _[1], _.length > 2 ? _[2] + 90 : 90 ]) : (_ = rotate(), \n      [ _[0], _[1], _[2] - 90 ]);\n    };\n    return rotate([ 0, 0, 90 ]);\n  }).raw = d3_geo_transverseMercator;\n  d3.geom = {};\n  function d3_geom_pointX(d) {\n    return d[0];\n  }\n  function d3_geom_pointY(d) {\n    return d[1];\n  }\n  d3.geom.hull = function(vertices) {\n    var x = d3_geom_pointX, y = d3_geom_pointY;\n    if (arguments.length) return hull(vertices);\n    function hull(data) {\n      if (data.length < 3) return [];\n      var fx = d3_functor(x), fy = d3_functor(y), i, n = data.length, points = [], flippedPoints = [];\n      for (i = 0; i < n; i++) {\n        points.push([ +fx.call(this, data[i], i), +fy.call(this, data[i], i), i ]);\n      }\n      points.sort(d3_geom_hullOrder);\n      for (i = 0; i < n; i++) flippedPoints.push([ points[i][0], -points[i][1] ]);\n      var upper = d3_geom_hullUpper(points), lower = d3_geom_hullUpper(flippedPoints);\n      var skipLeft = lower[0] === upper[0], skipRight = lower[lower.length - 1] === upper[upper.length - 1], polygon = [];\n      for (i = upper.length - 1; i >= 0; --i) polygon.push(data[points[upper[i]][2]]);\n      for (i = +skipLeft; i < lower.length - skipRight; ++i) polygon.push(data[points[lower[i]][2]]);\n      return polygon;\n    }\n    hull.x = function(_) {\n      return arguments.length ? (x = _, hull) : x;\n    };\n    hull.y = function(_) {\n      return arguments.length ? (y = _, hull) : y;\n    };\n    return hull;\n  };\n  function d3_geom_hullUpper(points) {\n    var n = points.length, hull = [ 0, 1 ], hs = 2;\n    for (var i = 2; i < n; i++) {\n      while (hs > 1 && d3_cross2d(points[hull[hs - 2]], points[hull[hs - 1]], points[i]) <= 0) --hs;\n      hull[hs++] = i;\n    }\n    return hull.slice(0, hs);\n  }\n  function d3_geom_hullOrder(a, b) {\n    return a[0] - b[0] || a[1] - b[1];\n  }\n  d3.geom.polygon = function(coordinates) {\n    d3_subclass(coordinates, d3_geom_polygonPrototype);\n    return coordinates;\n  };\n  var d3_geom_polygonPrototype = d3.geom.polygon.prototype = [];\n  d3_geom_polygonPrototype.area = function() {\n    var i = -1, n = this.length, a, b = this[n - 1], area = 0;\n    while (++i < n) {\n      a = b;\n      b = this[i];\n      area += a[1] * b[0] - a[0] * b[1];\n    }\n    return area * .5;\n  };\n  d3_geom_polygonPrototype.centroid = function(k) {\n    var i = -1, n = this.length, x = 0, y = 0, a, b = this[n - 1], c;\n    if (!arguments.length) k = -1 / (6 * this.area());\n    while (++i < n) {\n      a = b;\n      b = this[i];\n      c = a[0] * b[1] - b[0] * a[1];\n      x += (a[0] + b[0]) * c;\n      y += (a[1] + b[1]) * c;\n    }\n    return [ x * k, y * k ];\n  };\n  d3_geom_polygonPrototype.clip = function(subject) {\n    var input, closed = d3_geom_polygonClosed(subject), i = -1, n = this.length - d3_geom_polygonClosed(this), j, m, a = this[n - 1], b, c, d;\n    while (++i < n) {\n      input = subject.slice();\n      subject.length = 0;\n      b = this[i];\n      c = input[(m = input.length - closed) - 1];\n      j = -1;\n      while (++j < m) {\n        d = input[j];\n        if (d3_geom_polygonInside(d, a, b)) {\n          if (!d3_geom_polygonInside(c, a, b)) {\n            subject.push(d3_geom_polygonIntersect(c, d, a, b));\n          }\n          subject.push(d);\n        } else if (d3_geom_polygonInside(c, a, b)) {\n          subject.push(d3_geom_polygonIntersect(c, d, a, b));\n        }\n        c = d;\n      }\n      if (closed) subject.push(subject[0]);\n      a = b;\n    }\n    return subject;\n  };\n  function d3_geom_polygonInside(p, a, b) {\n    return (b[0] - a[0]) * (p[1] - a[1]) < (b[1] - a[1]) * (p[0] - a[0]);\n  }\n  function d3_geom_polygonIntersect(c, d, a, b) {\n    var x1 = c[0], x3 = a[0], x21 = d[0] - x1, x43 = b[0] - x3, y1 = c[1], y3 = a[1], y21 = d[1] - y1, y43 = b[1] - y3, ua = (x43 * (y1 - y3) - y43 * (x1 - x3)) / (y43 * x21 - x43 * y21);\n    return [ x1 + ua * x21, y1 + ua * y21 ];\n  }\n  function d3_geom_polygonClosed(coordinates) {\n    var a = coordinates[0], b = coordinates[coordinates.length - 1];\n    return !(a[0] - b[0] || a[1] - b[1]);\n  }\n  var d3_geom_voronoiEdges, d3_geom_voronoiCells, d3_geom_voronoiBeaches, d3_geom_voronoiBeachPool = [], d3_geom_voronoiFirstCircle, d3_geom_voronoiCircles, d3_geom_voronoiCirclePool = [];\n  function d3_geom_voronoiBeach() {\n    d3_geom_voronoiRedBlackNode(this);\n    this.edge = this.site = this.circle = null;\n  }\n  function d3_geom_voronoiCreateBeach(site) {\n    var beach = d3_geom_voronoiBeachPool.pop() || new d3_geom_voronoiBeach();\n    beach.site = site;\n    return beach;\n  }\n  function d3_geom_voronoiDetachBeach(beach) {\n    d3_geom_voronoiDetachCircle(beach);\n    d3_geom_voronoiBeaches.remove(beach);\n    d3_geom_voronoiBeachPool.push(beach);\n    d3_geom_voronoiRedBlackNode(beach);\n  }\n  function d3_geom_voronoiRemoveBeach(beach) {\n    var circle = beach.circle, x = circle.x, y = circle.cy, vertex = {\n      x: x,\n      y: y\n    }, previous = beach.P, next = beach.N, disappearing = [ beach ];\n    d3_geom_voronoiDetachBeach(beach);\n    var lArc = previous;\n    while (lArc.circle && abs(x - lArc.circle.x) < ε && abs(y - lArc.circle.cy) < ε) {\n      previous = lArc.P;\n      disappearing.unshift(lArc);\n      d3_geom_voronoiDetachBeach(lArc);\n      lArc = previous;\n    }\n    disappearing.unshift(lArc);\n    d3_geom_voronoiDetachCircle(lArc);\n    var rArc = next;\n    while (rArc.circle && abs(x - rArc.circle.x) < ε && abs(y - rArc.circle.cy) < ε) {\n      next = rArc.N;\n      disappearing.push(rArc);\n      d3_geom_voronoiDetachBeach(rArc);\n      rArc = next;\n    }\n    disappearing.push(rArc);\n    d3_geom_voronoiDetachCircle(rArc);\n    var nArcs = disappearing.length, iArc;\n    for (iArc = 1; iArc < nArcs; ++iArc) {\n      rArc = disappearing[iArc];\n      lArc = disappearing[iArc - 1];\n      d3_geom_voronoiSetEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n    }\n    lArc = disappearing[0];\n    rArc = disappearing[nArcs - 1];\n    rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, rArc.site, null, vertex);\n    d3_geom_voronoiAttachCircle(lArc);\n    d3_geom_voronoiAttachCircle(rArc);\n  }\n  function d3_geom_voronoiAddBeach(site) {\n    var x = site.x, directrix = site.y, lArc, rArc, dxl, dxr, node = d3_geom_voronoiBeaches._;\n    while (node) {\n      dxl = d3_geom_voronoiLeftBreakPoint(node, directrix) - x;\n      if (dxl > ε) node = node.L; else {\n        dxr = x - d3_geom_voronoiRightBreakPoint(node, directrix);\n        if (dxr > ε) {\n          if (!node.R) {\n            lArc = node;\n            break;\n          }\n          node = node.R;\n        } else {\n          if (dxl > -ε) {\n            lArc = node.P;\n            rArc = node;\n          } else if (dxr > -ε) {\n            lArc = node;\n            rArc = node.N;\n          } else {\n            lArc = rArc = node;\n          }\n          break;\n        }\n      }\n    }\n    var newArc = d3_geom_voronoiCreateBeach(site);\n    d3_geom_voronoiBeaches.insert(lArc, newArc);\n    if (!lArc && !rArc) return;\n    if (lArc === rArc) {\n      d3_geom_voronoiDetachCircle(lArc);\n      rArc = d3_geom_voronoiCreateBeach(lArc.site);\n      d3_geom_voronoiBeaches.insert(newArc, rArc);\n      newArc.edge = rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);\n      d3_geom_voronoiAttachCircle(lArc);\n      d3_geom_voronoiAttachCircle(rArc);\n      return;\n    }\n    if (!rArc) {\n      newArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);\n      return;\n    }\n    d3_geom_voronoiDetachCircle(lArc);\n    d3_geom_voronoiDetachCircle(rArc);\n    var lSite = lArc.site, ax = lSite.x, ay = lSite.y, bx = site.x - ax, by = site.y - ay, rSite = rArc.site, cx = rSite.x - ax, cy = rSite.y - ay, d = 2 * (bx * cy - by * cx), hb = bx * bx + by * by, hc = cx * cx + cy * cy, vertex = {\n      x: (cy * hb - by * hc) / d + ax,\n      y: (bx * hc - cx * hb) / d + ay\n    };\n    d3_geom_voronoiSetEdgeEnd(rArc.edge, lSite, rSite, vertex);\n    newArc.edge = d3_geom_voronoiCreateEdge(lSite, site, null, vertex);\n    rArc.edge = d3_geom_voronoiCreateEdge(site, rSite, null, vertex);\n    d3_geom_voronoiAttachCircle(lArc);\n    d3_geom_voronoiAttachCircle(rArc);\n  }\n  function d3_geom_voronoiLeftBreakPoint(arc, directrix) {\n    var site = arc.site, rfocx = site.x, rfocy = site.y, pby2 = rfocy - directrix;\n    if (!pby2) return rfocx;\n    var lArc = arc.P;\n    if (!lArc) return -Infinity;\n    site = lArc.site;\n    var lfocx = site.x, lfocy = site.y, plby2 = lfocy - directrix;\n    if (!plby2) return lfocx;\n    var hl = lfocx - rfocx, aby2 = 1 / pby2 - 1 / plby2, b = hl / plby2;\n    if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n    return (rfocx + lfocx) / 2;\n  }\n  function d3_geom_voronoiRightBreakPoint(arc, directrix) {\n    var rArc = arc.N;\n    if (rArc) return d3_geom_voronoiLeftBreakPoint(rArc, directrix);\n    var site = arc.site;\n    return site.y === directrix ? site.x : Infinity;\n  }\n  function d3_geom_voronoiCell(site) {\n    this.site = site;\n    this.edges = [];\n  }\n  d3_geom_voronoiCell.prototype.prepare = function() {\n    var halfEdges = this.edges, iHalfEdge = halfEdges.length, edge;\n    while (iHalfEdge--) {\n      edge = halfEdges[iHalfEdge].edge;\n      if (!edge.b || !edge.a) halfEdges.splice(iHalfEdge, 1);\n    }\n    halfEdges.sort(d3_geom_voronoiHalfEdgeOrder);\n    return halfEdges.length;\n  };\n  function d3_geom_voronoiCloseCells(extent) {\n    var x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], x2, y2, x3, y3, cells = d3_geom_voronoiCells, iCell = cells.length, cell, iHalfEdge, halfEdges, nHalfEdges, start, end;\n    while (iCell--) {\n      cell = cells[iCell];\n      if (!cell || !cell.prepare()) continue;\n      halfEdges = cell.edges;\n      nHalfEdges = halfEdges.length;\n      iHalfEdge = 0;\n      while (iHalfEdge < nHalfEdges) {\n        end = halfEdges[iHalfEdge].end(), x3 = end.x, y3 = end.y;\n        start = halfEdges[++iHalfEdge % nHalfEdges].start(), x2 = start.x, y2 = start.y;\n        if (abs(x3 - x2) > ε || abs(y3 - y2) > ε) {\n          halfEdges.splice(iHalfEdge, 0, new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site, end, abs(x3 - x0) < ε && y1 - y3 > ε ? {\n            x: x0,\n            y: abs(x2 - x0) < ε ? y2 : y1\n          } : abs(y3 - y1) < ε && x1 - x3 > ε ? {\n            x: abs(y2 - y1) < ε ? x2 : x1,\n            y: y1\n          } : abs(x3 - x1) < ε && y3 - y0 > ε ? {\n            x: x1,\n            y: abs(x2 - x1) < ε ? y2 : y0\n          } : abs(y3 - y0) < ε && x3 - x0 > ε ? {\n            x: abs(y2 - y0) < ε ? x2 : x0,\n            y: y0\n          } : null), cell.site, null));\n          ++nHalfEdges;\n        }\n      }\n    }\n  }\n  function d3_geom_voronoiHalfEdgeOrder(a, b) {\n    return b.angle - a.angle;\n  }\n  function d3_geom_voronoiCircle() {\n    d3_geom_voronoiRedBlackNode(this);\n    this.x = this.y = this.arc = this.site = this.cy = null;\n  }\n  function d3_geom_voronoiAttachCircle(arc) {\n    var lArc = arc.P, rArc = arc.N;\n    if (!lArc || !rArc) return;\n    var lSite = lArc.site, cSite = arc.site, rSite = rArc.site;\n    if (lSite === rSite) return;\n    var bx = cSite.x, by = cSite.y, ax = lSite.x - bx, ay = lSite.y - by, cx = rSite.x - bx, cy = rSite.y - by;\n    var d = 2 * (ax * cy - ay * cx);\n    if (d >= -ε2) return;\n    var ha = ax * ax + ay * ay, hc = cx * cx + cy * cy, x = (cy * ha - ay * hc) / d, y = (ax * hc - cx * ha) / d, cy = y + by;\n    var circle = d3_geom_voronoiCirclePool.pop() || new d3_geom_voronoiCircle();\n    circle.arc = arc;\n    circle.site = cSite;\n    circle.x = x + bx;\n    circle.y = cy + Math.sqrt(x * x + y * y);\n    circle.cy = cy;\n    arc.circle = circle;\n    var before = null, node = d3_geom_voronoiCircles._;\n    while (node) {\n      if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {\n        if (node.L) node = node.L; else {\n          before = node.P;\n          break;\n        }\n      } else {\n        if (node.R) node = node.R; else {\n          before = node;\n          break;\n        }\n      }\n    }\n    d3_geom_voronoiCircles.insert(before, circle);\n    if (!before) d3_geom_voronoiFirstCircle = circle;\n  }\n  function d3_geom_voronoiDetachCircle(arc) {\n    var circle = arc.circle;\n    if (circle) {\n      if (!circle.P) d3_geom_voronoiFirstCircle = circle.N;\n      d3_geom_voronoiCircles.remove(circle);\n      d3_geom_voronoiCirclePool.push(circle);\n      d3_geom_voronoiRedBlackNode(circle);\n      arc.circle = null;\n    }\n  }\n  function d3_geom_voronoiClipEdges(extent) {\n    var edges = d3_geom_voronoiEdges, clip = d3_geom_clipLine(extent[0][0], extent[0][1], extent[1][0], extent[1][1]), i = edges.length, e;\n    while (i--) {\n      e = edges[i];\n      if (!d3_geom_voronoiConnectEdge(e, extent) || !clip(e) || abs(e.a.x - e.b.x) < ε && abs(e.a.y - e.b.y) < ε) {\n        e.a = e.b = null;\n        edges.splice(i, 1);\n      }\n    }\n  }\n  function d3_geom_voronoiConnectEdge(edge, extent) {\n    var vb = edge.b;\n    if (vb) return true;\n    var va = edge.a, x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], lSite = edge.l, rSite = edge.r, lx = lSite.x, ly = lSite.y, rx = rSite.x, ry = rSite.y, fx = (lx + rx) / 2, fy = (ly + ry) / 2, fm, fb;\n    if (ry === ly) {\n      if (fx < x0 || fx >= x1) return;\n      if (lx > rx) {\n        if (!va) va = {\n          x: fx,\n          y: y0\n        }; else if (va.y >= y1) return;\n        vb = {\n          x: fx,\n          y: y1\n        };\n      } else {\n        if (!va) va = {\n          x: fx,\n          y: y1\n        }; else if (va.y < y0) return;\n        vb = {\n          x: fx,\n          y: y0\n        };\n      }\n    } else {\n      fm = (lx - rx) / (ry - ly);\n      fb = fy - fm * fx;\n      if (fm < -1 || fm > 1) {\n        if (lx > rx) {\n          if (!va) va = {\n            x: (y0 - fb) / fm,\n            y: y0\n          }; else if (va.y >= y1) return;\n          vb = {\n            x: (y1 - fb) / fm,\n            y: y1\n          };\n        } else {\n          if (!va) va = {\n            x: (y1 - fb) / fm,\n            y: y1\n          }; else if (va.y < y0) return;\n          vb = {\n            x: (y0 - fb) / fm,\n            y: y0\n          };\n        }\n      } else {\n        if (ly < ry) {\n          if (!va) va = {\n            x: x0,\n            y: fm * x0 + fb\n          }; else if (va.x >= x1) return;\n          vb = {\n            x: x1,\n            y: fm * x1 + fb\n          };\n        } else {\n          if (!va) va = {\n            x: x1,\n            y: fm * x1 + fb\n          }; else if (va.x < x0) return;\n          vb = {\n            x: x0,\n            y: fm * x0 + fb\n          };\n        }\n      }\n    }\n    edge.a = va;\n    edge.b = vb;\n    return true;\n  }\n  function d3_geom_voronoiEdge(lSite, rSite) {\n    this.l = lSite;\n    this.r = rSite;\n    this.a = this.b = null;\n  }\n  function d3_geom_voronoiCreateEdge(lSite, rSite, va, vb) {\n    var edge = new d3_geom_voronoiEdge(lSite, rSite);\n    d3_geom_voronoiEdges.push(edge);\n    if (va) d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, va);\n    if (vb) d3_geom_voronoiSetEdgeEnd(edge, rSite, lSite, vb);\n    d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, lSite, rSite));\n    d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, rSite, lSite));\n    return edge;\n  }\n  function d3_geom_voronoiCreateBorderEdge(lSite, va, vb) {\n    var edge = new d3_geom_voronoiEdge(lSite, null);\n    edge.a = va;\n    edge.b = vb;\n    d3_geom_voronoiEdges.push(edge);\n    return edge;\n  }\n  function d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, vertex) {\n    if (!edge.a && !edge.b) {\n      edge.a = vertex;\n      edge.l = lSite;\n      edge.r = rSite;\n    } else if (edge.l === rSite) {\n      edge.b = vertex;\n    } else {\n      edge.a = vertex;\n    }\n  }\n  function d3_geom_voronoiHalfEdge(edge, lSite, rSite) {\n    var va = edge.a, vb = edge.b;\n    this.edge = edge;\n    this.site = lSite;\n    this.angle = rSite ? Math.atan2(rSite.y - lSite.y, rSite.x - lSite.x) : edge.l === lSite ? Math.atan2(vb.x - va.x, va.y - vb.y) : Math.atan2(va.x - vb.x, vb.y - va.y);\n  }\n  d3_geom_voronoiHalfEdge.prototype = {\n    start: function() {\n      return this.edge.l === this.site ? this.edge.a : this.edge.b;\n    },\n    end: function() {\n      return this.edge.l === this.site ? this.edge.b : this.edge.a;\n    }\n  };\n  function d3_geom_voronoiRedBlackTree() {\n    this._ = null;\n  }\n  function d3_geom_voronoiRedBlackNode(node) {\n    node.U = node.C = node.L = node.R = node.P = node.N = null;\n  }\n  d3_geom_voronoiRedBlackTree.prototype = {\n    insert: function(after, node) {\n      var parent, grandpa, uncle;\n      if (after) {\n        node.P = after;\n        node.N = after.N;\n        if (after.N) after.N.P = node;\n        after.N = node;\n        if (after.R) {\n          after = after.R;\n          while (after.L) after = after.L;\n          after.L = node;\n        } else {\n          after.R = node;\n        }\n        parent = after;\n      } else if (this._) {\n        after = d3_geom_voronoiRedBlackFirst(this._);\n        node.P = null;\n        node.N = after;\n        after.P = after.L = node;\n        parent = after;\n      } else {\n        node.P = node.N = null;\n        this._ = node;\n        parent = null;\n      }\n      node.L = node.R = null;\n      node.U = parent;\n      node.C = true;\n      after = node;\n      while (parent && parent.C) {\n        grandpa = parent.U;\n        if (parent === grandpa.L) {\n          uncle = grandpa.R;\n          if (uncle && uncle.C) {\n            parent.C = uncle.C = false;\n            grandpa.C = true;\n            after = grandpa;\n          } else {\n            if (after === parent.R) {\n              d3_geom_voronoiRedBlackRotateLeft(this, parent);\n              after = parent;\n              parent = after.U;\n            }\n            parent.C = false;\n            grandpa.C = true;\n            d3_geom_voronoiRedBlackRotateRight(this, grandpa);\n          }\n        } else {\n          uncle = grandpa.L;\n          if (uncle && uncle.C) {\n            parent.C = uncle.C = false;\n            grandpa.C = true;\n            after = grandpa;\n          } else {\n            if (after === parent.L) {\n              d3_geom_voronoiRedBlackRotateRight(this, parent);\n              after = parent;\n              parent = after.U;\n            }\n            parent.C = false;\n            grandpa.C = true;\n            d3_geom_voronoiRedBlackRotateLeft(this, grandpa);\n          }\n        }\n        parent = after.U;\n      }\n      this._.C = false;\n    },\n    remove: function(node) {\n      if (node.N) node.N.P = node.P;\n      if (node.P) node.P.N = node.N;\n      node.N = node.P = null;\n      var parent = node.U, sibling, left = node.L, right = node.R, next, red;\n      if (!left) next = right; else if (!right) next = left; else next = d3_geom_voronoiRedBlackFirst(right);\n      if (parent) {\n        if (parent.L === node) parent.L = next; else parent.R = next;\n      } else {\n        this._ = next;\n      }\n      if (left && right) {\n        red = next.C;\n        next.C = node.C;\n        next.L = left;\n        left.U = next;\n        if (next !== right) {\n          parent = next.U;\n          next.U = node.U;\n          node = next.R;\n          parent.L = node;\n          next.R = right;\n          right.U = next;\n        } else {\n          next.U = parent;\n          parent = next;\n          node = next.R;\n        }\n      } else {\n        red = node.C;\n        node = next;\n      }\n      if (node) node.U = parent;\n      if (red) return;\n      if (node && node.C) {\n        node.C = false;\n        return;\n      }\n      do {\n        if (node === this._) break;\n        if (node === parent.L) {\n          sibling = parent.R;\n          if (sibling.C) {\n            sibling.C = false;\n            parent.C = true;\n            d3_geom_voronoiRedBlackRotateLeft(this, parent);\n            sibling = parent.R;\n          }\n          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n            if (!sibling.R || !sibling.R.C) {\n              sibling.L.C = false;\n              sibling.C = true;\n              d3_geom_voronoiRedBlackRotateRight(this, sibling);\n              sibling = parent.R;\n            }\n            sibling.C = parent.C;\n            parent.C = sibling.R.C = false;\n            d3_geom_voronoiRedBlackRotateLeft(this, parent);\n            node = this._;\n            break;\n          }\n        } else {\n          sibling = parent.L;\n          if (sibling.C) {\n            sibling.C = false;\n            parent.C = true;\n            d3_geom_voronoiRedBlackRotateRight(this, parent);\n            sibling = parent.L;\n          }\n          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n            if (!sibling.L || !sibling.L.C) {\n              sibling.R.C = false;\n              sibling.C = true;\n              d3_geom_voronoiRedBlackRotateLeft(this, sibling);\n              sibling = parent.L;\n            }\n            sibling.C = parent.C;\n            parent.C = sibling.L.C = false;\n            d3_geom_voronoiRedBlackRotateRight(this, parent);\n            node = this._;\n            break;\n          }\n        }\n        sibling.C = true;\n        node = parent;\n        parent = parent.U;\n      } while (!node.C);\n      if (node) node.C = false;\n    }\n  };\n  function d3_geom_voronoiRedBlackRotateLeft(tree, node) {\n    var p = node, q = node.R, parent = p.U;\n    if (parent) {\n      if (parent.L === p) parent.L = q; else parent.R = q;\n    } else {\n      tree._ = q;\n    }\n    q.U = parent;\n    p.U = q;\n    p.R = q.L;\n    if (p.R) p.R.U = p;\n    q.L = p;\n  }\n  function d3_geom_voronoiRedBlackRotateRight(tree, node) {\n    var p = node, q = node.L, parent = p.U;\n    if (parent) {\n      if (parent.L === p) parent.L = q; else parent.R = q;\n    } else {\n      tree._ = q;\n    }\n    q.U = parent;\n    p.U = q;\n    p.L = q.R;\n    if (p.L) p.L.U = p;\n    q.R = p;\n  }\n  function d3_geom_voronoiRedBlackFirst(node) {\n    while (node.L) node = node.L;\n    return node;\n  }\n  function d3_geom_voronoi(sites, bbox) {\n    var site = sites.sort(d3_geom_voronoiVertexOrder).pop(), x0, y0, circle;\n    d3_geom_voronoiEdges = [];\n    d3_geom_voronoiCells = new Array(sites.length);\n    d3_geom_voronoiBeaches = new d3_geom_voronoiRedBlackTree();\n    d3_geom_voronoiCircles = new d3_geom_voronoiRedBlackTree();\n    while (true) {\n      circle = d3_geom_voronoiFirstCircle;\n      if (site && (!circle || site.y < circle.y || site.y === circle.y && site.x < circle.x)) {\n        if (site.x !== x0 || site.y !== y0) {\n          d3_geom_voronoiCells[site.i] = new d3_geom_voronoiCell(site);\n          d3_geom_voronoiAddBeach(site);\n          x0 = site.x, y0 = site.y;\n        }\n        site = sites.pop();\n      } else if (circle) {\n        d3_geom_voronoiRemoveBeach(circle.arc);\n      } else {\n        break;\n      }\n    }\n    if (bbox) d3_geom_voronoiClipEdges(bbox), d3_geom_voronoiCloseCells(bbox);\n    var diagram = {\n      cells: d3_geom_voronoiCells,\n      edges: d3_geom_voronoiEdges\n    };\n    d3_geom_voronoiBeaches = d3_geom_voronoiCircles = d3_geom_voronoiEdges = d3_geom_voronoiCells = null;\n    return diagram;\n  }\n  function d3_geom_voronoiVertexOrder(a, b) {\n    return b.y - a.y || b.x - a.x;\n  }\n  d3.geom.voronoi = function(points) {\n    var x = d3_geom_pointX, y = d3_geom_pointY, fx = x, fy = y, clipExtent = d3_geom_voronoiClipExtent;\n    if (points) return voronoi(points);\n    function voronoi(data) {\n      var polygons = new Array(data.length), x0 = clipExtent[0][0], y0 = clipExtent[0][1], x1 = clipExtent[1][0], y1 = clipExtent[1][1];\n      d3_geom_voronoi(sites(data), clipExtent).cells.forEach(function(cell, i) {\n        var edges = cell.edges, site = cell.site, polygon = polygons[i] = edges.length ? edges.map(function(e) {\n          var s = e.start();\n          return [ s.x, s.y ];\n        }) : site.x >= x0 && site.x <= x1 && site.y >= y0 && site.y <= y1 ? [ [ x0, y1 ], [ x1, y1 ], [ x1, y0 ], [ x0, y0 ] ] : [];\n        polygon.point = data[i];\n      });\n      return polygons;\n    }\n    function sites(data) {\n      return data.map(function(d, i) {\n        return {\n          x: Math.round(fx(d, i) / ε) * ε,\n          y: Math.round(fy(d, i) / ε) * ε,\n          i: i\n        };\n      });\n    }\n    voronoi.links = function(data) {\n      return d3_geom_voronoi(sites(data)).edges.filter(function(edge) {\n        return edge.l && edge.r;\n      }).map(function(edge) {\n        return {\n          source: data[edge.l.i],\n          target: data[edge.r.i]\n        };\n      });\n    };\n    voronoi.triangles = function(data) {\n      var triangles = [];\n      d3_geom_voronoi(sites(data)).cells.forEach(function(cell, i) {\n        var site = cell.site, edges = cell.edges.sort(d3_geom_voronoiHalfEdgeOrder), j = -1, m = edges.length, e0, s0, e1 = edges[m - 1].edge, s1 = e1.l === site ? e1.r : e1.l;\n        while (++j < m) {\n          e0 = e1;\n          s0 = s1;\n          e1 = edges[j].edge;\n          s1 = e1.l === site ? e1.r : e1.l;\n          if (i < s0.i && i < s1.i && d3_geom_voronoiTriangleArea(site, s0, s1) < 0) {\n            triangles.push([ data[i], data[s0.i], data[s1.i] ]);\n          }\n        }\n      });\n      return triangles;\n    };\n    voronoi.x = function(_) {\n      return arguments.length ? (fx = d3_functor(x = _), voronoi) : x;\n    };\n    voronoi.y = function(_) {\n      return arguments.length ? (fy = d3_functor(y = _), voronoi) : y;\n    };\n    voronoi.clipExtent = function(_) {\n      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent;\n      clipExtent = _ == null ? d3_geom_voronoiClipExtent : _;\n      return voronoi;\n    };\n    voronoi.size = function(_) {\n      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent && clipExtent[1];\n      return voronoi.clipExtent(_ && [ [ 0, 0 ], _ ]);\n    };\n    return voronoi;\n  };\n  var d3_geom_voronoiClipExtent = [ [ -1e6, -1e6 ], [ 1e6, 1e6 ] ];\n  function d3_geom_voronoiTriangleArea(a, b, c) {\n    return (a.x - c.x) * (b.y - a.y) - (a.x - b.x) * (c.y - a.y);\n  }\n  d3.geom.delaunay = function(vertices) {\n    return d3.geom.voronoi().triangles(vertices);\n  };\n  d3.geom.quadtree = function(points, x1, y1, x2, y2) {\n    var x = d3_geom_pointX, y = d3_geom_pointY, compat;\n    if (compat = arguments.length) {\n      x = d3_geom_quadtreeCompatX;\n      y = d3_geom_quadtreeCompatY;\n      if (compat === 3) {\n        y2 = y1;\n        x2 = x1;\n        y1 = x1 = 0;\n      }\n      return quadtree(points);\n    }\n    function quadtree(data) {\n      var d, fx = d3_functor(x), fy = d3_functor(y), xs, ys, i, n, x1_, y1_, x2_, y2_;\n      if (x1 != null) {\n        x1_ = x1, y1_ = y1, x2_ = x2, y2_ = y2;\n      } else {\n        x2_ = y2_ = -(x1_ = y1_ = Infinity);\n        xs = [], ys = [];\n        n = data.length;\n        if (compat) for (i = 0; i < n; ++i) {\n          d = data[i];\n          if (d.x < x1_) x1_ = d.x;\n          if (d.y < y1_) y1_ = d.y;\n          if (d.x > x2_) x2_ = d.x;\n          if (d.y > y2_) y2_ = d.y;\n          xs.push(d.x);\n          ys.push(d.y);\n        } else for (i = 0; i < n; ++i) {\n          var x_ = +fx(d = data[i], i), y_ = +fy(d, i);\n          if (x_ < x1_) x1_ = x_;\n          if (y_ < y1_) y1_ = y_;\n          if (x_ > x2_) x2_ = x_;\n          if (y_ > y2_) y2_ = y_;\n          xs.push(x_);\n          ys.push(y_);\n        }\n      }\n      var dx = x2_ - x1_, dy = y2_ - y1_;\n      if (dx > dy) y2_ = y1_ + dx; else x2_ = x1_ + dy;\n      function insert(n, d, x, y, x1, y1, x2, y2) {\n        if (isNaN(x) || isNaN(y)) return;\n        if (n.leaf) {\n          var nx = n.x, ny = n.y;\n          if (nx != null) {\n            if (abs(nx - x) + abs(ny - y) < .01) {\n              insertChild(n, d, x, y, x1, y1, x2, y2);\n            } else {\n              var nPoint = n.point;\n              n.x = n.y = n.point = null;\n              insertChild(n, nPoint, nx, ny, x1, y1, x2, y2);\n              insertChild(n, d, x, y, x1, y1, x2, y2);\n            }\n          } else {\n            n.x = x, n.y = y, n.point = d;\n          }\n        } else {\n          insertChild(n, d, x, y, x1, y1, x2, y2);\n        }\n      }\n      function insertChild(n, d, x, y, x1, y1, x2, y2) {\n        var xm = (x1 + x2) * .5, ym = (y1 + y2) * .5, right = x >= xm, below = y >= ym, i = below << 1 | right;\n        n.leaf = false;\n        n = n.nodes[i] || (n.nodes[i] = d3_geom_quadtreeNode());\n        if (right) x1 = xm; else x2 = xm;\n        if (below) y1 = ym; else y2 = ym;\n        insert(n, d, x, y, x1, y1, x2, y2);\n      }\n      var root = d3_geom_quadtreeNode();\n      root.add = function(d) {\n        insert(root, d, +fx(d, ++i), +fy(d, i), x1_, y1_, x2_, y2_);\n      };\n      root.visit = function(f) {\n        d3_geom_quadtreeVisit(f, root, x1_, y1_, x2_, y2_);\n      };\n      root.find = function(point) {\n        return d3_geom_quadtreeFind(root, point[0], point[1], x1_, y1_, x2_, y2_);\n      };\n      i = -1;\n      if (x1 == null) {\n        while (++i < n) {\n          insert(root, data[i], xs[i], ys[i], x1_, y1_, x2_, y2_);\n        }\n        --i;\n      } else data.forEach(root.add);\n      xs = ys = data = d = null;\n      return root;\n    }\n    quadtree.x = function(_) {\n      return arguments.length ? (x = _, quadtree) : x;\n    };\n    quadtree.y = function(_) {\n      return arguments.length ? (y = _, quadtree) : y;\n    };\n    quadtree.extent = function(_) {\n      if (!arguments.length) return x1 == null ? null : [ [ x1, y1 ], [ x2, y2 ] ];\n      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = +_[0][0], y1 = +_[0][1], x2 = +_[1][0], \n      y2 = +_[1][1];\n      return quadtree;\n    };\n    quadtree.size = function(_) {\n      if (!arguments.length) return x1 == null ? null : [ x2 - x1, y2 - y1 ];\n      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = y1 = 0, x2 = +_[0], y2 = +_[1];\n      return quadtree;\n    };\n    return quadtree;\n  };\n  function d3_geom_quadtreeCompatX(d) {\n    return d.x;\n  }\n  function d3_geom_quadtreeCompatY(d) {\n    return d.y;\n  }\n  function d3_geom_quadtreeNode() {\n    return {\n      leaf: true,\n      nodes: [],\n      point: null,\n      x: null,\n      y: null\n    };\n  }\n  function d3_geom_quadtreeVisit(f, node, x1, y1, x2, y2) {\n    if (!f(node, x1, y1, x2, y2)) {\n      var sx = (x1 + x2) * .5, sy = (y1 + y2) * .5, children = node.nodes;\n      if (children[0]) d3_geom_quadtreeVisit(f, children[0], x1, y1, sx, sy);\n      if (children[1]) d3_geom_quadtreeVisit(f, children[1], sx, y1, x2, sy);\n      if (children[2]) d3_geom_quadtreeVisit(f, children[2], x1, sy, sx, y2);\n      if (children[3]) d3_geom_quadtreeVisit(f, children[3], sx, sy, x2, y2);\n    }\n  }\n  function d3_geom_quadtreeFind(root, x, y, x0, y0, x3, y3) {\n    var minDistance2 = Infinity, closestPoint;\n    (function find(node, x1, y1, x2, y2) {\n      if (x1 > x3 || y1 > y3 || x2 < x0 || y2 < y0) return;\n      if (point = node.point) {\n        var point, dx = x - node.x, dy = y - node.y, distance2 = dx * dx + dy * dy;\n        if (distance2 < minDistance2) {\n          var distance = Math.sqrt(minDistance2 = distance2);\n          x0 = x - distance, y0 = y - distance;\n          x3 = x + distance, y3 = y + distance;\n          closestPoint = point;\n        }\n      }\n      var children = node.nodes, xm = (x1 + x2) * .5, ym = (y1 + y2) * .5, right = x >= xm, below = y >= ym;\n      for (var i = below << 1 | right, j = i + 4; i < j; ++i) {\n        if (node = children[i & 3]) switch (i & 3) {\n         case 0:\n          find(node, x1, y1, xm, ym);\n          break;\n\n         case 1:\n          find(node, xm, y1, x2, ym);\n          break;\n\n         case 2:\n          find(node, x1, ym, xm, y2);\n          break;\n\n         case 3:\n          find(node, xm, ym, x2, y2);\n          break;\n        }\n      }\n    })(root, x0, y0, x3, y3);\n    return closestPoint;\n  }\n  d3.interpolateRgb = d3_interpolateRgb;\n  function d3_interpolateRgb(a, b) {\n    a = d3.rgb(a);\n    b = d3.rgb(b);\n    var ar = a.r, ag = a.g, ab = a.b, br = b.r - ar, bg = b.g - ag, bb = b.b - ab;\n    return function(t) {\n      return \"#\" + d3_rgb_hex(Math.round(ar + br * t)) + d3_rgb_hex(Math.round(ag + bg * t)) + d3_rgb_hex(Math.round(ab + bb * t));\n    };\n  }\n  d3.interpolateObject = d3_interpolateObject;\n  function d3_interpolateObject(a, b) {\n    var i = {}, c = {}, k;\n    for (k in a) {\n      if (k in b) {\n        i[k] = d3_interpolate(a[k], b[k]);\n      } else {\n        c[k] = a[k];\n      }\n    }\n    for (k in b) {\n      if (!(k in a)) {\n        c[k] = b[k];\n      }\n    }\n    return function(t) {\n      for (k in i) c[k] = i[k](t);\n      return c;\n    };\n  }\n  d3.interpolateNumber = d3_interpolateNumber;\n  function d3_interpolateNumber(a, b) {\n    a = +a, b = +b;\n    return function(t) {\n      return a * (1 - t) + b * t;\n    };\n  }\n  d3.interpolateString = d3_interpolateString;\n  function d3_interpolateString(a, b) {\n    var bi = d3_interpolate_numberA.lastIndex = d3_interpolate_numberB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];\n    a = a + \"\", b = b + \"\";\n    while ((am = d3_interpolate_numberA.exec(a)) && (bm = d3_interpolate_numberB.exec(b))) {\n      if ((bs = bm.index) > bi) {\n        bs = b.slice(bi, bs);\n        if (s[i]) s[i] += bs; else s[++i] = bs;\n      }\n      if ((am = am[0]) === (bm = bm[0])) {\n        if (s[i]) s[i] += bm; else s[++i] = bm;\n      } else {\n        s[++i] = null;\n        q.push({\n          i: i,\n          x: d3_interpolateNumber(am, bm)\n        });\n      }\n      bi = d3_interpolate_numberB.lastIndex;\n    }\n    if (bi < b.length) {\n      bs = b.slice(bi);\n      if (s[i]) s[i] += bs; else s[++i] = bs;\n    }\n    return s.length < 2 ? q[0] ? (b = q[0].x, function(t) {\n      return b(t) + \"\";\n    }) : function() {\n      return b;\n    } : (b = q.length, function(t) {\n      for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    });\n  }\n  var d3_interpolate_numberA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, d3_interpolate_numberB = new RegExp(d3_interpolate_numberA.source, \"g\");\n  d3.interpolate = d3_interpolate;\n  function d3_interpolate(a, b) {\n    var i = d3.interpolators.length, f;\n    while (--i >= 0 && !(f = d3.interpolators[i](a, b))) ;\n    return f;\n  }\n  d3.interpolators = [ function(a, b) {\n    var t = typeof b;\n    return (t === \"string\" ? d3_rgb_names.has(b.toLowerCase()) || /^(#|rgb\\(|hsl\\()/i.test(b) ? d3_interpolateRgb : d3_interpolateString : b instanceof d3_color ? d3_interpolateRgb : Array.isArray(b) ? d3_interpolateArray : t === \"object\" && isNaN(b) ? d3_interpolateObject : d3_interpolateNumber)(a, b);\n  } ];\n  d3.interpolateArray = d3_interpolateArray;\n  function d3_interpolateArray(a, b) {\n    var x = [], c = [], na = a.length, nb = b.length, n0 = Math.min(a.length, b.length), i;\n    for (i = 0; i < n0; ++i) x.push(d3_interpolate(a[i], b[i]));\n    for (;i < na; ++i) c[i] = a[i];\n    for (;i < nb; ++i) c[i] = b[i];\n    return function(t) {\n      for (i = 0; i < n0; ++i) c[i] = x[i](t);\n      return c;\n    };\n  }\n  var d3_ease_default = function() {\n    return d3_identity;\n  };\n  var d3_ease = d3.map({\n    linear: d3_ease_default,\n    poly: d3_ease_poly,\n    quad: function() {\n      return d3_ease_quad;\n    },\n    cubic: function() {\n      return d3_ease_cubic;\n    },\n    sin: function() {\n      return d3_ease_sin;\n    },\n    exp: function() {\n      return d3_ease_exp;\n    },\n    circle: function() {\n      return d3_ease_circle;\n    },\n    elastic: d3_ease_elastic,\n    back: d3_ease_back,\n    bounce: function() {\n      return d3_ease_bounce;\n    }\n  });\n  var d3_ease_mode = d3.map({\n    \"in\": d3_identity,\n    out: d3_ease_reverse,\n    \"in-out\": d3_ease_reflect,\n    \"out-in\": function(f) {\n      return d3_ease_reflect(d3_ease_reverse(f));\n    }\n  });\n  d3.ease = function(name) {\n    var i = name.indexOf(\"-\"), t = i >= 0 ? name.slice(0, i) : name, m = i >= 0 ? name.slice(i + 1) : \"in\";\n    t = d3_ease.get(t) || d3_ease_default;\n    m = d3_ease_mode.get(m) || d3_identity;\n    return d3_ease_clamp(m(t.apply(null, d3_arraySlice.call(arguments, 1))));\n  };\n  function d3_ease_clamp(f) {\n    return function(t) {\n      return t <= 0 ? 0 : t >= 1 ? 1 : f(t);\n    };\n  }\n  function d3_ease_reverse(f) {\n    return function(t) {\n      return 1 - f(1 - t);\n    };\n  }\n  function d3_ease_reflect(f) {\n    return function(t) {\n      return .5 * (t < .5 ? f(2 * t) : 2 - f(2 - 2 * t));\n    };\n  }\n  function d3_ease_quad(t) {\n    return t * t;\n  }\n  function d3_ease_cubic(t) {\n    return t * t * t;\n  }\n  function d3_ease_cubicInOut(t) {\n    if (t <= 0) return 0;\n    if (t >= 1) return 1;\n    var t2 = t * t, t3 = t2 * t;\n    return 4 * (t < .5 ? t3 : 3 * (t - t2) + t3 - .75);\n  }\n  function d3_ease_poly(e) {\n    return function(t) {\n      return Math.pow(t, e);\n    };\n  }\n  function d3_ease_sin(t) {\n    return 1 - Math.cos(t * halfπ);\n  }\n  function d3_ease_exp(t) {\n    return Math.pow(2, 10 * (t - 1));\n  }\n  function d3_ease_circle(t) {\n    return 1 - Math.sqrt(1 - t * t);\n  }\n  function d3_ease_elastic(a, p) {\n    var s;\n    if (arguments.length < 2) p = .45;\n    if (arguments.length) s = p / τ * Math.asin(1 / a); else a = 1, s = p / 4;\n    return function(t) {\n      return 1 + a * Math.pow(2, -10 * t) * Math.sin((t - s) * τ / p);\n    };\n  }\n  function d3_ease_back(s) {\n    if (!s) s = 1.70158;\n    return function(t) {\n      return t * t * ((s + 1) * t - s);\n    };\n  }\n  function d3_ease_bounce(t) {\n    return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;\n  }\n  d3.interpolateHcl = d3_interpolateHcl;\n  function d3_interpolateHcl(a, b) {\n    a = d3.hcl(a);\n    b = d3.hcl(b);\n    var ah = a.h, ac = a.c, al = a.l, bh = b.h - ah, bc = b.c - ac, bl = b.l - al;\n    if (isNaN(bc)) bc = 0, ac = isNaN(ac) ? b.c : ac;\n    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;\n    return function(t) {\n      return d3_hcl_lab(ah + bh * t, ac + bc * t, al + bl * t) + \"\";\n    };\n  }\n  d3.interpolateHsl = d3_interpolateHsl;\n  function d3_interpolateHsl(a, b) {\n    a = d3.hsl(a);\n    b = d3.hsl(b);\n    var ah = a.h, as = a.s, al = a.l, bh = b.h - ah, bs = b.s - as, bl = b.l - al;\n    if (isNaN(bs)) bs = 0, as = isNaN(as) ? b.s : as;\n    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;\n    return function(t) {\n      return d3_hsl_rgb(ah + bh * t, as + bs * t, al + bl * t) + \"\";\n    };\n  }\n  d3.interpolateLab = d3_interpolateLab;\n  function d3_interpolateLab(a, b) {\n    a = d3.lab(a);\n    b = d3.lab(b);\n    var al = a.l, aa = a.a, ab = a.b, bl = b.l - al, ba = b.a - aa, bb = b.b - ab;\n    return function(t) {\n      return d3_lab_rgb(al + bl * t, aa + ba * t, ab + bb * t) + \"\";\n    };\n  }\n  d3.interpolateRound = d3_interpolateRound;\n  function d3_interpolateRound(a, b) {\n    b -= a;\n    return function(t) {\n      return Math.round(a + b * t);\n    };\n  }\n  d3.transform = function(string) {\n    var g = d3_document.createElementNS(d3.ns.prefix.svg, \"g\");\n    return (d3.transform = function(string) {\n      if (string != null) {\n        g.setAttribute(\"transform\", string);\n        var t = g.transform.baseVal.consolidate();\n      }\n      return new d3_transform(t ? t.matrix : d3_transformIdentity);\n    })(string);\n  };\n  function d3_transform(m) {\n    var r0 = [ m.a, m.b ], r1 = [ m.c, m.d ], kx = d3_transformNormalize(r0), kz = d3_transformDot(r0, r1), ky = d3_transformNormalize(d3_transformCombine(r1, r0, -kz)) || 0;\n    if (r0[0] * r1[1] < r1[0] * r0[1]) {\n      r0[0] *= -1;\n      r0[1] *= -1;\n      kx *= -1;\n      kz *= -1;\n    }\n    this.rotate = (kx ? Math.atan2(r0[1], r0[0]) : Math.atan2(-r1[0], r1[1])) * d3_degrees;\n    this.translate = [ m.e, m.f ];\n    this.scale = [ kx, ky ];\n    this.skew = ky ? Math.atan2(kz, ky) * d3_degrees : 0;\n  }\n  d3_transform.prototype.toString = function() {\n    return \"translate(\" + this.translate + \")rotate(\" + this.rotate + \")skewX(\" + this.skew + \")scale(\" + this.scale + \")\";\n  };\n  function d3_transformDot(a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n  }\n  function d3_transformNormalize(a) {\n    var k = Math.sqrt(d3_transformDot(a, a));\n    if (k) {\n      a[0] /= k;\n      a[1] /= k;\n    }\n    return k;\n  }\n  function d3_transformCombine(a, b, k) {\n    a[0] += k * b[0];\n    a[1] += k * b[1];\n    return a;\n  }\n  var d3_transformIdentity = {\n    a: 1,\n    b: 0,\n    c: 0,\n    d: 1,\n    e: 0,\n    f: 0\n  };\n  d3.interpolateTransform = d3_interpolateTransform;\n  function d3_interpolateTransformPop(s) {\n    return s.length ? s.pop() + \",\" : \"\";\n  }\n  function d3_interpolateTranslate(ta, tb, s, q) {\n    if (ta[0] !== tb[0] || ta[1] !== tb[1]) {\n      var i = s.push(\"translate(\", null, \",\", null, \")\");\n      q.push({\n        i: i - 4,\n        x: d3_interpolateNumber(ta[0], tb[0])\n      }, {\n        i: i - 2,\n        x: d3_interpolateNumber(ta[1], tb[1])\n      });\n    } else if (tb[0] || tb[1]) {\n      s.push(\"translate(\" + tb + \")\");\n    }\n  }\n  function d3_interpolateRotate(ra, rb, s, q) {\n    if (ra !== rb) {\n      if (ra - rb > 180) rb += 360; else if (rb - ra > 180) ra += 360;\n      q.push({\n        i: s.push(d3_interpolateTransformPop(s) + \"rotate(\", null, \")\") - 2,\n        x: d3_interpolateNumber(ra, rb)\n      });\n    } else if (rb) {\n      s.push(d3_interpolateTransformPop(s) + \"rotate(\" + rb + \")\");\n    }\n  }\n  function d3_interpolateSkew(wa, wb, s, q) {\n    if (wa !== wb) {\n      q.push({\n        i: s.push(d3_interpolateTransformPop(s) + \"skewX(\", null, \")\") - 2,\n        x: d3_interpolateNumber(wa, wb)\n      });\n    } else if (wb) {\n      s.push(d3_interpolateTransformPop(s) + \"skewX(\" + wb + \")\");\n    }\n  }\n  function d3_interpolateScale(ka, kb, s, q) {\n    if (ka[0] !== kb[0] || ka[1] !== kb[1]) {\n      var i = s.push(d3_interpolateTransformPop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({\n        i: i - 4,\n        x: d3_interpolateNumber(ka[0], kb[0])\n      }, {\n        i: i - 2,\n        x: d3_interpolateNumber(ka[1], kb[1])\n      });\n    } else if (kb[0] !== 1 || kb[1] !== 1) {\n      s.push(d3_interpolateTransformPop(s) + \"scale(\" + kb + \")\");\n    }\n  }\n  function d3_interpolateTransform(a, b) {\n    var s = [], q = [];\n    a = d3.transform(a), b = d3.transform(b);\n    d3_interpolateTranslate(a.translate, b.translate, s, q);\n    d3_interpolateRotate(a.rotate, b.rotate, s, q);\n    d3_interpolateSkew(a.skew, b.skew, s, q);\n    d3_interpolateScale(a.scale, b.scale, s, q);\n    a = b = null;\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  }\n  function d3_uninterpolateNumber(a, b) {\n    b = (b -= a = +a) || 1 / b;\n    return function(x) {\n      return (x - a) / b;\n    };\n  }\n  function d3_uninterpolateClamp(a, b) {\n    b = (b -= a = +a) || 1 / b;\n    return function(x) {\n      return Math.max(0, Math.min(1, (x - a) / b));\n    };\n  }\n  d3.layout = {};\n  d3.layout.bundle = function() {\n    return function(links) {\n      var paths = [], i = -1, n = links.length;\n      while (++i < n) paths.push(d3_layout_bundlePath(links[i]));\n      return paths;\n    };\n  };\n  function d3_layout_bundlePath(link) {\n    var start = link.source, end = link.target, lca = d3_layout_bundleLeastCommonAncestor(start, end), points = [ start ];\n    while (start !== lca) {\n      start = start.parent;\n      points.push(start);\n    }\n    var k = points.length;\n    while (end !== lca) {\n      points.splice(k, 0, end);\n      end = end.parent;\n    }\n    return points;\n  }\n  function d3_layout_bundleAncestors(node) {\n    var ancestors = [], parent = node.parent;\n    while (parent != null) {\n      ancestors.push(node);\n      node = parent;\n      parent = parent.parent;\n    }\n    ancestors.push(node);\n    return ancestors;\n  }\n  function d3_layout_bundleLeastCommonAncestor(a, b) {\n    if (a === b) return a;\n    var aNodes = d3_layout_bundleAncestors(a), bNodes = d3_layout_bundleAncestors(b), aNode = aNodes.pop(), bNode = bNodes.pop(), sharedNode = null;\n    while (aNode === bNode) {\n      sharedNode = aNode;\n      aNode = aNodes.pop();\n      bNode = bNodes.pop();\n    }\n    return sharedNode;\n  }\n  d3.layout.chord = function() {\n    var chord = {}, chords, groups, matrix, n, padding = 0, sortGroups, sortSubgroups, sortChords;\n    function relayout() {\n      var subgroups = {}, groupSums = [], groupIndex = d3.range(n), subgroupIndex = [], k, x, x0, i, j;\n      chords = [];\n      groups = [];\n      k = 0, i = -1;\n      while (++i < n) {\n        x = 0, j = -1;\n        while (++j < n) {\n          x += matrix[i][j];\n        }\n        groupSums.push(x);\n        subgroupIndex.push(d3.range(n));\n        k += x;\n      }\n      if (sortGroups) {\n        groupIndex.sort(function(a, b) {\n          return sortGroups(groupSums[a], groupSums[b]);\n        });\n      }\n      if (sortSubgroups) {\n        subgroupIndex.forEach(function(d, i) {\n          d.sort(function(a, b) {\n            return sortSubgroups(matrix[i][a], matrix[i][b]);\n          });\n        });\n      }\n      k = (τ - padding * n) / k;\n      x = 0, i = -1;\n      while (++i < n) {\n        x0 = x, j = -1;\n        while (++j < n) {\n          var di = groupIndex[i], dj = subgroupIndex[di][j], v = matrix[di][dj], a0 = x, a1 = x += v * k;\n          subgroups[di + \"-\" + dj] = {\n            index: di,\n            subindex: dj,\n            startAngle: a0,\n            endAngle: a1,\n            value: v\n          };\n        }\n        groups[di] = {\n          index: di,\n          startAngle: x0,\n          endAngle: x,\n          value: groupSums[di]\n        };\n        x += padding;\n      }\n      i = -1;\n      while (++i < n) {\n        j = i - 1;\n        while (++j < n) {\n          var source = subgroups[i + \"-\" + j], target = subgroups[j + \"-\" + i];\n          if (source.value || target.value) {\n            chords.push(source.value < target.value ? {\n              source: target,\n              target: source\n            } : {\n              source: source,\n              target: target\n            });\n          }\n        }\n      }\n      if (sortChords) resort();\n    }\n    function resort() {\n      chords.sort(function(a, b) {\n        return sortChords((a.source.value + a.target.value) / 2, (b.source.value + b.target.value) / 2);\n      });\n    }\n    chord.matrix = function(x) {\n      if (!arguments.length) return matrix;\n      n = (matrix = x) && matrix.length;\n      chords = groups = null;\n      return chord;\n    };\n    chord.padding = function(x) {\n      if (!arguments.length) return padding;\n      padding = x;\n      chords = groups = null;\n      return chord;\n    };\n    chord.sortGroups = function(x) {\n      if (!arguments.length) return sortGroups;\n      sortGroups = x;\n      chords = groups = null;\n      return chord;\n    };\n    chord.sortSubgroups = function(x) {\n      if (!arguments.length) return sortSubgroups;\n      sortSubgroups = x;\n      chords = null;\n      return chord;\n    };\n    chord.sortChords = function(x) {\n      if (!arguments.length) return sortChords;\n      sortChords = x;\n      if (chords) resort();\n      return chord;\n    };\n    chord.chords = function() {\n      if (!chords) relayout();\n      return chords;\n    };\n    chord.groups = function() {\n      if (!groups) relayout();\n      return groups;\n    };\n    return chord;\n  };\n  d3.layout.force = function() {\n    var force = {}, event = d3.dispatch(\"start\", \"tick\", \"end\"), timer, size = [ 1, 1 ], drag, alpha, friction = .9, linkDistance = d3_layout_forceLinkDistance, linkStrength = d3_layout_forceLinkStrength, charge = -30, chargeDistance2 = d3_layout_forceChargeDistance2, gravity = .1, theta2 = .64, nodes = [], links = [], distances, strengths, charges;\n    function repulse(node) {\n      return function(quad, x1, _, x2) {\n        if (quad.point !== node) {\n          var dx = quad.cx - node.x, dy = quad.cy - node.y, dw = x2 - x1, dn = dx * dx + dy * dy;\n          if (dw * dw / theta2 < dn) {\n            if (dn < chargeDistance2) {\n              var k = quad.charge / dn;\n              node.px -= dx * k;\n              node.py -= dy * k;\n            }\n            return true;\n          }\n          if (quad.point && dn && dn < chargeDistance2) {\n            var k = quad.pointCharge / dn;\n            node.px -= dx * k;\n            node.py -= dy * k;\n          }\n        }\n        return !quad.charge;\n      };\n    }\n    force.tick = function() {\n      if ((alpha *= .99) < .005) {\n        timer = null;\n        event.end({\n          type: \"end\",\n          alpha: alpha = 0\n        });\n        return true;\n      }\n      var n = nodes.length, m = links.length, q, i, o, s, t, l, k, x, y;\n      for (i = 0; i < m; ++i) {\n        o = links[i];\n        s = o.source;\n        t = o.target;\n        x = t.x - s.x;\n        y = t.y - s.y;\n        if (l = x * x + y * y) {\n          l = alpha * strengths[i] * ((l = Math.sqrt(l)) - distances[i]) / l;\n          x *= l;\n          y *= l;\n          t.x -= x * (k = s.weight + t.weight ? s.weight / (s.weight + t.weight) : .5);\n          t.y -= y * k;\n          s.x += x * (k = 1 - k);\n          s.y += y * k;\n        }\n      }\n      if (k = alpha * gravity) {\n        x = size[0] / 2;\n        y = size[1] / 2;\n        i = -1;\n        if (k) while (++i < n) {\n          o = nodes[i];\n          o.x += (x - o.x) * k;\n          o.y += (y - o.y) * k;\n        }\n      }\n      if (charge) {\n        d3_layout_forceAccumulate(q = d3.geom.quadtree(nodes), alpha, charges);\n        i = -1;\n        while (++i < n) {\n          if (!(o = nodes[i]).fixed) {\n            q.visit(repulse(o));\n          }\n        }\n      }\n      i = -1;\n      while (++i < n) {\n        o = nodes[i];\n        if (o.fixed) {\n          o.x = o.px;\n          o.y = o.py;\n        } else {\n          o.x -= (o.px - (o.px = o.x)) * friction;\n          o.y -= (o.py - (o.py = o.y)) * friction;\n        }\n      }\n      event.tick({\n        type: \"tick\",\n        alpha: alpha\n      });\n    };\n    force.nodes = function(x) {\n      if (!arguments.length) return nodes;\n      nodes = x;\n      return force;\n    };\n    force.links = function(x) {\n      if (!arguments.length) return links;\n      links = x;\n      return force;\n    };\n    force.size = function(x) {\n      if (!arguments.length) return size;\n      size = x;\n      return force;\n    };\n    force.linkDistance = function(x) {\n      if (!arguments.length) return linkDistance;\n      linkDistance = typeof x === \"function\" ? x : +x;\n      return force;\n    };\n    force.distance = force.linkDistance;\n    force.linkStrength = function(x) {\n      if (!arguments.length) return linkStrength;\n      linkStrength = typeof x === \"function\" ? x : +x;\n      return force;\n    };\n    force.friction = function(x) {\n      if (!arguments.length) return friction;\n      friction = +x;\n      return force;\n    };\n    force.charge = function(x) {\n      if (!arguments.length) return charge;\n      charge = typeof x === \"function\" ? x : +x;\n      return force;\n    };\n    force.chargeDistance = function(x) {\n      if (!arguments.length) return Math.sqrt(chargeDistance2);\n      chargeDistance2 = x * x;\n      return force;\n    };\n    force.gravity = function(x) {\n      if (!arguments.length) return gravity;\n      gravity = +x;\n      return force;\n    };\n    force.theta = function(x) {\n      if (!arguments.length) return Math.sqrt(theta2);\n      theta2 = x * x;\n      return force;\n    };\n    force.alpha = function(x) {\n      if (!arguments.length) return alpha;\n      x = +x;\n      if (alpha) {\n        if (x > 0) {\n          alpha = x;\n        } else {\n          timer.c = null, timer.t = NaN, timer = null;\n          event.end({\n            type: \"end\",\n            alpha: alpha = 0\n          });\n        }\n      } else if (x > 0) {\n        event.start({\n          type: \"start\",\n          alpha: alpha = x\n        });\n        timer = d3_timer(force.tick);\n      }\n      return force;\n    };\n    force.start = function() {\n      var i, n = nodes.length, m = links.length, w = size[0], h = size[1], neighbors, o;\n      for (i = 0; i < n; ++i) {\n        (o = nodes[i]).index = i;\n        o.weight = 0;\n      }\n      for (i = 0; i < m; ++i) {\n        o = links[i];\n        if (typeof o.source == \"number\") o.source = nodes[o.source];\n        if (typeof o.target == \"number\") o.target = nodes[o.target];\n        ++o.source.weight;\n        ++o.target.weight;\n      }\n      for (i = 0; i < n; ++i) {\n        o = nodes[i];\n        if (isNaN(o.x)) o.x = position(\"x\", w);\n        if (isNaN(o.y)) o.y = position(\"y\", h);\n        if (isNaN(o.px)) o.px = o.x;\n        if (isNaN(o.py)) o.py = o.y;\n      }\n      distances = [];\n      if (typeof linkDistance === \"function\") for (i = 0; i < m; ++i) distances[i] = +linkDistance.call(this, links[i], i); else for (i = 0; i < m; ++i) distances[i] = linkDistance;\n      strengths = [];\n      if (typeof linkStrength === \"function\") for (i = 0; i < m; ++i) strengths[i] = +linkStrength.call(this, links[i], i); else for (i = 0; i < m; ++i) strengths[i] = linkStrength;\n      charges = [];\n      if (typeof charge === \"function\") for (i = 0; i < n; ++i) charges[i] = +charge.call(this, nodes[i], i); else for (i = 0; i < n; ++i) charges[i] = charge;\n      function position(dimension, size) {\n        if (!neighbors) {\n          neighbors = new Array(n);\n          for (j = 0; j < n; ++j) {\n            neighbors[j] = [];\n          }\n          for (j = 0; j < m; ++j) {\n            var o = links[j];\n            neighbors[o.source.index].push(o.target);\n            neighbors[o.target.index].push(o.source);\n          }\n        }\n        var candidates = neighbors[i], j = -1, l = candidates.length, x;\n        while (++j < l) if (!isNaN(x = candidates[j][dimension])) return x;\n        return Math.random() * size;\n      }\n      return force.resume();\n    };\n    force.resume = function() {\n      return force.alpha(.1);\n    };\n    force.stop = function() {\n      return force.alpha(0);\n    };\n    force.drag = function() {\n      if (!drag) drag = d3.behavior.drag().origin(d3_identity).on(\"dragstart.force\", d3_layout_forceDragstart).on(\"drag.force\", dragmove).on(\"dragend.force\", d3_layout_forceDragend);\n      if (!arguments.length) return drag;\n      this.on(\"mouseover.force\", d3_layout_forceMouseover).on(\"mouseout.force\", d3_layout_forceMouseout).call(drag);\n    };\n    function dragmove(d) {\n      d.px = d3.event.x, d.py = d3.event.y;\n      force.resume();\n    }\n    return d3.rebind(force, event, \"on\");\n  };\n  function d3_layout_forceDragstart(d) {\n    d.fixed |= 2;\n  }\n  function d3_layout_forceDragend(d) {\n    d.fixed &= ~6;\n  }\n  function d3_layout_forceMouseover(d) {\n    d.fixed |= 4;\n    d.px = d.x, d.py = d.y;\n  }\n  function d3_layout_forceMouseout(d) {\n    d.fixed &= ~4;\n  }\n  function d3_layout_forceAccumulate(quad, alpha, charges) {\n    var cx = 0, cy = 0;\n    quad.charge = 0;\n    if (!quad.leaf) {\n      var nodes = quad.nodes, n = nodes.length, i = -1, c;\n      while (++i < n) {\n        c = nodes[i];\n        if (c == null) continue;\n        d3_layout_forceAccumulate(c, alpha, charges);\n        quad.charge += c.charge;\n        cx += c.charge * c.cx;\n        cy += c.charge * c.cy;\n      }\n    }\n    if (quad.point) {\n      if (!quad.leaf) {\n        quad.point.x += Math.random() - .5;\n        quad.point.y += Math.random() - .5;\n      }\n      var k = alpha * charges[quad.point.index];\n      quad.charge += quad.pointCharge = k;\n      cx += k * quad.point.x;\n      cy += k * quad.point.y;\n    }\n    quad.cx = cx / quad.charge;\n    quad.cy = cy / quad.charge;\n  }\n  var d3_layout_forceLinkDistance = 20, d3_layout_forceLinkStrength = 1, d3_layout_forceChargeDistance2 = Infinity;\n  d3.layout.hierarchy = function() {\n    var sort = d3_layout_hierarchySort, children = d3_layout_hierarchyChildren, value = d3_layout_hierarchyValue;\n    function hierarchy(root) {\n      var stack = [ root ], nodes = [], node;\n      root.depth = 0;\n      while ((node = stack.pop()) != null) {\n        nodes.push(node);\n        if ((childs = children.call(hierarchy, node, node.depth)) && (n = childs.length)) {\n          var n, childs, child;\n          while (--n >= 0) {\n            stack.push(child = childs[n]);\n            child.parent = node;\n            child.depth = node.depth + 1;\n          }\n          if (value) node.value = 0;\n          node.children = childs;\n        } else {\n          if (value) node.value = +value.call(hierarchy, node, node.depth) || 0;\n          delete node.children;\n        }\n      }\n      d3_layout_hierarchyVisitAfter(root, function(node) {\n        var childs, parent;\n        if (sort && (childs = node.children)) childs.sort(sort);\n        if (value && (parent = node.parent)) parent.value += node.value;\n      });\n      return nodes;\n    }\n    hierarchy.sort = function(x) {\n      if (!arguments.length) return sort;\n      sort = x;\n      return hierarchy;\n    };\n    hierarchy.children = function(x) {\n      if (!arguments.length) return children;\n      children = x;\n      return hierarchy;\n    };\n    hierarchy.value = function(x) {\n      if (!arguments.length) return value;\n      value = x;\n      return hierarchy;\n    };\n    hierarchy.revalue = function(root) {\n      if (value) {\n        d3_layout_hierarchyVisitBefore(root, function(node) {\n          if (node.children) node.value = 0;\n        });\n        d3_layout_hierarchyVisitAfter(root, function(node) {\n          var parent;\n          if (!node.children) node.value = +value.call(hierarchy, node, node.depth) || 0;\n          if (parent = node.parent) parent.value += node.value;\n        });\n      }\n      return root;\n    };\n    return hierarchy;\n  };\n  function d3_layout_hierarchyRebind(object, hierarchy) {\n    d3.rebind(object, hierarchy, \"sort\", \"children\", \"value\");\n    object.nodes = object;\n    object.links = d3_layout_hierarchyLinks;\n    return object;\n  }\n  function d3_layout_hierarchyVisitBefore(node, callback) {\n    var nodes = [ node ];\n    while ((node = nodes.pop()) != null) {\n      callback(node);\n      if ((children = node.children) && (n = children.length)) {\n        var n, children;\n        while (--n >= 0) nodes.push(children[n]);\n      }\n    }\n  }\n  function d3_layout_hierarchyVisitAfter(node, callback) {\n    var nodes = [ node ], nodes2 = [];\n    while ((node = nodes.pop()) != null) {\n      nodes2.push(node);\n      if ((children = node.children) && (n = children.length)) {\n        var i = -1, n, children;\n        while (++i < n) nodes.push(children[i]);\n      }\n    }\n    while ((node = nodes2.pop()) != null) {\n      callback(node);\n    }\n  }\n  function d3_layout_hierarchyChildren(d) {\n    return d.children;\n  }\n  function d3_layout_hierarchyValue(d) {\n    return d.value;\n  }\n  function d3_layout_hierarchySort(a, b) {\n    return b.value - a.value;\n  }\n  function d3_layout_hierarchyLinks(nodes) {\n    return d3.merge(nodes.map(function(parent) {\n      return (parent.children || []).map(function(child) {\n        return {\n          source: parent,\n          target: child\n        };\n      });\n    }));\n  }\n  d3.layout.partition = function() {\n    var hierarchy = d3.layout.hierarchy(), size = [ 1, 1 ];\n    function position(node, x, dx, dy) {\n      var children = node.children;\n      node.x = x;\n      node.y = node.depth * dy;\n      node.dx = dx;\n      node.dy = dy;\n      if (children && (n = children.length)) {\n        var i = -1, n, c, d;\n        dx = node.value ? dx / node.value : 0;\n        while (++i < n) {\n          position(c = children[i], x, d = c.value * dx, dy);\n          x += d;\n        }\n      }\n    }\n    function depth(node) {\n      var children = node.children, d = 0;\n      if (children && (n = children.length)) {\n        var i = -1, n;\n        while (++i < n) d = Math.max(d, depth(children[i]));\n      }\n      return 1 + d;\n    }\n    function partition(d, i) {\n      var nodes = hierarchy.call(this, d, i);\n      position(nodes[0], 0, size[0], size[1] / depth(nodes[0]));\n      return nodes;\n    }\n    partition.size = function(x) {\n      if (!arguments.length) return size;\n      size = x;\n      return partition;\n    };\n    return d3_layout_hierarchyRebind(partition, hierarchy);\n  };\n  d3.layout.pie = function() {\n    var value = Number, sort = d3_layout_pieSortByValue, startAngle = 0, endAngle = τ, padAngle = 0;\n    function pie(data) {\n      var n = data.length, values = data.map(function(d, i) {\n        return +value.call(pie, d, i);\n      }), a = +(typeof startAngle === \"function\" ? startAngle.apply(this, arguments) : startAngle), da = (typeof endAngle === \"function\" ? endAngle.apply(this, arguments) : endAngle) - a, p = Math.min(Math.abs(da) / n, +(typeof padAngle === \"function\" ? padAngle.apply(this, arguments) : padAngle)), pa = p * (da < 0 ? -1 : 1), sum = d3.sum(values), k = sum ? (da - n * pa) / sum : 0, index = d3.range(n), arcs = [], v;\n      if (sort != null) index.sort(sort === d3_layout_pieSortByValue ? function(i, j) {\n        return values[j] - values[i];\n      } : function(i, j) {\n        return sort(data[i], data[j]);\n      });\n      index.forEach(function(i) {\n        arcs[i] = {\n          data: data[i],\n          value: v = values[i],\n          startAngle: a,\n          endAngle: a += v * k + pa,\n          padAngle: p\n        };\n      });\n      return arcs;\n    }\n    pie.value = function(_) {\n      if (!arguments.length) return value;\n      value = _;\n      return pie;\n    };\n    pie.sort = function(_) {\n      if (!arguments.length) return sort;\n      sort = _;\n      return pie;\n    };\n    pie.startAngle = function(_) {\n      if (!arguments.length) return startAngle;\n      startAngle = _;\n      return pie;\n    };\n    pie.endAngle = function(_) {\n      if (!arguments.length) return endAngle;\n      endAngle = _;\n      return pie;\n    };\n    pie.padAngle = function(_) {\n      if (!arguments.length) return padAngle;\n      padAngle = _;\n      return pie;\n    };\n    return pie;\n  };\n  var d3_layout_pieSortByValue = {};\n  d3.layout.stack = function() {\n    var values = d3_identity, order = d3_layout_stackOrderDefault, offset = d3_layout_stackOffsetZero, out = d3_layout_stackOut, x = d3_layout_stackX, y = d3_layout_stackY;\n    function stack(data, index) {\n      if (!(n = data.length)) return data;\n      var series = data.map(function(d, i) {\n        return values.call(stack, d, i);\n      });\n      var points = series.map(function(d) {\n        return d.map(function(v, i) {\n          return [ x.call(stack, v, i), y.call(stack, v, i) ];\n        });\n      });\n      var orders = order.call(stack, points, index);\n      series = d3.permute(series, orders);\n      points = d3.permute(points, orders);\n      var offsets = offset.call(stack, points, index);\n      var m = series[0].length, n, i, j, o;\n      for (j = 0; j < m; ++j) {\n        out.call(stack, series[0][j], o = offsets[j], points[0][j][1]);\n        for (i = 1; i < n; ++i) {\n          out.call(stack, series[i][j], o += points[i - 1][j][1], points[i][j][1]);\n        }\n      }\n      return data;\n    }\n    stack.values = function(x) {\n      if (!arguments.length) return values;\n      values = x;\n      return stack;\n    };\n    stack.order = function(x) {\n      if (!arguments.length) return order;\n      order = typeof x === \"function\" ? x : d3_layout_stackOrders.get(x) || d3_layout_stackOrderDefault;\n      return stack;\n    };\n    stack.offset = function(x) {\n      if (!arguments.length) return offset;\n      offset = typeof x === \"function\" ? x : d3_layout_stackOffsets.get(x) || d3_layout_stackOffsetZero;\n      return stack;\n    };\n    stack.x = function(z) {\n      if (!arguments.length) return x;\n      x = z;\n      return stack;\n    };\n    stack.y = function(z) {\n      if (!arguments.length) return y;\n      y = z;\n      return stack;\n    };\n    stack.out = function(z) {\n      if (!arguments.length) return out;\n      out = z;\n      return stack;\n    };\n    return stack;\n  };\n  function d3_layout_stackX(d) {\n    return d.x;\n  }\n  function d3_layout_stackY(d) {\n    return d.y;\n  }\n  function d3_layout_stackOut(d, y0, y) {\n    d.y0 = y0;\n    d.y = y;\n  }\n  var d3_layout_stackOrders = d3.map({\n    \"inside-out\": function(data) {\n      var n = data.length, i, j, max = data.map(d3_layout_stackMaxIndex), sums = data.map(d3_layout_stackReduceSum), index = d3.range(n).sort(function(a, b) {\n        return max[a] - max[b];\n      }), top = 0, bottom = 0, tops = [], bottoms = [];\n      for (i = 0; i < n; ++i) {\n        j = index[i];\n        if (top < bottom) {\n          top += sums[j];\n          tops.push(j);\n        } else {\n          bottom += sums[j];\n          bottoms.push(j);\n        }\n      }\n      return bottoms.reverse().concat(tops);\n    },\n    reverse: function(data) {\n      return d3.range(data.length).reverse();\n    },\n    \"default\": d3_layout_stackOrderDefault\n  });\n  var d3_layout_stackOffsets = d3.map({\n    silhouette: function(data) {\n      var n = data.length, m = data[0].length, sums = [], max = 0, i, j, o, y0 = [];\n      for (j = 0; j < m; ++j) {\n        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];\n        if (o > max) max = o;\n        sums.push(o);\n      }\n      for (j = 0; j < m; ++j) {\n        y0[j] = (max - sums[j]) / 2;\n      }\n      return y0;\n    },\n    wiggle: function(data) {\n      var n = data.length, x = data[0], m = x.length, i, j, k, s1, s2, s3, dx, o, o0, y0 = [];\n      y0[0] = o = o0 = 0;\n      for (j = 1; j < m; ++j) {\n        for (i = 0, s1 = 0; i < n; ++i) s1 += data[i][j][1];\n        for (i = 0, s2 = 0, dx = x[j][0] - x[j - 1][0]; i < n; ++i) {\n          for (k = 0, s3 = (data[i][j][1] - data[i][j - 1][1]) / (2 * dx); k < i; ++k) {\n            s3 += (data[k][j][1] - data[k][j - 1][1]) / dx;\n          }\n          s2 += s3 * data[i][j][1];\n        }\n        y0[j] = o -= s1 ? s2 / s1 * dx : 0;\n        if (o < o0) o0 = o;\n      }\n      for (j = 0; j < m; ++j) y0[j] -= o0;\n      return y0;\n    },\n    expand: function(data) {\n      var n = data.length, m = data[0].length, k = 1 / n, i, j, o, y0 = [];\n      for (j = 0; j < m; ++j) {\n        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];\n        if (o) for (i = 0; i < n; i++) data[i][j][1] /= o; else for (i = 0; i < n; i++) data[i][j][1] = k;\n      }\n      for (j = 0; j < m; ++j) y0[j] = 0;\n      return y0;\n    },\n    zero: d3_layout_stackOffsetZero\n  });\n  function d3_layout_stackOrderDefault(data) {\n    return d3.range(data.length);\n  }\n  function d3_layout_stackOffsetZero(data) {\n    var j = -1, m = data[0].length, y0 = [];\n    while (++j < m) y0[j] = 0;\n    return y0;\n  }\n  function d3_layout_stackMaxIndex(array) {\n    var i = 1, j = 0, v = array[0][1], k, n = array.length;\n    for (;i < n; ++i) {\n      if ((k = array[i][1]) > v) {\n        j = i;\n        v = k;\n      }\n    }\n    return j;\n  }\n  function d3_layout_stackReduceSum(d) {\n    return d.reduce(d3_layout_stackSum, 0);\n  }\n  function d3_layout_stackSum(p, d) {\n    return p + d[1];\n  }\n  d3.layout.histogram = function() {\n    var frequency = true, valuer = Number, ranger = d3_layout_histogramRange, binner = d3_layout_histogramBinSturges;\n    function histogram(data, i) {\n      var bins = [], values = data.map(valuer, this), range = ranger.call(this, values, i), thresholds = binner.call(this, range, values, i), bin, i = -1, n = values.length, m = thresholds.length - 1, k = frequency ? 1 : 1 / n, x;\n      while (++i < m) {\n        bin = bins[i] = [];\n        bin.dx = thresholds[i + 1] - (bin.x = thresholds[i]);\n        bin.y = 0;\n      }\n      if (m > 0) {\n        i = -1;\n        while (++i < n) {\n          x = values[i];\n          if (x >= range[0] && x <= range[1]) {\n            bin = bins[d3.bisect(thresholds, x, 1, m) - 1];\n            bin.y += k;\n            bin.push(data[i]);\n          }\n        }\n      }\n      return bins;\n    }\n    histogram.value = function(x) {\n      if (!arguments.length) return valuer;\n      valuer = x;\n      return histogram;\n    };\n    histogram.range = function(x) {\n      if (!arguments.length) return ranger;\n      ranger = d3_functor(x);\n      return histogram;\n    };\n    histogram.bins = function(x) {\n      if (!arguments.length) return binner;\n      binner = typeof x === \"number\" ? function(range) {\n        return d3_layout_histogramBinFixed(range, x);\n      } : d3_functor(x);\n      return histogram;\n    };\n    histogram.frequency = function(x) {\n      if (!arguments.length) return frequency;\n      frequency = !!x;\n      return histogram;\n    };\n    return histogram;\n  };\n  function d3_layout_histogramBinSturges(range, values) {\n    return d3_layout_histogramBinFixed(range, Math.ceil(Math.log(values.length) / Math.LN2 + 1));\n  }\n  function d3_layout_histogramBinFixed(range, n) {\n    var x = -1, b = +range[0], m = (range[1] - b) / n, f = [];\n    while (++x <= n) f[x] = m * x + b;\n    return f;\n  }\n  function d3_layout_histogramRange(values) {\n    return [ d3.min(values), d3.max(values) ];\n  }\n  d3.layout.pack = function() {\n    var hierarchy = d3.layout.hierarchy().sort(d3_layout_packSort), padding = 0, size = [ 1, 1 ], radius;\n    function pack(d, i) {\n      var nodes = hierarchy.call(this, d, i), root = nodes[0], w = size[0], h = size[1], r = radius == null ? Math.sqrt : typeof radius === \"function\" ? radius : function() {\n        return radius;\n      };\n      root.x = root.y = 0;\n      d3_layout_hierarchyVisitAfter(root, function(d) {\n        d.r = +r(d.value);\n      });\n      d3_layout_hierarchyVisitAfter(root, d3_layout_packSiblings);\n      if (padding) {\n        var dr = padding * (radius ? 1 : Math.max(2 * root.r / w, 2 * root.r / h)) / 2;\n        d3_layout_hierarchyVisitAfter(root, function(d) {\n          d.r += dr;\n        });\n        d3_layout_hierarchyVisitAfter(root, d3_layout_packSiblings);\n        d3_layout_hierarchyVisitAfter(root, function(d) {\n          d.r -= dr;\n        });\n      }\n      d3_layout_packTransform(root, w / 2, h / 2, radius ? 1 : 1 / Math.max(2 * root.r / w, 2 * root.r / h));\n      return nodes;\n    }\n    pack.size = function(_) {\n      if (!arguments.length) return size;\n      size = _;\n      return pack;\n    };\n    pack.radius = function(_) {\n      if (!arguments.length) return radius;\n      radius = _ == null || typeof _ === \"function\" ? _ : +_;\n      return pack;\n    };\n    pack.padding = function(_) {\n      if (!arguments.length) return padding;\n      padding = +_;\n      return pack;\n    };\n    return d3_layout_hierarchyRebind(pack, hierarchy);\n  };\n  function d3_layout_packSort(a, b) {\n    return a.value - b.value;\n  }\n  function d3_layout_packInsert(a, b) {\n    var c = a._pack_next;\n    a._pack_next = b;\n    b._pack_prev = a;\n    b._pack_next = c;\n    c._pack_prev = b;\n  }\n  function d3_layout_packSplice(a, b) {\n    a._pack_next = b;\n    b._pack_prev = a;\n  }\n  function d3_layout_packIntersects(a, b) {\n    var dx = b.x - a.x, dy = b.y - a.y, dr = a.r + b.r;\n    return .999 * dr * dr > dx * dx + dy * dy;\n  }\n  function d3_layout_packSiblings(node) {\n    if (!(nodes = node.children) || !(n = nodes.length)) return;\n    var nodes, xMin = Infinity, xMax = -Infinity, yMin = Infinity, yMax = -Infinity, a, b, c, i, j, k, n;\n    function bound(node) {\n      xMin = Math.min(node.x - node.r, xMin);\n      xMax = Math.max(node.x + node.r, xMax);\n      yMin = Math.min(node.y - node.r, yMin);\n      yMax = Math.max(node.y + node.r, yMax);\n    }\n    nodes.forEach(d3_layout_packLink);\n    a = nodes[0];\n    a.x = -a.r;\n    a.y = 0;\n    bound(a);\n    if (n > 1) {\n      b = nodes[1];\n      b.x = b.r;\n      b.y = 0;\n      bound(b);\n      if (n > 2) {\n        c = nodes[2];\n        d3_layout_packPlace(a, b, c);\n        bound(c);\n        d3_layout_packInsert(a, c);\n        a._pack_prev = c;\n        d3_layout_packInsert(c, b);\n        b = a._pack_next;\n        for (i = 3; i < n; i++) {\n          d3_layout_packPlace(a, b, c = nodes[i]);\n          var isect = 0, s1 = 1, s2 = 1;\n          for (j = b._pack_next; j !== b; j = j._pack_next, s1++) {\n            if (d3_layout_packIntersects(j, c)) {\n              isect = 1;\n              break;\n            }\n          }\n          if (isect == 1) {\n            for (k = a._pack_prev; k !== j._pack_prev; k = k._pack_prev, s2++) {\n              if (d3_layout_packIntersects(k, c)) {\n                break;\n              }\n            }\n          }\n          if (isect) {\n            if (s1 < s2 || s1 == s2 && b.r < a.r) d3_layout_packSplice(a, b = j); else d3_layout_packSplice(a = k, b);\n            i--;\n          } else {\n            d3_layout_packInsert(a, c);\n            b = c;\n            bound(c);\n          }\n        }\n      }\n    }\n    var cx = (xMin + xMax) / 2, cy = (yMin + yMax) / 2, cr = 0;\n    for (i = 0; i < n; i++) {\n      c = nodes[i];\n      c.x -= cx;\n      c.y -= cy;\n      cr = Math.max(cr, c.r + Math.sqrt(c.x * c.x + c.y * c.y));\n    }\n    node.r = cr;\n    nodes.forEach(d3_layout_packUnlink);\n  }\n  function d3_layout_packLink(node) {\n    node._pack_next = node._pack_prev = node;\n  }\n  function d3_layout_packUnlink(node) {\n    delete node._pack_next;\n    delete node._pack_prev;\n  }\n  function d3_layout_packTransform(node, x, y, k) {\n    var children = node.children;\n    node.x = x += k * node.x;\n    node.y = y += k * node.y;\n    node.r *= k;\n    if (children) {\n      var i = -1, n = children.length;\n      while (++i < n) d3_layout_packTransform(children[i], x, y, k);\n    }\n  }\n  function d3_layout_packPlace(a, b, c) {\n    var db = a.r + c.r, dx = b.x - a.x, dy = b.y - a.y;\n    if (db && (dx || dy)) {\n      var da = b.r + c.r, dc = dx * dx + dy * dy;\n      da *= da;\n      db *= db;\n      var x = .5 + (db - da) / (2 * dc), y = Math.sqrt(Math.max(0, 2 * da * (db + dc) - (db -= dc) * db - da * da)) / (2 * dc);\n      c.x = a.x + x * dx + y * dy;\n      c.y = a.y + x * dy - y * dx;\n    } else {\n      c.x = a.x + db;\n      c.y = a.y;\n    }\n  }\n  d3.layout.tree = function() {\n    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = null;\n    function tree(d, i) {\n      var nodes = hierarchy.call(this, d, i), root0 = nodes[0], root1 = wrapTree(root0);\n      d3_layout_hierarchyVisitAfter(root1, firstWalk), root1.parent.m = -root1.z;\n      d3_layout_hierarchyVisitBefore(root1, secondWalk);\n      if (nodeSize) d3_layout_hierarchyVisitBefore(root0, sizeNode); else {\n        var left = root0, right = root0, bottom = root0;\n        d3_layout_hierarchyVisitBefore(root0, function(node) {\n          if (node.x < left.x) left = node;\n          if (node.x > right.x) right = node;\n          if (node.depth > bottom.depth) bottom = node;\n        });\n        var tx = separation(left, right) / 2 - left.x, kx = size[0] / (right.x + separation(right, left) / 2 + tx), ky = size[1] / (bottom.depth || 1);\n        d3_layout_hierarchyVisitBefore(root0, function(node) {\n          node.x = (node.x + tx) * kx;\n          node.y = node.depth * ky;\n        });\n      }\n      return nodes;\n    }\n    function wrapTree(root0) {\n      var root1 = {\n        A: null,\n        children: [ root0 ]\n      }, queue = [ root1 ], node1;\n      while ((node1 = queue.pop()) != null) {\n        for (var children = node1.children, child, i = 0, n = children.length; i < n; ++i) {\n          queue.push((children[i] = child = {\n            _: children[i],\n            parent: node1,\n            children: (child = children[i].children) && child.slice() || [],\n            A: null,\n            a: null,\n            z: 0,\n            m: 0,\n            c: 0,\n            s: 0,\n            t: null,\n            i: i\n          }).a = child);\n        }\n      }\n      return root1.children[0];\n    }\n    function firstWalk(v) {\n      var children = v.children, siblings = v.parent.children, w = v.i ? siblings[v.i - 1] : null;\n      if (children.length) {\n        d3_layout_treeShift(v);\n        var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n        if (w) {\n          v.z = w.z + separation(v._, w._);\n          v.m = v.z - midpoint;\n        } else {\n          v.z = midpoint;\n        }\n      } else if (w) {\n        v.z = w.z + separation(v._, w._);\n      }\n      v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n    }\n    function secondWalk(v) {\n      v._.x = v.z + v.parent.m;\n      v.m += v.parent.m;\n    }\n    function apportion(v, w, ancestor) {\n      if (w) {\n        var vip = v, vop = v, vim = w, vom = vip.parent.children[0], sip = vip.m, sop = vop.m, sim = vim.m, som = vom.m, shift;\n        while (vim = d3_layout_treeRight(vim), vip = d3_layout_treeLeft(vip), vim && vip) {\n          vom = d3_layout_treeLeft(vom);\n          vop = d3_layout_treeRight(vop);\n          vop.a = v;\n          shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n          if (shift > 0) {\n            d3_layout_treeMove(d3_layout_treeAncestor(vim, v, ancestor), v, shift);\n            sip += shift;\n            sop += shift;\n          }\n          sim += vim.m;\n          sip += vip.m;\n          som += vom.m;\n          sop += vop.m;\n        }\n        if (vim && !d3_layout_treeRight(vop)) {\n          vop.t = vim;\n          vop.m += sim - sop;\n        }\n        if (vip && !d3_layout_treeLeft(vom)) {\n          vom.t = vip;\n          vom.m += sip - som;\n          ancestor = v;\n        }\n      }\n      return ancestor;\n    }\n    function sizeNode(node) {\n      node.x *= size[0];\n      node.y = node.depth * size[1];\n    }\n    tree.separation = function(x) {\n      if (!arguments.length) return separation;\n      separation = x;\n      return tree;\n    };\n    tree.size = function(x) {\n      if (!arguments.length) return nodeSize ? null : size;\n      nodeSize = (size = x) == null ? sizeNode : null;\n      return tree;\n    };\n    tree.nodeSize = function(x) {\n      if (!arguments.length) return nodeSize ? size : null;\n      nodeSize = (size = x) == null ? null : sizeNode;\n      return tree;\n    };\n    return d3_layout_hierarchyRebind(tree, hierarchy);\n  };\n  function d3_layout_treeSeparation(a, b) {\n    return a.parent == b.parent ? 1 : 2;\n  }\n  function d3_layout_treeLeft(v) {\n    var children = v.children;\n    return children.length ? children[0] : v.t;\n  }\n  function d3_layout_treeRight(v) {\n    var children = v.children, n;\n    return (n = children.length) ? children[n - 1] : v.t;\n  }\n  function d3_layout_treeMove(wm, wp, shift) {\n    var change = shift / (wp.i - wm.i);\n    wp.c -= change;\n    wp.s += shift;\n    wm.c += change;\n    wp.z += shift;\n    wp.m += shift;\n  }\n  function d3_layout_treeShift(v) {\n    var shift = 0, change = 0, children = v.children, i = children.length, w;\n    while (--i >= 0) {\n      w = children[i];\n      w.z += shift;\n      w.m += shift;\n      shift += w.s + (change += w.c);\n    }\n  }\n  function d3_layout_treeAncestor(vim, v, ancestor) {\n    return vim.a.parent === v.parent ? vim.a : ancestor;\n  }\n  d3.layout.cluster = function() {\n    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = false;\n    function cluster(d, i) {\n      var nodes = hierarchy.call(this, d, i), root = nodes[0], previousNode, x = 0;\n      d3_layout_hierarchyVisitAfter(root, function(node) {\n        var children = node.children;\n        if (children && children.length) {\n          node.x = d3_layout_clusterX(children);\n          node.y = d3_layout_clusterY(children);\n        } else {\n          node.x = previousNode ? x += separation(node, previousNode) : 0;\n          node.y = 0;\n          previousNode = node;\n        }\n      });\n      var left = d3_layout_clusterLeft(root), right = d3_layout_clusterRight(root), x0 = left.x - separation(left, right) / 2, x1 = right.x + separation(right, left) / 2;\n      d3_layout_hierarchyVisitAfter(root, nodeSize ? function(node) {\n        node.x = (node.x - root.x) * size[0];\n        node.y = (root.y - node.y) * size[1];\n      } : function(node) {\n        node.x = (node.x - x0) / (x1 - x0) * size[0];\n        node.y = (1 - (root.y ? node.y / root.y : 1)) * size[1];\n      });\n      return nodes;\n    }\n    cluster.separation = function(x) {\n      if (!arguments.length) return separation;\n      separation = x;\n      return cluster;\n    };\n    cluster.size = function(x) {\n      if (!arguments.length) return nodeSize ? null : size;\n      nodeSize = (size = x) == null;\n      return cluster;\n    };\n    cluster.nodeSize = function(x) {\n      if (!arguments.length) return nodeSize ? size : null;\n      nodeSize = (size = x) != null;\n      return cluster;\n    };\n    return d3_layout_hierarchyRebind(cluster, hierarchy);\n  };\n  function d3_layout_clusterY(children) {\n    return 1 + d3.max(children, function(child) {\n      return child.y;\n    });\n  }\n  function d3_layout_clusterX(children) {\n    return children.reduce(function(x, child) {\n      return x + child.x;\n    }, 0) / children.length;\n  }\n  function d3_layout_clusterLeft(node) {\n    var children = node.children;\n    return children && children.length ? d3_layout_clusterLeft(children[0]) : node;\n  }\n  function d3_layout_clusterRight(node) {\n    var children = node.children, n;\n    return children && (n = children.length) ? d3_layout_clusterRight(children[n - 1]) : node;\n  }\n  d3.layout.treemap = function() {\n    var hierarchy = d3.layout.hierarchy(), round = Math.round, size = [ 1, 1 ], padding = null, pad = d3_layout_treemapPadNull, sticky = false, stickies, mode = \"squarify\", ratio = .5 * (1 + Math.sqrt(5));\n    function scale(children, k) {\n      var i = -1, n = children.length, child, area;\n      while (++i < n) {\n        area = (child = children[i]).value * (k < 0 ? 0 : k);\n        child.area = isNaN(area) || area <= 0 ? 0 : area;\n      }\n    }\n    function squarify(node) {\n      var children = node.children;\n      if (children && children.length) {\n        var rect = pad(node), row = [], remaining = children.slice(), child, best = Infinity, score, u = mode === \"slice\" ? rect.dx : mode === \"dice\" ? rect.dy : mode === \"slice-dice\" ? node.depth & 1 ? rect.dy : rect.dx : Math.min(rect.dx, rect.dy), n;\n        scale(remaining, rect.dx * rect.dy / node.value);\n        row.area = 0;\n        while ((n = remaining.length) > 0) {\n          row.push(child = remaining[n - 1]);\n          row.area += child.area;\n          if (mode !== \"squarify\" || (score = worst(row, u)) <= best) {\n            remaining.pop();\n            best = score;\n          } else {\n            row.area -= row.pop().area;\n            position(row, u, rect, false);\n            u = Math.min(rect.dx, rect.dy);\n            row.length = row.area = 0;\n            best = Infinity;\n          }\n        }\n        if (row.length) {\n          position(row, u, rect, true);\n          row.length = row.area = 0;\n        }\n        children.forEach(squarify);\n      }\n    }\n    function stickify(node) {\n      var children = node.children;\n      if (children && children.length) {\n        var rect = pad(node), remaining = children.slice(), child, row = [];\n        scale(remaining, rect.dx * rect.dy / node.value);\n        row.area = 0;\n        while (child = remaining.pop()) {\n          row.push(child);\n          row.area += child.area;\n          if (child.z != null) {\n            position(row, child.z ? rect.dx : rect.dy, rect, !remaining.length);\n            row.length = row.area = 0;\n          }\n        }\n        children.forEach(stickify);\n      }\n    }\n    function worst(row, u) {\n      var s = row.area, r, rmax = 0, rmin = Infinity, i = -1, n = row.length;\n      while (++i < n) {\n        if (!(r = row[i].area)) continue;\n        if (r < rmin) rmin = r;\n        if (r > rmax) rmax = r;\n      }\n      s *= s;\n      u *= u;\n      return s ? Math.max(u * rmax * ratio / s, s / (u * rmin * ratio)) : Infinity;\n    }\n    function position(row, u, rect, flush) {\n      var i = -1, n = row.length, x = rect.x, y = rect.y, v = u ? round(row.area / u) : 0, o;\n      if (u == rect.dx) {\n        if (flush || v > rect.dy) v = rect.dy;\n        while (++i < n) {\n          o = row[i];\n          o.x = x;\n          o.y = y;\n          o.dy = v;\n          x += o.dx = Math.min(rect.x + rect.dx - x, v ? round(o.area / v) : 0);\n        }\n        o.z = true;\n        o.dx += rect.x + rect.dx - x;\n        rect.y += v;\n        rect.dy -= v;\n      } else {\n        if (flush || v > rect.dx) v = rect.dx;\n        while (++i < n) {\n          o = row[i];\n          o.x = x;\n          o.y = y;\n          o.dx = v;\n          y += o.dy = Math.min(rect.y + rect.dy - y, v ? round(o.area / v) : 0);\n        }\n        o.z = false;\n        o.dy += rect.y + rect.dy - y;\n        rect.x += v;\n        rect.dx -= v;\n      }\n    }\n    function treemap(d) {\n      var nodes = stickies || hierarchy(d), root = nodes[0];\n      root.x = root.y = 0;\n      if (root.value) root.dx = size[0], root.dy = size[1]; else root.dx = root.dy = 0;\n      if (stickies) hierarchy.revalue(root);\n      scale([ root ], root.dx * root.dy / root.value);\n      (stickies ? stickify : squarify)(root);\n      if (sticky) stickies = nodes;\n      return nodes;\n    }\n    treemap.size = function(x) {\n      if (!arguments.length) return size;\n      size = x;\n      return treemap;\n    };\n    treemap.padding = function(x) {\n      if (!arguments.length) return padding;\n      function padFunction(node) {\n        var p = x.call(treemap, node, node.depth);\n        return p == null ? d3_layout_treemapPadNull(node) : d3_layout_treemapPad(node, typeof p === \"number\" ? [ p, p, p, p ] : p);\n      }\n      function padConstant(node) {\n        return d3_layout_treemapPad(node, x);\n      }\n      var type;\n      pad = (padding = x) == null ? d3_layout_treemapPadNull : (type = typeof x) === \"function\" ? padFunction : type === \"number\" ? (x = [ x, x, x, x ], \n      padConstant) : padConstant;\n      return treemap;\n    };\n    treemap.round = function(x) {\n      if (!arguments.length) return round != Number;\n      round = x ? Math.round : Number;\n      return treemap;\n    };\n    treemap.sticky = function(x) {\n      if (!arguments.length) return sticky;\n      sticky = x;\n      stickies = null;\n      return treemap;\n    };\n    treemap.ratio = function(x) {\n      if (!arguments.length) return ratio;\n      ratio = x;\n      return treemap;\n    };\n    treemap.mode = function(x) {\n      if (!arguments.length) return mode;\n      mode = x + \"\";\n      return treemap;\n    };\n    return d3_layout_hierarchyRebind(treemap, hierarchy);\n  };\n  function d3_layout_treemapPadNull(node) {\n    return {\n      x: node.x,\n      y: node.y,\n      dx: node.dx,\n      dy: node.dy\n    };\n  }\n  function d3_layout_treemapPad(node, padding) {\n    var x = node.x + padding[3], y = node.y + padding[0], dx = node.dx - padding[1] - padding[3], dy = node.dy - padding[0] - padding[2];\n    if (dx < 0) {\n      x += dx / 2;\n      dx = 0;\n    }\n    if (dy < 0) {\n      y += dy / 2;\n      dy = 0;\n    }\n    return {\n      x: x,\n      y: y,\n      dx: dx,\n      dy: dy\n    };\n  }\n  d3.random = {\n    normal: function(µ, σ) {\n      var n = arguments.length;\n      if (n < 2) σ = 1;\n      if (n < 1) µ = 0;\n      return function() {\n        var x, y, r;\n        do {\n          x = Math.random() * 2 - 1;\n          y = Math.random() * 2 - 1;\n          r = x * x + y * y;\n        } while (!r || r > 1);\n        return µ + σ * x * Math.sqrt(-2 * Math.log(r) / r);\n      };\n    },\n    logNormal: function() {\n      var random = d3.random.normal.apply(d3, arguments);\n      return function() {\n        return Math.exp(random());\n      };\n    },\n    bates: function(m) {\n      var random = d3.random.irwinHall(m);\n      return function() {\n        return random() / m;\n      };\n    },\n    irwinHall: function(m) {\n      return function() {\n        for (var s = 0, j = 0; j < m; j++) s += Math.random();\n        return s;\n      };\n    }\n  };\n  d3.scale = {};\n  function d3_scaleExtent(domain) {\n    var start = domain[0], stop = domain[domain.length - 1];\n    return start < stop ? [ start, stop ] : [ stop, start ];\n  }\n  function d3_scaleRange(scale) {\n    return scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());\n  }\n  function d3_scale_bilinear(domain, range, uninterpolate, interpolate) {\n    var u = uninterpolate(domain[0], domain[1]), i = interpolate(range[0], range[1]);\n    return function(x) {\n      return i(u(x));\n    };\n  }\n  function d3_scale_nice(domain, nice) {\n    var i0 = 0, i1 = domain.length - 1, x0 = domain[i0], x1 = domain[i1], dx;\n    if (x1 < x0) {\n      dx = i0, i0 = i1, i1 = dx;\n      dx = x0, x0 = x1, x1 = dx;\n    }\n    domain[i0] = nice.floor(x0);\n    domain[i1] = nice.ceil(x1);\n    return domain;\n  }\n  function d3_scale_niceStep(step) {\n    return step ? {\n      floor: function(x) {\n        return Math.floor(x / step) * step;\n      },\n      ceil: function(x) {\n        return Math.ceil(x / step) * step;\n      }\n    } : d3_scale_niceIdentity;\n  }\n  var d3_scale_niceIdentity = {\n    floor: d3_identity,\n    ceil: d3_identity\n  };\n  function d3_scale_polylinear(domain, range, uninterpolate, interpolate) {\n    var u = [], i = [], j = 0, k = Math.min(domain.length, range.length) - 1;\n    if (domain[k] < domain[0]) {\n      domain = domain.slice().reverse();\n      range = range.slice().reverse();\n    }\n    while (++j <= k) {\n      u.push(uninterpolate(domain[j - 1], domain[j]));\n      i.push(interpolate(range[j - 1], range[j]));\n    }\n    return function(x) {\n      var j = d3.bisect(domain, x, 1, k) - 1;\n      return i[j](u[j](x));\n    };\n  }\n  d3.scale.linear = function() {\n    return d3_scale_linear([ 0, 1 ], [ 0, 1 ], d3_interpolate, false);\n  };\n  function d3_scale_linear(domain, range, interpolate, clamp) {\n    var output, input;\n    function rescale() {\n      var linear = Math.min(domain.length, range.length) > 2 ? d3_scale_polylinear : d3_scale_bilinear, uninterpolate = clamp ? d3_uninterpolateClamp : d3_uninterpolateNumber;\n      output = linear(domain, range, uninterpolate, interpolate);\n      input = linear(range, domain, uninterpolate, d3_interpolate);\n      return scale;\n    }\n    function scale(x) {\n      return output(x);\n    }\n    scale.invert = function(y) {\n      return input(y);\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      domain = x.map(Number);\n      return rescale();\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      return rescale();\n    };\n    scale.rangeRound = function(x) {\n      return scale.range(x).interpolate(d3_interpolateRound);\n    };\n    scale.clamp = function(x) {\n      if (!arguments.length) return clamp;\n      clamp = x;\n      return rescale();\n    };\n    scale.interpolate = function(x) {\n      if (!arguments.length) return interpolate;\n      interpolate = x;\n      return rescale();\n    };\n    scale.ticks = function(m) {\n      return d3_scale_linearTicks(domain, m);\n    };\n    scale.tickFormat = function(m, format) {\n      return d3_scale_linearTickFormat(domain, m, format);\n    };\n    scale.nice = function(m) {\n      d3_scale_linearNice(domain, m);\n      return rescale();\n    };\n    scale.copy = function() {\n      return d3_scale_linear(domain, range, interpolate, clamp);\n    };\n    return rescale();\n  }\n  function d3_scale_linearRebind(scale, linear) {\n    return d3.rebind(scale, linear, \"range\", \"rangeRound\", \"interpolate\", \"clamp\");\n  }\n  function d3_scale_linearNice(domain, m) {\n    d3_scale_nice(domain, d3_scale_niceStep(d3_scale_linearTickRange(domain, m)[2]));\n    d3_scale_nice(domain, d3_scale_niceStep(d3_scale_linearTickRange(domain, m)[2]));\n    return domain;\n  }\n  function d3_scale_linearTickRange(domain, m) {\n    if (m == null) m = 10;\n    var extent = d3_scaleExtent(domain), span = extent[1] - extent[0], step = Math.pow(10, Math.floor(Math.log(span / m) / Math.LN10)), err = m / span * step;\n    if (err <= .15) step *= 10; else if (err <= .35) step *= 5; else if (err <= .75) step *= 2;\n    extent[0] = Math.ceil(extent[0] / step) * step;\n    extent[1] = Math.floor(extent[1] / step) * step + step * .5;\n    extent[2] = step;\n    return extent;\n  }\n  function d3_scale_linearTicks(domain, m) {\n    return d3.range.apply(d3, d3_scale_linearTickRange(domain, m));\n  }\n  function d3_scale_linearTickFormat(domain, m, format) {\n    var range = d3_scale_linearTickRange(domain, m);\n    if (format) {\n      var match = d3_format_re.exec(format);\n      match.shift();\n      if (match[8] === \"s\") {\n        var prefix = d3.formatPrefix(Math.max(abs(range[0]), abs(range[1])));\n        if (!match[7]) match[7] = \".\" + d3_scale_linearPrecision(prefix.scale(range[2]));\n        match[8] = \"f\";\n        format = d3.format(match.join(\"\"));\n        return function(d) {\n          return format(prefix.scale(d)) + prefix.symbol;\n        };\n      }\n      if (!match[7]) match[7] = \".\" + d3_scale_linearFormatPrecision(match[8], range);\n      format = match.join(\"\");\n    } else {\n      format = \",.\" + d3_scale_linearPrecision(range[2]) + \"f\";\n    }\n    return d3.format(format);\n  }\n  var d3_scale_linearFormatSignificant = {\n    s: 1,\n    g: 1,\n    p: 1,\n    r: 1,\n    e: 1\n  };\n  function d3_scale_linearPrecision(value) {\n    return -Math.floor(Math.log(value) / Math.LN10 + .01);\n  }\n  function d3_scale_linearFormatPrecision(type, range) {\n    var p = d3_scale_linearPrecision(range[2]);\n    return type in d3_scale_linearFormatSignificant ? Math.abs(p - d3_scale_linearPrecision(Math.max(abs(range[0]), abs(range[1])))) + +(type !== \"e\") : p - (type === \"%\") * 2;\n  }\n  d3.scale.log = function() {\n    return d3_scale_log(d3.scale.linear().domain([ 0, 1 ]), 10, true, [ 1, 10 ]);\n  };\n  function d3_scale_log(linear, base, positive, domain) {\n    function log(x) {\n      return (positive ? Math.log(x < 0 ? 0 : x) : -Math.log(x > 0 ? 0 : -x)) / Math.log(base);\n    }\n    function pow(x) {\n      return positive ? Math.pow(base, x) : -Math.pow(base, -x);\n    }\n    function scale(x) {\n      return linear(log(x));\n    }\n    scale.invert = function(x) {\n      return pow(linear.invert(x));\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      positive = x[0] >= 0;\n      linear.domain((domain = x.map(Number)).map(log));\n      return scale;\n    };\n    scale.base = function(_) {\n      if (!arguments.length) return base;\n      base = +_;\n      linear.domain(domain.map(log));\n      return scale;\n    };\n    scale.nice = function() {\n      var niced = d3_scale_nice(domain.map(log), positive ? Math : d3_scale_logNiceNegative);\n      linear.domain(niced);\n      domain = niced.map(pow);\n      return scale;\n    };\n    scale.ticks = function() {\n      var extent = d3_scaleExtent(domain), ticks = [], u = extent[0], v = extent[1], i = Math.floor(log(u)), j = Math.ceil(log(v)), n = base % 1 ? 2 : base;\n      if (isFinite(j - i)) {\n        if (positive) {\n          for (;i < j; i++) for (var k = 1; k < n; k++) ticks.push(pow(i) * k);\n          ticks.push(pow(i));\n        } else {\n          ticks.push(pow(i));\n          for (;i++ < j; ) for (var k = n - 1; k > 0; k--) ticks.push(pow(i) * k);\n        }\n        for (i = 0; ticks[i] < u; i++) {}\n        for (j = ticks.length; ticks[j - 1] > v; j--) {}\n        ticks = ticks.slice(i, j);\n      }\n      return ticks;\n    };\n    scale.tickFormat = function(n, format) {\n      if (!arguments.length) return d3_scale_logFormat;\n      if (arguments.length < 2) format = d3_scale_logFormat; else if (typeof format !== \"function\") format = d3.format(format);\n      var k = Math.max(1, base * n / scale.ticks().length);\n      return function(d) {\n        var i = d / pow(Math.round(log(d)));\n        if (i * base < base - .5) i *= base;\n        return i <= k ? format(d) : \"\";\n      };\n    };\n    scale.copy = function() {\n      return d3_scale_log(linear.copy(), base, positive, domain);\n    };\n    return d3_scale_linearRebind(scale, linear);\n  }\n  var d3_scale_logFormat = d3.format(\".0e\"), d3_scale_logNiceNegative = {\n    floor: function(x) {\n      return -Math.ceil(-x);\n    },\n    ceil: function(x) {\n      return -Math.floor(-x);\n    }\n  };\n  d3.scale.pow = function() {\n    return d3_scale_pow(d3.scale.linear(), 1, [ 0, 1 ]);\n  };\n  function d3_scale_pow(linear, exponent, domain) {\n    var powp = d3_scale_powPow(exponent), powb = d3_scale_powPow(1 / exponent);\n    function scale(x) {\n      return linear(powp(x));\n    }\n    scale.invert = function(x) {\n      return powb(linear.invert(x));\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      linear.domain((domain = x.map(Number)).map(powp));\n      return scale;\n    };\n    scale.ticks = function(m) {\n      return d3_scale_linearTicks(domain, m);\n    };\n    scale.tickFormat = function(m, format) {\n      return d3_scale_linearTickFormat(domain, m, format);\n    };\n    scale.nice = function(m) {\n      return scale.domain(d3_scale_linearNice(domain, m));\n    };\n    scale.exponent = function(x) {\n      if (!arguments.length) return exponent;\n      powp = d3_scale_powPow(exponent = x);\n      powb = d3_scale_powPow(1 / exponent);\n      linear.domain(domain.map(powp));\n      return scale;\n    };\n    scale.copy = function() {\n      return d3_scale_pow(linear.copy(), exponent, domain);\n    };\n    return d3_scale_linearRebind(scale, linear);\n  }\n  function d3_scale_powPow(e) {\n    return function(x) {\n      return x < 0 ? -Math.pow(-x, e) : Math.pow(x, e);\n    };\n  }\n  d3.scale.sqrt = function() {\n    return d3.scale.pow().exponent(.5);\n  };\n  d3.scale.ordinal = function() {\n    return d3_scale_ordinal([], {\n      t: \"range\",\n      a: [ [] ]\n    });\n  };\n  function d3_scale_ordinal(domain, ranger) {\n    var index, range, rangeBand;\n    function scale(x) {\n      return range[((index.get(x) || (ranger.t === \"range\" ? index.set(x, domain.push(x)) : NaN)) - 1) % range.length];\n    }\n    function steps(start, step) {\n      return d3.range(domain.length).map(function(i) {\n        return start + step * i;\n      });\n    }\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      domain = [];\n      index = new d3_Map();\n      var i = -1, n = x.length, xi;\n      while (++i < n) if (!index.has(xi = x[i])) index.set(xi, domain.push(xi));\n      return scale[ranger.t].apply(scale, ranger.a);\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      rangeBand = 0;\n      ranger = {\n        t: \"range\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangePoints = function(x, padding) {\n      if (arguments.length < 2) padding = 0;\n      var start = x[0], stop = x[1], step = domain.length < 2 ? (start = (start + stop) / 2, \n      0) : (stop - start) / (domain.length - 1 + padding);\n      range = steps(start + step * padding / 2, step);\n      rangeBand = 0;\n      ranger = {\n        t: \"rangePoints\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeRoundPoints = function(x, padding) {\n      if (arguments.length < 2) padding = 0;\n      var start = x[0], stop = x[1], step = domain.length < 2 ? (start = stop = Math.round((start + stop) / 2), \n      0) : (stop - start) / (domain.length - 1 + padding) | 0;\n      range = steps(start + Math.round(step * padding / 2 + (stop - start - (domain.length - 1 + padding) * step) / 2), step);\n      rangeBand = 0;\n      ranger = {\n        t: \"rangeRoundPoints\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeBands = function(x, padding, outerPadding) {\n      if (arguments.length < 2) padding = 0;\n      if (arguments.length < 3) outerPadding = padding;\n      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = (stop - start) / (domain.length - padding + 2 * outerPadding);\n      range = steps(start + step * outerPadding, step);\n      if (reverse) range.reverse();\n      rangeBand = step * (1 - padding);\n      ranger = {\n        t: \"rangeBands\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeRoundBands = function(x, padding, outerPadding) {\n      if (arguments.length < 2) padding = 0;\n      if (arguments.length < 3) outerPadding = padding;\n      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = Math.floor((stop - start) / (domain.length - padding + 2 * outerPadding));\n      range = steps(start + Math.round((stop - start - (domain.length - padding) * step) / 2), step);\n      if (reverse) range.reverse();\n      rangeBand = Math.round(step * (1 - padding));\n      ranger = {\n        t: \"rangeRoundBands\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeBand = function() {\n      return rangeBand;\n    };\n    scale.rangeExtent = function() {\n      return d3_scaleExtent(ranger.a[0]);\n    };\n    scale.copy = function() {\n      return d3_scale_ordinal(domain, ranger);\n    };\n    return scale.domain(domain);\n  }\n  d3.scale.category10 = function() {\n    return d3.scale.ordinal().range(d3_category10);\n  };\n  d3.scale.category20 = function() {\n    return d3.scale.ordinal().range(d3_category20);\n  };\n  d3.scale.category20b = function() {\n    return d3.scale.ordinal().range(d3_category20b);\n  };\n  d3.scale.category20c = function() {\n    return d3.scale.ordinal().range(d3_category20c);\n  };\n  var d3_category10 = [ 2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175 ].map(d3_rgbString);\n  var d3_category20 = [ 2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725 ].map(d3_rgbString);\n  var d3_category20b = [ 3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654 ].map(d3_rgbString);\n  var d3_category20c = [ 3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081 ].map(d3_rgbString);\n  d3.scale.quantile = function() {\n    return d3_scale_quantile([], []);\n  };\n  function d3_scale_quantile(domain, range) {\n    var thresholds;\n    function rescale() {\n      var k = 0, q = range.length;\n      thresholds = [];\n      while (++k < q) thresholds[k - 1] = d3.quantile(domain, k / q);\n      return scale;\n    }\n    function scale(x) {\n      if (!isNaN(x = +x)) return range[d3.bisect(thresholds, x)];\n    }\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      domain = x.map(d3_number).filter(d3_numeric).sort(d3_ascending);\n      return rescale();\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      return rescale();\n    };\n    scale.quantiles = function() {\n      return thresholds;\n    };\n    scale.invertExtent = function(y) {\n      y = range.indexOf(y);\n      return y < 0 ? [ NaN, NaN ] : [ y > 0 ? thresholds[y - 1] : domain[0], y < thresholds.length ? thresholds[y] : domain[domain.length - 1] ];\n    };\n    scale.copy = function() {\n      return d3_scale_quantile(domain, range);\n    };\n    return rescale();\n  }\n  d3.scale.quantize = function() {\n    return d3_scale_quantize(0, 1, [ 0, 1 ]);\n  };\n  function d3_scale_quantize(x0, x1, range) {\n    var kx, i;\n    function scale(x) {\n      return range[Math.max(0, Math.min(i, Math.floor(kx * (x - x0))))];\n    }\n    function rescale() {\n      kx = range.length / (x1 - x0);\n      i = range.length - 1;\n      return scale;\n    }\n    scale.domain = function(x) {\n      if (!arguments.length) return [ x0, x1 ];\n      x0 = +x[0];\n      x1 = +x[x.length - 1];\n      return rescale();\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      return rescale();\n    };\n    scale.invertExtent = function(y) {\n      y = range.indexOf(y);\n      y = y < 0 ? NaN : y / kx + x0;\n      return [ y, y + 1 / kx ];\n    };\n    scale.copy = function() {\n      return d3_scale_quantize(x0, x1, range);\n    };\n    return rescale();\n  }\n  d3.scale.threshold = function() {\n    return d3_scale_threshold([ .5 ], [ 0, 1 ]);\n  };\n  function d3_scale_threshold(domain, range) {\n    function scale(x) {\n      if (x <= x) return range[d3.bisect(domain, x)];\n    }\n    scale.domain = function(_) {\n      if (!arguments.length) return domain;\n      domain = _;\n      return scale;\n    };\n    scale.range = function(_) {\n      if (!arguments.length) return range;\n      range = _;\n      return scale;\n    };\n    scale.invertExtent = function(y) {\n      y = range.indexOf(y);\n      return [ domain[y - 1], domain[y] ];\n    };\n    scale.copy = function() {\n      return d3_scale_threshold(domain, range);\n    };\n    return scale;\n  }\n  d3.scale.identity = function() {\n    return d3_scale_identity([ 0, 1 ]);\n  };\n  function d3_scale_identity(domain) {\n    function identity(x) {\n      return +x;\n    }\n    identity.invert = identity;\n    identity.domain = identity.range = function(x) {\n      if (!arguments.length) return domain;\n      domain = x.map(identity);\n      return identity;\n    };\n    identity.ticks = function(m) {\n      return d3_scale_linearTicks(domain, m);\n    };\n    identity.tickFormat = function(m, format) {\n      return d3_scale_linearTickFormat(domain, m, format);\n    };\n    identity.copy = function() {\n      return d3_scale_identity(domain);\n    };\n    return identity;\n  }\n  d3.svg = {};\n  function d3_zero() {\n    return 0;\n  }\n  d3.svg.arc = function() {\n    var innerRadius = d3_svg_arcInnerRadius, outerRadius = d3_svg_arcOuterRadius, cornerRadius = d3_zero, padRadius = d3_svg_arcAuto, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle, padAngle = d3_svg_arcPadAngle;\n    function arc() {\n      var r0 = Math.max(0, +innerRadius.apply(this, arguments)), r1 = Math.max(0, +outerRadius.apply(this, arguments)), a0 = startAngle.apply(this, arguments) - halfπ, a1 = endAngle.apply(this, arguments) - halfπ, da = Math.abs(a1 - a0), cw = a0 > a1 ? 0 : 1;\n      if (r1 < r0) rc = r1, r1 = r0, r0 = rc;\n      if (da >= τε) return circleSegment(r1, cw) + (r0 ? circleSegment(r0, 1 - cw) : \"\") + \"Z\";\n      var rc, cr, rp, ap, p0 = 0, p1 = 0, x0, y0, x1, y1, x2, y2, x3, y3, path = [];\n      if (ap = (+padAngle.apply(this, arguments) || 0) / 2) {\n        rp = padRadius === d3_svg_arcAuto ? Math.sqrt(r0 * r0 + r1 * r1) : +padRadius.apply(this, arguments);\n        if (!cw) p1 *= -1;\n        if (r1) p1 = d3_asin(rp / r1 * Math.sin(ap));\n        if (r0) p0 = d3_asin(rp / r0 * Math.sin(ap));\n      }\n      if (r1) {\n        x0 = r1 * Math.cos(a0 + p1);\n        y0 = r1 * Math.sin(a0 + p1);\n        x1 = r1 * Math.cos(a1 - p1);\n        y1 = r1 * Math.sin(a1 - p1);\n        var l1 = Math.abs(a1 - a0 - 2 * p1) <= π ? 0 : 1;\n        if (p1 && d3_svg_arcSweep(x0, y0, x1, y1) === cw ^ l1) {\n          var h1 = (a0 + a1) / 2;\n          x0 = r1 * Math.cos(h1);\n          y0 = r1 * Math.sin(h1);\n          x1 = y1 = null;\n        }\n      } else {\n        x0 = y0 = 0;\n      }\n      if (r0) {\n        x2 = r0 * Math.cos(a1 - p0);\n        y2 = r0 * Math.sin(a1 - p0);\n        x3 = r0 * Math.cos(a0 + p0);\n        y3 = r0 * Math.sin(a0 + p0);\n        var l0 = Math.abs(a0 - a1 + 2 * p0) <= π ? 0 : 1;\n        if (p0 && d3_svg_arcSweep(x2, y2, x3, y3) === 1 - cw ^ l0) {\n          var h0 = (a0 + a1) / 2;\n          x2 = r0 * Math.cos(h0);\n          y2 = r0 * Math.sin(h0);\n          x3 = y3 = null;\n        }\n      } else {\n        x2 = y2 = 0;\n      }\n      if (da > ε && (rc = Math.min(Math.abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments))) > .001) {\n        cr = r0 < r1 ^ cw ? 0 : 1;\n        var rc1 = rc, rc0 = rc;\n        if (da < π) {\n          var oc = x3 == null ? [ x2, y2 ] : x1 == null ? [ x0, y0 ] : d3_geom_polygonIntersect([ x0, y0 ], [ x3, y3 ], [ x1, y1 ], [ x2, y2 ]), ax = x0 - oc[0], ay = y0 - oc[1], bx = x1 - oc[0], by = y1 - oc[1], kc = 1 / Math.sin(Math.acos((ax * bx + ay * by) / (Math.sqrt(ax * ax + ay * ay) * Math.sqrt(bx * bx + by * by))) / 2), lc = Math.sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = Math.min(rc, (r0 - lc) / (kc - 1));\n          rc1 = Math.min(rc, (r1 - lc) / (kc + 1));\n        }\n        if (x1 != null) {\n          var t30 = d3_svg_arcCornerTangents(x3 == null ? [ x2, y2 ] : [ x3, y3 ], [ x0, y0 ], r1, rc1, cw), t12 = d3_svg_arcCornerTangents([ x1, y1 ], [ x2, y2 ], r1, rc1, cw);\n          if (rc === rc1) {\n            path.push(\"M\", t30[0], \"A\", rc1, \",\", rc1, \" 0 0,\", cr, \" \", t30[1], \"A\", r1, \",\", r1, \" 0 \", 1 - cw ^ d3_svg_arcSweep(t30[1][0], t30[1][1], t12[1][0], t12[1][1]), \",\", cw, \" \", t12[1], \"A\", rc1, \",\", rc1, \" 0 0,\", cr, \" \", t12[0]);\n          } else {\n            path.push(\"M\", t30[0], \"A\", rc1, \",\", rc1, \" 0 1,\", cr, \" \", t12[0]);\n          }\n        } else {\n          path.push(\"M\", x0, \",\", y0);\n        }\n        if (x3 != null) {\n          var t03 = d3_svg_arcCornerTangents([ x0, y0 ], [ x3, y3 ], r0, -rc0, cw), t21 = d3_svg_arcCornerTangents([ x2, y2 ], x1 == null ? [ x0, y0 ] : [ x1, y1 ], r0, -rc0, cw);\n          if (rc === rc0) {\n            path.push(\"L\", t21[0], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t21[1], \"A\", r0, \",\", r0, \" 0 \", cw ^ d3_svg_arcSweep(t21[1][0], t21[1][1], t03[1][0], t03[1][1]), \",\", 1 - cw, \" \", t03[1], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t03[0]);\n          } else {\n            path.push(\"L\", t21[0], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t03[0]);\n          }\n        } else {\n          path.push(\"L\", x2, \",\", y2);\n        }\n      } else {\n        path.push(\"M\", x0, \",\", y0);\n        if (x1 != null) path.push(\"A\", r1, \",\", r1, \" 0 \", l1, \",\", cw, \" \", x1, \",\", y1);\n        path.push(\"L\", x2, \",\", y2);\n        if (x3 != null) path.push(\"A\", r0, \",\", r0, \" 0 \", l0, \",\", 1 - cw, \" \", x3, \",\", y3);\n      }\n      path.push(\"Z\");\n      return path.join(\"\");\n    }\n    function circleSegment(r1, cw) {\n      return \"M0,\" + r1 + \"A\" + r1 + \",\" + r1 + \" 0 1,\" + cw + \" 0,\" + -r1 + \"A\" + r1 + \",\" + r1 + \" 0 1,\" + cw + \" 0,\" + r1;\n    }\n    arc.innerRadius = function(v) {\n      if (!arguments.length) return innerRadius;\n      innerRadius = d3_functor(v);\n      return arc;\n    };\n    arc.outerRadius = function(v) {\n      if (!arguments.length) return outerRadius;\n      outerRadius = d3_functor(v);\n      return arc;\n    };\n    arc.cornerRadius = function(v) {\n      if (!arguments.length) return cornerRadius;\n      cornerRadius = d3_functor(v);\n      return arc;\n    };\n    arc.padRadius = function(v) {\n      if (!arguments.length) return padRadius;\n      padRadius = v == d3_svg_arcAuto ? d3_svg_arcAuto : d3_functor(v);\n      return arc;\n    };\n    arc.startAngle = function(v) {\n      if (!arguments.length) return startAngle;\n      startAngle = d3_functor(v);\n      return arc;\n    };\n    arc.endAngle = function(v) {\n      if (!arguments.length) return endAngle;\n      endAngle = d3_functor(v);\n      return arc;\n    };\n    arc.padAngle = function(v) {\n      if (!arguments.length) return padAngle;\n      padAngle = d3_functor(v);\n      return arc;\n    };\n    arc.centroid = function() {\n      var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2, a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - halfπ;\n      return [ Math.cos(a) * r, Math.sin(a) * r ];\n    };\n    return arc;\n  };\n  var d3_svg_arcAuto = \"auto\";\n  function d3_svg_arcInnerRadius(d) {\n    return d.innerRadius;\n  }\n  function d3_svg_arcOuterRadius(d) {\n    return d.outerRadius;\n  }\n  function d3_svg_arcStartAngle(d) {\n    return d.startAngle;\n  }\n  function d3_svg_arcEndAngle(d) {\n    return d.endAngle;\n  }\n  function d3_svg_arcPadAngle(d) {\n    return d && d.padAngle;\n  }\n  function d3_svg_arcSweep(x0, y0, x1, y1) {\n    return (x0 - x1) * y0 - (y0 - y1) * x0 > 0 ? 0 : 1;\n  }\n  function d3_svg_arcCornerTangents(p0, p1, r1, rc, cw) {\n    var x01 = p0[0] - p1[0], y01 = p0[1] - p1[1], lo = (cw ? rc : -rc) / Math.sqrt(x01 * x01 + y01 * y01), ox = lo * y01, oy = -lo * x01, x1 = p0[0] + ox, y1 = p0[1] + oy, x2 = p1[0] + ox, y2 = p1[1] + oy, x3 = (x1 + x2) / 2, y3 = (y1 + y2) / 2, dx = x2 - x1, dy = y2 - y1, d2 = dx * dx + dy * dy, r = r1 - rc, D = x1 * y2 - x2 * y1, d = (dy < 0 ? -1 : 1) * Math.sqrt(Math.max(0, r * r * d2 - D * D)), cx0 = (D * dy - dx * d) / d2, cy0 = (-D * dx - dy * d) / d2, cx1 = (D * dy + dx * d) / d2, cy1 = (-D * dx + dy * d) / d2, dx0 = cx0 - x3, dy0 = cy0 - y3, dx1 = cx1 - x3, dy1 = cy1 - y3;\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n    return [ [ cx0 - ox, cy0 - oy ], [ cx0 * r1 / r, cy0 * r1 / r ] ];\n  }\n  function d3_svg_line(projection) {\n    var x = d3_geom_pointX, y = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, tension = .7;\n    function line(data) {\n      var segments = [], points = [], i = -1, n = data.length, d, fx = d3_functor(x), fy = d3_functor(y);\n      function segment() {\n        segments.push(\"M\", interpolate(projection(points), tension));\n      }\n      while (++i < n) {\n        if (defined.call(this, d = data[i], i)) {\n          points.push([ +fx.call(this, d, i), +fy.call(this, d, i) ]);\n        } else if (points.length) {\n          segment();\n          points = [];\n        }\n      }\n      if (points.length) segment();\n      return segments.length ? segments.join(\"\") : null;\n    }\n    line.x = function(_) {\n      if (!arguments.length) return x;\n      x = _;\n      return line;\n    };\n    line.y = function(_) {\n      if (!arguments.length) return y;\n      y = _;\n      return line;\n    };\n    line.defined = function(_) {\n      if (!arguments.length) return defined;\n      defined = _;\n      return line;\n    };\n    line.interpolate = function(_) {\n      if (!arguments.length) return interpolateKey;\n      if (typeof _ === \"function\") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;\n      return line;\n    };\n    line.tension = function(_) {\n      if (!arguments.length) return tension;\n      tension = _;\n      return line;\n    };\n    return line;\n  }\n  d3.svg.line = function() {\n    return d3_svg_line(d3_identity);\n  };\n  var d3_svg_lineInterpolators = d3.map({\n    linear: d3_svg_lineLinear,\n    \"linear-closed\": d3_svg_lineLinearClosed,\n    step: d3_svg_lineStep,\n    \"step-before\": d3_svg_lineStepBefore,\n    \"step-after\": d3_svg_lineStepAfter,\n    basis: d3_svg_lineBasis,\n    \"basis-open\": d3_svg_lineBasisOpen,\n    \"basis-closed\": d3_svg_lineBasisClosed,\n    bundle: d3_svg_lineBundle,\n    cardinal: d3_svg_lineCardinal,\n    \"cardinal-open\": d3_svg_lineCardinalOpen,\n    \"cardinal-closed\": d3_svg_lineCardinalClosed,\n    monotone: d3_svg_lineMonotone\n  });\n  d3_svg_lineInterpolators.forEach(function(key, value) {\n    value.key = key;\n    value.closed = /-closed$/.test(key);\n  });\n  function d3_svg_lineLinear(points) {\n    return points.length > 1 ? points.join(\"L\") : points + \"Z\";\n  }\n  function d3_svg_lineLinearClosed(points) {\n    return points.join(\"L\") + \"Z\";\n  }\n  function d3_svg_lineStep(points) {\n    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n    while (++i < n) path.push(\"H\", (p[0] + (p = points[i])[0]) / 2, \"V\", p[1]);\n    if (n > 1) path.push(\"H\", p[0]);\n    return path.join(\"\");\n  }\n  function d3_svg_lineStepBefore(points) {\n    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n    while (++i < n) path.push(\"V\", (p = points[i])[1], \"H\", p[0]);\n    return path.join(\"\");\n  }\n  function d3_svg_lineStepAfter(points) {\n    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n    while (++i < n) path.push(\"H\", (p = points[i])[0], \"V\", p[1]);\n    return path.join(\"\");\n  }\n  function d3_svg_lineCardinalOpen(points, tension) {\n    return points.length < 4 ? d3_svg_lineLinear(points) : points[1] + d3_svg_lineHermite(points.slice(1, -1), d3_svg_lineCardinalTangents(points, tension));\n  }\n  function d3_svg_lineCardinalClosed(points, tension) {\n    return points.length < 3 ? d3_svg_lineLinearClosed(points) : points[0] + d3_svg_lineHermite((points.push(points[0]), \n    points), d3_svg_lineCardinalTangents([ points[points.length - 2] ].concat(points, [ points[1] ]), tension));\n  }\n  function d3_svg_lineCardinal(points, tension) {\n    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineCardinalTangents(points, tension));\n  }\n  function d3_svg_lineHermite(points, tangents) {\n    if (tangents.length < 1 || points.length != tangents.length && points.length != tangents.length + 2) {\n      return d3_svg_lineLinear(points);\n    }\n    var quad = points.length != tangents.length, path = \"\", p0 = points[0], p = points[1], t0 = tangents[0], t = t0, pi = 1;\n    if (quad) {\n      path += \"Q\" + (p[0] - t0[0] * 2 / 3) + \",\" + (p[1] - t0[1] * 2 / 3) + \",\" + p[0] + \",\" + p[1];\n      p0 = points[1];\n      pi = 2;\n    }\n    if (tangents.length > 1) {\n      t = tangents[1];\n      p = points[pi];\n      pi++;\n      path += \"C\" + (p0[0] + t0[0]) + \",\" + (p0[1] + t0[1]) + \",\" + (p[0] - t[0]) + \",\" + (p[1] - t[1]) + \",\" + p[0] + \",\" + p[1];\n      for (var i = 2; i < tangents.length; i++, pi++) {\n        p = points[pi];\n        t = tangents[i];\n        path += \"S\" + (p[0] - t[0]) + \",\" + (p[1] - t[1]) + \",\" + p[0] + \",\" + p[1];\n      }\n    }\n    if (quad) {\n      var lp = points[pi];\n      path += \"Q\" + (p[0] + t[0] * 2 / 3) + \",\" + (p[1] + t[1] * 2 / 3) + \",\" + lp[0] + \",\" + lp[1];\n    }\n    return path;\n  }\n  function d3_svg_lineCardinalTangents(points, tension) {\n    var tangents = [], a = (1 - tension) / 2, p0, p1 = points[0], p2 = points[1], i = 1, n = points.length;\n    while (++i < n) {\n      p0 = p1;\n      p1 = p2;\n      p2 = points[i];\n      tangents.push([ a * (p2[0] - p0[0]), a * (p2[1] - p0[1]) ]);\n    }\n    return tangents;\n  }\n  function d3_svg_lineBasis(points) {\n    if (points.length < 3) return d3_svg_lineLinear(points);\n    var i = 1, n = points.length, pi = points[0], x0 = pi[0], y0 = pi[1], px = [ x0, x0, x0, (pi = points[1])[0] ], py = [ y0, y0, y0, pi[1] ], path = [ x0, \",\", y0, \"L\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];\n    points.push(points[n - 1]);\n    while (++i <= n) {\n      pi = points[i];\n      px.shift();\n      px.push(pi[0]);\n      py.shift();\n      py.push(pi[1]);\n      d3_svg_lineBasisBezier(path, px, py);\n    }\n    points.pop();\n    path.push(\"L\", pi);\n    return path.join(\"\");\n  }\n  function d3_svg_lineBasisOpen(points) {\n    if (points.length < 4) return d3_svg_lineLinear(points);\n    var path = [], i = -1, n = points.length, pi, px = [ 0 ], py = [ 0 ];\n    while (++i < 3) {\n      pi = points[i];\n      px.push(pi[0]);\n      py.push(pi[1]);\n    }\n    path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3, px) + \",\" + d3_svg_lineDot4(d3_svg_lineBasisBezier3, py));\n    --i;\n    while (++i < n) {\n      pi = points[i];\n      px.shift();\n      px.push(pi[0]);\n      py.shift();\n      py.push(pi[1]);\n      d3_svg_lineBasisBezier(path, px, py);\n    }\n    return path.join(\"\");\n  }\n  function d3_svg_lineBasisClosed(points) {\n    var path, i = -1, n = points.length, m = n + 4, pi, px = [], py = [];\n    while (++i < 4) {\n      pi = points[i % n];\n      px.push(pi[0]);\n      py.push(pi[1]);\n    }\n    path = [ d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];\n    --i;\n    while (++i < m) {\n      pi = points[i % n];\n      px.shift();\n      px.push(pi[0]);\n      py.shift();\n      py.push(pi[1]);\n      d3_svg_lineBasisBezier(path, px, py);\n    }\n    return path.join(\"\");\n  }\n  function d3_svg_lineBundle(points, tension) {\n    var n = points.length - 1;\n    if (n) {\n      var x0 = points[0][0], y0 = points[0][1], dx = points[n][0] - x0, dy = points[n][1] - y0, i = -1, p, t;\n      while (++i <= n) {\n        p = points[i];\n        t = i / n;\n        p[0] = tension * p[0] + (1 - tension) * (x0 + t * dx);\n        p[1] = tension * p[1] + (1 - tension) * (y0 + t * dy);\n      }\n    }\n    return d3_svg_lineBasis(points);\n  }\n  function d3_svg_lineDot4(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n  }\n  var d3_svg_lineBasisBezier1 = [ 0, 2 / 3, 1 / 3, 0 ], d3_svg_lineBasisBezier2 = [ 0, 1 / 3, 2 / 3, 0 ], d3_svg_lineBasisBezier3 = [ 0, 1 / 6, 2 / 3, 1 / 6 ];\n  function d3_svg_lineBasisBezier(path, x, y) {\n    path.push(\"C\", d3_svg_lineDot4(d3_svg_lineBasisBezier1, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier1, y), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier2, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier2, y), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, y));\n  }\n  function d3_svg_lineSlope(p0, p1) {\n    return (p1[1] - p0[1]) / (p1[0] - p0[0]);\n  }\n  function d3_svg_lineFiniteDifferences(points) {\n    var i = 0, j = points.length - 1, m = [], p0 = points[0], p1 = points[1], d = m[0] = d3_svg_lineSlope(p0, p1);\n    while (++i < j) {\n      m[i] = (d + (d = d3_svg_lineSlope(p0 = p1, p1 = points[i + 1]))) / 2;\n    }\n    m[i] = d;\n    return m;\n  }\n  function d3_svg_lineMonotoneTangents(points) {\n    var tangents = [], d, a, b, s, m = d3_svg_lineFiniteDifferences(points), i = -1, j = points.length - 1;\n    while (++i < j) {\n      d = d3_svg_lineSlope(points[i], points[i + 1]);\n      if (abs(d) < ε) {\n        m[i] = m[i + 1] = 0;\n      } else {\n        a = m[i] / d;\n        b = m[i + 1] / d;\n        s = a * a + b * b;\n        if (s > 9) {\n          s = d * 3 / Math.sqrt(s);\n          m[i] = s * a;\n          m[i + 1] = s * b;\n        }\n      }\n    }\n    i = -1;\n    while (++i <= j) {\n      s = (points[Math.min(j, i + 1)][0] - points[Math.max(0, i - 1)][0]) / (6 * (1 + m[i] * m[i]));\n      tangents.push([ s || 0, m[i] * s || 0 ]);\n    }\n    return tangents;\n  }\n  function d3_svg_lineMonotone(points) {\n    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineMonotoneTangents(points));\n  }\n  d3.svg.line.radial = function() {\n    var line = d3_svg_line(d3_svg_lineRadial);\n    line.radius = line.x, delete line.x;\n    line.angle = line.y, delete line.y;\n    return line;\n  };\n  function d3_svg_lineRadial(points) {\n    var point, i = -1, n = points.length, r, a;\n    while (++i < n) {\n      point = points[i];\n      r = point[0];\n      a = point[1] - halfπ;\n      point[0] = r * Math.cos(a);\n      point[1] = r * Math.sin(a);\n    }\n    return points;\n  }\n  function d3_svg_area(projection) {\n    var x0 = d3_geom_pointX, x1 = d3_geom_pointX, y0 = 0, y1 = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, interpolateReverse = interpolate, L = \"L\", tension = .7;\n    function area(data) {\n      var segments = [], points0 = [], points1 = [], i = -1, n = data.length, d, fx0 = d3_functor(x0), fy0 = d3_functor(y0), fx1 = x0 === x1 ? function() {\n        return x;\n      } : d3_functor(x1), fy1 = y0 === y1 ? function() {\n        return y;\n      } : d3_functor(y1), x, y;\n      function segment() {\n        segments.push(\"M\", interpolate(projection(points1), tension), L, interpolateReverse(projection(points0.reverse()), tension), \"Z\");\n      }\n      while (++i < n) {\n        if (defined.call(this, d = data[i], i)) {\n          points0.push([ x = +fx0.call(this, d, i), y = +fy0.call(this, d, i) ]);\n          points1.push([ +fx1.call(this, d, i), +fy1.call(this, d, i) ]);\n        } else if (points0.length) {\n          segment();\n          points0 = [];\n          points1 = [];\n        }\n      }\n      if (points0.length) segment();\n      return segments.length ? segments.join(\"\") : null;\n    }\n    area.x = function(_) {\n      if (!arguments.length) return x1;\n      x0 = x1 = _;\n      return area;\n    };\n    area.x0 = function(_) {\n      if (!arguments.length) return x0;\n      x0 = _;\n      return area;\n    };\n    area.x1 = function(_) {\n      if (!arguments.length) return x1;\n      x1 = _;\n      return area;\n    };\n    area.y = function(_) {\n      if (!arguments.length) return y1;\n      y0 = y1 = _;\n      return area;\n    };\n    area.y0 = function(_) {\n      if (!arguments.length) return y0;\n      y0 = _;\n      return area;\n    };\n    area.y1 = function(_) {\n      if (!arguments.length) return y1;\n      y1 = _;\n      return area;\n    };\n    area.defined = function(_) {\n      if (!arguments.length) return defined;\n      defined = _;\n      return area;\n    };\n    area.interpolate = function(_) {\n      if (!arguments.length) return interpolateKey;\n      if (typeof _ === \"function\") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;\n      interpolateReverse = interpolate.reverse || interpolate;\n      L = interpolate.closed ? \"M\" : \"L\";\n      return area;\n    };\n    area.tension = function(_) {\n      if (!arguments.length) return tension;\n      tension = _;\n      return area;\n    };\n    return area;\n  }\n  d3_svg_lineStepBefore.reverse = d3_svg_lineStepAfter;\n  d3_svg_lineStepAfter.reverse = d3_svg_lineStepBefore;\n  d3.svg.area = function() {\n    return d3_svg_area(d3_identity);\n  };\n  d3.svg.area.radial = function() {\n    var area = d3_svg_area(d3_svg_lineRadial);\n    area.radius = area.x, delete area.x;\n    area.innerRadius = area.x0, delete area.x0;\n    area.outerRadius = area.x1, delete area.x1;\n    area.angle = area.y, delete area.y;\n    area.startAngle = area.y0, delete area.y0;\n    area.endAngle = area.y1, delete area.y1;\n    return area;\n  };\n  d3.svg.chord = function() {\n    var source = d3_source, target = d3_target, radius = d3_svg_chordRadius, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle;\n    function chord(d, i) {\n      var s = subgroup(this, source, d, i), t = subgroup(this, target, d, i);\n      return \"M\" + s.p0 + arc(s.r, s.p1, s.a1 - s.a0) + (equals(s, t) ? curve(s.r, s.p1, s.r, s.p0) : curve(s.r, s.p1, t.r, t.p0) + arc(t.r, t.p1, t.a1 - t.a0) + curve(t.r, t.p1, s.r, s.p0)) + \"Z\";\n    }\n    function subgroup(self, f, d, i) {\n      var subgroup = f.call(self, d, i), r = radius.call(self, subgroup, i), a0 = startAngle.call(self, subgroup, i) - halfπ, a1 = endAngle.call(self, subgroup, i) - halfπ;\n      return {\n        r: r,\n        a0: a0,\n        a1: a1,\n        p0: [ r * Math.cos(a0), r * Math.sin(a0) ],\n        p1: [ r * Math.cos(a1), r * Math.sin(a1) ]\n      };\n    }\n    function equals(a, b) {\n      return a.a0 == b.a0 && a.a1 == b.a1;\n    }\n    function arc(r, p, a) {\n      return \"A\" + r + \",\" + r + \" 0 \" + +(a > π) + \",1 \" + p;\n    }\n    function curve(r0, p0, r1, p1) {\n      return \"Q 0,0 \" + p1;\n    }\n    chord.radius = function(v) {\n      if (!arguments.length) return radius;\n      radius = d3_functor(v);\n      return chord;\n    };\n    chord.source = function(v) {\n      if (!arguments.length) return source;\n      source = d3_functor(v);\n      return chord;\n    };\n    chord.target = function(v) {\n      if (!arguments.length) return target;\n      target = d3_functor(v);\n      return chord;\n    };\n    chord.startAngle = function(v) {\n      if (!arguments.length) return startAngle;\n      startAngle = d3_functor(v);\n      return chord;\n    };\n    chord.endAngle = function(v) {\n      if (!arguments.length) return endAngle;\n      endAngle = d3_functor(v);\n      return chord;\n    };\n    return chord;\n  };\n  function d3_svg_chordRadius(d) {\n    return d.radius;\n  }\n  d3.svg.diagonal = function() {\n    var source = d3_source, target = d3_target, projection = d3_svg_diagonalProjection;\n    function diagonal(d, i) {\n      var p0 = source.call(this, d, i), p3 = target.call(this, d, i), m = (p0.y + p3.y) / 2, p = [ p0, {\n        x: p0.x,\n        y: m\n      }, {\n        x: p3.x,\n        y: m\n      }, p3 ];\n      p = p.map(projection);\n      return \"M\" + p[0] + \"C\" + p[1] + \" \" + p[2] + \" \" + p[3];\n    }\n    diagonal.source = function(x) {\n      if (!arguments.length) return source;\n      source = d3_functor(x);\n      return diagonal;\n    };\n    diagonal.target = function(x) {\n      if (!arguments.length) return target;\n      target = d3_functor(x);\n      return diagonal;\n    };\n    diagonal.projection = function(x) {\n      if (!arguments.length) return projection;\n      projection = x;\n      return diagonal;\n    };\n    return diagonal;\n  };\n  function d3_svg_diagonalProjection(d) {\n    return [ d.x, d.y ];\n  }\n  d3.svg.diagonal.radial = function() {\n    var diagonal = d3.svg.diagonal(), projection = d3_svg_diagonalProjection, projection_ = diagonal.projection;\n    diagonal.projection = function(x) {\n      return arguments.length ? projection_(d3_svg_diagonalRadialProjection(projection = x)) : projection;\n    };\n    return diagonal;\n  };\n  function d3_svg_diagonalRadialProjection(projection) {\n    return function() {\n      var d = projection.apply(this, arguments), r = d[0], a = d[1] - halfπ;\n      return [ r * Math.cos(a), r * Math.sin(a) ];\n    };\n  }\n  d3.svg.symbol = function() {\n    var type = d3_svg_symbolType, size = d3_svg_symbolSize;\n    function symbol(d, i) {\n      return (d3_svg_symbols.get(type.call(this, d, i)) || d3_svg_symbolCircle)(size.call(this, d, i));\n    }\n    symbol.type = function(x) {\n      if (!arguments.length) return type;\n      type = d3_functor(x);\n      return symbol;\n    };\n    symbol.size = function(x) {\n      if (!arguments.length) return size;\n      size = d3_functor(x);\n      return symbol;\n    };\n    return symbol;\n  };\n  function d3_svg_symbolSize() {\n    return 64;\n  }\n  function d3_svg_symbolType() {\n    return \"circle\";\n  }\n  function d3_svg_symbolCircle(size) {\n    var r = Math.sqrt(size / π);\n    return \"M0,\" + r + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + -r + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + r + \"Z\";\n  }\n  var d3_svg_symbols = d3.map({\n    circle: d3_svg_symbolCircle,\n    cross: function(size) {\n      var r = Math.sqrt(size / 5) / 2;\n      return \"M\" + -3 * r + \",\" + -r + \"H\" + -r + \"V\" + -3 * r + \"H\" + r + \"V\" + -r + \"H\" + 3 * r + \"V\" + r + \"H\" + r + \"V\" + 3 * r + \"H\" + -r + \"V\" + r + \"H\" + -3 * r + \"Z\";\n    },\n    diamond: function(size) {\n      var ry = Math.sqrt(size / (2 * d3_svg_symbolTan30)), rx = ry * d3_svg_symbolTan30;\n      return \"M0,\" + -ry + \"L\" + rx + \",0\" + \" 0,\" + ry + \" \" + -rx + \",0\" + \"Z\";\n    },\n    square: function(size) {\n      var r = Math.sqrt(size) / 2;\n      return \"M\" + -r + \",\" + -r + \"L\" + r + \",\" + -r + \" \" + r + \",\" + r + \" \" + -r + \",\" + r + \"Z\";\n    },\n    \"triangle-down\": function(size) {\n      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;\n      return \"M0,\" + ry + \"L\" + rx + \",\" + -ry + \" \" + -rx + \",\" + -ry + \"Z\";\n    },\n    \"triangle-up\": function(size) {\n      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;\n      return \"M0,\" + -ry + \"L\" + rx + \",\" + ry + \" \" + -rx + \",\" + ry + \"Z\";\n    }\n  });\n  d3.svg.symbolTypes = d3_svg_symbols.keys();\n  var d3_svg_symbolSqrt3 = Math.sqrt(3), d3_svg_symbolTan30 = Math.tan(30 * d3_radians);\n  d3_selectionPrototype.transition = function(name) {\n    var id = d3_transitionInheritId || ++d3_transitionId, ns = d3_transitionNamespace(name), subgroups = [], subgroup, node, transition = d3_transitionInherit || {\n      time: Date.now(),\n      ease: d3_ease_cubicInOut,\n      delay: 0,\n      duration: 250\n    };\n    for (var j = -1, m = this.length; ++j < m; ) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) d3_transitionNode(node, i, ns, id, transition);\n        subgroup.push(node);\n      }\n    }\n    return d3_transition(subgroups, ns, id);\n  };\n  d3_selectionPrototype.interrupt = function(name) {\n    return this.each(name == null ? d3_selection_interrupt : d3_selection_interruptNS(d3_transitionNamespace(name)));\n  };\n  var d3_selection_interrupt = d3_selection_interruptNS(d3_transitionNamespace());\n  function d3_selection_interruptNS(ns) {\n    return function() {\n      var lock, activeId, active;\n      if ((lock = this[ns]) && (active = lock[activeId = lock.active])) {\n        active.timer.c = null;\n        active.timer.t = NaN;\n        if (--lock.count) delete lock[activeId]; else delete this[ns];\n        lock.active += .5;\n        active.event && active.event.interrupt.call(this, this.__data__, active.index);\n      }\n    };\n  }\n  function d3_transition(groups, ns, id) {\n    d3_subclass(groups, d3_transitionPrototype);\n    groups.namespace = ns;\n    groups.id = id;\n    return groups;\n  }\n  var d3_transitionPrototype = [], d3_transitionId = 0, d3_transitionInheritId, d3_transitionInherit;\n  d3_transitionPrototype.call = d3_selectionPrototype.call;\n  d3_transitionPrototype.empty = d3_selectionPrototype.empty;\n  d3_transitionPrototype.node = d3_selectionPrototype.node;\n  d3_transitionPrototype.size = d3_selectionPrototype.size;\n  d3.transition = function(selection, name) {\n    return selection && selection.transition ? d3_transitionInheritId ? selection.transition(name) : selection : d3.selection().transition(selection);\n  };\n  d3.transition.prototype = d3_transitionPrototype;\n  d3_transitionPrototype.select = function(selector) {\n    var id = this.id, ns = this.namespace, subgroups = [], subgroup, subnode, node;\n    selector = d3_selection_selector(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if ((node = group[i]) && (subnode = selector.call(node, node.__data__, i, j))) {\n          if (\"__data__\" in node) subnode.__data__ = node.__data__;\n          d3_transitionNode(subnode, i, ns, id, node[ns][id]);\n          subgroup.push(subnode);\n        } else {\n          subgroup.push(null);\n        }\n      }\n    }\n    return d3_transition(subgroups, ns, id);\n  };\n  d3_transitionPrototype.selectAll = function(selector) {\n    var id = this.id, ns = this.namespace, subgroups = [], subgroup, subnodes, node, subnode, transition;\n    selector = d3_selection_selectorAll(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          transition = node[ns][id];\n          subnodes = selector.call(node, node.__data__, i, j);\n          subgroups.push(subgroup = []);\n          for (var k = -1, o = subnodes.length; ++k < o; ) {\n            if (subnode = subnodes[k]) d3_transitionNode(subnode, k, ns, id, transition);\n            subgroup.push(subnode);\n          }\n        }\n      }\n    }\n    return d3_transition(subgroups, ns, id);\n  };\n  d3_transitionPrototype.filter = function(filter) {\n    var subgroups = [], subgroup, group, node;\n    if (typeof filter !== \"function\") filter = d3_selection_filter(filter);\n    for (var j = 0, m = this.length; j < m; j++) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {\n          subgroup.push(node);\n        }\n      }\n    }\n    return d3_transition(subgroups, this.namespace, this.id);\n  };\n  d3_transitionPrototype.tween = function(name, tween) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 2) return this.node()[ns][id].tween.get(name);\n    return d3_selection_each(this, tween == null ? function(node) {\n      node[ns][id].tween.remove(name);\n    } : function(node) {\n      node[ns][id].tween.set(name, tween);\n    });\n  };\n  function d3_transition_tween(groups, name, value, tween) {\n    var id = groups.id, ns = groups.namespace;\n    return d3_selection_each(groups, typeof value === \"function\" ? function(node, i, j) {\n      node[ns][id].tween.set(name, tween(value.call(node, node.__data__, i, j)));\n    } : (value = tween(value), function(node) {\n      node[ns][id].tween.set(name, value);\n    }));\n  }\n  d3_transitionPrototype.attr = function(nameNS, value) {\n    if (arguments.length < 2) {\n      for (value in nameNS) this.attr(value, nameNS[value]);\n      return this;\n    }\n    var interpolate = nameNS == \"transform\" ? d3_interpolateTransform : d3_interpolate, name = d3.ns.qualify(nameNS);\n    function attrNull() {\n      this.removeAttribute(name);\n    }\n    function attrNullNS() {\n      this.removeAttributeNS(name.space, name.local);\n    }\n    function attrTween(b) {\n      return b == null ? attrNull : (b += \"\", function() {\n        var a = this.getAttribute(name), i;\n        return a !== b && (i = interpolate(a, b), function(t) {\n          this.setAttribute(name, i(t));\n        });\n      });\n    }\n    function attrTweenNS(b) {\n      return b == null ? attrNullNS : (b += \"\", function() {\n        var a = this.getAttributeNS(name.space, name.local), i;\n        return a !== b && (i = interpolate(a, b), function(t) {\n          this.setAttributeNS(name.space, name.local, i(t));\n        });\n      });\n    }\n    return d3_transition_tween(this, \"attr.\" + nameNS, value, name.local ? attrTweenNS : attrTween);\n  };\n  d3_transitionPrototype.attrTween = function(nameNS, tween) {\n    var name = d3.ns.qualify(nameNS);\n    function attrTween(d, i) {\n      var f = tween.call(this, d, i, this.getAttribute(name));\n      return f && function(t) {\n        this.setAttribute(name, f(t));\n      };\n    }\n    function attrTweenNS(d, i) {\n      var f = tween.call(this, d, i, this.getAttributeNS(name.space, name.local));\n      return f && function(t) {\n        this.setAttributeNS(name.space, name.local, f(t));\n      };\n    }\n    return this.tween(\"attr.\" + nameNS, name.local ? attrTweenNS : attrTween);\n  };\n  d3_transitionPrototype.style = function(name, value, priority) {\n    var n = arguments.length;\n    if (n < 3) {\n      if (typeof name !== \"string\") {\n        if (n < 2) value = \"\";\n        for (priority in name) this.style(priority, name[priority], value);\n        return this;\n      }\n      priority = \"\";\n    }\n    function styleNull() {\n      this.style.removeProperty(name);\n    }\n    function styleString(b) {\n      return b == null ? styleNull : (b += \"\", function() {\n        var a = d3_window(this).getComputedStyle(this, null).getPropertyValue(name), i;\n        return a !== b && (i = d3_interpolate(a, b), function(t) {\n          this.style.setProperty(name, i(t), priority);\n        });\n      });\n    }\n    return d3_transition_tween(this, \"style.\" + name, value, styleString);\n  };\n  d3_transitionPrototype.styleTween = function(name, tween, priority) {\n    if (arguments.length < 3) priority = \"\";\n    function styleTween(d, i) {\n      var f = tween.call(this, d, i, d3_window(this).getComputedStyle(this, null).getPropertyValue(name));\n      return f && function(t) {\n        this.style.setProperty(name, f(t), priority);\n      };\n    }\n    return this.tween(\"style.\" + name, styleTween);\n  };\n  d3_transitionPrototype.text = function(value) {\n    return d3_transition_tween(this, \"text\", value, d3_transition_text);\n  };\n  function d3_transition_text(b) {\n    if (b == null) b = \"\";\n    return function() {\n      this.textContent = b;\n    };\n  }\n  d3_transitionPrototype.remove = function() {\n    var ns = this.namespace;\n    return this.each(\"end.transition\", function() {\n      var p;\n      if (this[ns].count < 2 && (p = this.parentNode)) p.removeChild(this);\n    });\n  };\n  d3_transitionPrototype.ease = function(value) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 1) return this.node()[ns][id].ease;\n    if (typeof value !== \"function\") value = d3.ease.apply(d3, arguments);\n    return d3_selection_each(this, function(node) {\n      node[ns][id].ease = value;\n    });\n  };\n  d3_transitionPrototype.delay = function(value) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 1) return this.node()[ns][id].delay;\n    return d3_selection_each(this, typeof value === \"function\" ? function(node, i, j) {\n      node[ns][id].delay = +value.call(node, node.__data__, i, j);\n    } : (value = +value, function(node) {\n      node[ns][id].delay = value;\n    }));\n  };\n  d3_transitionPrototype.duration = function(value) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 1) return this.node()[ns][id].duration;\n    return d3_selection_each(this, typeof value === \"function\" ? function(node, i, j) {\n      node[ns][id].duration = Math.max(1, value.call(node, node.__data__, i, j));\n    } : (value = Math.max(1, value), function(node) {\n      node[ns][id].duration = value;\n    }));\n  };\n  d3_transitionPrototype.each = function(type, listener) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 2) {\n      var inherit = d3_transitionInherit, inheritId = d3_transitionInheritId;\n      try {\n        d3_transitionInheritId = id;\n        d3_selection_each(this, function(node, i, j) {\n          d3_transitionInherit = node[ns][id];\n          type.call(node, node.__data__, i, j);\n        });\n      } finally {\n        d3_transitionInherit = inherit;\n        d3_transitionInheritId = inheritId;\n      }\n    } else {\n      d3_selection_each(this, function(node) {\n        var transition = node[ns][id];\n        (transition.event || (transition.event = d3.dispatch(\"start\", \"end\", \"interrupt\"))).on(type, listener);\n      });\n    }\n    return this;\n  };\n  d3_transitionPrototype.transition = function() {\n    var id0 = this.id, id1 = ++d3_transitionId, ns = this.namespace, subgroups = [], subgroup, group, node, transition;\n    for (var j = 0, m = this.length; j < m; j++) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n        if (node = group[i]) {\n          transition = node[ns][id0];\n          d3_transitionNode(node, i, ns, id1, {\n            time: transition.time,\n            ease: transition.ease,\n            delay: transition.delay + transition.duration,\n            duration: transition.duration\n          });\n        }\n        subgroup.push(node);\n      }\n    }\n    return d3_transition(subgroups, ns, id1);\n  };\n  function d3_transitionNamespace(name) {\n    return name == null ? \"__transition__\" : \"__transition_\" + name + \"__\";\n  }\n  function d3_transitionNode(node, i, ns, id, inherit) {\n    var lock = node[ns] || (node[ns] = {\n      active: 0,\n      count: 0\n    }), transition = lock[id], time, timer, duration, ease, tweens;\n    function schedule(elapsed) {\n      var delay = transition.delay;\n      timer.t = delay + time;\n      if (delay <= elapsed) return start(elapsed - delay);\n      timer.c = start;\n    }\n    function start(elapsed) {\n      var activeId = lock.active, active = lock[activeId];\n      if (active) {\n        active.timer.c = null;\n        active.timer.t = NaN;\n        --lock.count;\n        delete lock[activeId];\n        active.event && active.event.interrupt.call(node, node.__data__, active.index);\n      }\n      for (var cancelId in lock) {\n        if (+cancelId < id) {\n          var cancel = lock[cancelId];\n          cancel.timer.c = null;\n          cancel.timer.t = NaN;\n          --lock.count;\n          delete lock[cancelId];\n        }\n      }\n      timer.c = tick;\n      d3_timer(function() {\n        if (timer.c && tick(elapsed || 1)) {\n          timer.c = null;\n          timer.t = NaN;\n        }\n        return 1;\n      }, 0, time);\n      lock.active = id;\n      transition.event && transition.event.start.call(node, node.__data__, i);\n      tweens = [];\n      transition.tween.forEach(function(key, value) {\n        if (value = value.call(node, node.__data__, i)) {\n          tweens.push(value);\n        }\n      });\n      ease = transition.ease;\n      duration = transition.duration;\n    }\n    function tick(elapsed) {\n      var t = elapsed / duration, e = ease(t), n = tweens.length;\n      while (n > 0) {\n        tweens[--n].call(node, e);\n      }\n      if (t >= 1) {\n        transition.event && transition.event.end.call(node, node.__data__, i);\n        if (--lock.count) delete lock[id]; else delete node[ns];\n        return 1;\n      }\n    }\n    if (!transition) {\n      time = inherit.time;\n      timer = d3_timer(schedule, 0, time);\n      transition = lock[id] = {\n        tween: new d3_Map(),\n        time: time,\n        timer: timer,\n        delay: inherit.delay,\n        duration: inherit.duration,\n        ease: inherit.ease,\n        index: i\n      };\n      inherit = null;\n      ++lock.count;\n    }\n  }\n  d3.svg.axis = function() {\n    var scale = d3.scale.linear(), orient = d3_svg_axisDefaultOrient, innerTickSize = 6, outerTickSize = 6, tickPadding = 3, tickArguments_ = [ 10 ], tickValues = null, tickFormat_;\n    function axis(g) {\n      g.each(function() {\n        var g = d3.select(this);\n        var scale0 = this.__chart__ || scale, scale1 = this.__chart__ = scale.copy();\n        var ticks = tickValues == null ? scale1.ticks ? scale1.ticks.apply(scale1, tickArguments_) : scale1.domain() : tickValues, tickFormat = tickFormat_ == null ? scale1.tickFormat ? scale1.tickFormat.apply(scale1, tickArguments_) : d3_identity : tickFormat_, tick = g.selectAll(\".tick\").data(ticks, scale1), tickEnter = tick.enter().insert(\"g\", \".domain\").attr(\"class\", \"tick\").style(\"opacity\", ε), tickExit = d3.transition(tick.exit()).style(\"opacity\", ε).remove(), tickUpdate = d3.transition(tick.order()).style(\"opacity\", 1), tickSpacing = Math.max(innerTickSize, 0) + tickPadding, tickTransform;\n        var range = d3_scaleRange(scale1), path = g.selectAll(\".domain\").data([ 0 ]), pathUpdate = (path.enter().append(\"path\").attr(\"class\", \"domain\"), \n        d3.transition(path));\n        tickEnter.append(\"line\");\n        tickEnter.append(\"text\");\n        var lineEnter = tickEnter.select(\"line\"), lineUpdate = tickUpdate.select(\"line\"), text = tick.select(\"text\").text(tickFormat), textEnter = tickEnter.select(\"text\"), textUpdate = tickUpdate.select(\"text\"), sign = orient === \"top\" || orient === \"left\" ? -1 : 1, x1, x2, y1, y2;\n        if (orient === \"bottom\" || orient === \"top\") {\n          tickTransform = d3_svg_axisX, x1 = \"x\", y1 = \"y\", x2 = \"x2\", y2 = \"y2\";\n          text.attr(\"dy\", sign < 0 ? \"0em\" : \".71em\").style(\"text-anchor\", \"middle\");\n          pathUpdate.attr(\"d\", \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize);\n        } else {\n          tickTransform = d3_svg_axisY, x1 = \"y\", y1 = \"x\", x2 = \"y2\", y2 = \"x2\";\n          text.attr(\"dy\", \".32em\").style(\"text-anchor\", sign < 0 ? \"end\" : \"start\");\n          pathUpdate.attr(\"d\", \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize);\n        }\n        lineEnter.attr(y2, sign * innerTickSize);\n        textEnter.attr(y1, sign * tickSpacing);\n        lineUpdate.attr(x2, 0).attr(y2, sign * innerTickSize);\n        textUpdate.attr(x1, 0).attr(y1, sign * tickSpacing);\n        if (scale1.rangeBand) {\n          var x = scale1, dx = x.rangeBand() / 2;\n          scale0 = scale1 = function(d) {\n            return x(d) + dx;\n          };\n        } else if (scale0.rangeBand) {\n          scale0 = scale1;\n        } else {\n          tickExit.call(tickTransform, scale1, scale0);\n        }\n        tickEnter.call(tickTransform, scale0, scale1);\n        tickUpdate.call(tickTransform, scale1, scale1);\n      });\n    }\n    axis.scale = function(x) {\n      if (!arguments.length) return scale;\n      scale = x;\n      return axis;\n    };\n    axis.orient = function(x) {\n      if (!arguments.length) return orient;\n      orient = x in d3_svg_axisOrients ? x + \"\" : d3_svg_axisDefaultOrient;\n      return axis;\n    };\n    axis.ticks = function() {\n      if (!arguments.length) return tickArguments_;\n      tickArguments_ = d3_array(arguments);\n      return axis;\n    };\n    axis.tickValues = function(x) {\n      if (!arguments.length) return tickValues;\n      tickValues = x;\n      return axis;\n    };\n    axis.tickFormat = function(x) {\n      if (!arguments.length) return tickFormat_;\n      tickFormat_ = x;\n      return axis;\n    };\n    axis.tickSize = function(x) {\n      var n = arguments.length;\n      if (!n) return innerTickSize;\n      innerTickSize = +x;\n      outerTickSize = +arguments[n - 1];\n      return axis;\n    };\n    axis.innerTickSize = function(x) {\n      if (!arguments.length) return innerTickSize;\n      innerTickSize = +x;\n      return axis;\n    };\n    axis.outerTickSize = function(x) {\n      if (!arguments.length) return outerTickSize;\n      outerTickSize = +x;\n      return axis;\n    };\n    axis.tickPadding = function(x) {\n      if (!arguments.length) return tickPadding;\n      tickPadding = +x;\n      return axis;\n    };\n    axis.tickSubdivide = function() {\n      return arguments.length && axis;\n    };\n    return axis;\n  };\n  var d3_svg_axisDefaultOrient = \"bottom\", d3_svg_axisOrients = {\n    top: 1,\n    right: 1,\n    bottom: 1,\n    left: 1\n  };\n  function d3_svg_axisX(selection, x0, x1) {\n    selection.attr(\"transform\", function(d) {\n      var v0 = x0(d);\n      return \"translate(\" + (isFinite(v0) ? v0 : x1(d)) + \",0)\";\n    });\n  }\n  function d3_svg_axisY(selection, y0, y1) {\n    selection.attr(\"transform\", function(d) {\n      var v0 = y0(d);\n      return \"translate(0,\" + (isFinite(v0) ? v0 : y1(d)) + \")\";\n    });\n  }\n  d3.svg.brush = function() {\n    var event = d3_eventDispatch(brush, \"brushstart\", \"brush\", \"brushend\"), x = null, y = null, xExtent = [ 0, 0 ], yExtent = [ 0, 0 ], xExtentDomain, yExtentDomain, xClamp = true, yClamp = true, resizes = d3_svg_brushResizes[0];\n    function brush(g) {\n      g.each(function() {\n        var g = d3.select(this).style(\"pointer-events\", \"all\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\").on(\"mousedown.brush\", brushstart).on(\"touchstart.brush\", brushstart);\n        var background = g.selectAll(\".background\").data([ 0 ]);\n        background.enter().append(\"rect\").attr(\"class\", \"background\").style(\"visibility\", \"hidden\").style(\"cursor\", \"crosshair\");\n        g.selectAll(\".extent\").data([ 0 ]).enter().append(\"rect\").attr(\"class\", \"extent\").style(\"cursor\", \"move\");\n        var resize = g.selectAll(\".resize\").data(resizes, d3_identity);\n        resize.exit().remove();\n        resize.enter().append(\"g\").attr(\"class\", function(d) {\n          return \"resize \" + d;\n        }).style(\"cursor\", function(d) {\n          return d3_svg_brushCursor[d];\n        }).append(\"rect\").attr(\"x\", function(d) {\n          return /[ew]$/.test(d) ? -3 : null;\n        }).attr(\"y\", function(d) {\n          return /^[ns]/.test(d) ? -3 : null;\n        }).attr(\"width\", 6).attr(\"height\", 6).style(\"visibility\", \"hidden\");\n        resize.style(\"display\", brush.empty() ? \"none\" : null);\n        var gUpdate = d3.transition(g), backgroundUpdate = d3.transition(background), range;\n        if (x) {\n          range = d3_scaleRange(x);\n          backgroundUpdate.attr(\"x\", range[0]).attr(\"width\", range[1] - range[0]);\n          redrawX(gUpdate);\n        }\n        if (y) {\n          range = d3_scaleRange(y);\n          backgroundUpdate.attr(\"y\", range[0]).attr(\"height\", range[1] - range[0]);\n          redrawY(gUpdate);\n        }\n        redraw(gUpdate);\n      });\n    }\n    brush.event = function(g) {\n      g.each(function() {\n        var event_ = event.of(this, arguments), extent1 = {\n          x: xExtent,\n          y: yExtent,\n          i: xExtentDomain,\n          j: yExtentDomain\n        }, extent0 = this.__chart__ || extent1;\n        this.__chart__ = extent1;\n        if (d3_transitionInheritId) {\n          d3.select(this).transition().each(\"start.brush\", function() {\n            xExtentDomain = extent0.i;\n            yExtentDomain = extent0.j;\n            xExtent = extent0.x;\n            yExtent = extent0.y;\n            event_({\n              type: \"brushstart\"\n            });\n          }).tween(\"brush:brush\", function() {\n            var xi = d3_interpolateArray(xExtent, extent1.x), yi = d3_interpolateArray(yExtent, extent1.y);\n            xExtentDomain = yExtentDomain = null;\n            return function(t) {\n              xExtent = extent1.x = xi(t);\n              yExtent = extent1.y = yi(t);\n              event_({\n                type: \"brush\",\n                mode: \"resize\"\n              });\n            };\n          }).each(\"end.brush\", function() {\n            xExtentDomain = extent1.i;\n            yExtentDomain = extent1.j;\n            event_({\n              type: \"brush\",\n              mode: \"resize\"\n            });\n            event_({\n              type: \"brushend\"\n            });\n          });\n        } else {\n          event_({\n            type: \"brushstart\"\n          });\n          event_({\n            type: \"brush\",\n            mode: \"resize\"\n          });\n          event_({\n            type: \"brushend\"\n          });\n        }\n      });\n    };\n    function redraw(g) {\n      g.selectAll(\".resize\").attr(\"transform\", function(d) {\n        return \"translate(\" + xExtent[+/e$/.test(d)] + \",\" + yExtent[+/^s/.test(d)] + \")\";\n      });\n    }\n    function redrawX(g) {\n      g.select(\".extent\").attr(\"x\", xExtent[0]);\n      g.selectAll(\".extent,.n>rect,.s>rect\").attr(\"width\", xExtent[1] - xExtent[0]);\n    }\n    function redrawY(g) {\n      g.select(\".extent\").attr(\"y\", yExtent[0]);\n      g.selectAll(\".extent,.e>rect,.w>rect\").attr(\"height\", yExtent[1] - yExtent[0]);\n    }\n    function brushstart() {\n      var target = this, eventTarget = d3.select(d3.event.target), event_ = event.of(target, arguments), g = d3.select(target), resizing = eventTarget.datum(), resizingX = !/^(n|s)$/.test(resizing) && x, resizingY = !/^(e|w)$/.test(resizing) && y, dragging = eventTarget.classed(\"extent\"), dragRestore = d3_event_dragSuppress(target), center, origin = d3.mouse(target), offset;\n      var w = d3.select(d3_window(target)).on(\"keydown.brush\", keydown).on(\"keyup.brush\", keyup);\n      if (d3.event.changedTouches) {\n        w.on(\"touchmove.brush\", brushmove).on(\"touchend.brush\", brushend);\n      } else {\n        w.on(\"mousemove.brush\", brushmove).on(\"mouseup.brush\", brushend);\n      }\n      g.interrupt().selectAll(\"*\").interrupt();\n      if (dragging) {\n        origin[0] = xExtent[0] - origin[0];\n        origin[1] = yExtent[0] - origin[1];\n      } else if (resizing) {\n        var ex = +/w$/.test(resizing), ey = +/^n/.test(resizing);\n        offset = [ xExtent[1 - ex] - origin[0], yExtent[1 - ey] - origin[1] ];\n        origin[0] = xExtent[ex];\n        origin[1] = yExtent[ey];\n      } else if (d3.event.altKey) center = origin.slice();\n      g.style(\"pointer-events\", \"none\").selectAll(\".resize\").style(\"display\", null);\n      d3.select(\"body\").style(\"cursor\", eventTarget.style(\"cursor\"));\n      event_({\n        type: \"brushstart\"\n      });\n      brushmove();\n      function keydown() {\n        if (d3.event.keyCode == 32) {\n          if (!dragging) {\n            center = null;\n            origin[0] -= xExtent[1];\n            origin[1] -= yExtent[1];\n            dragging = 2;\n          }\n          d3_eventPreventDefault();\n        }\n      }\n      function keyup() {\n        if (d3.event.keyCode == 32 && dragging == 2) {\n          origin[0] += xExtent[1];\n          origin[1] += yExtent[1];\n          dragging = 0;\n          d3_eventPreventDefault();\n        }\n      }\n      function brushmove() {\n        var point = d3.mouse(target), moved = false;\n        if (offset) {\n          point[0] += offset[0];\n          point[1] += offset[1];\n        }\n        if (!dragging) {\n          if (d3.event.altKey) {\n            if (!center) center = [ (xExtent[0] + xExtent[1]) / 2, (yExtent[0] + yExtent[1]) / 2 ];\n            origin[0] = xExtent[+(point[0] < center[0])];\n            origin[1] = yExtent[+(point[1] < center[1])];\n          } else center = null;\n        }\n        if (resizingX && move1(point, x, 0)) {\n          redrawX(g);\n          moved = true;\n        }\n        if (resizingY && move1(point, y, 1)) {\n          redrawY(g);\n          moved = true;\n        }\n        if (moved) {\n          redraw(g);\n          event_({\n            type: \"brush\",\n            mode: dragging ? \"move\" : \"resize\"\n          });\n        }\n      }\n      function move1(point, scale, i) {\n        var range = d3_scaleRange(scale), r0 = range[0], r1 = range[1], position = origin[i], extent = i ? yExtent : xExtent, size = extent[1] - extent[0], min, max;\n        if (dragging) {\n          r0 -= position;\n          r1 -= size + position;\n        }\n        min = (i ? yClamp : xClamp) ? Math.max(r0, Math.min(r1, point[i])) : point[i];\n        if (dragging) {\n          max = (min += position) + size;\n        } else {\n          if (center) position = Math.max(r0, Math.min(r1, 2 * center[i] - min));\n          if (position < min) {\n            max = min;\n            min = position;\n          } else {\n            max = position;\n          }\n        }\n        if (extent[0] != min || extent[1] != max) {\n          if (i) yExtentDomain = null; else xExtentDomain = null;\n          extent[0] = min;\n          extent[1] = max;\n          return true;\n        }\n      }\n      function brushend() {\n        brushmove();\n        g.style(\"pointer-events\", \"all\").selectAll(\".resize\").style(\"display\", brush.empty() ? \"none\" : null);\n        d3.select(\"body\").style(\"cursor\", null);\n        w.on(\"mousemove.brush\", null).on(\"mouseup.brush\", null).on(\"touchmove.brush\", null).on(\"touchend.brush\", null).on(\"keydown.brush\", null).on(\"keyup.brush\", null);\n        dragRestore();\n        event_({\n          type: \"brushend\"\n        });\n      }\n    }\n    brush.x = function(z) {\n      if (!arguments.length) return x;\n      x = z;\n      resizes = d3_svg_brushResizes[!x << 1 | !y];\n      return brush;\n    };\n    brush.y = function(z) {\n      if (!arguments.length) return y;\n      y = z;\n      resizes = d3_svg_brushResizes[!x << 1 | !y];\n      return brush;\n    };\n    brush.clamp = function(z) {\n      if (!arguments.length) return x && y ? [ xClamp, yClamp ] : x ? xClamp : y ? yClamp : null;\n      if (x && y) xClamp = !!z[0], yClamp = !!z[1]; else if (x) xClamp = !!z; else if (y) yClamp = !!z;\n      return brush;\n    };\n    brush.extent = function(z) {\n      var x0, x1, y0, y1, t;\n      if (!arguments.length) {\n        if (x) {\n          if (xExtentDomain) {\n            x0 = xExtentDomain[0], x1 = xExtentDomain[1];\n          } else {\n            x0 = xExtent[0], x1 = xExtent[1];\n            if (x.invert) x0 = x.invert(x0), x1 = x.invert(x1);\n            if (x1 < x0) t = x0, x0 = x1, x1 = t;\n          }\n        }\n        if (y) {\n          if (yExtentDomain) {\n            y0 = yExtentDomain[0], y1 = yExtentDomain[1];\n          } else {\n            y0 = yExtent[0], y1 = yExtent[1];\n            if (y.invert) y0 = y.invert(y0), y1 = y.invert(y1);\n            if (y1 < y0) t = y0, y0 = y1, y1 = t;\n          }\n        }\n        return x && y ? [ [ x0, y0 ], [ x1, y1 ] ] : x ? [ x0, x1 ] : y && [ y0, y1 ];\n      }\n      if (x) {\n        x0 = z[0], x1 = z[1];\n        if (y) x0 = x0[0], x1 = x1[0];\n        xExtentDomain = [ x0, x1 ];\n        if (x.invert) x0 = x(x0), x1 = x(x1);\n        if (x1 < x0) t = x0, x0 = x1, x1 = t;\n        if (x0 != xExtent[0] || x1 != xExtent[1]) xExtent = [ x0, x1 ];\n      }\n      if (y) {\n        y0 = z[0], y1 = z[1];\n        if (x) y0 = y0[1], y1 = y1[1];\n        yExtentDomain = [ y0, y1 ];\n        if (y.invert) y0 = y(y0), y1 = y(y1);\n        if (y1 < y0) t = y0, y0 = y1, y1 = t;\n        if (y0 != yExtent[0] || y1 != yExtent[1]) yExtent = [ y0, y1 ];\n      }\n      return brush;\n    };\n    brush.clear = function() {\n      if (!brush.empty()) {\n        xExtent = [ 0, 0 ], yExtent = [ 0, 0 ];\n        xExtentDomain = yExtentDomain = null;\n      }\n      return brush;\n    };\n    brush.empty = function() {\n      return !!x && xExtent[0] == xExtent[1] || !!y && yExtent[0] == yExtent[1];\n    };\n    return d3.rebind(brush, event, \"on\");\n  };\n  var d3_svg_brushCursor = {\n    n: \"ns-resize\",\n    e: \"ew-resize\",\n    s: \"ns-resize\",\n    w: \"ew-resize\",\n    nw: \"nwse-resize\",\n    ne: \"nesw-resize\",\n    se: \"nwse-resize\",\n    sw: \"nesw-resize\"\n  };\n  var d3_svg_brushResizes = [ [ \"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\" ], [ \"e\", \"w\" ], [ \"n\", \"s\" ], [] ];\n  var d3_time_format = d3_time.format = d3_locale_enUS.timeFormat;\n  var d3_time_formatUtc = d3_time_format.utc;\n  var d3_time_formatIso = d3_time_formatUtc(\"%Y-%m-%dT%H:%M:%S.%LZ\");\n  d3_time_format.iso = Date.prototype.toISOString && +new Date(\"2000-01-01T00:00:00.000Z\") ? d3_time_formatIsoNative : d3_time_formatIso;\n  function d3_time_formatIsoNative(date) {\n    return date.toISOString();\n  }\n  d3_time_formatIsoNative.parse = function(string) {\n    var date = new Date(string);\n    return isNaN(date) ? null : date;\n  };\n  d3_time_formatIsoNative.toString = d3_time_formatIso.toString;\n  d3_time.second = d3_time_interval(function(date) {\n    return new d3_date(Math.floor(date / 1e3) * 1e3);\n  }, function(date, offset) {\n    date.setTime(date.getTime() + Math.floor(offset) * 1e3);\n  }, function(date) {\n    return date.getSeconds();\n  });\n  d3_time.seconds = d3_time.second.range;\n  d3_time.seconds.utc = d3_time.second.utc.range;\n  d3_time.minute = d3_time_interval(function(date) {\n    return new d3_date(Math.floor(date / 6e4) * 6e4);\n  }, function(date, offset) {\n    date.setTime(date.getTime() + Math.floor(offset) * 6e4);\n  }, function(date) {\n    return date.getMinutes();\n  });\n  d3_time.minutes = d3_time.minute.range;\n  d3_time.minutes.utc = d3_time.minute.utc.range;\n  d3_time.hour = d3_time_interval(function(date) {\n    var timezone = date.getTimezoneOffset() / 60;\n    return new d3_date((Math.floor(date / 36e5 - timezone) + timezone) * 36e5);\n  }, function(date, offset) {\n    date.setTime(date.getTime() + Math.floor(offset) * 36e5);\n  }, function(date) {\n    return date.getHours();\n  });\n  d3_time.hours = d3_time.hour.range;\n  d3_time.hours.utc = d3_time.hour.utc.range;\n  d3_time.month = d3_time_interval(function(date) {\n    date = d3_time.day(date);\n    date.setDate(1);\n    return date;\n  }, function(date, offset) {\n    date.setMonth(date.getMonth() + offset);\n  }, function(date) {\n    return date.getMonth();\n  });\n  d3_time.months = d3_time.month.range;\n  d3_time.months.utc = d3_time.month.utc.range;\n  function d3_time_scale(linear, methods, format) {\n    function scale(x) {\n      return linear(x);\n    }\n    scale.invert = function(x) {\n      return d3_time_scaleDate(linear.invert(x));\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return linear.domain().map(d3_time_scaleDate);\n      linear.domain(x);\n      return scale;\n    };\n    function tickMethod(extent, count) {\n      var span = extent[1] - extent[0], target = span / count, i = d3.bisect(d3_time_scaleSteps, target);\n      return i == d3_time_scaleSteps.length ? [ methods.year, d3_scale_linearTickRange(extent.map(function(d) {\n        return d / 31536e6;\n      }), count)[2] ] : !i ? [ d3_time_scaleMilliseconds, d3_scale_linearTickRange(extent, count)[2] ] : methods[target / d3_time_scaleSteps[i - 1] < d3_time_scaleSteps[i] / target ? i - 1 : i];\n    }\n    scale.nice = function(interval, skip) {\n      var domain = scale.domain(), extent = d3_scaleExtent(domain), method = interval == null ? tickMethod(extent, 10) : typeof interval === \"number\" && tickMethod(extent, interval);\n      if (method) interval = method[0], skip = method[1];\n      function skipped(date) {\n        return !isNaN(date) && !interval.range(date, d3_time_scaleDate(+date + 1), skip).length;\n      }\n      return scale.domain(d3_scale_nice(domain, skip > 1 ? {\n        floor: function(date) {\n          while (skipped(date = interval.floor(date))) date = d3_time_scaleDate(date - 1);\n          return date;\n        },\n        ceil: function(date) {\n          while (skipped(date = interval.ceil(date))) date = d3_time_scaleDate(+date + 1);\n          return date;\n        }\n      } : interval));\n    };\n    scale.ticks = function(interval, skip) {\n      var extent = d3_scaleExtent(scale.domain()), method = interval == null ? tickMethod(extent, 10) : typeof interval === \"number\" ? tickMethod(extent, interval) : !interval.range && [ {\n        range: interval\n      }, skip ];\n      if (method) interval = method[0], skip = method[1];\n      return interval.range(extent[0], d3_time_scaleDate(+extent[1] + 1), skip < 1 ? 1 : skip);\n    };\n    scale.tickFormat = function() {\n      return format;\n    };\n    scale.copy = function() {\n      return d3_time_scale(linear.copy(), methods, format);\n    };\n    return d3_scale_linearRebind(scale, linear);\n  }\n  function d3_time_scaleDate(t) {\n    return new Date(t);\n  }\n  var d3_time_scaleSteps = [ 1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6 ];\n  var d3_time_scaleLocalMethods = [ [ d3_time.second, 1 ], [ d3_time.second, 5 ], [ d3_time.second, 15 ], [ d3_time.second, 30 ], [ d3_time.minute, 1 ], [ d3_time.minute, 5 ], [ d3_time.minute, 15 ], [ d3_time.minute, 30 ], [ d3_time.hour, 1 ], [ d3_time.hour, 3 ], [ d3_time.hour, 6 ], [ d3_time.hour, 12 ], [ d3_time.day, 1 ], [ d3_time.day, 2 ], [ d3_time.week, 1 ], [ d3_time.month, 1 ], [ d3_time.month, 3 ], [ d3_time.year, 1 ] ];\n  var d3_time_scaleLocalFormat = d3_time_format.multi([ [ \".%L\", function(d) {\n    return d.getMilliseconds();\n  } ], [ \":%S\", function(d) {\n    return d.getSeconds();\n  } ], [ \"%I:%M\", function(d) {\n    return d.getMinutes();\n  } ], [ \"%I %p\", function(d) {\n    return d.getHours();\n  } ], [ \"%a %d\", function(d) {\n    return d.getDay() && d.getDate() != 1;\n  } ], [ \"%b %d\", function(d) {\n    return d.getDate() != 1;\n  } ], [ \"%B\", function(d) {\n    return d.getMonth();\n  } ], [ \"%Y\", d3_true ] ]);\n  var d3_time_scaleMilliseconds = {\n    range: function(start, stop, step) {\n      return d3.range(Math.ceil(start / step) * step, +stop, step).map(d3_time_scaleDate);\n    },\n    floor: d3_identity,\n    ceil: d3_identity\n  };\n  d3_time_scaleLocalMethods.year = d3_time.year;\n  d3_time.scale = function() {\n    return d3_time_scale(d3.scale.linear(), d3_time_scaleLocalMethods, d3_time_scaleLocalFormat);\n  };\n  var d3_time_scaleUtcMethods = d3_time_scaleLocalMethods.map(function(m) {\n    return [ m[0].utc, m[1] ];\n  });\n  var d3_time_scaleUtcFormat = d3_time_formatUtc.multi([ [ \".%L\", function(d) {\n    return d.getUTCMilliseconds();\n  } ], [ \":%S\", function(d) {\n    return d.getUTCSeconds();\n  } ], [ \"%I:%M\", function(d) {\n    return d.getUTCMinutes();\n  } ], [ \"%I %p\", function(d) {\n    return d.getUTCHours();\n  } ], [ \"%a %d\", function(d) {\n    return d.getUTCDay() && d.getUTCDate() != 1;\n  } ], [ \"%b %d\", function(d) {\n    return d.getUTCDate() != 1;\n  } ], [ \"%B\", function(d) {\n    return d.getUTCMonth();\n  } ], [ \"%Y\", d3_true ] ]);\n  d3_time_scaleUtcMethods.year = d3_time.year.utc;\n  d3_time.scale.utc = function() {\n    return d3_time_scale(d3.scale.linear(), d3_time_scaleUtcMethods, d3_time_scaleUtcFormat);\n  };\n  d3.text = d3_xhrType(function(request) {\n    return request.responseText;\n  });\n  d3.json = function(url, callback) {\n    return d3_xhr(url, \"application/json\", d3_json, callback);\n  };\n  function d3_json(request) {\n    return JSON.parse(request.responseText);\n  }\n  d3.html = function(url, callback) {\n    return d3_xhr(url, \"text/html\", d3_html, callback);\n  };\n  function d3_html(request) {\n    var range = d3_document.createRange();\n    range.selectNode(d3_document.body);\n    return range.createContextualFragment(request.responseText);\n  }\n  d3.xml = d3_xhrType(function(request) {\n    return request.responseXML;\n  });\n  if (typeof define === \"function\" && define.amd) this.d3 = d3, define(d3); else if (typeof module === \"object\" && module.exports) module.exports = d3; else this.d3 = d3;\n}();"
    },
    {
      "id": "wIuP",
      "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\lib\\addStyles.js",
      "name": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js",
      "index": 6,
      "index2": 3,
      "size": 10006,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
      "issuerId": "aY+d",
      "issuerName": "./style/visual.less",
      "issuerPath": [
        {
          "id": 0,
          "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "multi ./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
          "name": "./src/visual.ts"
        },
        {
          "id": "aY+d",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "name": "./style/visual.less"
        }
      ],
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "assets": [
      ],
      "reasons": [
        {
          "moduleId": "aY+d",
          "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "module": "./style/visual.less",
          "moduleName": "./style/visual.less",
          "type": "cjs require",
          "userRequest": "!../node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js",
          "loc": "16:13-105"
        }
      ],
      "usedExports": true,
      "providedExports": null,
      "optimizationBailout": [
        "ModuleConcatenation bailout: Module is not an ECMAScript module"
      ],
      "depth": 4,
      "source": "/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n"
    },
    {
      "id": "xlo+",
      "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts eb328b2de4271fc431e27dd17d036c56",
      "name": "./.tmp/precompile/visualPlugin.ts + 1 modules",
      "index": 1,
      "index2": 8,
      "size": 10000,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "issuer": null,
      "issuerId": null,
      "issuerName": null,
      "issuerPath": null,
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "assets": [
      ],
      "reasons": [
        {
          "moduleId": 0,
          "moduleIdentifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "module": "multi ./.tmp/precompile/visualPlugin.ts",
          "moduleName": "multi ./.tmp/precompile/visualPlugin.ts",
          "type": "single entry",
          "userRequest": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "loc": "visual.js[0]"
        }
      ],
      "usedExports": true,
      "providedExports": [
        "default"
      ],
      "optimizationBailout": [
        "ModuleConcatenation bailout: Cannot concat with ./node_modules/d3/d3.js (<- Module is not an ECMAScript module)",
        "ModuleConcatenation bailout: Cannot concat with ../dist/bundle.js (<- Module is not an ECMAScript module)"
      ],
      "depth": 1,
      "modules": [
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "./.tmp/precompile/visualPlugin.ts",
          "index": 1,
          "index2": 8,
          "size": 545,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
          ],
          "issuer": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "issuerId": 0,
          "issuerName": "multi ./.tmp/precompile/visualPlugin.ts",
          "issuerPath": [
            {
              "id": 0,
              "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "multi ./.tmp/precompile/visualPlugin.ts"
            }
          ],
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "assets": [
          ],
          "reasons": [
            {
              "moduleId": 0,
              "moduleIdentifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "module": "multi ./.tmp/precompile/visualPlugin.ts",
              "moduleName": "multi ./.tmp/precompile/visualPlugin.ts",
              "type": "single entry",
              "userRequest": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "loc": "visual.js[0]"
            }
          ],
          "usedExports": true,
          "providedExports": [
            "default"
          ],
          "optimizationBailout": [
            "ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: multi ./.tmp/precompile/visualPlugin.ts (referenced with single entry)"
          ],
          "depth": 1,
          "source": "import { Visual } from \"../../src/visual\";\r\npowerbi.visuals = powerbi.visuals || {};\r\npowerbi.visuals.plugins = powerbi.visuals.plugins || {};\r\npowerbi.visuals.plugins[\"wishyoulizationwalker\"] = {\r\n    name: 'wishyoulizationwalker',\r\n    displayName: 'Walkers',\r\n    class: 'Visual',\r\n    version: '1.0.0',\r\n    apiVersion: '2.1.0',\r\n    create: (options) => {\r\n        if (Visual) {\r\n            return new Visual(options);\r\n        }\r\n        console.error('Visual instance not found');\r\n    },\r\n    custom: true\r\n};\r\nexport default powerbi;\r\n"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
          "name": "./src/visual.ts",
          "index": 2,
          "index2": 7,
          "size": 9440,
          "cacheable": true,
          "built": true,
          "optional": false,
          "prefetched": false,
          "chunks": [
          ],
          "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "issuerId": null,
          "issuerName": "./.tmp/precompile/visualPlugin.ts",
          "issuerPath": [
            {
              "id": 0,
              "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "multi ./.tmp/precompile/visualPlugin.ts"
            },
            {
              "id": null,
              "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "name": "./.tmp/precompile/visualPlugin.ts"
            }
          ],
          "failed": false,
          "errors": 0,
          "warnings": 0,
          "assets": [
          ],
          "reasons": [
            {
              "moduleId": null,
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "module": "./.tmp/precompile/visualPlugin.ts",
              "moduleName": "./.tmp/precompile/visualPlugin.ts",
              "type": "harmony side effect evaluation",
              "userRequest": "../../src/visual",
              "loc": "1:0-42"
            },
            {
              "moduleId": null,
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "module": "./.tmp/precompile/visualPlugin.ts",
              "moduleName": "./.tmp/precompile/visualPlugin.ts",
              "type": "harmony import specifier",
              "userRequest": "../../src/visual",
              "loc": "11:12-18"
            },
            {
              "moduleId": null,
              "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
              "module": "./.tmp/precompile/visualPlugin.ts",
              "moduleName": "./.tmp/precompile/visualPlugin.ts",
              "type": "harmony import specifier",
              "userRequest": "../../src/visual",
              "loc": "12:23-29"
            }
          ],
          "usedExports": [
            "Visual"
          ],
          "providedExports": [
            "Visual"
          ],
          "optimizationBailout": [
          ],
          "depth": 2,
          "source": "/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n/*\r\n *  This file is based on or incorporates material from the projects listed below (Third Party IP).\r\n *  The original copyright notice and the license under which Microsoft received such Third Party IP,\r\n *  are set forth below. Such licenses and notices are provided for informational purposes only.\r\n *  Microsoft licenses the Third Party IP to you under the licensing terms for the Microsoft product.\r\n *  Microsoft reserves all other rights not expressly granted under this agreement, whether by\r\n *  implication, estoppel or otherwise.\r\n *\r\n *  d3 Force Layout\r\n *  Copyright (c) 2010-2015, Michael Bostock\r\n *  All rights reserved.\r\n *\r\n *  Redistribution and use in source and binary forms, with or without\r\n *  modification, are permitted provided that the following conditions are met:\r\n *\r\n *  * Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer.\r\n *\r\n *  * Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n *  * The name Michael Bostock may not be used to endorse or promote products\r\n *    derived from this software without specific prior written permission.\r\n *\r\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n *  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n *  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n *  DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,\r\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\r\n *  BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n *  DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\r\n *  OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\r\n *  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\nimport \"./../style/visual.less\";\r\nimport * as d3 from \"d3\";\r\nimport constructPage from \"../../dist/bundle.js\";\r\nexport class Visual {\r\n    constructor(options) {\r\n        this.config = {};\r\n        this.host = options.host;\r\n        this.selectionManager = options.host.createSelectionManager();\r\n        this.selectionGroups = [];\r\n        this.selectionManager.registerOnSelectCallback(() => {\r\n            this.syncSelectionState(this.selectionGroups, this.selectionManager.getSelectionIds());\r\n        });\r\n        this.colorPalette = options.host.colorPalette;\r\n        this.init(options);\r\n    }\r\n    init(options) {\r\n        let appContainer = d3.select(options.element).append(\"div\").attr(\"id\", \"appContainer\");\r\n        appContainer.style(\"width\", \"100%\")\r\n            .style(\"height\", \"100%\")\r\n            .style(\"overflow\", \"auto\");\r\n        appContainer.append(\"div\").attr(\"id\", \"app\");\r\n    }\r\n    syncSelectionState(selection, selectionIds) {\r\n        /*\r\n         Selection = [\r\n             {\r\n                 selectionId:id,\r\n                 show:func,\r\n                 hide:func\r\n             }\r\n         ]\r\n        */\r\n        if (!selection || !selectionIds) {\r\n            return;\r\n        }\r\n        if (!selectionIds.length) {\r\n            for (let i = 0; i < selection.length; i++) {\r\n                selection[i].show();\r\n            }\r\n            return;\r\n        }\r\n        const self = this;\r\n        for (let i = 0; i < selection.length; i++) {\r\n            const isSelected = self.isSelectionIdInArray(selectionIds, selection[i].selectionId);\r\n            if (isSelected) {\r\n                selection[i].show();\r\n            }\r\n            else {\r\n                selection[i].hide();\r\n            }\r\n        }\r\n    }\r\n    isSelectionIdInArray(selectionIds, selectionId) {\r\n        if (!selectionIds || !selectionId) {\r\n            return false;\r\n        }\r\n        return selectionIds.some((currentSelectionId) => {\r\n            return currentSelectionId.includes(selectionId);\r\n        });\r\n    }\r\n    static getSelectionIds(dataView, host) {\r\n        return dataView.table.identity.map((identity) => {\r\n            const categoryColumn = {\r\n                source: dataView.table.columns[0],\r\n                values: null,\r\n                identity: [identity]\r\n            };\r\n            return host.createSelectionIdBuilder()\r\n                .withCategory(categoryColumn, 0)\r\n                .createSelectionId();\r\n        });\r\n    }\r\n    getObjectFromDataView(dv) {\r\n        let selectionIds = Visual.getSelectionIds(dv, this.host);\r\n        let that = this;\r\n        let all = [];\r\n        for (let c = 0; c < dv.table.columns.length; c++) {\r\n            let currC = dv.table.columns[c];\r\n            let field = d3.keys(currC.roles)[0];\r\n            currC.displayName = field;\r\n        }\r\n        for (let r = 0; r < dv.table.rows.length; r++) {\r\n            let currR = dv.table.rows[r];\r\n            let item = {};\r\n            item[\"selectionId\"] = selectionIds[r];\r\n            for (let c = 0; c < dv.table.columns.length; c++) {\r\n                let currC = dv.table.columns[c];\r\n                item[currC.displayName] = currR[c];\r\n            }\r\n            all.push(item);\r\n        }\r\n        console.log(all);\r\n        return {\r\n            data: all\r\n        };\r\n    }\r\n    getConfig() {\r\n        let configString = \"{}\";\r\n        if (this.dv && this.dv.metadata.objects && this.dv.metadata.objects.chartSettings && this.dv.metadata.objects.chartSettings.config) {\r\n            configString = this.dv.metadata.objects.chartSettings.config;\r\n        }\r\n        console.log(\"saved cofig is: \", JSON.parse(configString));\r\n        return JSON.parse(configString);\r\n    }\r\n    setConfig(config) {\r\n        let configString = JSON.stringify(config) || \"\";\r\n        console.log(\"config to save is: \", configString);\r\n        let objects = {\r\n            merge: [\r\n                {\r\n                    objectName: \"chartSettings\",\r\n                    selector: null,\r\n                    properties: { \"config\": configString },\r\n                }\r\n            ]\r\n        };\r\n        this.host.persistProperties(objects);\r\n    }\r\n    manageMySelections(customSelectionObjsArray) {\r\n        this.selectionGroups = customSelectionObjsArray;\r\n    }\r\n    customClickHandler(event, selectionElm) {\r\n        if (this.host.allowInteractions) {\r\n            const isCtrlPressed = event.data.originalEvent.ctrlKey || false;\r\n            if (selectionElm) {\r\n                this.selectionManager\r\n                    .select(selectionElm.selectionId, isCtrlPressed)\r\n                    .then((ids) => {\r\n                    this.syncSelectionState(this.selectionGroups, ids);\r\n                });\r\n            }\r\n            else {\r\n                this.selectionManager\r\n                    .clear()\r\n                    .then(() => {\r\n                    this.syncSelectionState(this.selectionGroups, []);\r\n                });\r\n            }\r\n            event.data.originalEvent.stopPropagation();\r\n        }\r\n    }\r\n    update(options) {\r\n        if (!options\r\n            || !options.dataViews\r\n            || !options.dataViews[0]) {\r\n            return;\r\n        }\r\n        this.dv = options.dataViews[0];\r\n        let results = this.getObjectFromDataView(options.dataViews[0]);\r\n        // console.log(options, results);\r\n        window.constructPage(results.data, {\r\n            get: this.getConfig.bind(this),\r\n            set: this.setConfig.bind(this),\r\n            edit: options.editMode ? true : false,\r\n            manageMySelections: this.manageMySelections.bind(this),\r\n            customClickHandler: this.customClickHandler.bind(this),\r\n        });\r\n        let needToLoad = constructPage;\r\n    }\r\n    enumerateObjectInstances(options) {\r\n        let objectName = options.objectName;\r\n        let objectEnumeration = [];\r\n        switch (objectName) {\r\n            case \"chartSettings\":\r\n                // ignore\r\n                break;\r\n        }\r\n        return objectEnumeration;\r\n    }\r\n    destroy() {\r\n    }\r\n}\r\n"
        }
      ],
      "filteredModules": 0
    },
    {
      "id": "yxdu",
      "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\lib\\urls.js",
      "name": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/urls.js",
      "index": 7,
      "index2": 2,
      "size": 3013,
      "cacheable": true,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "issuer": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\lib\\addStyles.js",
      "issuerId": "wIuP",
      "issuerName": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js",
      "issuerPath": [
        {
          "id": 0,
          "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "multi ./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
          "name": "./.tmp/precompile/visualPlugin.ts"
        },
        {
          "id": null,
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\ts-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\src\\visual.ts",
          "name": "./src/visual.ts"
        },
        {
          "id": "aY+d",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\css-loader\\index.js!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\less-loader\\dist\\cjs.js??ref--7-2!C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\style\\visual.less",
          "name": "./style/visual.less"
        },
        {
          "id": "wIuP",
          "identifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\lib\\addStyles.js",
          "name": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js"
        }
      ],
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "assets": [
      ],
      "reasons": [
        {
          "moduleId": "wIuP",
          "moduleIdentifier": "C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\node_modules\\powerbi-visuals-tools\\node_modules\\style-loader\\lib\\addStyles.js",
          "module": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js",
          "moduleName": "./node_modules/powerbi-visuals-tools/node_modules/style-loader/lib/addStyles.js",
          "type": "cjs require",
          "userRequest": "./urls",
          "loc": "64:14-31"
        }
      ],
      "usedExports": true,
      "providedExports": null,
      "optimizationBailout": [
        "ModuleConcatenation bailout: Module is not an ECMAScript module"
      ],
      "depth": 5,
      "source": "\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n"
    },
    {
      "id": 0,
      "identifier": "multi C:\\Users\\pepakayalaa\\Desktop\\Projects\\REPOS\\PowerBI-visuals-Walkers\\PBI\\.tmp\\precompile\\visualPlugin.ts",
      "name": "multi ./.tmp/precompile/visualPlugin.ts",
      "index": 0,
      "index2": 9,
      "size": 28,
      "built": true,
      "optional": false,
      "prefetched": false,
      "chunks": [
        0
      ],
      "issuer": null,
      "issuerId": null,
      "issuerName": null,
      "issuerPath": null,
      "failed": false,
      "errors": 0,
      "warnings": 0,
      "assets": [
      ],
      "reasons": [
        {
          "moduleId": null,
          "moduleIdentifier": null,
          "module": null,
          "moduleName": null,
          "type": "multi entry"
        }
      ],
      "usedExports": true,
      "providedExports": null,
      "optimizationBailout": [
        "ModuleConcatenation bailout: Module is not an ECMAScript module"
      ],
      "depth": 0
    }
  ],
  "filteredModules": 0,
  "children": [
  ]
}